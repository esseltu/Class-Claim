(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function xV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ny={exports:{}},fc={};var Zb;function RV(){if(Zb)return fc;Zb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return fc.Fragment=t,fc.jsx=e,fc.jsxs=e,fc}var Jb;function CV(){return Jb||(Jb=1,ny.exports=RV()),ny.exports}var tt=CV(),iy={exports:{}},xt={};var tw;function DV(){if(tw)return xt;tw=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,P={};function z(k,rt,ft){this.props=k,this.context=rt,this.refs=P,this.updater=ft||D}z.prototype.isReactComponent={},z.prototype.setState=function(k,rt){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,rt,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function K(k,rt,ft){this.props=k,this.context=rt,this.refs=P,this.updater=ft||D}var Z=K.prototype=new Q;Z.constructor=K,L(Z,z.prototype),Z.isPureReactComponent=!0;var nt=Array.isArray;function lt(){}var x={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function R(k,rt,ft){var mt=ft.ref;return{$$typeof:n,type:k,key:rt,ref:mt!==void 0?mt:null,props:ft}}function O(k,rt){return R(k.type,rt,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function U(k){var rt={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ft){return rt[ft]})}var C=/\/+/g;function Yt(k,rt){return typeof k=="object"&&k!==null&&k.key!=null?U(""+k.key):rt.toString(36)}function fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(lt,lt):(k.status="pending",k.then(function(rt){k.status==="pending"&&(k.status="fulfilled",k.value=rt)},function(rt){k.status==="pending"&&(k.status="rejected",k.reason=rt)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $(k,rt,ft,mt,At){var Vt=typeof k;(Vt==="undefined"||Vt==="boolean")&&(k=null);var Ft=!1;if(k===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(k.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=k._init,$(Ft(k._payload),rt,ft,mt,At)}}if(Ft)return At=At(k),Ft=mt===""?"."+Yt(k,0):mt,nt(At)?(ft="",Ft!=null&&(ft=Ft.replace(C,"$&/")+"/"),$(At,rt,ft,"",function(ra){return ra})):At!=null&&(M(At)&&(At=O(At,ft+(At.key==null||k&&k.key===At.key?"":(""+At.key).replace(C,"$&/")+"/")+Ft)),rt.push(At)),1;Ft=0;var Qe=mt===""?".":mt+":";if(nt(k))for(var de=0;de<k.length;de++)mt=k[de],Vt=Qe+Yt(mt,de),Ft+=$(mt,rt,ft,Vt,At);else if(de=A(k),typeof de=="function")for(k=de.call(k),de=0;!(mt=k.next()).done;)mt=mt.value,Vt=Qe+Yt(mt,de++),Ft+=$(mt,rt,ft,Vt,At);else if(Vt==="object"){if(typeof k.then=="function")return $(fe(k),rt,ft,mt,At);throw rt=String(k),Error("Objects are not valid as a React child (found: "+(rt==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":rt)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function st(k,rt,ft){if(k==null)return k;var mt=[],At=0;return $(k,mt,"","",function(Vt){return rt.call(ft,Vt,At++)}),mt}function pt(k){if(k._status===-1){var rt=k._result;rt=rt(),rt.then(function(ft){(k._status===0||k._status===-1)&&(k._status=1,k._result=ft)},function(ft){(k._status===0||k._status===-1)&&(k._status=2,k._result=ft)}),k._status===-1&&(k._status=0,k._result=rt)}if(k._status===1)return k._result.default;throw k._result}var Dt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var rt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(rt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},kt={map:st,forEach:function(k,rt,ft){st(k,function(){rt.apply(this,arguments)},ft)},count:function(k){var rt=0;return st(k,function(){rt++}),rt},toArray:function(k){return st(k,function(rt){return rt})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xt.Activity=v,xt.Children=kt,xt.Component=z,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=K,xt.StrictMode=i,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,xt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return x.H.useMemoCache(k)}},xt.cache=function(k){return function(){return k.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(k,rt,ft){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var mt=L({},k.props),At=k.key;if(rt!=null)for(Vt in rt.key!==void 0&&(At=""+rt.key),rt)!I.call(rt,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&rt.ref===void 0||(mt[Vt]=rt[Vt]);var Vt=arguments.length-2;if(Vt===1)mt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),Qe=0;Qe<Vt;Qe++)Ft[Qe]=arguments[Qe+2];mt.children=Ft}return R(k.type,At,mt)},xt.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},xt.createElement=function(k,rt,ft){var mt,At={},Vt=null;if(rt!=null)for(mt in rt.key!==void 0&&(Vt=""+rt.key),rt)I.call(rt,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(At[mt]=rt[mt]);var Ft=arguments.length-2;if(Ft===1)At.children=ft;else if(1<Ft){for(var Qe=Array(Ft),de=0;de<Ft;de++)Qe[de]=arguments[de+2];At.children=Qe}if(k&&k.defaultProps)for(mt in Ft=k.defaultProps,Ft)At[mt]===void 0&&(At[mt]=Ft[mt]);return R(k,Vt,At)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(k){return{$$typeof:h,render:k}},xt.isValidElement=M,xt.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:pt}},xt.memo=function(k,rt){return{$$typeof:p,type:k,compare:rt===void 0?null:rt}},xt.startTransition=function(k){var rt=x.T,ft={};x.T=ft;try{var mt=k(),At=x.S;At!==null&&At(ft,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(lt,Dt)}catch(Vt){Dt(Vt)}finally{rt!==null&&ft.types!==null&&(rt.types=ft.types),x.T=rt}},xt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},xt.use=function(k){return x.H.use(k)},xt.useActionState=function(k,rt,ft){return x.H.useActionState(k,rt,ft)},xt.useCallback=function(k,rt){return x.H.useCallback(k,rt)},xt.useContext=function(k){return x.H.useContext(k)},xt.useDebugValue=function(){},xt.useDeferredValue=function(k,rt){return x.H.useDeferredValue(k,rt)},xt.useEffect=function(k,rt){return x.H.useEffect(k,rt)},xt.useEffectEvent=function(k){return x.H.useEffectEvent(k)},xt.useId=function(){return x.H.useId()},xt.useImperativeHandle=function(k,rt,ft){return x.H.useImperativeHandle(k,rt,ft)},xt.useInsertionEffect=function(k,rt){return x.H.useInsertionEffect(k,rt)},xt.useLayoutEffect=function(k,rt){return x.H.useLayoutEffect(k,rt)},xt.useMemo=function(k,rt){return x.H.useMemo(k,rt)},xt.useOptimistic=function(k,rt){return x.H.useOptimistic(k,rt)},xt.useReducer=function(k,rt,ft){return x.H.useReducer(k,rt,ft)},xt.useRef=function(k){return x.H.useRef(k)},xt.useState=function(k){return x.H.useState(k)},xt.useSyncExternalStore=function(k,rt,ft){return x.H.useSyncExternalStore(k,rt,ft)},xt.useTransition=function(){return x.H.useTransition()},xt.version="19.2.4",xt}var ew;function Y_(){return ew||(ew=1,iy.exports=DV()),iy.exports}var ot=Y_();const Wa=xV(ot);var ry={exports:{}},dc={},sy={exports:{}},ay={};var nw;function VV(){return nw||(nw=1,(function(n){function t($,st){var pt=$.length;$.push(st);t:for(;0<pt;){var Dt=pt-1>>>1,kt=$[Dt];if(0<a(kt,st))$[Dt]=st,$[pt]=kt,pt=Dt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var st=$[0],pt=$.pop();if(pt!==st){$[0]=pt;t:for(var Dt=0,kt=$.length,k=kt>>>1;Dt<k;){var rt=2*(Dt+1)-1,ft=$[rt],mt=rt+1,At=$[mt];if(0>a(ft,pt))mt<kt&&0>a(At,ft)?($[Dt]=At,$[mt]=pt,Dt=mt):($[Dt]=ft,$[rt]=pt,Dt=rt);else if(mt<kt&&0>a(At,pt))$[Dt]=At,$[mt]=pt,Dt=mt;else break t}}return st}function a($,st){var pt=$.sortIndex-st.sortIndex;return pt!==0?pt:$.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],y=1,v=null,E=3,A=!1,D=!1,L=!1,P=!1,z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function Z($){for(var st=e(p);st!==null;){if(st.callback===null)i(p);else if(st.startTime<=$)i(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(p)}}function nt($){if(L=!1,Z($),!D)if(e(m)!==null)D=!0,lt||(lt=!0,U());else{var st=e(p);st!==null&&fe(nt,st.startTime-$)}}var lt=!1,x=-1,I=5,R=-1;function O(){return P?!0:!(n.unstable_now()-R<I)}function M(){if(P=!1,lt){var $=n.unstable_now();R=$;var st=!0;try{t:{D=!1,L&&(L=!1,Q(x),x=-1),A=!0;var pt=E;try{e:{for(Z($),v=e(m);v!==null&&!(v.expirationTime>$&&O());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var kt=Dt(v.expirationTime<=$);if($=n.unstable_now(),typeof kt=="function"){v.callback=kt,Z($),st=!0;break e}v===e(m)&&i(m),Z($)}else i(m);v=e(m)}if(v!==null)st=!0;else{var k=e(p);k!==null&&fe(nt,k.startTime-$),st=!1}}break t}finally{v=null,E=pt,A=!1}st=void 0}}finally{st?U():lt=!1}}}var U;if(typeof K=="function")U=function(){K(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Yt=C.port2;C.port1.onmessage=M,U=function(){Yt.postMessage(null)}}else U=function(){z(M,0)};function fe($,st){x=z(function(){$(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function($){switch(E){case 1:case 2:case 3:var st=3;break;default:st=E}var pt=E;E=st;try{return $()}finally{E=pt}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pt=E;E=$;try{return st()}finally{E=pt}},n.unstable_scheduleCallback=function($,st,pt){var Dt=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Dt+pt:Dt):pt=Dt,$){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=pt+kt,$={id:y++,callback:st,priorityLevel:$,startTime:pt,expirationTime:kt,sortIndex:-1},pt>Dt?($.sortIndex=pt,t(p,$),e(m)===null&&$===e(p)&&(L?(Q(x),x=-1):L=!0,fe(nt,pt-Dt))):($.sortIndex=kt,t(m,$),D||A||(D=!0,lt||(lt=!0,U()))),$},n.unstable_shouldYield=O,n.unstable_wrapCallback=function($){var st=E;return function(){var pt=E;E=st;try{return $.apply(this,arguments)}finally{E=pt}}}})(ay)),ay}var iw;function MV(){return iw||(iw=1,sy.exports=VV()),sy.exports}var oy={exports:{}},_n={};var rw;function PV(){if(rw)return _n;rw=1;var n=Y_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},_n.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},_n.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},_n.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},_n.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,A=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:A}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:A,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_n.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=h(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},_n.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=h(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_n.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=h(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},_n.requestFormReset=function(m){i.d.r(m)},_n.unstable_batchedUpdates=function(m,p){return m(p)},_n.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},_n.useFormStatus=function(){return u.H.useHostTransitionStatus()},_n.version="19.2.4",_n}var sw;function OV(){if(sw)return oy.exports;sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),oy.exports=PV(),oy.exports}var aw;function NV(){if(aw)return dc;aw=1;var n=MV(),t=Y_(),e=OV();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),r;if(g===c)return m(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,c=g;break}if(w===c){T=!0,c=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,c=d;break}if(w===c){T=!0,c=g,o=d;break}w=w.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),K=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function U(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var C=Symbol.for("react.client.reference");function Yt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===C?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case z:return"Profiler";case P:return"StrictMode";case nt:return"Suspense";case lt:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case K:return r.displayName||"Context";case Q:return(r._context.displayName||"Context")+".Consumer";case Z:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return s=r.displayName||null,s!==null?s:Yt(r.type)||"Memo";case I:s=r._payload,r=r._init;try{return Yt(r(s))}catch{}}return null}var fe=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function k(r){return{current:r}}function rt(r){0>kt||(r.current=Dt[kt],Dt[kt]=null,kt--)}function ft(r,s){kt++,Dt[kt]=r.current,r.current=s}var mt=k(null),At=k(null),Vt=k(null),Ft=k(null);function Qe(r,s){switch(ft(Vt,s),ft(At,r),ft(mt,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Eb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Eb(s),r=bb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}rt(mt),ft(mt,r)}function de(){rt(mt),rt(At),rt(Vt)}function ra(r){r.memoizedState!==null&&ft(Ft,r);var s=mt.current,o=bb(s,r.type);s!==o&&(ft(At,r),ft(mt,o))}function yo(r){At.current===r&&(rt(mt),rt(At)),Ft.current===r&&(rt(Ft),lc._currentValue=pt)}var _o,vo;function Ni(r){if(_o===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);_o=s&&s[1]||"",vo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_o+r+vo}var lu=!1;function sa(r,s){if(!r||lu)return"";lu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(X){var G=X}Reflect.construct(r,[],it)}else{try{it.call()}catch(X){G=X}r.call(it.prototype)}}else{try{throw Error()}catch(X){G=X}(it=r())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var V=T.split(`
`),H=w.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===H.length)for(c=V.length-1,d=H.length-1;1<=c&&0<=d&&V[c]!==H[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==H[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==H[d]){var J=`
`+V[c].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=c&&0<=d);break}}}finally{lu=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ni(o):""}function uu(r,s){switch(r.tag){case 26:case 27:case 5:return Ni(r.type);case 16:return Ni("Lazy");case 13:return r.child!==s&&s!==null?Ni("Suspense Fallback"):Ni("Suspense");case 19:return Ni("SuspenseList");case 0:case 15:return sa(r.type,!1);case 11:return sa(r.type.render,!1);case 1:return sa(r.type,!0);case 31:return Ni("Activity");default:return""}}function cu(r){try{var s="",o=null;do s+=uu(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pe=Object.prototype.hasOwnProperty,Xe=n.unstable_scheduleCallback,Xr=n.unstable_cancelCallback,rp=n.unstable_shouldYield,Oh=n.unstable_requestPaint,wn=n.unstable_now,aa=n.unstable_getCurrentPriorityLevel,hu=n.unstable_ImmediatePriority,fu=n.unstable_UserBlockingPriority,Wr=n.unstable_NormalPriority,sp=n.unstable_LowPriority,Nh=n.unstable_IdlePriority,kh=n.log,Lh=n.unstable_setDisableYieldValue,mi=null,ln=null;function $n(r){if(typeof kh=="function"&&Lh(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(mi,r)}catch{}}var xe=Math.clz32?Math.clz32:Bh,Uh=Math.log,To=Math.LN2;function Bh(r){return r>>>=0,r===0?32:31-(Uh(r)/To|0)|0}var ki=256,oa=262144,Oe=4194304;function Li(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Ui(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?d=Li(c):(T&=w,T!==0?d=Li(T):o||(o=w&~r,o!==0&&(d=Li(o))))):(w=c&~g,w!==0?d=Li(w):T!==0?d=Li(T):o||(o=c&~r,o!==0&&(d=Li(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function pi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ap(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(){var r=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),r}function Bi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function la(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function op(r,s,o,c,d,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,V=r.expirationTimes,H=r.hiddenUpdates;for(o=T&~o;0<o;){var J=31-xe(o),it=1<<J;w[J]=0,V[J]=-1;var G=H[J];if(G!==null)for(H[J]=null,J=0;J<G.length;J++){var X=G[J];X!==null&&(X.lane&=-536870913)}o&=~it}c!==0&&ua(r,c,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function ua(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-xe(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function du(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-xe(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function mu(r,s){var o=s&-s;return o=(o&42)!==0?1:ca(o),(o&(r.suspendedLanes|s))!==0?0:o}function ca(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function gr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function jh(){var r=st.p;return r!==0?r:(r=window.event,r===void 0?32:Gb(r.type))}function gi(r,s){var o=st.p;try{return st.p=r,s()}finally{st.p=o}}var yi=Math.random().toString(36).slice(2),Ne="__reactFiber$"+yi,tn="__reactProps$"+yi,zi="__reactContainer$"+yi,Eo="__reactEvents$"+yi,lp="__reactListeners$"+yi,Fh="__reactHandles$"+yi,qh="__reactResources$"+yi,ji="__reactMarker$"+yi;function bo(r){delete r[Ne],delete r[tn],delete r[Eo],delete r[lp],delete r[Fh]}function Fi(r){var s=r[Ne];if(s)return s;for(var o=r.parentNode;o;){if(s=o[zi]||o[Ne]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Cb(r);r!==null;){if(o=r[Ne])return o;r=Cb(r)}return s}r=o,o=r.parentNode}return null}function Zn(r){if(r=r[Ne]||r[zi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Un(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function qi(r){var s=r[qh];return s||(s=r[qh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ke(r){r[ji]=!0}var pu=new Set,gu={};function Hi(r,s){Gi(r,s),Gi(r+"Capture",s)}function Gi(r,s){for(gu[r]=s,r=0;r<s.length;r++)pu.add(s[r])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},vu={};function Hh(r){return Pe.call(vu,r)?!0:Pe.call(_u,r)?!1:yu.test(r)?vu[r]=!0:(_u[r]=!0,!1)}function wo(r,s,o){if(Hh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Bn(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Le(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function en(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $r(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tu(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function $t(r){if(!r._valueTracker){var s=$r(r)?"checked":"value";r._valueTracker=Tu(r,s,""+r[s])}}function ha(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=$r(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Ki(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var fa=/[\n"\\]/g;function Cn(r){return r.replace(fa,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function So(r,s,o,c,d,g,T,w){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+en(s)):r.value!==""+en(s)&&(r.value=""+en(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Eu(r,T,en(s)):o!=null?Eu(r,T,en(o)):c!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+en(w):r.removeAttribute("name")}function Gh(r,s,o,c,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){$t(r);return}o=o!=null?""+en(o):"",s=s!=null?""+en(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=w?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),$t(r)}function Eu(r,s,o){s==="number"&&Ki(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Zr(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+en(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Kh(r,s,o){if(s!=null&&(s=""+en(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+en(o):""}function Jr(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(fe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=en(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),$t(r)}function Dn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Yh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Yh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function wu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&bu(r,d,c)}else for(var g in s)s.hasOwnProperty(g)&&bu(r,g,s[g])}function Ao(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(r){return ts.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function _i(){}var Su=null;function Jn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var es=null,Yi=null;function da(r){var s=Zn(r);if(s&&(r=s.stateNode)){var o=r[tn]||null;t:switch(r=s.stateNode,s.type){case"input":if(So(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Cn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[tn]||null;if(!d)throw Error(i(90));So(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&ha(c)}break t;case"textarea":Kh(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Zr(r,!!o.multiple,s,!1)}}}var xo=!1;function ns(r,s,o){if(xo)return r(s,o);xo=!0;try{var c=r(s);return c}finally{if(xo=!1,(es!==null||Yi!==null)&&(Ff(),es&&(s=es,r=Yi,Yi=es=null,da(s),r)))for(s=0;s<r.length;s++)da(r[s])}}function vi(r,s){var o=r.stateNode;if(o===null)return null;var c=o[tn]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ma=!1;if(ti)try{var re={};Object.defineProperty(re,"passive",{get:function(){ma=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{ma=!1}var Qi=null,Au=null,pa=null;function Iu(){if(pa)return pa;var r,s=Au,o=s.length,c,d="value"in Qi?Qi.value:Qi.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(c=1;c<=T&&s[o-c]===d[g-c];c++);return pa=d.slice(r,1<c?1-c:void 0)}function ga(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function yr(){return!0}function Ti(){return!1}function un(r){function s(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?yr:Ti,this.isPropagationStopped=Ti,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=yr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=yr)},persist:function(){},isPersistent:yr}),s}var _r={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=un(_r),is=v({},_r,{view:0,detail:0}),xu=un(is),rs,Ro,Wi,Co=v({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ss,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Wi&&(Wi&&r.type==="mousemove"?(rs=r.screenX-Wi.screenX,Ro=r.screenY-Wi.screenY):Ro=rs=0,Wi=r),rs)},movementY:function(r){return"movementY"in r?r.movementY:Ro}}),Ru=un(Co),ya=v({},Co,{dataTransfer:0}),Xh=un(ya),Wh=v({},is,{relatedTarget:0}),_a=un(Wh),Cu=v({},_r,{animationName:0,elapsedTime:0,pseudoElement:0}),$h=un(Cu),Do=v({},_r,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zh=un(Do),Jh=v({},_r,{data:0}),$i=un(Jh),tf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ef={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rf(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=nf[r])?!!s[r]:!1}function ss(){return rf}var Sn=v({},is,{key:function(r){if(r.key){var s=tf[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=ga(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ef[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ss,charCode:function(r){return r.type==="keypress"?ga(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ga(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),sf=un(Sn),af=v({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vr=un(af),f=v({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ss}),_=un(f),b=v({},_r,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=un(b),F=v({},Co,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=un(F),ct=v({},_r,{newState:0,oldState:0}),Rt=un(ct),Re=[9,13,27,32],Qt=ti&&"CompositionEvent"in window,me=null;ti&&"documentMode"in document&&(me=document.documentMode);var ei=ti&&"TextEvent"in window&&!me,Zi=ti&&(!Qt||me&&8<me&&11>=me),Ei=" ",bi=!1;function va(r,s){switch(r){case"keyup":return Re.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Mo=!1;function $D(r,s){switch(r){case"compositionend":return Vo(s);case"keypress":return s.which!==32?null:(bi=!0,Ei);case"textInput":return r=s.data,r===Ei&&bi?null:r;default:return null}}function ZD(r,s){if(Mo)return r==="compositionend"||!Qt&&va(r,s)?(r=Iu(),pa=Au=Qi=null,Mo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Zi&&s.locale!=="ko"?null:s.data;default:return null}}var JD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!JD[r.type]:s==="textarea"}function Pv(r,s,o,c){es?Yi?Yi.push(c):Yi=[c]:es=c,s=Xf(s,"onChange"),0<s.length&&(o=new Xi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Du=null,Vu=null;function t2(r){pb(r,0)}function of(r){var s=Un(r);if(ha(s))return r}function Ov(r,s){if(r==="change")return s}var Nv=!1;if(ti){var up;if(ti){var cp="oninput"in document;if(!cp){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),cp=typeof kv.oninput=="function"}up=cp}else up=!1;Nv=up&&(!document.documentMode||9<document.documentMode)}function Lv(){Du&&(Du.detachEvent("onpropertychange",Uv),Vu=Du=null)}function Uv(r){if(r.propertyName==="value"&&of(Vu)){var s=[];Pv(s,Vu,r,Jn(r)),ns(t2,s)}}function e2(r,s,o){r==="focusin"?(Lv(),Du=s,Vu=o,Du.attachEvent("onpropertychange",Uv)):r==="focusout"&&Lv()}function n2(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return of(Vu)}function i2(r,s){if(r==="click")return of(s)}function r2(r,s){if(r==="input"||r==="change")return of(s)}function s2(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var zn=typeof Object.is=="function"?Object.is:s2;function Mu(r,s){if(zn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Pe.call(s,d)||!zn(r[d],s[d]))return!1}return!0}function Bv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function zv(r,s){var o=Bv(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Bv(o)}}function jv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?jv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Fv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Ki(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Ki(r.document)}return s}function hp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var a2=ti&&"documentMode"in document&&11>=document.documentMode,Po=null,fp=null,Pu=null,dp=!1;function qv(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;dp||Po==null||Po!==Ki(c)||(c=Po,"selectionStart"in c&&hp(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pu&&Mu(Pu,c)||(Pu=c,c=Xf(fp,"onSelect"),0<c.length&&(s=new Xi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Po)))}function Ta(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Oo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},mp={},Hv={};ti&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Ea(r){if(mp[r])return mp[r];if(!Oo[r])return r;var s=Oo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Hv)return mp[r]=s[o];return r}var Gv=Ea("animationend"),Kv=Ea("animationiteration"),Yv=Ea("animationstart"),o2=Ea("transitionrun"),l2=Ea("transitionstart"),u2=Ea("transitioncancel"),Qv=Ea("transitionend"),Xv=new Map,pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pp.push("scrollEnd");function wi(r,s){Xv.set(r,s),Hi(s,[r])}var lf=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ni=[],No=0,gp=0;function uf(){for(var r=No,s=gp=No=0;s<r;){var o=ni[s];ni[s++]=null;var c=ni[s];ni[s++]=null;var d=ni[s];ni[s++]=null;var g=ni[s];if(ni[s++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&Wv(o,d,g)}}function cf(r,s,o,c){ni[No++]=r,ni[No++]=s,ni[No++]=o,ni[No++]=c,gp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function yp(r,s,o,c){return cf(r,s,o,c),hf(r)}function ba(r,s){return cf(r,null,null,s),hf(r)}function Wv(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-xe(o),r=g.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),g):null}function hf(r){if(50<ec)throw ec=0,Ig=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var ko={};function c2(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(r,s,o,c){return new c2(r,s,o,c)}function _p(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Tr(r,s){var o=r.alternate;return o===null?(o=jn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function $v(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function ff(r,s,o,c,d,g){var T=0;if(c=r,typeof r=="function")_p(r)&&(T=1);else if(typeof r=="string")T=pV(r,o,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case R:return r=jn(31,o,s,d),r.elementType=R,r.lanes=g,r;case L:return wa(o.children,d,g,s);case P:T=8,d|=24;break;case z:return r=jn(12,o,s,d|2),r.elementType=z,r.lanes=g,r;case nt:return r=jn(13,o,s,d),r.elementType=nt,r.lanes=g,r;case lt:return r=jn(19,o,s,d),r.elementType=lt,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:T=10;break t;case Q:T=9;break t;case Z:T=11;break t;case x:T=14;break t;case I:T=16,c=null;break t}T=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=jn(T,o,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function wa(r,s,o,c){return r=jn(7,r,c,s),r.lanes=o,r}function vp(r,s,o){return r=jn(6,r,null,s),r.lanes=o,r}function Zv(r){var s=jn(18,null,null,0);return s.stateNode=r,s}function Tp(r,s,o){return s=jn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Jv=new WeakMap;function ii(r,s){if(typeof r=="object"&&r!==null){var o=Jv.get(r);return o!==void 0?o:(s={value:r,source:s,stack:cu(s)},Jv.set(r,s),s)}return{value:r,source:s,stack:cu(s)}}var Lo=[],Uo=0,df=null,Ou=0,ri=[],si=0,as=null,Ji=1,tr="";function Er(r,s){Lo[Uo++]=Ou,Lo[Uo++]=df,df=r,Ou=s}function tT(r,s,o){ri[si++]=Ji,ri[si++]=tr,ri[si++]=as,as=r;var c=Ji;r=tr;var d=32-xe(c)-1;c&=~(1<<d),o+=1;var g=32-xe(s)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,Ji=1<<32-xe(s)+d|o<<d|c,tr=g+r}else Ji=1<<g|o<<d|c,tr=r}function Ep(r){r.return!==null&&(Er(r,1),tT(r,1,0))}function bp(r){for(;r===df;)df=Lo[--Uo],Lo[Uo]=null,Ou=Lo[--Uo],Lo[Uo]=null;for(;r===as;)as=ri[--si],ri[si]=null,tr=ri[--si],ri[si]=null,Ji=ri[--si],ri[si]=null}function eT(r,s){ri[si++]=Ji,ri[si++]=tr,ri[si++]=as,Ji=s.id,tr=s.overflow,as=r}var cn=null,ce=null,jt=!1,os=null,ai=!1,wp=Error(i(519));function ls(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nu(ii(s,r)),wp}function nT(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Ne]=r,s[tn]=c,o){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(o=0;o<ic.length;o++)Nt(ic[o],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),Gh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),Jr(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||vb(s.textContent,o)?(c.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),c.onScroll!=null&&Nt("scroll",s),c.onScrollEnd!=null&&Nt("scrollend",s),c.onClick!=null&&(s.onclick=_i),s=!0):s=!1,s||ls(r,!0)}function iT(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 31:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:cn=cn.return}}function Bo(r){if(r!==cn)return!1;if(!jt)return iT(r),jt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||jg(r.type,r.memoizedProps)),o=!o),o&&ce&&ls(r),iT(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ce=Rb(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ce=Rb(r)}else s===27?(s=ce,bs(r.type)?(r=Kg,Kg=null,ce=r):ce=s):ce=cn?li(r.stateNode.nextSibling):null;return!0}function Sa(){ce=cn=null,jt=!1}function Sp(){var r=os;return r!==null&&(On===null?On=r:On.push.apply(On,r),os=null),r}function Nu(r){os===null?os=[r]:os.push(r)}var Ap=k(null),Aa=null,br=null;function us(r,s,o){ft(Ap,s._currentValue),s._currentValue=o}function wr(r){r._currentValue=Ap.current,rt(Ap)}function Ip(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function xp(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var V=0;V<s.length;V++)if(w.context===s[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),Ip(g.return,o,r),c||(T=null);break t}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),Ip(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function zo(r,s,o,c){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=d.type;zn(d.pendingProps.value,T.value)||(r!==null?r.push(w):r=[w])}}else if(d===Ft.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(lc):r=[lc])}d=d.return}r!==null&&xp(s,r,o,c),s.flags|=262144}function mf(r){for(r=r.firstContext;r!==null;){if(!zn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ia(r){Aa=r,br=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function hn(r){return rT(Aa,r)}function pf(r,s){return Aa===null&&Ia(r),rT(r,s)}function rT(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},br===null){if(r===null)throw Error(i(308));br=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else br=br.next=s;return o}var h2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},f2=n.unstable_scheduleCallback,d2=n.unstable_NormalPriority,Ue={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rp(){return{controller:new h2,data:new Map,refCount:0}}function ku(r){r.refCount--,r.refCount===0&&f2(d2,function(){r.controller.abort()})}var Lu=null,Cp=0,jo=0,Fo=null;function m2(r,s){if(Lu===null){var o=Lu=[];Cp=0,jo=Mg(),Fo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Cp++,s.then(sT,sT),s}function sT(){if(--Cp===0&&Lu!==null){Fo!==null&&(Fo.status="fulfilled");var r=Lu;Lu=null,jo=0,Fo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function p2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var aT=$.S;$.S=function(r,s){qE=wn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&m2(r,s),aT!==null&&aT(r,s)};var xa=k(null);function Dp(){var r=xa.current;return r!==null?r:le.pooledCache}function gf(r,s){s===null?ft(xa,xa.current):ft(xa,s.pool)}function oT(){var r=Dp();return r===null?null:{parent:Ue._currentValue,pool:r}}var qo=Error(i(460)),Vp=Error(i(474)),yf=Error(i(542)),_f={then:function(){}};function lT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function uT(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(_i,_i),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,hT(r),r;default:if(typeof s.status=="string")s.then(_i,_i);else{if(r=le,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,hT(r),r}throw Ca=s,qo}}function Ra(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ca=o,qo):o}}var Ca=null;function cT(){if(Ca===null)throw Error(i(459));var r=Ca;return Ca=null,r}function hT(r){if(r===qo||r===yf)throw Error(i(483))}var Ho=null,Uu=0;function vf(r){var s=Uu;return Uu+=1,Ho===null&&(Ho=[]),uT(Ho,r,s)}function Bu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Tf(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function fT(r){function s(B,N){if(r){var q=B.deletions;q===null?(B.deletions=[N],B.flags|=16):q.push(N)}}function o(B,N){if(!r)return null;for(;N!==null;)s(B,N),N=N.sibling;return null}function c(B){for(var N=new Map;B!==null;)B.key!==null?N.set(B.key,B):N.set(B.index,B),B=B.sibling;return N}function d(B,N){return B=Tr(B,N),B.index=0,B.sibling=null,B}function g(B,N,q){return B.index=q,r?(q=B.alternate,q!==null?(q=q.index,q<N?(B.flags|=67108866,N):q):(B.flags|=67108866,N)):(B.flags|=1048576,N)}function T(B){return r&&B.alternate===null&&(B.flags|=67108866),B}function w(B,N,q,et){return N===null||N.tag!==6?(N=vp(q,B.mode,et),N.return=B,N):(N=d(N,q),N.return=B,N)}function V(B,N,q,et){var Et=q.type;return Et===L?J(B,N,q.props.children,et,q.key):N!==null&&(N.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===I&&Ra(Et)===N.type)?(N=d(N,q.props),Bu(N,q),N.return=B,N):(N=ff(q.type,q.key,q.props,null,B.mode,et),Bu(N,q),N.return=B,N)}function H(B,N,q,et){return N===null||N.tag!==4||N.stateNode.containerInfo!==q.containerInfo||N.stateNode.implementation!==q.implementation?(N=Tp(q,B.mode,et),N.return=B,N):(N=d(N,q.children||[]),N.return=B,N)}function J(B,N,q,et,Et){return N===null||N.tag!==7?(N=wa(q,B.mode,et,Et),N.return=B,N):(N=d(N,q),N.return=B,N)}function it(B,N,q){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=vp(""+N,B.mode,q),N.return=B,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case A:return q=ff(N.type,N.key,N.props,null,B.mode,q),Bu(q,N),q.return=B,q;case D:return N=Tp(N,B.mode,q),N.return=B,N;case I:return N=Ra(N),it(B,N,q)}if(fe(N)||U(N))return N=wa(N,B.mode,q,null),N.return=B,N;if(typeof N.then=="function")return it(B,vf(N),q);if(N.$$typeof===K)return it(B,pf(B,N),q);Tf(B,N)}return null}function G(B,N,q,et){var Et=N!==null?N.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Et!==null?null:w(B,N,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===Et?V(B,N,q,et):null;case D:return q.key===Et?H(B,N,q,et):null;case I:return q=Ra(q),G(B,N,q,et)}if(fe(q)||U(q))return Et!==null?null:J(B,N,q,et,null);if(typeof q.then=="function")return G(B,N,vf(q),et);if(q.$$typeof===K)return G(B,N,pf(B,q),et);Tf(B,q)}return null}function X(B,N,q,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(q)||null,w(N,B,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case A:return B=B.get(et.key===null?q:et.key)||null,V(N,B,et,Et);case D:return B=B.get(et.key===null?q:et.key)||null,H(N,B,et,Et);case I:return et=Ra(et),X(B,N,q,et,Et)}if(fe(et)||U(et))return B=B.get(q)||null,J(N,B,et,Et,null);if(typeof et.then=="function")return X(B,N,q,vf(et),Et);if(et.$$typeof===K)return X(B,N,q,pf(N,et),Et);Tf(N,et)}return null}function gt(B,N,q,et){for(var Et=null,Gt=null,vt=N,Mt=N=0,Ut=null;vt!==null&&Mt<q.length;Mt++){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Kt=G(B,vt,q[Mt],et);if(Kt===null){vt===null&&(vt=Ut);break}r&&vt&&Kt.alternate===null&&s(B,vt),N=g(Kt,N,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt,vt=Ut}if(Mt===q.length)return o(B,vt),jt&&Er(B,Mt),Et;if(vt===null){for(;Mt<q.length;Mt++)vt=it(B,q[Mt],et),vt!==null&&(N=g(vt,N,Mt),Gt===null?Et=vt:Gt.sibling=vt,Gt=vt);return jt&&Er(B,Mt),Et}for(vt=c(vt);Mt<q.length;Mt++)Ut=X(vt,B,Mt,q[Mt],et),Ut!==null&&(r&&Ut.alternate!==null&&vt.delete(Ut.key===null?Mt:Ut.key),N=g(Ut,N,Mt),Gt===null?Et=Ut:Gt.sibling=Ut,Gt=Ut);return r&&vt.forEach(function(xs){return s(B,xs)}),jt&&Er(B,Mt),Et}function bt(B,N,q,et){if(q==null)throw Error(i(151));for(var Et=null,Gt=null,vt=N,Mt=N=0,Ut=null,Kt=q.next();vt!==null&&!Kt.done;Mt++,Kt=q.next()){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var xs=G(B,vt,Kt.value,et);if(xs===null){vt===null&&(vt=Ut);break}r&&vt&&xs.alternate===null&&s(B,vt),N=g(xs,N,Mt),Gt===null?Et=xs:Gt.sibling=xs,Gt=xs,vt=Ut}if(Kt.done)return o(B,vt),jt&&Er(B,Mt),Et;if(vt===null){for(;!Kt.done;Mt++,Kt=q.next())Kt=it(B,Kt.value,et),Kt!==null&&(N=g(Kt,N,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt);return jt&&Er(B,Mt),Et}for(vt=c(vt);!Kt.done;Mt++,Kt=q.next())Kt=X(vt,B,Mt,Kt.value,et),Kt!==null&&(r&&Kt.alternate!==null&&vt.delete(Kt.key===null?Mt:Kt.key),N=g(Kt,N,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt);return r&&vt.forEach(function(IV){return s(B,IV)}),jt&&Er(B,Mt),Et}function oe(B,N,q,et){if(typeof q=="object"&&q!==null&&q.type===L&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:t:{for(var Et=q.key;N!==null;){if(N.key===Et){if(Et=q.type,Et===L){if(N.tag===7){o(B,N.sibling),et=d(N,q.props.children),et.return=B,B=et;break t}}else if(N.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===I&&Ra(Et)===N.type){o(B,N.sibling),et=d(N,q.props),Bu(et,q),et.return=B,B=et;break t}o(B,N);break}else s(B,N);N=N.sibling}q.type===L?(et=wa(q.props.children,B.mode,et,q.key),et.return=B,B=et):(et=ff(q.type,q.key,q.props,null,B.mode,et),Bu(et,q),et.return=B,B=et)}return T(B);case D:t:{for(Et=q.key;N!==null;){if(N.key===Et)if(N.tag===4&&N.stateNode.containerInfo===q.containerInfo&&N.stateNode.implementation===q.implementation){o(B,N.sibling),et=d(N,q.children||[]),et.return=B,B=et;break t}else{o(B,N);break}else s(B,N);N=N.sibling}et=Tp(q,B.mode,et),et.return=B,B=et}return T(B);case I:return q=Ra(q),oe(B,N,q,et)}if(fe(q))return gt(B,N,q,et);if(U(q)){if(Et=U(q),typeof Et!="function")throw Error(i(150));return q=Et.call(q),bt(B,N,q,et)}if(typeof q.then=="function")return oe(B,N,vf(q),et);if(q.$$typeof===K)return oe(B,N,pf(B,q),et);Tf(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,N!==null&&N.tag===6?(o(B,N.sibling),et=d(N,q),et.return=B,B=et):(o(B,N),et=vp(q,B.mode,et),et.return=B,B=et),T(B)):o(B,N)}return function(B,N,q,et){try{Uu=0;var Et=oe(B,N,q,et);return Ho=null,Et}catch(vt){if(vt===qo||vt===yf)throw vt;var Gt=jn(29,vt,null,B.mode);return Gt.lanes=et,Gt.return=B,Gt}}}var Da=fT(!0),dT=fT(!1),cs=!1;function Mp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function hs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function fs(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Xt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=hf(r),Wv(r,null,o),s}return cf(r,c,s,o),hf(r)}function zu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,du(r,o)}}function Op(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Np=!1;function ju(){if(Np){var r=Fo;if(r!==null)throw r}}function Fu(r,s,o,c){Np=!1;var d=r.updateQueue;cs=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var V=w,H=V.next;V.next=null,T===null?g=H:T.next=H,T=V;var J=r.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==T&&(w===null?J.firstBaseUpdate=H:w.next=H,J.lastBaseUpdate=V))}if(g!==null){var it=d.baseState;T=0,J=H=V=null,w=g;do{var G=w.lane&-536870913,X=G!==w.lane;if(X?(Lt&G)===G:(c&G)===G){G!==0&&G===jo&&(Np=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var gt=r,bt=w;G=s;var oe=o;switch(bt.tag){case 1:if(gt=bt.payload,typeof gt=="function"){it=gt.call(oe,it,G);break t}it=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=bt.payload,G=typeof gt=="function"?gt.call(oe,it,G):gt,G==null)break t;it=v({},it,G);break t;case 2:cs=!0}}G=w.callback,G!==null&&(r.flags|=64,X&&(r.flags|=8192),X=d.callbacks,X===null?d.callbacks=[G]:X.push(G))}else X={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(H=J=X,V=it):J=J.next=X,T|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;X=w,w=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);J===null&&(V=it),d.baseState=V,d.firstBaseUpdate=H,d.lastBaseUpdate=J,g===null&&(d.shared.lanes=0),ys|=T,r.lanes=T,r.memoizedState=it}}function mT(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function pT(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)mT(o[r],s)}var Go=k(null),Ef=k(0);function gT(r,s){r=Mr,ft(Ef,r),ft(Go,s),Mr=r|s.baseLanes}function kp(){ft(Ef,Mr),ft(Go,Go.current)}function Lp(){Mr=Ef.current,rt(Go),rt(Ef)}var Fn=k(null),oi=null;function ds(r){var s=r.alternate;ft(Ce,Ce.current&1),ft(Fn,r),oi===null&&(s===null||Go.current!==null||s.memoizedState!==null)&&(oi=r)}function Up(r){ft(Ce,Ce.current),ft(Fn,r),oi===null&&(oi=r)}function yT(r){r.tag===22?(ft(Ce,Ce.current),ft(Fn,r),oi===null&&(oi=r)):ms()}function ms(){ft(Ce,Ce.current),ft(Fn,Fn.current)}function qn(r){rt(Fn),oi===r&&(oi=null),rt(Ce)}var Ce=k(0);function bf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Hg(o)||Gg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Sr=0,Ct=null,se=null,Be=null,wf=!1,Ko=!1,Va=!1,Sf=0,qu=0,Yo=null,g2=0;function be(){throw Error(i(321))}function Bp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!zn(r[o],s[o]))return!1;return!0}function zp(r,s,o,c,d,g){return Sr=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?tE:eg,Va=!1,g=o(c,d),Va=!1,Ko&&(g=vT(s,o,c,d)),_T(r),g}function _T(r){$.H=Ku;var s=se!==null&&se.next!==null;if(Sr=0,Be=se=Ct=null,wf=!1,qu=0,Yo=null,s)throw Error(i(300));r===null||ze||(r=r.dependencies,r!==null&&mf(r)&&(ze=!0))}function vT(r,s,o,c){Ct=r;var d=0;do{if(Ko&&(Yo=null),qu=0,Ko=!1,25<=d)throw Error(i(301));if(d+=1,Be=se=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=eE,g=s(o,c)}while(Ko);return g}function y2(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?Hu(s):s,r=r.useState()[0],(se!==null?se.memoizedState:null)!==r&&(Ct.flags|=1024),s}function jp(){var r=Sf!==0;return Sf=0,r}function Fp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function qp(r){if(wf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wf=!1}Sr=0,Be=se=Ct=null,Ko=!1,qu=Sf=0,Yo=null}function An(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ct.memoizedState=Be=r:Be=Be.next=r,Be}function De(){if(se===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=se.next;var s=Be===null?Ct.memoizedState:Be.next;if(s!==null)Be=s,se=r;else{if(r===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));se=r,r={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Be===null?Ct.memoizedState=Be=r:Be=Be.next=r}return Be}function Af(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(r){var s=qu;return qu+=1,Yo===null&&(Yo=[]),r=uT(Yo,r,s),s=Ct,(Be===null?s.memoizedState:Be.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?tE:eg),r}function If(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hu(r);if(r.$$typeof===K)return hn(r)}throw Error(i(438,String(r)))}function Hp(r){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Af(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=O;return s.index++,o}function Ar(r,s){return typeof s=="function"?s(r):s}function xf(r){var s=De();return Gp(s,se,r)}function Gp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,c.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var w=T=null,V=null,H=s,J=!1;do{var it=H.lane&-536870913;if(it!==H.lane?(Lt&it)===it:(Sr&it)===it){var G=H.revertLane;if(G===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),it===jo&&(J=!0);else if((Sr&G)===G){H=H.next,G===jo&&(J=!0);continue}else it={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(w=V=it,T=g):V=V.next=it,Ct.lanes|=G,ys|=G;it=H.action,Va&&o(g,it),g=H.hasEagerState?H.eagerState:o(g,it)}else G={lane:it,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(w=V=G,T=g):V=V.next=G,Ct.lanes|=it,ys|=it;H=H.next}while(H!==null&&H!==s);if(V===null?T=g:V.next=w,!zn(g,r.memoizedState)&&(ze=!0,J&&(o=Fo,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=V,c.lastRenderedState=g}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Kp(r){var s=De(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=r(g,T.action),T=T.next;while(T!==d);zn(g,s.memoizedState)||(ze=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function TT(r,s,o){var c=Ct,d=De(),g=jt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!zn((se||d).memoizedState,o);if(T&&(d.memoizedState=o,ze=!0),d=d.queue,Xp(wT.bind(null,c,d,r),[r]),d.getSnapshot!==s||T||Be!==null&&Be.memoizedState.tag&1){if(c.flags|=2048,Qo(9,{destroy:void 0},bT.bind(null,c,d,o,s),null),le===null)throw Error(i(349));g||(Sr&127)!==0||ET(c,s,o)}return o}function ET(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=Af(),Ct.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function bT(r,s,o,c){s.value=o,s.getSnapshot=c,ST(s)&&AT(r)}function wT(r,s,o){return o(function(){ST(s)&&AT(r)})}function ST(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!zn(r,o)}catch{return!0}}function AT(r){var s=ba(r,2);s!==null&&Nn(s,r,2)}function Yp(r){var s=An();if(typeof r=="function"){var o=r;if(r=o(),Va){$n(!0);try{o()}finally{$n(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:r},s}function IT(r,s,o,c){return r.baseState=o,Gp(r,se,typeof c=="function"?c:Ar)}function _2(r,s,o,c,d){if(Df(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};$.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,xT(s,g)):(g.next=o.next,s.pending=o.next=g)}}function xT(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var g=$.T,T={};$.T=T;try{var w=o(d,c),V=$.S;V!==null&&V(T,w),RT(r,s,w)}catch(H){Qp(r,s,H)}finally{g!==null&&T.types!==null&&(g.types=T.types),$.T=g}}else try{g=o(d,c),RT(r,s,g)}catch(H){Qp(r,s,H)}}function RT(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){CT(r,s,c)},function(c){return Qp(r,s,c)}):CT(r,s,o)}function CT(r,s,o){s.status="fulfilled",s.value=o,DT(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,xT(r,o)))}function Qp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,DT(s),s=s.next;while(s!==c)}r.action=null}function DT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function VT(r,s){return s}function MT(r,s){if(jt){var o=le.formState;if(o!==null){t:{var c=Ct;if(jt){if(ce){e:{for(var d=ce,g=ai;d.nodeType!==8;){if(!g){d=null;break e}if(d=li(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ce=li(d.nextSibling),c=d.data==="F!";break t}}ls(c)}c=!1}c&&(s=o[0])}}return o=An(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:VT,lastRenderedState:s},o.queue=c,o=$T.bind(null,Ct,c),c.dispatch=o,c=Yp(!1),g=tg.bind(null,Ct,!1,c.queue),c=An(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=_2.bind(null,Ct,d,g,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function PT(r){var s=De();return OT(s,se,r)}function OT(r,s,o){if(s=Gp(r,s,VT)[0],r=xf(Ar)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Hu(s)}catch(T){throw T===qo?yf:T}else c=s;s=De();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,Qo(9,{destroy:void 0},v2.bind(null,d,o),null)),[c,g,r]}function v2(r,s){r.action=s}function NT(r){var s=De(),o=se;if(o!==null)return OT(s,o,r);De(),s=s.memoizedState,o=De();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Qo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=Af(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function kT(){return De().memoizedState}function Rf(r,s,o,c){var d=An();Ct.flags|=r,d.memoizedState=Qo(1|s,{destroy:void 0},o,c===void 0?null:c)}function Cf(r,s,o,c){var d=De();c=c===void 0?null:c;var g=d.memoizedState.inst;se!==null&&c!==null&&Bp(c,se.memoizedState.deps)?d.memoizedState=Qo(s,g,o,c):(Ct.flags|=r,d.memoizedState=Qo(1|s,g,o,c))}function LT(r,s){Rf(8390656,8,r,s)}function Xp(r,s){Cf(2048,8,r,s)}function T2(r){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=Af(),Ct.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function UT(r){var s=De().memoizedState;return T2({ref:s,nextImpl:r}),function(){if((Xt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function BT(r,s){return Cf(4,2,r,s)}function zT(r,s){return Cf(4,4,r,s)}function jT(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function FT(r,s,o){o=o!=null?o.concat([r]):null,Cf(4,4,jT.bind(null,s,r),o)}function Wp(){}function qT(r,s){var o=De();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Bp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function HT(r,s){var o=De();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Bp(s,c[1]))return c[0];if(c=r(),Va){$n(!0);try{r()}finally{$n(!1)}}return o.memoizedState=[c,s],c}function $p(r,s,o){return o===void 0||(Sr&1073741824)!==0&&(Lt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=GE(),Ct.lanes|=r,ys|=r,o)}function GT(r,s,o,c){return zn(o,s)?o:Go.current!==null?(r=$p(r,o,c),zn(r,s)||(ze=!0),r):(Sr&42)===0||(Sr&1073741824)!==0&&(Lt&261930)===0?(ze=!0,r.memoizedState=o):(r=GE(),Ct.lanes|=r,ys|=r,s)}function KT(r,s,o,c,d){var g=st.p;st.p=g!==0&&8>g?g:8;var T=$.T,w={};$.T=w,tg(r,!1,s,o);try{var V=d(),H=$.S;if(H!==null&&H(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=p2(V,c);Gu(r,s,J,Kn(r))}else Gu(r,s,c,Kn(r))}catch(it){Gu(r,s,{then:function(){},status:"rejected",reason:it},Kn())}finally{st.p=g,T!==null&&w.types!==null&&(T.types=w.types),$.T=T}}function E2(){}function Zp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=YT(r).queue;KT(r,d,s,pt,o===null?E2:function(){return QT(r),o(c)})}function YT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:pt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ar,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function QT(r){var s=YT(r);s.next===null&&(s=r.alternate.memoizedState),Gu(r,s.next.queue,{},Kn())}function Jp(){return hn(lc)}function XT(){return De().memoizedState}function WT(){return De().memoizedState}function b2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Kn();r=hs(o);var c=fs(s,r,o);c!==null&&(Nn(c,s,o),zu(c,s,o)),s={cache:Rp()},r.payload=s;return}s=s.return}}function w2(r,s,o){var c=Kn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Df(r)?ZT(s,o):(o=yp(r,s,o,c),o!==null&&(Nn(o,r,c),JT(o,s,c)))}function $T(r,s,o){var c=Kn();Gu(r,s,o,c)}function Gu(r,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Df(r))ZT(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,zn(w,T))return cf(r,s,d,0),le===null&&uf(),!1}catch{}if(o=yp(r,s,d,c),o!==null)return Nn(o,r,c),JT(o,s,c),!0}return!1}function tg(r,s,o,c){if(c={lane:2,revertLane:Mg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Df(r)){if(s)throw Error(i(479))}else s=yp(r,o,c,2),s!==null&&Nn(s,r,2)}function Df(r){var s=r.alternate;return r===Ct||s!==null&&s===Ct}function ZT(r,s){Ko=wf=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function JT(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,du(r,o)}}var Ku={readContext:hn,use:If,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};Ku.useEffectEvent=be;var tE={readContext:hn,use:If,useCallback:function(r,s){return An().memoizedState=[r,s===void 0?null:s],r},useContext:hn,useEffect:LT,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Rf(4194308,4,jT.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Rf(4194308,4,r,s)},useInsertionEffect:function(r,s){Rf(4,2,r,s)},useMemo:function(r,s){var o=An();s=s===void 0?null:s;var c=r();if(Va){$n(!0);try{r()}finally{$n(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=An();if(o!==void 0){var d=o(s);if(Va){$n(!0);try{o(s)}finally{$n(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=w2.bind(null,Ct,r),[c.memoizedState,r]},useRef:function(r){var s=An();return r={current:r},s.memoizedState=r},useState:function(r){r=Yp(r);var s=r.queue,o=$T.bind(null,Ct,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Wp,useDeferredValue:function(r,s){var o=An();return $p(o,r,s)},useTransition:function(){var r=Yp(!1);return r=KT.bind(null,Ct,r.queue,!0,!1),An().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ct,d=An();if(jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),le===null)throw Error(i(349));(Lt&127)!==0||ET(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,LT(wT.bind(null,c,g,r),[r]),c.flags|=2048,Qo(9,{destroy:void 0},bT.bind(null,c,g,o,s),null),o},useId:function(){var r=An(),s=le.identifierPrefix;if(jt){var o=tr,c=Ji;o=(c&~(1<<32-xe(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Sf++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=g2++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Jp,useFormState:MT,useActionState:MT,useOptimistic:function(r){var s=An();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=tg.bind(null,Ct,!0,o),o.dispatch=s,[r,s]},useMemoCache:Hp,useCacheRefresh:function(){return An().memoizedState=b2.bind(null,Ct)},useEffectEvent:function(r){var s=An(),o={impl:r};return s.memoizedState=o,function(){if((Xt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},eg={readContext:hn,use:If,useCallback:qT,useContext:hn,useEffect:Xp,useImperativeHandle:FT,useInsertionEffect:BT,useLayoutEffect:zT,useMemo:HT,useReducer:xf,useRef:kT,useState:function(){return xf(Ar)},useDebugValue:Wp,useDeferredValue:function(r,s){var o=De();return GT(o,se.memoizedState,r,s)},useTransition:function(){var r=xf(Ar)[0],s=De().memoizedState;return[typeof r=="boolean"?r:Hu(r),s]},useSyncExternalStore:TT,useId:XT,useHostTransitionStatus:Jp,useFormState:PT,useActionState:PT,useOptimistic:function(r,s){var o=De();return IT(o,se,r,s)},useMemoCache:Hp,useCacheRefresh:WT};eg.useEffectEvent=UT;var eE={readContext:hn,use:If,useCallback:qT,useContext:hn,useEffect:Xp,useImperativeHandle:FT,useInsertionEffect:BT,useLayoutEffect:zT,useMemo:HT,useReducer:Kp,useRef:kT,useState:function(){return Kp(Ar)},useDebugValue:Wp,useDeferredValue:function(r,s){var o=De();return se===null?$p(o,r,s):GT(o,se.memoizedState,r,s)},useTransition:function(){var r=Kp(Ar)[0],s=De().memoizedState;return[typeof r=="boolean"?r:Hu(r),s]},useSyncExternalStore:TT,useId:XT,useHostTransitionStatus:Jp,useFormState:NT,useActionState:NT,useOptimistic:function(r,s){var o=De();return se!==null?IT(o,se,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Hp,useCacheRefresh:WT};eE.useEffectEvent=UT;function ng(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ig={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Kn(),d=hs(c);d.payload=s,o!=null&&(d.callback=o),s=fs(r,d,c),s!==null&&(Nn(s,r,c),zu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Kn(),d=hs(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=fs(r,d,c),s!==null&&(Nn(s,r,c),zu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Kn(),c=hs(o);c.tag=2,s!=null&&(c.callback=s),s=fs(r,c,o),s!==null&&(Nn(s,r,o),zu(s,r,o))}};function nE(r,s,o,c,d,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Mu(o,c)||!Mu(d,g):!0}function iE(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&ig.enqueueReplaceState(s,s.state,null)}function Ma(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function rE(r){lf(r)}function sE(r){console.error(r)}function aE(r){lf(r)}function Vf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function oE(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function rg(r,s,o){return o=hs(o),o.tag=3,o.payload={element:null},o.callback=function(){Vf(r,s)},o}function lE(r){return r=hs(r),r.tag=3,r}function uE(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;r.payload=function(){return d(g)},r.callback=function(){oE(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){oE(s,o,c),typeof d!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function S2(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&zo(s,o,d,!0),o=Fn.current,o!==null){switch(o.tag){case 31:case 13:return oi===null?qf():o.alternate===null&&we===0&&(we=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===_f?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Cg(r,c,d)),!1;case 22:return o.flags|=65536,c===_f?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Cg(r,c,d)),!1}throw Error(i(435,o.tag))}return Cg(r,c,d),qf(),!1}if(jt)return s=Fn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==wp&&(r=Error(i(422),{cause:c}),Nu(ii(r,o)))):(c!==wp&&(s=Error(i(423),{cause:c}),Nu(ii(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=ii(c,o),d=rg(r.stateNode,c,d),Op(r,d),we!==4&&(we=2)),!1;var g=Error(i(520),{cause:c});if(g=ii(g,o),tc===null?tc=[g]:tc.push(g),we!==4&&(we=2),s===null)return!0;c=ii(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=rg(o.stateNode,c,r),Op(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(_s===null||!_s.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=lE(d),uE(d,r,o,c),Op(o,d),!1}o=o.return}while(o!==null);return!1}var sg=Error(i(461)),ze=!1;function fn(r,s,o,c){s.child=r===null?dT(s,null,o,c):Da(s,r.child,o,c)}function cE(r,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return Ia(s),c=zp(r,s,o,T,g,d),w=jp(),r!==null&&!ze?(Fp(r,s,d),Ir(r,s,d)):(jt&&w&&Ep(s),s.flags|=1,fn(r,s,c,d),s.child)}function hE(r,s,o,c,d){if(r===null){var g=o.type;return typeof g=="function"&&!_p(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,fE(r,s,g,c,d)):(r=ff(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!dg(r,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Mu,o(T,c)&&r.ref===s.ref)return Ir(r,s,d)}return s.flags|=1,r=Tr(g,c),r.ref=s.ref,r.return=s,s.child=r}function fE(r,s,o,c,d){if(r!==null){var g=r.memoizedProps;if(Mu(g,c)&&r.ref===s.ref)if(ze=!1,s.pendingProps=c=g,dg(r,d))(r.flags&131072)!==0&&(ze=!0);else return s.lanes=r.lanes,Ir(r,s,d)}return ag(r,s,o,c,d)}function dE(r,s,o,c){var d=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(c=s.child=r.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,s.child=null;return mE(r,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&gf(s,g!==null?g.cachePool:null),g!==null?gT(s,g):kp(),yT(s);else return c=s.lanes=536870912,mE(r,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(gf(s,g.cachePool),gT(s,g),ms(),s.memoizedState=null):(r!==null&&gf(s,null),kp(),ms());return fn(r,s,d,o),s.child}function Yu(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function mE(r,s,o,c,d){var g=Dp();return g=g===null?null:{parent:Ue._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},r!==null&&gf(s,null),kp(),yT(s),r!==null&&zo(r,s,c,!0),s.childLanes=d,null}function Mf(r,s){return s=Of({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function pE(r,s,o){return Da(s,r.child,null,o),r=Mf(s,s.pendingProps),r.flags|=2,qn(s),s.memoizedState=null,r}function A2(r,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(jt){if(c.mode==="hidden")return r=Mf(s,c),s.lanes=536870912,Yu(null,r);if(Up(s),(r=ce)?(r=xb(r,ai),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:as!==null?{id:Ji,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},o=Zv(r),o.return=s,s.child=o,cn=s,ce=null)):r=null,r===null)throw ls(s);return s.lanes=536870912,null}return Mf(s,c)}var g=r.memoizedState;if(g!==null){var T=g.dehydrated;if(Up(s),d)if(s.flags&256)s.flags&=-257,s=pE(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(ze||zo(r,s,o,!1),d=(o&r.childLanes)!==0,ze||d){if(c=le,c!==null&&(T=mu(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,ba(r,T),Nn(c,r,T),sg;qf(),s=pE(r,s,o)}else r=g.treeContext,ce=li(T.nextSibling),cn=s,jt=!0,os=null,ai=!1,r!==null&&eT(s,r),s=Mf(s,c),s.flags|=4096;return s}return r=Tr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Pf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function ag(r,s,o,c,d){return Ia(s),o=zp(r,s,o,c,void 0,d),c=jp(),r!==null&&!ze?(Fp(r,s,d),Ir(r,s,d)):(jt&&c&&Ep(s),s.flags|=1,fn(r,s,o,d),s.child)}function gE(r,s,o,c,d,g){return Ia(s),s.updateQueue=null,o=vT(s,c,o,d),_T(r),c=jp(),r!==null&&!ze?(Fp(r,s,g),Ir(r,s,g)):(jt&&c&&Ep(s),s.flags|=1,fn(r,s,o,g),s.child)}function yE(r,s,o,c,d){if(Ia(s),s.stateNode===null){var g=ko,T=o.contextType;typeof T=="object"&&T!==null&&(g=hn(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ig,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Mp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?hn(T):ko,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(ng(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&ig.enqueueReplaceState(g,g.state,null),Fu(s,c,g,d),ju(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var w=s.memoizedProps,V=Ma(o,w);g.props=V;var H=g.context,J=o.contextType;T=ko,typeof J=="object"&&J!==null&&(T=hn(J));var it=o.getDerivedStateFromProps;J=typeof it=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,J||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||H!==T)&&iE(s,g,c,T),cs=!1;var G=s.memoizedState;g.state=G,Fu(s,c,g,d),ju(),H=s.memoizedState,w||G!==H||cs?(typeof it=="function"&&(ng(s,o,it,c),H=s.memoizedState),(V=cs||nE(s,o,V,c,G,H,T))?(J||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=H),g.props=c,g.state=H,g.context=T,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Pp(r,s),T=s.memoizedProps,J=Ma(o,T),g.props=J,it=s.pendingProps,G=g.context,H=o.contextType,V=ko,typeof H=="object"&&H!==null&&(V=hn(H)),w=o.getDerivedStateFromProps,(H=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==it||G!==V)&&iE(s,g,c,V),cs=!1,G=s.memoizedState,g.state=G,Fu(s,c,g,d),ju();var X=s.memoizedState;T!==it||G!==X||cs||r!==null&&r.dependencies!==null&&mf(r.dependencies)?(typeof w=="function"&&(ng(s,o,w,c),X=s.memoizedState),(J=cs||nE(s,o,J,c,G,X,V)||r!==null&&r.dependencies!==null&&mf(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,X,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,X,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=X),g.props=c,g.state=X,g.context=V,c=J):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,Pf(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Da(s,r.child,null,d),s.child=Da(s,null,o,d)):fn(r,s,o,d),s.memoizedState=g.state,r=s.child):r=Ir(r,s,d),r}function _E(r,s,o,c){return Sa(),s.flags|=256,fn(r,s,o,c),s.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(r){return{baseLanes:r,cachePool:oT()}}function ug(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Gn),r}function vE(r,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Ce.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(jt){if(d?ds(s):ms(),(r=ce)?(r=xb(r,ai),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:as!==null?{id:Ji,overflow:tr}:null,retryLane:536870912,hydrationErrors:null},o=Zv(r),o.return=s,s.child=o,cn=s,ce=null)):r=null,r===null)throw ls(s);return Gg(r)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(ms(),d=s.mode,w=Of({mode:"hidden",children:w},d),c=wa(c,d,o,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=lg(o),c.childLanes=ug(r,T,o),s.memoizedState=og,Yu(null,c)):(ds(s),cg(s,w))}var V=r.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(g)s.flags&256?(ds(s),s.flags&=-257,s=hg(r,s,o)):s.memoizedState!==null?(ms(),s.child=r.child,s.flags|=128,s=null):(ms(),w=c.fallback,d=s.mode,c=Of({mode:"visible",children:c.children},d),w=wa(w,d,o,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Da(s,r.child,null,o),c=s.child,c.memoizedState=lg(o),c.childLanes=ug(r,T,o),s.memoizedState=og,s=Yu(null,c));else if(ds(s),Gg(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var H=T.dgst;T=H,c=Error(i(419)),c.stack="",c.digest=T,Nu({value:c,source:null,stack:null}),s=hg(r,s,o)}else if(ze||zo(r,s,o,!1),T=(o&r.childLanes)!==0,ze||T){if(T=le,T!==null&&(c=mu(T,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,ba(r,c),Nn(T,r,c),sg;Hg(w)||qf(),s=hg(r,s,o)}else Hg(w)?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,ce=li(w.nextSibling),cn=s,jt=!0,os=null,ai=!1,r!==null&&eT(s,r),s=cg(s,c.children),s.flags|=4096);return s}return d?(ms(),w=c.fallback,d=s.mode,V=r.child,H=V.sibling,c=Tr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,H!==null?w=Tr(H,w):(w=wa(w,d,o,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,Yu(null,c),c=s.child,w=r.child.memoizedState,w===null?w=lg(o):(d=w.cachePool,d!==null?(V=Ue._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=oT(),w={baseLanes:w.baseLanes|o,cachePool:d}),c.memoizedState=w,c.childLanes=ug(r,T,o),s.memoizedState=og,Yu(r.child,c)):(ds(s),o=r.child,r=o.sibling,o=Tr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function cg(r,s){return s=Of({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Of(r,s){return r=jn(22,r,null,s),r.lanes=0,r}function hg(r,s,o){return Da(s,r.child,null,o),r=cg(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function TE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Ip(r.return,s,o)}function fg(r,s,o,c,d,g){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function EE(r,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=Ce.current,w=(T&2)!==0;if(w?(T=T&1|2,s.flags|=128):T&=1,ft(Ce,T),fn(r,s,c,o),c=jt?Ou:0,!w&&r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&TE(r,o,s);else if(r.tag===19)TE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&bf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),fg(s,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&bf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}fg(s,!0,o,null,g,c);break;case"together":fg(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Ir(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ys|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(zo(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Tr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Tr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function dg(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&mf(r)))}function I2(r,s,o){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),us(s,Ue,r.memoizedState.cache),Sa();break;case 27:case 5:ra(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:us(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Up(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ds(s),s.flags|=128,null):(o&s.child.childLanes)!==0?vE(r,s,o):(ds(s),r=Ir(r,s,o),r!==null?r.sibling:null);ds(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(zo(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return EE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ft(Ce,Ce.current),c)break;return null;case 22:return s.lanes=0,dE(r,s,o,s.pendingProps);case 24:us(s,Ue,r.memoizedState.cache)}return Ir(r,s,o)}function bE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)ze=!0;else{if(!dg(r,o)&&(s.flags&128)===0)return ze=!1,I2(r,s,o);ze=(r.flags&131072)!==0}else ze=!1,jt&&(s.flags&1048576)!==0&&tT(s,Ou,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(r=Ra(s.elementType),s.type=r,typeof r=="function")_p(r)?(c=Ma(r,c),s.tag=1,s=yE(null,s,r,c,o)):(s.tag=0,s=ag(null,s,r,c,o));else{if(r!=null){var d=r.$$typeof;if(d===Z){s.tag=11,s=cE(null,s,r,c,o);break t}else if(d===x){s.tag=14,s=hE(null,s,r,c,o);break t}}throw s=Yt(r)||r,Error(i(306,s,""))}}return s;case 0:return ag(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Ma(c,s.pendingProps),yE(r,s,c,d,o);case 3:t:{if(Qe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,Pp(r,s),Fu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,us(s,Ue,c),c!==g.cache&&xp(s,[Ue],o,!0),ju(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=_E(r,s,c,o);break t}else if(c!==d){d=ii(Error(i(424)),s),Nu(d),s=_E(r,s,c,o);break t}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,ce=li(r.firstChild),cn=s,jt=!0,os=null,ai=!0,o=dT(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Sa(),c===d){s=Ir(r,s,o);break t}fn(r,s,c,o)}s=s.child}return s;case 26:return Pf(r,s),r===null?(o=Pb(s.type,null,s.pendingProps,null))?s.memoizedState=o:jt||(o=s.type,r=s.pendingProps,c=Wf(Vt.current).createElement(o),c[Ne]=s,c[tn]=r,dn(c,o,r),ke(c),s.stateNode=c):s.memoizedState=Pb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ra(s),r===null&&jt&&(c=s.stateNode=Db(s.type,s.pendingProps,Vt.current),cn=s,ai=!0,d=ce,bs(s.type)?(Kg=d,ce=li(c.firstChild)):ce=d),fn(r,s,s.pendingProps.children,o),Pf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&jt&&((d=c=ce)&&(c=nV(c,s.type,s.pendingProps,ai),c!==null?(s.stateNode=c,cn=s,ce=li(c.firstChild),ai=!1,d=!0):d=!1),d||ls(s)),ra(s),d=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,c=g.children,jg(d,g)?c=null:T!==null&&jg(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=zp(r,s,y2,null,null,o),lc._currentValue=d),Pf(r,s),fn(r,s,c,o),s.child;case 6:return r===null&&jt&&((r=o=ce)&&(o=iV(o,s.pendingProps,ai),o!==null?(s.stateNode=o,cn=s,ce=null,r=!0):r=!1),r||ls(s)),null;case 13:return vE(r,s,o);case 4:return Qe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Da(s,null,c,o):fn(r,s,c,o),s.child;case 11:return cE(r,s,s.type,s.pendingProps,o);case 7:return fn(r,s,s.pendingProps,o),s.child;case 8:return fn(r,s,s.pendingProps.children,o),s.child;case 12:return fn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,us(s,s.type,c.value),fn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Ia(s),d=hn(d),c=c(d),s.flags|=1,fn(r,s,c,o),s.child;case 14:return hE(r,s,s.type,s.pendingProps,o);case 15:return fE(r,s,s.type,s.pendingProps,o);case 19:return EE(r,s,o);case 31:return A2(r,s,o);case 22:return dE(r,s,o,s.pendingProps);case 24:return Ia(s),c=hn(Ue),r===null?(d=Dp(),d===null&&(d=le,g=Rp(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},Mp(s),us(s,Ue,d)):((r.lanes&o)!==0&&(Pp(r,s),Fu(s,null,null,o),ju()),d=r.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),us(s,Ue,c)):(c=g.cache,us(s,Ue,c),c!==d.cache&&xp(s,[Ue],o,!0))),fn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function xr(r){r.flags|=4}function mg(r,s,o,c,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(XE())r.flags|=8192;else throw Ca=_f,Vp}else r.flags&=-16777217}function wE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Ub(s))if(XE())r.flags|=8192;else throw Ca=_f,Vp}function Nf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?zh():536870912,r.lanes|=s,Zo|=s)}function Qu(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function he(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function x2(r,s,o){var c=s.pendingProps;switch(bp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(s),null;case 1:return he(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wr(Ue),de(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Bo(s)?xr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Sp())),he(s),null;case 26:var d=s.type,g=s.memoizedState;return r===null?(xr(s),g!==null?(he(s),wE(s,g)):(he(s),mg(s,d,null,c,o))):g?g!==r.memoizedState?(xr(s),he(s),wE(s,g)):(he(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&xr(s),he(s),mg(s,d,r,c,o)),null;case 27:if(yo(s),o=Vt.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&xr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return he(s),null}r=mt.current,Bo(s)?nT(s):(r=Db(d,c,o),s.stateNode=r,xr(s))}return he(s),null;case 5:if(yo(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&xr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return he(s),null}if(g=mt.current,Bo(s))nT(s);else{var T=Wf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[Ne]=s,g[tn]=c;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;t:switch(dn(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&xr(s)}}return he(s),mg(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&xr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Vt.current,Bo(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=cn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Ne]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||vb(r.nodeValue,o)),r||ls(s,!0)}else r=Wf(r).createTextNode(c),r[Ne]=s,s.stateNode=r}return he(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=Bo(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ne]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;he(s),r=!1}else o=Sp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(qn(s),s):(qn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return he(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Bo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ne]=s}else Sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;he(s),d=!1}else d=Sp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(qn(s),s):(qn(s),null)}return qn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Nf(s,s.updateQueue),he(s),null);case 4:return de(),r===null&&kg(s.stateNode.containerInfo),he(s),null;case 10:return wr(s.type),he(s),null;case 19:if(rt(Ce),c=s.memoizedState,c===null)return he(s),null;if(d=(s.flags&128)!==0,g=c.rendering,g===null)if(d)Qu(c,!1);else{if(we!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=bf(r),g!==null){for(s.flags|=128,Qu(c,!1),r=g.updateQueue,s.updateQueue=r,Nf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)$v(o,r),o=o.sibling;return ft(Ce,Ce.current&1|2),jt&&Er(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&wn()>zf&&(s.flags|=128,d=!0,Qu(c,!1),s.lanes=4194304)}else{if(!d)if(r=bf(g),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,Nf(s,r),Qu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return he(s),null}else 2*wn()-c.renderingStartTime>zf&&o!==536870912&&(s.flags|=128,d=!0,Qu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=wn(),r.sibling=null,o=Ce.current,ft(Ce,d?o&1|2:o&1),jt&&Er(s,c.treeForkCount),r):(he(s),null);case 22:case 23:return qn(s),Lp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(he(s),s.subtreeFlags&6&&(s.flags|=8192)):he(s),o=s.updateQueue,o!==null&&Nf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&rt(xa),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wr(Ue),he(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function R2(r,s){switch(bp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wr(Ue),de(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return yo(s),null;case 31:if(s.memoizedState!==null){if(qn(s),s.alternate===null)throw Error(i(340));Sa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(qn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Sa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return rt(Ce),null;case 4:return de(),null;case 10:return wr(s.type),null;case 22:case 23:return qn(s),Lp(),r!==null&&rt(xa),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return wr(Ue),null;case 25:return null;default:return null}}function SE(r,s){switch(bp(s),s.tag){case 3:wr(Ue),de();break;case 26:case 27:case 5:yo(s);break;case 4:de();break;case 31:s.memoizedState!==null&&qn(s);break;case 13:qn(s);break;case 19:rt(Ce);break;case 10:wr(s.type);break;case 22:case 23:qn(s),Lp(),r!==null&&rt(xa);break;case 24:wr(Ue)}}function Xu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(w){Jt(s,s.return,w)}}function ps(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=s;var V=o,H=w;try{H()}catch(J){Jt(d,V,J)}}}c=c.next}while(c!==g)}}catch(J){Jt(s,s.return,J)}}function AE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{pT(s,o)}catch(c){Jt(r,r.return,c)}}}function IE(r,s,o){o.props=Ma(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Jt(r,s,c)}}function Wu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){Jt(r,s,d)}}function er(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Jt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Jt(r,s,d)}else o.current=null}function xE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Jt(r,r.return,d)}}function pg(r,s,o){try{var c=r.stateNode;W2(c,r.type,o,s),c[tn]=s}catch(d){Jt(r,r.return,d)}}function RE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&bs(r.type)||r.tag===4}function gg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||RE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&bs(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function yg(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=_i));else if(c!==4&&(c===27&&bs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(yg(r,s,o),r=r.sibling;r!==null;)yg(r,s,o),r=r.sibling}function kf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&bs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(kf(r,s,o),r=r.sibling;r!==null;)kf(r,s,o),r=r.sibling}function CE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);dn(s,c,o),s[Ne]=r,s[tn]=o}catch(g){Jt(r,r.return,g)}}var Rr=!1,je=!1,_g=!1,DE=typeof WeakSet=="function"?WeakSet:Set,nn=null;function C2(r,s){if(r=r.containerInfo,Bg=id,r=Fv(r),hp(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,w=-1,V=-1,H=0,J=0,it=r,G=null;e:for(;;){for(var X;it!==o||d!==0&&it.nodeType!==3||(w=T+d),it!==g||c!==0&&it.nodeType!==3||(V=T+c),it.nodeType===3&&(T+=it.nodeValue.length),(X=it.firstChild)!==null;)G=it,it=X;for(;;){if(it===r)break e;if(G===o&&++H===d&&(w=T),G===g&&++J===c&&(V=T),(X=it.nextSibling)!==null)break;it=G,G=it.parentNode}it=X}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(zg={focusedElem:r,selectionRange:o},id=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Ma(o.type,d);r=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(bt){Jt(o,o.return,bt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)qg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":qg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}}function VE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Dr(r,o),c&4&&Xu(5,o);break;case 1:if(Dr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){Jt(o,o.return,T)}else{var d=Ma(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Jt(o,o.return,T)}}c&64&&AE(o),c&512&&Wu(o,o.return);break;case 3:if(Dr(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{pT(r,s)}catch(T){Jt(o,o.return,T)}}break;case 27:s===null&&c&4&&CE(o);case 26:case 5:Dr(r,o),s===null&&c&4&&xE(o),c&512&&Wu(o,o.return);break;case 12:Dr(r,o);break;case 31:Dr(r,o),c&4&&OE(r,o);break;case 13:Dr(r,o),c&4&&NE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=U2.bind(null,o),rV(r,o))));break;case 22:if(c=o.memoizedState!==null||Rr,!c){s=s!==null&&s.memoizedState!==null||je,d=Rr;var g=je;Rr=c,(je=s)&&!g?Vr(r,o,(o.subtreeFlags&8772)!==0):Dr(r,o),Rr=d,je=g}break;case 30:break;default:Dr(r,o)}}function ME(r){var s=r.alternate;s!==null&&(r.alternate=null,ME(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&bo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var pe=null,Vn=!1;function Cr(r,s,o){for(o=o.child;o!==null;)PE(r,s,o),o=o.sibling}function PE(r,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(mi,o)}catch{}switch(o.tag){case 26:je||er(o,s),Cr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||er(o,s);var c=pe,d=Vn;bs(o.type)&&(pe=o.stateNode,Vn=!1),Cr(r,s,o),sc(o.stateNode),pe=c,Vn=d;break;case 5:je||er(o,s);case 6:if(c=pe,d=Vn,pe=null,Cr(r,s,o),pe=c,Vn=d,pe!==null)if(Vn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(o.stateNode)}catch(g){Jt(o,s,g)}else try{pe.removeChild(o.stateNode)}catch(g){Jt(o,s,g)}break;case 18:pe!==null&&(Vn?(r=pe,Ab(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),al(r)):Ab(pe,o.stateNode));break;case 4:c=pe,d=Vn,pe=o.stateNode.containerInfo,Vn=!0,Cr(r,s,o),pe=c,Vn=d;break;case 0:case 11:case 14:case 15:ps(2,o,s),je||ps(4,o,s),Cr(r,s,o);break;case 1:je||(er(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&IE(o,s,c)),Cr(r,s,o);break;case 21:Cr(r,s,o);break;case 22:je=(c=je)||o.memoizedState!==null,Cr(r,s,o),je=c;break;default:Cr(r,s,o)}}function OE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{al(r)}catch(o){Jt(s,s.return,o)}}}function NE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{al(r)}catch(o){Jt(s,s.return,o)}}function D2(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new DE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new DE),s;default:throw Error(i(435,r.tag))}}function Lf(r,s){var o=D2(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=B2.bind(null,r,c);c.then(d,d)}})}function Mn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=r,T=s,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(bs(w.type)){pe=w.stateNode,Vn=!1;break t}break;case 5:pe=w.stateNode,Vn=!1;break t;case 3:case 4:pe=w.stateNode.containerInfo,Vn=!0;break t}w=w.return}if(pe===null)throw Error(i(160));PE(g,T,d),pe=null,Vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)kE(s,r),s=s.sibling}var Si=null;function kE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),Pn(r),c&4&&(ps(3,r,r.return),Xu(3,r),ps(5,r,r.return));break;case 1:Mn(s,r),Pn(r),c&512&&(je||o===null||er(o,o.return)),c&64&&Rr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Si;if(Mn(s,r),Pn(r),c&512&&(je||o===null||er(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){t:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[ji]||g[Ne]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),dn(g,c,o),g[Ne]=r,ke(g),c=g;break t;case"link":var T=kb("link","href",d).get(c+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}g=d.createElement(c),dn(g,c,o),d.head.appendChild(g);break;case"meta":if(T=kb("meta","content",d).get(c+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}g=d.createElement(c),dn(g,c,o),d.head.appendChild(g);break;default:throw Error(i(468,c))}g[Ne]=r,ke(g),c=g}r.stateNode=c}else Lb(d,r.type,r.stateNode);else r.stateNode=Nb(d,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Lb(d,r.type,r.stateNode):Nb(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&pg(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,r),Pn(r),c&512&&(je||o===null||er(o,o.return)),o!==null&&c&4&&pg(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,r),Pn(r),c&512&&(je||o===null||er(o,o.return)),r.flags&32){d=r.stateNode;try{Dn(d,"")}catch(gt){Jt(r,r.return,gt)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,pg(r,d,o!==null?o.memoizedProps:d)),c&1024&&(_g=!0);break;case 6:if(Mn(s,r),Pn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(gt){Jt(r,r.return,gt)}}break;case 3:if(Jf=null,d=Si,Si=$f(s.containerInfo),Mn(s,r),Si=d,Pn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{al(s.containerInfo)}catch(gt){Jt(r,r.return,gt)}_g&&(_g=!1,LE(r));break;case 4:c=Si,Si=$f(r.stateNode.containerInfo),Mn(s,r),Pn(r),Si=c;break;case 12:Mn(s,r),Pn(r);break;case 31:Mn(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lf(r,c)));break;case 13:Mn(s,r),Pn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Bf=wn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lf(r,c)));break;case 22:d=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,H=Rr,J=je;if(Rr=H||d,je=J||V,Mn(s,r),je=J,Rr=H,Pn(r),c&8192)t:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||Rr||je||Pa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=V.stateNode;var it=V.memoizedProps.style,G=it!=null&&it.hasOwnProperty("display")?it.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(gt){Jt(V,V.return,gt)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(gt){Jt(V,V.return,gt)}}}else if(s.tag===18){if(o===null){V=s;try{var X=V.stateNode;d?Ib(X,!0):Ib(V.stateNode,!1)}catch(gt){Jt(V,V.return,gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Lf(r,o))));break;case 19:Mn(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Lf(r,c)));break;case 30:break;case 21:break;default:Mn(s,r),Pn(r)}}function Pn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(RE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=gg(r);kf(r,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Dn(T,""),o.flags&=-33);var w=gg(r);kf(r,w,T);break;case 3:case 4:var V=o.stateNode.containerInfo,H=gg(r);yg(r,H,V);break;default:throw Error(i(161))}}catch(J){Jt(r,r.return,J)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function LE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;LE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Dr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)VE(r,s.alternate,s),s=s.sibling}function Pa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Pa(s);break;case 1:er(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&IE(s,s.return,o),Pa(s);break;case 27:sc(s.stateNode);case 26:case 5:er(s,s.return),Pa(s);break;case 22:s.memoizedState===null&&Pa(s);break;case 30:Pa(s);break;default:Pa(s)}r=r.sibling}}function Vr(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Vr(d,g,o),Xu(4,g);break;case 1:if(Vr(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Jt(c,c.return,H)}if(c=g,d=c.updateQueue,d!==null){var w=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)mT(V[d],w)}catch(H){Jt(c,c.return,H)}}o&&T&64&&AE(g),Wu(g,g.return);break;case 27:CE(g);case 26:case 5:Vr(d,g,o),o&&c===null&&T&4&&xE(g),Wu(g,g.return);break;case 12:Vr(d,g,o);break;case 31:Vr(d,g,o),o&&T&4&&OE(d,g);break;case 13:Vr(d,g,o),o&&T&4&&NE(d,g);break;case 22:g.memoizedState===null&&Vr(d,g,o),Wu(g,g.return);break;case 30:break;default:Vr(d,g,o)}s=s.sibling}}function vg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ku(o))}function Tg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ku(r))}function Ai(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)UE(r,s,o,c),s=s.sibling}function UE(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Ai(r,s,o,c),d&2048&&Xu(9,s);break;case 1:Ai(r,s,o,c);break;case 3:Ai(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ku(r)));break;case 12:if(d&2048){Ai(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){Jt(s,s.return,V)}}else Ai(r,s,o,c);break;case 31:Ai(r,s,o,c);break;case 13:Ai(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Ai(r,s,o,c):$u(r,s):g._visibility&2?Ai(r,s,o,c):(g._visibility|=2,Xo(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&vg(T,s);break;case 24:Ai(r,s,o,c),d&2048&&Tg(s.alternate,s);break;default:Ai(r,s,o,c)}}function Xo(r,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,T=s,w=o,V=c,H=T.flags;switch(T.tag){case 0:case 11:case 15:Xo(g,T,w,V,d),Xu(8,T);break;case 23:break;case 22:var J=T.stateNode;T.memoizedState!==null?J._visibility&2?Xo(g,T,w,V,d):$u(g,T):(J._visibility|=2,Xo(g,T,w,V,d)),d&&H&2048&&vg(T.alternate,T);break;case 24:Xo(g,T,w,V,d),d&&H&2048&&Tg(T.alternate,T);break;default:Xo(g,T,w,V,d)}s=s.sibling}}function $u(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:$u(o,c),d&2048&&vg(c.alternate,c);break;case 24:$u(o,c),d&2048&&Tg(c.alternate,c);break;default:$u(o,c)}s=s.sibling}}var Zu=8192;function Wo(r,s,o){if(r.subtreeFlags&Zu)for(r=r.child;r!==null;)BE(r,s,o),r=r.sibling}function BE(r,s,o){switch(r.tag){case 26:Wo(r,s,o),r.flags&Zu&&r.memoizedState!==null&&gV(o,Si,r.memoizedState,r.memoizedProps);break;case 5:Wo(r,s,o);break;case 3:case 4:var c=Si;Si=$f(r.stateNode.containerInfo),Wo(r,s,o),Si=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Zu,Zu=16777216,Wo(r,s,o),Zu=c):Wo(r,s,o));break;default:Wo(r,s,o)}}function zE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ju(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,FE(c,r)}zE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jE(r),r=r.sibling}function jE(r){switch(r.tag){case 0:case 11:case 15:Ju(r),r.flags&2048&&ps(9,r,r.return);break;case 3:Ju(r);break;case 12:Ju(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Uf(r)):Ju(r);break;default:Ju(r)}}function Uf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,FE(c,r)}zE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),Uf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Uf(s));break;default:Uf(s)}r=r.sibling}}function FE(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ku(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,nn=c;else t:for(o=r;nn!==null;){c=nn;var d=c.sibling,g=c.return;if(ME(c),c===o){nn=null;break t}if(d!==null){d.return=g,nn=d;break t}nn=g}}}var V2={getCacheForType:function(r){var s=hn(Ue),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return hn(Ue).controller.signal}},M2=typeof WeakMap=="function"?WeakMap:Map,Xt=0,le=null,Ot=null,Lt=0,Zt=0,Hn=null,gs=!1,$o=!1,Eg=!1,Mr=0,we=0,ys=0,Oa=0,bg=0,Gn=0,Zo=0,tc=null,On=null,wg=!1,Bf=0,qE=0,zf=1/0,jf=null,_s=null,We=0,vs=null,Jo=null,Pr=0,Sg=0,Ag=null,HE=null,ec=0,Ig=null;function Kn(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:$.T!==null?Mg():jh()}function GE(){if(Gn===0)if((Lt&536870912)===0||jt){var r=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Gn=r}else Gn=536870912;return r=Fn.current,r!==null&&(r.flags|=32),Gn}function Nn(r,s,o){(r===le&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)&&(tl(r,0),Ts(r,Lt,Gn,!1)),la(r,o),((Xt&2)===0||r!==le)&&(r===le&&((Xt&2)===0&&(Oa|=o),we===4&&Ts(r,Lt,Gn,!1)),nr(r))}function KE(r,s,o){if((Xt&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||pi(r,s),d=c?N2(r,s):Rg(r,s,!0),g=c;do{if(d===0){$o&&!c&&Ts(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!P2(o)){d=Rg(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var w=r;d=tc;var V=w.current.memoizedState.isDehydrated;if(V&&(tl(w,T).flags|=256),T=Rg(w,T,!1),T!==2){if(Eg&&!V){w.errorRecoveryDisabledLanes|=g,Oa|=g,d=4;break t}g=On,On=d,g!==null&&(On===null?On=g:On.push.apply(On,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){tl(r,0),Ts(r,s,0,!0);break}t:{switch(c=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ts(c,s,Gn,!gs);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Bf+300-wn(),10<d)){if(Ts(c,s,Gn,!gs),Ui(c,0,!0)!==0)break t;Pr=s,c.timeoutHandle=wb(YE.bind(null,c,o,On,jf,wg,s,Gn,Oa,Zo,gs,g,"Throttled",-0,0),d);break t}YE(c,o,On,jf,wg,s,Gn,Oa,Zo,gs,g,null,-0,0)}}break}while(!0);nr(r)}function YE(r,s,o,c,d,g,T,w,V,H,J,it,G,X){if(r.timeoutHandle=-1,it=s.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},BE(s,g,it);var gt=(g&62914560)===g?Bf-wn():(g&4194048)===g?qE-wn():0;if(gt=yV(it,gt),gt!==null){Pr=g,r.cancelPendingCommit=gt(eb.bind(null,r,s,g,o,c,d,T,w,V,J,it,null,G,X)),Ts(r,g,T,!H);return}}eb(r,s,g,o,c,d,T,w,V)}function P2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!zn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(r,s,o,c){s&=~bg,s&=~Oa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var g=31-xe(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&ua(r,o,s)}function Ff(){return(Xt&6)===0?(nc(0),!1):!0}function xg(){if(Ot!==null){if(Zt===0)var r=Ot.return;else r=Ot,br=Aa=null,qp(r),Ho=null,Uu=0,r=Ot;for(;r!==null;)SE(r.alternate,r),r=r.return;Ot=null}}function tl(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,J2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Pr=0,xg(),le=r,Ot=o=Tr(r.current,null),Lt=s,Zt=0,Hn=null,gs=!1,$o=pi(r,s),Eg=!1,Zo=Gn=bg=Oa=ys=we=0,On=tc=null,wg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-xe(c),g=1<<d;s|=r[d],c&=~g}return Mr=s,uf(),o}function QE(r,s){Ct=null,$.H=Ku,s===qo||s===yf?(s=cT(),Zt=3):s===Vp?(s=cT(),Zt=4):Zt=s===sg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Hn=s,Ot===null&&(we=1,Vf(r,ii(s,r.current)))}function XE(){var r=Fn.current;return r===null?!0:(Lt&4194048)===Lt?oi===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?r===oi:!1}function WE(){var r=$.H;return $.H=Ku,r===null?Ku:r}function $E(){var r=$.A;return $.A=V2,r}function qf(){we=4,gs||(Lt&4194048)!==Lt&&Fn.current!==null||($o=!0),(ys&134217727)===0&&(Oa&134217727)===0||le===null||Ts(le,Lt,Gn,!1)}function Rg(r,s,o){var c=Xt;Xt|=2;var d=WE(),g=$E();(le!==r||Lt!==s)&&(jf=null,tl(r,s)),s=!1;var T=we;t:do try{if(Zt!==0&&Ot!==null){var w=Ot,V=Hn;switch(Zt){case 8:xg(),T=6;break t;case 3:case 2:case 9:case 6:Fn.current===null&&(s=!0);var H=Zt;if(Zt=0,Hn=null,el(r,w,V,H),o&&$o){T=0;break t}break;default:H=Zt,Zt=0,Hn=null,el(r,w,V,H)}}O2(),T=we;break}catch(J){QE(r,J)}while(!0);return s&&r.shellSuspendCounter++,br=Aa=null,Xt=c,$.H=d,$.A=g,Ot===null&&(le=null,Lt=0,uf()),T}function O2(){for(;Ot!==null;)ZE(Ot)}function N2(r,s){var o=Xt;Xt|=2;var c=WE(),d=$E();le!==r||Lt!==s?(jf=null,zf=wn()+500,tl(r,s)):$o=pi(r,s);t:do try{if(Zt!==0&&Ot!==null){s=Ot;var g=Hn;e:switch(Zt){case 1:Zt=0,Hn=null,el(r,s,g,1);break;case 2:case 9:if(lT(g)){Zt=0,Hn=null,JE(s);break}s=function(){Zt!==2&&Zt!==9||le!==r||(Zt=7),nr(r)},g.then(s,s);break t;case 3:Zt=7;break t;case 4:Zt=5;break t;case 7:lT(g)?(Zt=0,Hn=null,JE(s)):(Zt=0,Hn=null,el(r,s,g,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var w=Ot;if(T?Ub(T):w.stateNode.complete){Zt=0,Hn=null;var V=w.sibling;if(V!==null)Ot=V;else{var H=w.return;H!==null?(Ot=H,Hf(H)):Ot=null}break e}}Zt=0,Hn=null,el(r,s,g,5);break;case 6:Zt=0,Hn=null,el(r,s,g,6);break;case 8:xg(),we=6;break t;default:throw Error(i(462))}}k2();break}catch(J){QE(r,J)}while(!0);return br=Aa=null,$.H=c,$.A=d,Xt=o,Ot!==null?0:(le=null,Lt=0,uf(),we)}function k2(){for(;Ot!==null&&!rp();)ZE(Ot)}function ZE(r){var s=bE(r.alternate,r,Mr);r.memoizedProps=r.pendingProps,s===null?Hf(r):Ot=s}function JE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=gE(o,s,s.pendingProps,s.type,void 0,Lt);break;case 11:s=gE(o,s,s.pendingProps,s.type.render,s.ref,Lt);break;case 5:qp(s);default:SE(o,s),s=Ot=$v(s,Mr),s=bE(o,s,Mr)}r.memoizedProps=r.pendingProps,s===null?Hf(r):Ot=s}function el(r,s,o,c){br=Aa=null,qp(s),Ho=null,Uu=0;var d=s.return;try{if(S2(r,d,s,o,Lt)){we=1,Vf(r,ii(o,r.current)),Ot=null;return}}catch(g){if(d!==null)throw Ot=d,g;we=1,Vf(r,ii(o,r.current)),Ot=null;return}s.flags&32768?(jt||c===1?r=!0:$o||(Lt&536870912)!==0?r=!1:(gs=r=!0,(c===2||c===9||c===3||c===6)&&(c=Fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),tb(s,r)):Hf(s)}function Hf(r){var s=r;do{if((s.flags&32768)!==0){tb(s,gs);return}r=s.return;var o=x2(s.alternate,s,Mr);if(o!==null){Ot=o;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=r}while(s!==null);we===0&&(we=5)}function tb(r,s){do{var o=R2(r.alternate,r);if(o!==null){o.flags&=32767,Ot=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ot=r;return}Ot=r=o}while(r!==null);we=6,Ot=null}function eb(r,s,o,c,d,g,T,w,V){r.cancelPendingCommit=null;do Gf();while(We!==0);if((Xt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=gp,op(r,o,g,T,w,V),r===le&&(Ot=le=null,Lt=0),Jo=s,vs=r,Pr=o,Sg=g,Ag=d,HE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,z2(Wr,function(){return ab(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,d=st.p,st.p=2,T=Xt,Xt|=4;try{C2(r,s,o)}finally{Xt=T,st.p=d,$.T=c}}We=1,nb(),ib(),rb()}}function nb(){if(We===1){We=0;var r=vs,s=Jo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=st.p;st.p=2;var d=Xt;Xt|=4;try{kE(s,r);var g=zg,T=Fv(r.containerInfo),w=g.focusedElem,V=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&jv(w.ownerDocument.documentElement,w)){if(V!==null&&hp(w)){var H=V.start,J=V.end;if(J===void 0&&(J=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min(J,w.value.length);else{var it=w.ownerDocument||document,G=it&&it.defaultView||window;if(G.getSelection){var X=G.getSelection(),gt=w.textContent.length,bt=Math.min(V.start,gt),oe=V.end===void 0?bt:Math.min(V.end,gt);!X.extend&&bt>oe&&(T=oe,oe=bt,bt=T);var B=zv(w,bt),N=zv(w,oe);if(B&&N&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==N.node||X.focusOffset!==N.offset)){var q=it.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),bt>oe?(X.addRange(q),X.extend(N.node,N.offset)):(q.setEnd(N.node,N.offset),X.addRange(q))}}}}for(it=[],X=w;X=X.parentNode;)X.nodeType===1&&it.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<it.length;w++){var et=it[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}id=!!Bg,zg=Bg=null}finally{Xt=d,st.p=c,$.T=o}}r.current=s,We=2}}function ib(){if(We===2){We=0;var r=vs,s=Jo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=st.p;st.p=2;var d=Xt;Xt|=4;try{VE(r,s.alternate,s)}finally{Xt=d,st.p=c,$.T=o}}We=3}}function rb(){if(We===4||We===3){We=0,Oh();var r=vs,s=Jo,o=Pr,c=HE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?We=5:(We=0,Jo=vs=null,sb(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(_s=null),gr(o),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(mi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=$.T,d=st.p,st.p=2,$.T=null;try{for(var g=r.onRecoverableError,T=0;T<c.length;T++){var w=c[T];g(w.value,{componentStack:w.stack})}}finally{$.T=s,st.p=d}}(Pr&3)!==0&&Gf(),nr(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===Ig?ec++:(ec=0,Ig=r):ec=0,nc(0)}}function sb(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ku(s)))}function Gf(){return nb(),ib(),rb(),ab()}function ab(){if(We!==5)return!1;var r=vs,s=Sg;Sg=0;var o=gr(Pr),c=$.T,d=st.p;try{st.p=32>o?32:o,$.T=null,o=Ag,Ag=null;var g=vs,T=Pr;if(We=0,Jo=vs=null,Pr=0,(Xt&6)!==0)throw Error(i(331));var w=Xt;if(Xt|=4,jE(g.current),UE(g,g.current,T,o),Xt=w,nc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(mi,g)}catch{}return!0}finally{st.p=d,$.T=c,sb(r,s)}}function ob(r,s,o){s=ii(o,s),s=rg(r.stateNode,s,2),r=fs(r,s,2),r!==null&&(la(r,2),nr(r))}function Jt(r,s,o){if(r.tag===3)ob(r,r,o);else for(;s!==null;){if(s.tag===3){ob(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){r=ii(o,r),o=lE(2),c=fs(s,o,2),c!==null&&(uE(o,c,s,r),la(c,2),nr(c));break}}s=s.return}}function Cg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new M2;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(Eg=!0,d.add(o),r=L2.bind(null,r,s,o),s.then(r,r))}function L2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,le===r&&(Lt&o)===o&&(we===4||we===3&&(Lt&62914560)===Lt&&300>wn()-Bf?(Xt&2)===0&&tl(r,0):bg|=o,Zo===Lt&&(Zo=0)),nr(r)}function lb(r,s){s===0&&(s=zh()),r=ba(r,s),r!==null&&(la(r,s),nr(r))}function U2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),lb(r,o)}function B2(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),lb(r,o)}function z2(r,s){return Xe(r,s)}var Kf=null,nl=null,Dg=!1,Yf=!1,Vg=!1,Es=0;function nr(r){r!==nl&&r.next===null&&(nl===null?Kf=nl=r:nl=nl.next=r),Yf=!0,Dg||(Dg=!0,F2())}function nc(r,s){if(!Vg&&Yf){Vg=!0;do for(var o=!1,c=Kf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-xe(42|r)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,fb(c,g))}else g=Lt,g=Ui(c,c===le?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||pi(c,g)||(o=!0,fb(c,g));c=c.next}while(o);Vg=!1}}function j2(){ub()}function ub(){Yf=Dg=!1;var r=0;Es!==0&&Z2()&&(r=Es);for(var s=wn(),o=null,c=Kf;c!==null;){var d=c.next,g=cb(c,s);g===0?(c.next=null,o===null?Kf=d:o.next=d,d===null&&(nl=o)):(o=c,(r!==0||(g&3)!==0)&&(Yf=!0)),c=d}We!==0&&We!==5||nc(r),Es!==0&&(Es=0)}function cb(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-xe(g),w=1<<T,V=d[T];V===-1?((w&o)===0||(w&c)!==0)&&(d[T]=ap(w,s)):V<=s&&(r.expiredLanes|=w),g&=~w}if(s=le,o=Lt,o=Ui(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(Zt===2||Zt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Xr(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||pi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Xr(c),gr(o)){case 2:case 8:o=fu;break;case 32:o=Wr;break;case 268435456:o=Nh;break;default:o=Wr}return c=hb.bind(null,r),o=Xe(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Xr(c),r.callbackPriority=2,r.callbackNode=null,2}function hb(r,s){if(We!==0&&We!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Gf()&&r.callbackNode!==o)return null;var c=Lt;return c=Ui(r,r===le?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(KE(r,c,s),cb(r,wn()),r.callbackNode!=null&&r.callbackNode===o?hb.bind(null,r):null)}function fb(r,s){if(Gf())return null;KE(r,s,!0)}function F2(){tV(function(){(Xt&6)!==0?Xe(hu,j2):ub()})}function Mg(){if(Es===0){var r=jo;r===0&&(r=ki,ki<<=1,(ki&261888)===0&&(ki=256)),Es=r}return Es}function db(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Io(""+r)}function mb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function q2(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=db((d[tn]||null).action),T=c.submitter;T&&(s=(s=T[tn]||null)?db(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var w=new Xi("action","action",null,c,d);r.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Es!==0){var V=T?mb(d,T):new FormData(d);Zp(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=T?mb(d,T):new FormData(d),Zp(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var Pg=0;Pg<pp.length;Pg++){var Og=pp[Pg],H2=Og.toLowerCase(),G2=Og[0].toUpperCase()+Og.slice(1);wi(H2,"on"+G2)}wi(Gv,"onAnimationEnd"),wi(Kv,"onAnimationIteration"),wi(Yv,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(o2,"onTransitionRun"),wi(l2,"onTransitionStart"),wi(u2,"onTransitionCancel"),wi(Qv,"onTransitionEnd"),Gi("onMouseEnter",["mouseout","mouseover"]),Gi("onMouseLeave",["mouseout","mouseover"]),Gi("onPointerEnter",["pointerout","pointerover"]),Gi("onPointerLeave",["pointerout","pointerover"]),Hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function pb(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;t:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var w=c[T],V=w.instance,H=w.currentTarget;if(w=w.listener,V!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=H;try{g(d)}catch(J){lf(J)}d.currentTarget=null,g=V}else for(T=0;T<c.length;T++){if(w=c[T],V=w.instance,H=w.currentTarget,w=w.listener,V!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=H;try{g(d)}catch(J){lf(J)}d.currentTarget=null,g=V}}}}function Nt(r,s){var o=s[Eo];o===void 0&&(o=s[Eo]=new Set);var c=r+"__bubble";o.has(c)||(gb(s,r,2,!1),o.add(c))}function Ng(r,s,o){var c=0;s&&(c|=4),gb(o,r,c,s)}var Qf="_reactListening"+Math.random().toString(36).slice(2);function kg(r){if(!r[Qf]){r[Qf]=!0,pu.forEach(function(o){o!=="selectionchange"&&(K2.has(o)||Ng(o,!1,r),Ng(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Qf]||(s[Qf]=!0,Ng("selectionchange",!1,s))}}function gb(r,s,o,c){switch(Gb(s)){case 2:var d=TV;break;case 8:d=EV;break;default:d=$g}o=d.bind(null,s,o,r),d=void 0,!ma||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Lg(r,s,o,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=Fi(w),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=g=T;continue t}w=w.parentNode}}c=c.return}ns(function(){var H=g,J=Jn(o),it=[];t:{var G=Xv.get(r);if(G!==void 0){var X=Xi,gt=r;switch(r){case"keypress":if(ga(o)===0)break t;case"keydown":case"keyup":X=sf;break;case"focusin":gt="focus",X=_a;break;case"focusout":gt="blur",X=_a;break;case"beforeblur":case"afterblur":X=_a;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case Gv:case Kv:case Yv:X=$h;break;case Qv:X=S;break;case"scroll":case"scrollend":X=xu;break;case"wheel":X=Y;break;case"copy":case"cut":case"paste":X=Zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=vr;break;case"toggle":case"beforetoggle":X=Rt}var bt=(s&4)!==0,oe=!bt&&(r==="scroll"||r==="scrollend"),B=bt?G!==null?G+"Capture":null:G;bt=[];for(var N=H,q;N!==null;){var et=N;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||B===null||(et=vi(N,B),et!=null&&bt.push(rc(N,et,q))),oe)break;N=N.return}0<bt.length&&(G=new X(G,gt,null,o,J),it.push({event:G,listeners:bt}))}}if((s&7)===0){t:{if(G=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",G&&o!==Su&&(gt=o.relatedTarget||o.fromElement)&&(Fi(gt)||gt[zi]))break t;if((X||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,X?(gt=o.relatedTarget||o.toElement,X=H,gt=gt?Fi(gt):null,gt!==null&&(oe=l(gt),bt=gt.tag,gt!==oe||bt!==5&&bt!==27&&bt!==6)&&(gt=null)):(X=null,gt=H),X!==gt)){if(bt=Ru,et="onMouseLeave",B="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(bt=vr,et="onPointerLeave",B="onPointerEnter",N="pointer"),oe=X==null?G:Un(X),q=gt==null?G:Un(gt),G=new bt(et,N+"leave",X,o,J),G.target=oe,G.relatedTarget=q,et=null,Fi(J)===H&&(bt=new bt(B,N+"enter",gt,o,J),bt.target=q,bt.relatedTarget=oe,et=bt),oe=et,X&&gt)e:{for(bt=Y2,B=X,N=gt,q=0,et=B;et;et=bt(et))q++;et=0;for(var Et=N;Et;Et=bt(Et))et++;for(;0<q-et;)B=bt(B),q--;for(;0<et-q;)N=bt(N),et--;for(;q--;){if(B===N||N!==null&&B===N.alternate){bt=B;break e}B=bt(B),N=bt(N)}bt=null}else bt=null;X!==null&&yb(it,G,X,bt,!1),gt!==null&&oe!==null&&yb(it,oe,gt,bt,!0)}}t:{if(G=H?Un(H):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var Gt=Ov;else if(Mv(G))if(Nv)Gt=r2;else{Gt=n2;var vt=e2}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Ao(H.elementType)&&(Gt=Ov):Gt=i2;if(Gt&&(Gt=Gt(r,H))){Pv(it,Gt,o,J);break t}vt&&vt(r,G,H),r==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Eu(G,"number",G.value)}switch(vt=H?Un(H):window,r){case"focusin":(Mv(vt)||vt.contentEditable==="true")&&(Po=vt,fp=H,Pu=null);break;case"focusout":Pu=fp=Po=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,qv(it,o,J);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":qv(it,o,J)}var Mt;if(Qt)t:{switch(r){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Mo?va(r,o)&&(Ut="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Zi&&o.locale!=="ko"&&(Mo||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Mo&&(Mt=Iu()):(Qi=J,Au="value"in Qi?Qi.value:Qi.textContent,Mo=!0)),vt=Xf(H,Ut),0<vt.length&&(Ut=new $i(Ut,r,null,o,J),it.push({event:Ut,listeners:vt}),Mt?Ut.data=Mt:(Mt=Vo(o),Mt!==null&&(Ut.data=Mt)))),(Mt=ei?$D(r,o):ZD(r,o))&&(Ut=Xf(H,"onBeforeInput"),0<Ut.length&&(vt=new $i("onBeforeInput","beforeinput",null,o,J),it.push({event:vt,listeners:Ut}),vt.data=Mt)),q2(it,r,H,o,J)}pb(it,s)})}function rc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Xf(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=vi(r,o),d!=null&&c.unshift(rc(r,d,g)),d=vi(r,s),d!=null&&c.push(rc(r,d,g))),r.tag===3)return c;r=r.return}return[]}function Y2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function yb(r,s,o,c,d){for(var g=s._reactName,T=[];o!==null&&o!==c;){var w=o,V=w.alternate,H=w.stateNode;if(w=w.tag,V!==null&&V===c)break;w!==5&&w!==26&&w!==27||H===null||(V=H,d?(H=vi(o,g),H!=null&&T.unshift(rc(o,H,V))):d||(H=vi(o,g),H!=null&&T.push(rc(o,H,V)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var Q2=/\r\n?/g,X2=/\u0000|\uFFFD/g;function _b(r){return(typeof r=="string"?r:""+r).replace(Q2,`
`).replace(X2,"")}function vb(r,s){return s=_b(s),_b(r)===s}function ae(r,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Dn(r,""+c);break;case"className":Bn(r,"class",c);break;case"tabIndex":Bn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Bn(r,o,c);break;case"style":wu(r,c,g);break;case"data":if(s!=="object"){Bn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Io(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ae(r,s,"name",d.name,d,null),ae(r,s,"formEncType",d.formEncType,d,null),ae(r,s,"formMethod",d.formMethod,d,null),ae(r,s,"formTarget",d.formTarget,d,null)):(ae(r,s,"encType",d.encType,d,null),ae(r,s,"method",d.method,d,null),ae(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=Io(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=_i);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=Io(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Nt("beforetoggle",r),Nt("toggle",r),wo(r,"popover",c);break;case"xlinkActuate":Le(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Le(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Le(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Le(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Le(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Le(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Le(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Le(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Le(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":wo(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Qh.get(o)||o,wo(r,o,c))}}function Ug(r,s,o,c,d,g){switch(o){case"style":wu(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&Dn(r,""+c);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[tn]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break t}o in r?r[o]=c:c===!0?r.setAttribute(o,""):wo(r,o,c)}}}function dn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",r),Nt("load",r);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ae(r,s,g,T,o,null)}}d&&ae(r,s,"srcSet",o.srcSet,o,null),c&&ae(r,s,"src",o.src,o,null);return;case"input":Nt("invalid",r);var w=g=T=d=null,V=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var J=o[c];if(J!=null)switch(c){case"name":d=J;break;case"type":T=J;break;case"checked":V=J;break;case"defaultChecked":H=J;break;case"value":g=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:ae(r,s,c,J,o,null)}}Gh(r,g,w,V,H,T,d,!1);return;case"select":Nt("invalid",r),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:ae(r,s,d,w,o,null)}s=g,o=T,r.multiple=!!c,s!=null?Zr(r,!!c,s,!1):o!=null&&Zr(r,!!c,o,!0);return;case"textarea":Nt("invalid",r),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ae(r,s,T,w,o,null)}Jr(r,c,d,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":ae(r,s,V,c,o,null));return;case"dialog":Nt("beforetoggle",r),Nt("toggle",r),Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":Nt("load",r);break;case"video":case"audio":for(c=0;c<ic.length;c++)Nt(ic[c],r);break;case"image":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"embed":case"source":case"link":Nt("error",r),Nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ae(r,s,H,c,o,null)}return;default:if(Ao(s)){for(J in o)o.hasOwnProperty(J)&&(c=o[J],c!==void 0&&Ug(r,s,J,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&ae(r,s,w,c,o,null))}function W2(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,V=null,H=null,J=null;for(X in o){var it=o[X];if(o.hasOwnProperty(X)&&it!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=it;default:c.hasOwnProperty(X)||ae(r,s,X,null,c,it)}}for(var G in c){var X=c[G];if(it=o[G],c.hasOwnProperty(G)&&(X!=null||it!=null))switch(G){case"type":g=X;break;case"name":d=X;break;case"checked":H=X;break;case"defaultChecked":J=X;break;case"value":T=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:X!==it&&ae(r,s,G,X,c,it)}}So(r,T,w,V,H,J,g,d);return;case"select":X=T=w=G=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":X=V;default:c.hasOwnProperty(g)||ae(r,s,g,null,c,V)}for(d in c)if(g=c[d],V=o[d],c.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":G=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==V&&ae(r,s,d,g,c,V)}s=w,o=T,c=X,G!=null?Zr(r,!!o,G,!1):!!c!=!!o&&(s!=null?Zr(r,!!o,s,!0):Zr(r,!!o,o?[]:"",!1));return;case"textarea":X=G=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ae(r,s,w,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":G=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&ae(r,s,T,d,c,g)}Kh(r,G,X);return;case"option":for(var gt in o)G=o[gt],o.hasOwnProperty(gt)&&G!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?r.selected=!1:ae(r,s,gt,null,c,G));for(V in c)G=c[V],X=o[V],c.hasOwnProperty(V)&&G!==X&&(G!=null||X!=null)&&(V==="selected"?r.selected=G&&typeof G!="function"&&typeof G!="symbol":ae(r,s,V,G,c,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)G=o[bt],o.hasOwnProperty(bt)&&G!=null&&!c.hasOwnProperty(bt)&&ae(r,s,bt,null,c,G);for(H in c)if(G=c[H],X=o[H],c.hasOwnProperty(H)&&G!==X&&(G!=null||X!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:ae(r,s,H,G,c,X)}return;default:if(Ao(s)){for(var oe in o)G=o[oe],o.hasOwnProperty(oe)&&G!==void 0&&!c.hasOwnProperty(oe)&&Ug(r,s,oe,void 0,c,G);for(J in c)G=c[J],X=o[J],!c.hasOwnProperty(J)||G===X||G===void 0&&X===void 0||Ug(r,s,J,G,c,X);return}}for(var B in o)G=o[B],o.hasOwnProperty(B)&&G!=null&&!c.hasOwnProperty(B)&&ae(r,s,B,null,c,G);for(it in c)G=c[it],X=o[it],!c.hasOwnProperty(it)||G===X||G==null&&X==null||ae(r,s,it,G,c,X)}function Tb(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $2(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,w=d.duration;if(g&&w&&Tb(T)){for(T=0,w=d.responseEnd,c+=1;c<o.length;c++){var V=o[c],H=V.startTime;if(H>w)break;var J=V.transferSize,it=V.initiatorType;J&&Tb(it)&&(V=V.responseEnd,T+=J*(V<w?1:(w-H)/(V-H)))}if(--c,s+=8*(g+T)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Bg=null,zg=null;function Wf(r){return r.nodeType===9?r:r.ownerDocument}function Eb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function jg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fg=null;function Z2(){var r=window.event;return r&&r.type==="popstate"?r===Fg?!1:(Fg=r,!0):(Fg=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,J2=typeof clearTimeout=="function"?clearTimeout:void 0,Sb=typeof Promise=="function"?Promise:void 0,tV=typeof queueMicrotask=="function"?queueMicrotask:typeof Sb<"u"?function(r){return Sb.resolve(null).then(r).catch(eV)}:wb;function eV(r){setTimeout(function(){throw r})}function bs(r){return r==="head"}function Ab(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(d),al(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")sc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,sc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[ji]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&sc(r.ownerDocument.body);o=d}while(o);al(s)}function Ib(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function qg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":qg(o),bo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function nV(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[ji])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=li(r.nextSibling),r===null)break}return null}function iV(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=li(r.nextSibling),r===null))return null;return r}function xb(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=li(r.nextSibling),r===null))return null;return r}function Hg(r){return r.data==="$?"||r.data==="$~"}function Gg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function rV(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function li(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Kg=null;function Rb(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return li(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function Cb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function Db(r,s,o){switch(s=Wf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function sc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);bo(r)}var ui=new Map,Vb=new Set;function $f(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Or=st.d;st.d={f:sV,r:aV,D:oV,C:lV,L:uV,m:cV,X:fV,S:hV,M:dV};function sV(){var r=Or.f(),s=Ff();return r||s}function aV(r){var s=Zn(r);s!==null&&s.tag===5&&s.type==="form"?QT(s):Or.r(r)}var il=typeof document>"u"?null:document;function Mb(r,s,o){var c=il;if(c&&typeof s=="string"&&s){var d=Cn(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Vb.has(d)||(Vb.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),dn(s,"link",r),ke(s),c.head.appendChild(s)))}}function oV(r){Or.D(r),Mb("dns-prefetch",r,null)}function lV(r,s){Or.C(r,s),Mb("preconnect",r,s)}function uV(r,s,o){Or.L(r,s,o);var c=il;if(c&&r&&s){var d='link[rel="preload"][as="'+Cn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Cn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Cn(o.imageSizes)+'"]')):d+='[href="'+Cn(r)+'"]';var g=d;switch(s){case"style":g=rl(r);break;case"script":g=sl(r)}ui.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ui.set(g,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(ac(g))||s==="script"&&c.querySelector(oc(g))||(s=c.createElement("link"),dn(s,"link",r),ke(s),c.head.appendChild(s)))}}function cV(r,s){Or.m(r,s);var o=il;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Cn(c)+'"][href="'+Cn(r)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=sl(r)}if(!ui.has(g)&&(r=v({rel:"modulepreload",href:r},s),ui.set(g,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(g)))return}c=o.createElement("link"),dn(c,"link",r),ke(c),o.head.appendChild(c)}}}function hV(r,s,o){Or.S(r,s,o);var c=il;if(c&&r){var d=qi(c).hoistableStyles,g=rl(r);s=s||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(ac(g)))w.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ui.get(g))&&Yg(r,o);var V=T=c.createElement("link");ke(V),dn(V,"link",r),V._p=new Promise(function(H,J){V.onload=H,V.onerror=J}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Zf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function fV(r,s){Or.X(r,s);var o=il;if(o&&r){var c=qi(o).hoistableScripts,d=sl(r),g=c.get(d);g||(g=o.querySelector(oc(d)),g||(r=v({src:r,async:!0},s),(s=ui.get(d))&&Qg(r,s),g=o.createElement("script"),ke(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function dV(r,s){Or.M(r,s);var o=il;if(o&&r){var c=qi(o).hoistableScripts,d=sl(r),g=c.get(d);g||(g=o.querySelector(oc(d)),g||(r=v({src:r,async:!0,type:"module"},s),(s=ui.get(d))&&Qg(r,s),g=o.createElement("script"),ke(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function Pb(r,s,o,c){var d=(d=Vt.current)?$f(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=rl(o.href),o=qi(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=rl(o.href);var g=qi(d).hoistableStyles,T=g.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=d.querySelector(ac(r)))&&!g._p&&(T.instance=g,T.state.loading=5),ui.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ui.set(r,o),g||mV(d,r,o,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=sl(o),o=qi(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function rl(r){return'href="'+Cn(r)+'"'}function ac(r){return'link[rel="stylesheet"]['+r+"]"}function Ob(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function mV(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),dn(s,"link",o),ke(s),r.head.appendChild(s))}function sl(r){return'[src="'+Cn(r)+'"]'}function oc(r){return"script[async]"+r}function Nb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Cn(o.href)+'"]');if(c)return s.instance=c,ke(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),ke(c),dn(c,"style",d),Zf(c,o.precedence,r),s.instance=c;case"stylesheet":d=rl(o.href);var g=r.querySelector(ac(d));if(g)return s.state.loading|=4,s.instance=g,ke(g),g;c=Ob(o),(d=ui.get(d))&&Yg(c,d),g=(r.ownerDocument||r).createElement("link"),ke(g);var T=g;return T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),dn(g,"link",c),s.state.loading|=4,Zf(g,o.precedence,r),s.instance=g;case"script":return g=sl(o.src),(d=r.querySelector(oc(g)))?(s.instance=d,ke(d),d):(c=o,(d=ui.get(g))&&(c=v({},o),Qg(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),ke(d),dn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Zf(c,o.precedence,r));return s.instance}function Zf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Yg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Qg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Jf=null;function kb(r,s,o){if(Jf===null){var c=new Map,d=Jf=new Map;d.set(o,c)}else d=Jf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[ji]||g[Ne]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var w=c.get(T);w?w.push(g):c.set(T,[g])}}return c}function Lb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function pV(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ub(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function gV(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=rl(c.href),g=s.querySelector(ac(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=td.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=g,ke(g);return}g=s.ownerDocument||s,c=Ob(c),(d=ui.get(d))&&Yg(c,d),g=g.createElement("link"),ke(g);var T=g;T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),dn(g,"link",c),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=td.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Xg=0;function yV(r,s){return r.stylesheets&&r.count===0&&nd(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&nd(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&Xg===0&&(Xg=62500*$2());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&nd(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Xg?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function td(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ed=null;function nd(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ed=new Map,s.forEach(_V,r),ed=null,td.call(r))}function _V(r,s){if(!(s.state.loading&4)){var o=ed.get(r);if(o)var c=o.get(null);else{o=new Map,ed.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=td.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var lc={$$typeof:K,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function vV(r,s,o,c,d,g,T,w,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bi(0),this.hiddenUpdates=Bi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Bb(r,s,o,c,d,g,T,w,V,H,J,it){return r=new vV(r,s,o,T,V,H,J,it,w),s=1,g===!0&&(s|=24),g=jn(3,null,null,s),r.current=g,g.stateNode=r,s=Rp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Mp(g),r}function zb(r){return r?(r=ko,r):ko}function jb(r,s,o,c,d,g){d=zb(d),c.context===null?c.context=d:c.pendingContext=d,c=hs(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=fs(r,c,s),o!==null&&(Nn(o,r,s),zu(o,r,s))}function Fb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Wg(r,s){Fb(r,s),(r=r.alternate)&&Fb(r,s)}function qb(r){if(r.tag===13||r.tag===31){var s=ba(r,67108864);s!==null&&Nn(s,r,67108864),Wg(r,67108864)}}function Hb(r){if(r.tag===13||r.tag===31){var s=Kn();s=ca(s);var o=ba(r,s);o!==null&&Nn(o,r,s),Wg(r,s)}}var id=!0;function TV(r,s,o,c){var d=$.T;$.T=null;var g=st.p;try{st.p=2,$g(r,s,o,c)}finally{st.p=g,$.T=d}}function EV(r,s,o,c){var d=$.T;$.T=null;var g=st.p;try{st.p=8,$g(r,s,o,c)}finally{st.p=g,$.T=d}}function $g(r,s,o,c){if(id){var d=Zg(c);if(d===null)Lg(r,s,c,rd,o),Kb(r,c);else if(wV(d,r,s,o,c))c.stopPropagation();else if(Kb(r,c),s&4&&-1<bV.indexOf(r)){for(;d!==null;){var g=Zn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Li(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var V=1<<31-xe(T);w.entanglements[1]|=V,T&=~V}nr(g),(Xt&6)===0&&(zf=wn()+500,nc(0))}}break;case 31:case 13:w=ba(g,2),w!==null&&Nn(w,g,2),Ff(),Wg(g,2)}if(g=Zg(c),g===null&&Lg(r,s,c,rd,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Lg(r,s,c,null,o)}}function Zg(r){return r=Jn(r),Jg(r)}var rd=null;function Jg(r){if(rd=null,r=Fi(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=h(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return rd=r,null}function Gb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case hu:return 2;case fu:return 8;case Wr:case sp:return 32;case Nh:return 268435456;default:return 32}default:return 32}}var ty=!1,ws=null,Ss=null,As=null,uc=new Map,cc=new Map,Is=[],bV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kb(r,s){switch(r){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":uc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(s.pointerId)}}function hc(r,s,o,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Zn(s),s!==null&&qb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function wV(r,s,o,c,d){switch(s){case"focusin":return ws=hc(ws,r,s,o,c,d),!0;case"dragenter":return Ss=hc(Ss,r,s,o,c,d),!0;case"mouseover":return As=hc(As,r,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return uc.set(g,hc(uc.get(g)||null,r,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,cc.set(g,hc(cc.get(g)||null,r,s,o,c,d)),!0}return!1}function Yb(r){var s=Fi(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,gi(r.priority,function(){Hb(o)});return}}else if(s===31){if(s=h(o),s!==null){r.blockedOn=s,gi(r.priority,function(){Hb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function sd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Zg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Su=c,o.target.dispatchEvent(c),Su=null}else return s=Zn(o),s!==null&&qb(s),r.blockedOn=o,!1;s.shift()}return!0}function Qb(r,s,o){sd(r)&&o.delete(s)}function SV(){ty=!1,ws!==null&&sd(ws)&&(ws=null),Ss!==null&&sd(Ss)&&(Ss=null),As!==null&&sd(As)&&(As=null),uc.forEach(Qb),cc.forEach(Qb)}function ad(r,s){r.blockedOn===s&&(r.blockedOn=null,ty||(ty=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,SV)))}var od=null;function Xb(r){od!==r&&(od=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){od===r&&(od=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Jg(c||o)===null)continue;break}var g=Zn(o);g!==null&&(r.splice(s,3),s-=3,Zp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function al(r){function s(V){return ad(V,r)}ws!==null&&ad(ws,r),Ss!==null&&ad(Ss,r),As!==null&&ad(As,r),uc.forEach(s),cc.forEach(s);for(var o=0;o<Is.length;o++){var c=Is[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Is.length&&(o=Is[0],o.blockedOn===null);)Yb(o),o.blockedOn===null&&Is.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[tn]||null;if(typeof g=="function")T||Xb(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[tn]||null)w=T.formAction;else if(Jg(d)!==null)continue}else w=T.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),Xb(o)}}}function Wb(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function ey(r){this._internalRoot=r}ld.prototype.render=ey.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Kn();jb(o,c,r,s,null,null)},ld.prototype.unmount=ey.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;jb(r.current,2,null,r,null,null),Ff(),s[zi]=null}};function ld(r){this._internalRoot=r}ld.prototype.unstable_scheduleHydration=function(r){if(r){var s=jh();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Is.length&&s!==0&&s<Is[o].priority;o++);Is.splice(o,0,r),o===0&&Yb(r)}};var $b=t.version;if($b!=="19.2.4")throw Error(i(527,$b,"19.2.4"));st.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var AV={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ud.isDisabled&&ud.supportsFiber)try{mi=ud.inject(AV),ln=ud}catch{}}return dc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=rE,g=sE,T=aE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=Bb(r,1,!1,null,null,o,c,null,d,g,T,Wb),r[zi]=s.current,kg(r),new ey(s)},dc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",g=rE,T=sE,w=aE,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=Bb(r,1,!0,s,o??null,c,d,V,g,T,w,Wb),s.context=zb(null),o=s.current,c=Kn(),c=ca(c),d=hs(c),d.callback=null,fs(o,d,c),o=c,s.current.lanes=o,la(s,o),nr(s),r[zi]=s.current,kg(r),new ld(s)},dc.version="19.2.4",dc}var ow;function kV(){if(ow)return ry.exports;ow=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ry.exports=NV(),ry.exports}var LV=kV();const PA=6048e5,UV=864e5,BV=6e4,zV=36e5,jV=1e3,lw=Symbol.for("constructDateFrom");function on(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&lw in n?n[lw](t):n instanceof Date?new n.constructor(t):new Date(t)}function Ae(n,t){return on(t||n,n)}function OA(n,t,e){const i=Ae(n,e?.in);return isNaN(t)?on(e?.in||n,NaN):(t&&i.setDate(i.getDate()+t),i)}let FV={};function Zl(){return FV}function Ys(n,t){const e=Zl(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=Ae(n,t?.in),l=a.getDay(),u=(l<i?7:0)+l-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Pl(n,t){return Ys(n,{...t,weekStartsOn:1})}function NA(n,t){const e=Ae(n,t?.in),i=e.getFullYear(),a=on(e,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=Pl(a),u=on(e,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const h=Pl(u);return e.getTime()>=l.getTime()?i+1:e.getTime()>=h.getTime()?i:i-1}function Kd(n){const t=Ae(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function qV(n,...t){const e=on.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function uw(n,t){const e=Ae(n,t?.in);return e.setHours(0,0,0,0),e}function HV(n,t,e){const[i,a]=qV(e?.in,n,t),l=uw(i),u=uw(a),h=+l-Kd(l),m=+u-Kd(u);return Math.round((h-m)/UV)}function GV(n,t){const e=NA(n,t),i=on(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Pl(i)}function KV(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function YV(n){return!(!KV(n)&&typeof n!="number"||isNaN(+Ae(n)))}function QV(n,t){const e=Ae(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const XV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},WV=(n,t,e)=>{let i;const a=XV[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function ly(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const $V={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ZV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},JV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tM={date:ly({formats:$V,defaultWidth:"full"}),time:ly({formats:ZV,defaultWidth:"full"}),dateTime:ly({formats:JV,defaultWidth:"full"})},eM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nM=(n,t,e,i)=>eM[n];function mc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=e?.width?String(e.width):u;a=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=e?.width?String(e.width):n.defaultWidth;a=n.values[h]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(t):t;return a[l]}}const iM={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},rM={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},sM={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aM={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},oM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},lM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uM=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},cM={ordinalNumber:uM,era:mc({values:iM,defaultWidth:"wide"}),quarter:mc({values:rM,defaultWidth:"wide",argumentCallback:n=>n-1}),month:mc({values:sM,defaultWidth:"wide"}),day:mc({values:aM,defaultWidth:"wide"}),dayPeriod:mc({values:oM,defaultWidth:"wide",formattingValues:lM,defaultFormattingWidth:"wide"})};function pc(n){return(t,e={})=>{const i=e.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;const u=l[0],h=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(h)?fM(h,v=>v.test(u)):hM(h,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(m):m,p=e.valueCallback?e.valueCallback(p):p;const y=t.slice(u.length);return{value:p,rest:y}}}function hM(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function fM(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function dM(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const a=i[0],l=t.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=e.valueCallback?e.valueCallback(u):u;const h=t.slice(a.length);return{value:u,rest:h}}}const mM=/^(\d+)(th|st|nd|rd)?/i,pM=/\d+/i,gM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yM={any:[/^b/i,/^(a|c)/i]},_M={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vM={any:[/1/i,/2/i,/3/i,/4/i]},TM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AM={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},IM={ordinalNumber:dM({matchPattern:mM,parsePattern:pM,valueCallback:n=>parseInt(n,10)}),era:pc({matchPatterns:gM,defaultMatchWidth:"wide",parsePatterns:yM,defaultParseWidth:"any"}),quarter:pc({matchPatterns:_M,defaultMatchWidth:"wide",parsePatterns:vM,defaultParseWidth:"any",valueCallback:n=>n+1}),month:pc({matchPatterns:TM,defaultMatchWidth:"wide",parsePatterns:EM,defaultParseWidth:"any"}),day:pc({matchPatterns:bM,defaultMatchWidth:"wide",parsePatterns:wM,defaultParseWidth:"any"}),dayPeriod:pc({matchPatterns:SM,defaultMatchWidth:"any",parsePatterns:AM,defaultParseWidth:"any"})},kA={code:"en-US",formatDistance:WV,formatLong:tM,formatRelative:nM,localize:cM,match:IM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xM(n,t){const e=Ae(n,t?.in);return HV(e,QV(e))+1}function LA(n,t){const e=Ae(n,t?.in),i=+Pl(e)-+GV(e);return Math.round(i/PA)+1}function Q_(n,t){const e=Ae(n,t?.in),i=e.getFullYear(),a=Zl(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=on(t?.in||n,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const h=Ys(u,t),m=on(t?.in||n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const p=Ys(m,t);return+e>=+h?i+1:+e>=+p?i:i-1}function RM(n,t){const e=Zl(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,a=Q_(n,t),l=on(t?.in||n,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ys(l,t)}function UA(n,t){const e=Ae(n,t?.in),i=+Ys(e,t)-+RM(e,t);return Math.round(i/PA)+1}function te(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const Rs={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return te(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):te(e+1,2)},d(n,t){return te(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return te(n.getHours()%12||12,t.length)},H(n,t){return te(n.getHours(),t.length)},m(n,t){return te(n.getMinutes(),t.length)},s(n,t){return te(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),a=Math.trunc(i*Math.pow(10,e-3));return te(a,t.length)}},ol={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},cw={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),a=i>0?i:1-i;return e.ordinalNumber(a,{unit:"year"})}return Rs.y(n,t)},Y:function(n,t,e,i){const a=Q_(n,i),l=a>0?a:1-a;if(t==="YY"){const u=l%100;return te(u,2)}return t==="Yo"?e.ordinalNumber(l,{unit:"year"}):te(l,t.length)},R:function(n,t){const e=NA(n);return te(e,t.length)},u:function(n,t){const e=n.getFullYear();return te(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return te(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return te(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return Rs.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return te(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const a=UA(n,i);return t==="wo"?e.ordinalNumber(a,{unit:"week"}):te(a,t.length)},I:function(n,t,e){const i=LA(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):te(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Rs.d(n,t)},D:function(n,t,e){const i=xM(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):te(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return te(l,2);case"eo":return e.ordinalNumber(l,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return te(l,t.length);case"co":return e.ordinalNumber(l,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return te(a,t.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const a=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let a;switch(i===12?a=ol.noon:i===0?a=ol.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let a;switch(i>=17?a=ol.evening:i>=12?a=ol.afternoon:i>=4?a=ol.morning:a=ol.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return Rs.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Rs.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):te(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):te(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Rs.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Rs.s(n,t)},S:function(n,t){return Rs.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return fw(i);case"XXXX":case"XX":return La(i);default:return La(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return fw(i);case"xxxx":case"xx":return La(i);default:return La(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+hw(i,":");default:return"GMT"+La(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+hw(i,":");default:return"GMT"+La(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return te(i,t.length)},T:function(n,t,e){return te(+n,t.length)}};function hw(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Math.trunc(i/60),l=i%60;return l===0?e+String(a):e+String(a)+t+te(l,2)}function fw(n,t){return n%60===0?(n>0?"-":"+")+te(Math.abs(n)/60,2):La(n,t)}function La(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=te(Math.trunc(i/60),2),l=te(i%60,2);return e+a+t+l}const dw=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},BA=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},CM=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],a=e[2];if(!a)return dw(n,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",dw(i,t)).replace("{{time}}",BA(a,t))},zy={p:BA,P:CM},DM=/^D+$/,VM=/^Y+$/,MM=["D","DD","YY","YYYY"];function zA(n){return DM.test(n)}function jA(n){return VM.test(n)}function jy(n,t,e){const i=PM(n,t,e);if(console.warn(i),MM.includes(n))throw new RangeError(i)}function PM(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const OM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,NM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kM=/^'([^]*?)'?$/,LM=/''/g,UM=/[a-zA-Z]/;function Dc(n,t,e){const i=Zl(),a=i.locale??kA,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,h=Ae(n,e?.in);if(!YV(h))throw new RangeError("Invalid time value");let m=t.match(NM).map(y=>{const v=y[0];if(v==="p"||v==="P"){const E=zy[v];return E(y,a.formatLong)}return y}).join("").match(OM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:BM(y)};if(cw[v])return{isToken:!0,value:y};if(v.match(UM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(h,m));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const v=y.value;(jA(v)||zA(v))&&jy(v,t,String(n));const E=cw[v[0]];return E(h,v,a.localize,p)}).join("")}function BM(n){const t=n.match(kM);return t?t[1].replace(LM,"'"):n}function zM(){return Object.assign({},Zl())}function jM(n,t){const e=Ae(n,t?.in).getDay();return e===0?7:e}function FA(n,t){return+Ae(n)<+Ae(t)}function FM(n,t){const e=qM(t)?new t(0):on(t,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function qM(n){return typeof n=="function"&&n.prototype?.constructor===n}const HM=10;class qA{subPriority=0;validate(t,e){return!0}}class GM extends qA{constructor(t,e,i,a,l){super(),this.value=t,this.validateValue=e,this.setValue=i,this.priority=a,l&&(this.subPriority=l)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,i){return this.setValue(t,e,this.value,i)}}class KM extends qA{priority=HM;subPriority=-1;constructor(t,e){super(),this.context=t||(i=>on(e,i))}set(t,e){return e.timestampIsSet?t:on(t,FM(t,this.context))}}class Wt{run(t,e,i,a){const l=this.parse(t,e,i,a);return l?{setter:new GM(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,e,i){return!0}}class YM extends Wt{priority=140;parse(t,e,i){switch(e){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,e,i){return e.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const Ve={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},sr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Me(n,t){return n&&{value:t(n.value),rest:n.rest}}function ve(n,t){const e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function ar(n,t){const e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const i=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,l=e[3]?parseInt(e[3],10):0,u=e[5]?parseInt(e[5],10):0;return{value:i*(a*zV+l*BV+u*jV),rest:t.slice(e[0].length)}}function HA(n){return ve(Ve.anyDigitsSigned,n)}function Ie(n,t){switch(n){case 1:return ve(Ve.singleDigit,t);case 2:return ve(Ve.twoDigits,t);case 3:return ve(Ve.threeDigits,t);case 4:return ve(Ve.fourDigits,t);default:return ve(new RegExp("^\\d{1,"+n+"}"),t)}}function Yd(n,t){switch(n){case 1:return ve(Ve.singleDigitSigned,t);case 2:return ve(Ve.twoDigitsSigned,t);case 3:return ve(Ve.threeDigitsSigned,t);case 4:return ve(Ve.fourDigitsSigned,t);default:return ve(new RegExp("^-?\\d{1,"+n+"}"),t)}}function X_(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function GA(n,t){const e=t>0,i=e?t:1-t;let a;if(i<=50)a=n||100;else{const l=i+50,u=Math.trunc(l/100)*100,h=n>=l%100;a=n+u-(h?100:0)}return e?a:1-a}function KA(n){return n%400===0||n%4===0&&n%100!==0}class QM extends Wt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,i){const a=l=>({year:l,isTwoDigitYear:e==="yy"});switch(e){case"y":return Me(Ie(4,t),a);case"yo":return Me(i.ordinalNumber(t,{unit:"year"}),a);default:return Me(Ie(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i){const a=t.getFullYear();if(i.isTwoDigitYear){const u=GA(i.year,a);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class XM extends Wt{priority=130;parse(t,e,i){const a=l=>({year:l,isTwoDigitYear:e==="YY"});switch(e){case"Y":return Me(Ie(4,t),a);case"Yo":return Me(i.ordinalNumber(t,{unit:"year"}),a);default:return Me(Ie(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i,a){const l=Q_(t,a);if(i.isTwoDigitYear){const h=GA(i.year,l);return t.setFullYear(h,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ys(t,a)}const u=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ys(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class WM extends Wt{priority=130;parse(t,e){return Yd(e==="R"?4:e.length,t)}set(t,e,i){const a=on(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Pl(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class $M extends Wt{priority=130;parse(t,e){return Yd(e==="u"?4:e.length,t)}set(t,e,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class ZM extends Wt{priority=120;parse(t,e,i){switch(e){case"Q":case"QQ":return Ie(e.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class JM extends Wt{priority=120;parse(t,e,i){switch(e){case"q":case"qq":return Ie(e.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class tP extends Wt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,i){const a=l=>l-1;switch(e){case"M":return Me(ve(Ve.month,t),a);case"MM":return Me(Ie(2,t),a);case"Mo":return Me(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class eP extends Wt{priority=110;parse(t,e,i){const a=l=>l-1;switch(e){case"L":return Me(ve(Ve.month,t),a);case"LL":return Me(Ie(2,t),a);case"Lo":return Me(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function nP(n,t,e){const i=Ae(n,e?.in),a=UA(i,e)-t;return i.setDate(i.getDate()-a*7),Ae(i,e?.in)}class iP extends Wt{priority=100;parse(t,e,i){switch(e){case"w":return ve(Ve.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Ie(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i,a){return Ys(nP(t,i,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function rP(n,t,e){const i=Ae(n,e?.in),a=LA(i,e)-t;return i.setDate(i.getDate()-a*7),i}class sP extends Wt{priority=100;parse(t,e,i){switch(e){case"I":return ve(Ve.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Ie(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i){return Pl(rP(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const aP=[31,28,31,30,31,30,31,31,30,31,30,31],oP=[31,29,31,30,31,30,31,31,30,31,30,31];class lP extends Wt{priority=90;subPriority=1;parse(t,e,i){switch(e){case"d":return ve(Ve.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Ie(e.length,t)}}validate(t,e){const i=t.getFullYear(),a=KA(i),l=t.getMonth();return a?e>=1&&e<=oP[l]:e>=1&&e<=aP[l]}set(t,e,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class uP extends Wt{priority=90;subpriority=1;parse(t,e,i){switch(e){case"D":case"DD":return ve(Ve.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Ie(e.length,t)}}validate(t,e){const i=t.getFullYear();return KA(i)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function W_(n,t,e){const i=Zl(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=Ae(n,e?.in),u=l.getDay(),m=(t%7+7)%7,p=7-a,y=t<0||t>6?t-(u+p)%7:(m+p)%7-(u+p)%7;return OA(l,y,e)}class cP extends Wt{priority=90;parse(t,e,i){switch(e){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,a){return t=W_(t,i,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class hP extends Wt{priority=90;parse(t,e,i,a){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(e){case"e":case"ee":return Me(Ie(e.length,t),l);case"eo":return Me(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,a){return t=W_(t,i,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class fP extends Wt{priority=90;parse(t,e,i,a){const l=u=>{const h=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+h};switch(e){case"c":case"cc":return Me(Ie(e.length,t),l);case"co":return Me(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,a){return t=W_(t,i,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function dP(n,t,e){const i=Ae(n,e?.in),a=jM(i,e),l=t-a;return OA(i,l,e)}class mP extends Wt{priority=90;parse(t,e,i){const a=l=>l===0?7:l;switch(e){case"i":case"ii":return Ie(e.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Me(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Me(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Me(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);default:return Me(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,e){return e>=1&&e<=7}set(t,e,i){return t=dP(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class pP extends Wt{priority=80;parse(t,e,i){switch(e){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(X_(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class gP extends Wt{priority=80;parse(t,e,i){switch(e){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(X_(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class yP extends Wt{priority=80;parse(t,e,i){switch(e){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(X_(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class _P extends Wt{priority=70;parse(t,e,i){switch(e){case"h":return ve(Ve.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ie(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class vP extends Wt{priority=70;parse(t,e,i){switch(e){case"H":return ve(Ve.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Ie(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class TP extends Wt{priority=70;parse(t,e,i){switch(e){case"K":return ve(Ve.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ie(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class EP extends Wt{priority=70;parse(t,e,i){switch(e){case"k":return ve(Ve.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Ie(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class bP extends Wt{priority=60;parse(t,e,i){switch(e){case"m":return ve(Ve.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Ie(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]}class wP extends Wt{priority=50;parse(t,e,i){switch(e){case"s":return ve(Ve.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Ie(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]}class SP extends Wt{priority=30;parse(t,e){const i=a=>Math.trunc(a*Math.pow(10,-e.length+3));return Me(Ie(e.length,t),i)}set(t,e,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]}class AP extends Wt{priority=10;parse(t,e){switch(e){case"X":return ar(sr.basicOptionalMinutes,t);case"XX":return ar(sr.basic,t);case"XXXX":return ar(sr.basicOptionalSeconds,t);case"XXXXX":return ar(sr.extendedOptionalSeconds,t);default:return ar(sr.extended,t)}}set(t,e,i){return e.timestampIsSet?t:on(t,t.getTime()-Kd(t)-i)}incompatibleTokens=["t","T","x"]}class IP extends Wt{priority=10;parse(t,e){switch(e){case"x":return ar(sr.basicOptionalMinutes,t);case"xx":return ar(sr.basic,t);case"xxxx":return ar(sr.basicOptionalSeconds,t);case"xxxxx":return ar(sr.extendedOptionalSeconds,t);default:return ar(sr.extended,t)}}set(t,e,i){return e.timestampIsSet?t:on(t,t.getTime()-Kd(t)-i)}incompatibleTokens=["t","T","X"]}class xP extends Wt{priority=40;parse(t){return HA(t)}set(t,e,i){return[on(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class RP extends Wt{priority=20;parse(t){return HA(t)}set(t,e,i){return[on(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const CP={G:new YM,y:new QM,Y:new XM,R:new WM,u:new $M,Q:new ZM,q:new JM,M:new tP,L:new eP,w:new iP,I:new sP,d:new lP,D:new uP,E:new cP,e:new hP,c:new fP,i:new mP,a:new pP,b:new gP,B:new yP,h:new _P,H:new vP,K:new TP,k:new EP,m:new bP,s:new wP,S:new SP,X:new AP,x:new IP,t:new xP,T:new RP},DP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,VP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,MP=/^'([^]*?)'?$/,PP=/''/g,OP=/\S/,NP=/[a-zA-Z]/;function kn(n,t,e,i){const a=()=>on(e,NaN),l=zM(),u=l.locale??kA,h=l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,m=l.weekStartsOn??l.locale?.options?.weekStartsOn??0;if(!t)return n?a():Ae(e,i?.in);const p={firstWeekContainsDate:h,weekStartsOn:m,locale:u},y=[new KM(i?.in,e)],v=t.match(VP).map(P=>{const z=P[0];if(z in zy){const Q=zy[z];return Q(P,u.formatLong)}return P}).join("").match(DP),E=[];for(let P of v){jA(P)&&jy(P,t,n),zA(P)&&jy(P,t,n);const z=P[0],Q=CP[z];if(Q){const{incompatibleTokens:K}=Q;if(Array.isArray(K)){const nt=E.find(lt=>K.includes(lt.token)||lt.token===z);if(nt)throw new RangeError(`The format string mustn't contain \`${nt.fullToken}\` and \`${P}\` at the same time`)}else if(Q.incompatibleTokens==="*"&&E.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);E.push({token:z,fullToken:P});const Z=Q.run(n,P,u.match,p);if(!Z)return a();y.push(Z.setter),n=Z.rest}else{if(z.match(NP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+z+"`");if(P==="''"?P="'":z==="'"&&(P=kP(P)),n.indexOf(P)===0)n=n.slice(P.length);else return a()}}if(n.length>0&&OP.test(n))return a();const A=y.map(P=>P.priority).sort((P,z)=>z-P).filter((P,z,Q)=>Q.indexOf(P)===z).map(P=>y.filter(z=>z.priority===P).sort((z,Q)=>Q.subPriority-z.subPriority)).map(P=>P[0]);let D=Ae(e,i?.in);if(isNaN(+D))return a();const L={};for(const P of A){if(!P.validate(D,p))return a();const z=P.set(D,L,p);Array.isArray(z)?(D=z[0],Object.assign(L,z[1])):D=z}return D}function kP(n){return n.match(MP)[1].replace(PP,"'")}var YA={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},mw=Wa.createContext&&Wa.createContext(YA),LP=["attr","size","title"];function UP(n,t){if(n==null)return{};var e=BP(n,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function BP(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Qd(){return Qd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Qd.apply(this,arguments)}function pw(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,i)}return e}function Xd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?pw(Object(e),!0).forEach(function(i){zP(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):pw(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function zP(n,t,e){return t=jP(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function jP(n){var t=FP(n,"string");return typeof t=="symbol"?t:t+""}function FP(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function QA(n){return n&&n.map((t,e)=>Wa.createElement(t.tag,Xd({key:e},t.attr),QA(t.child)))}function Oi(n){return t=>Wa.createElement(qP,Qd({attr:Xd({},n.attr)},t),QA(n.child))}function qP(n){var t=e=>{var{attr:i,size:a,title:l}=n,u=UP(n,LP),h=a||e.size||"1em",m;return e.className&&(m=e.className),n.className&&(m=(m?m+" ":"")+n.className),Wa.createElement("svg",Qd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:m,style:Xd(Xd({color:n.color||e.color},e.style),n.style),height:h,width:h,xmlns:"http://www.w3.org/2000/svg"}),l&&Wa.createElement("title",null,l),n.children)};return mw!==void 0?Wa.createElement(mw.Consumer,null,e=>t(e)):t(YA)}function HP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96zm0 0v288"},child:[]}]})(n)}function GP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(n)}function KP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(n)}function YP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function QP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(n)}function XP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m473.16 221.48-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 0 1-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z"},child:[]}]})(n)}function WP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}function $P(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z"},child:[]}]})(n)}function ZP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(n)}function JP(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48v48m0 320v48m147.08-355.08-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48m-320 0H48m355.08 147.08-33.94-33.94M142.86 142.86l-33.94-33.94"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(n)}function XA(n){return Oi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"},child:[]}]})(n)}const Fy={"Block E":["E101","E102","E103","E104","E201","E202","E203","E204","E301","E302","E303","E304"],"Block F":["F102","F103","F104","F201","F202","F301","F302","F303","F304","F403","F404"]},WA=["07:00 - 09:00","09:00 - 11:00","11:00 - 13:00","13:00 - 15:00","15:00 - 17:00","17:00 - 19:00"];Dc(new Date,"yyyy-MM-dd");const tO=()=>{};var gw={};const $A=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},eO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],h=n[e++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},ZA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,h=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let E=(h&15)<<2|p>>6,A=p&63;m||(A=64,u||(E=64)),i.push(e[y],e[v],e[E],e[A])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray($A(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):eO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||h==null||p==null||v==null)throw new nO;const E=l<<2|h>>4;if(i.push(E),p!==64){const A=h<<4&240|p>>2;if(i.push(A),v!==64){const D=p<<6&192|v;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iO=function(n){const t=$A(n);return ZA.encodeByteArray(t,!0)},Wd=function(n){return iO(n).replace(/\./g,"")},JA=function(n){try{return ZA.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rO=()=>tI().__FIREBASE_DEFAULTS__,sO=()=>{if(typeof process>"u"||typeof gw>"u")return;const n=gw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},aO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&JA(n[1]);return t&&JSON.parse(t)},Rm=()=>{try{return tO()||rO()||sO()||aO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eI=n=>Rm()?.emulatorHosts?.[n],oO=n=>{const t=eI(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},nI=()=>Rm()?.config,iI=n=>Rm()?.[`_${n}`];class lO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Jl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function rI(n){return(await fetch(n,{credentials:"include"})).ok}function uO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Wd(JSON.stringify(e)),Wd(JSON.stringify(u)),""].join(".")}const Vc={};function cO(){const n={prod:[],emulator:[]};for(const t of Object.keys(Vc))Vc[t]?n.emulator.push(t):n.prod.push(t);return n}function hO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let yw=!1;function sI(n,t){if(typeof window>"u"||typeof document>"u"||!Jl(window.location.host)||Vc[n]===t||Vc[n]||yw)return;Vc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=cO().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function h(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,A){E.setAttribute("width","24"),E.setAttribute("id",A),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{yw=!0,u()},E}function y(E,A){E.setAttribute("id",A),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=hO(i),A=e("text"),D=document.getElementById(A)||document.createElement("span"),L=e("learnmore"),P=document.getElementById(L)||document.createElement("a"),z=e("preprendIcon"),Q=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;h(K),y(P,L);const Z=p();m(Q,z),K.append(Q,D,P,Z),document.body.appendChild(K)}l?(D.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function aI(){const n=Rm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gO(){const n=Ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function oI(){return!aI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lI(){return!aI()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function uI(){try{return typeof indexedDB=="object"}catch{return!1}}function yO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const _O="FirebaseError";class Kr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=_O,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fh.prototype.create)}}class fh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?vO(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new Kr(a,h,i)}}function vO(n,t){return n.replace(TO,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const TO=/\{\$([^}]+)}/g;function EO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function no(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if(_w(l)&&_w(u)){if(!no(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function _w(n){return n!==null&&typeof n=="object"}function dh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function bO(n,t){const e=new wO(n,t);return e.subscribe.bind(e)}class wO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");SO(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=uy),a.error===void 0&&(a.error=uy),a.complete===void 0&&(a.complete=uy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function SO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function uy(){}function Ke(n){return n&&n._delegate?n._delegate:n}class io{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ua="[DEFAULT]";class AO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new lO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xO(t))try{this.getOrInitializeService({instanceIdentifier:Ua})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=Ua){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ua){return this.instances.has(t)}getOptions(t=Ua){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:IO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ua){return this.component?this.component.multipleInstances?t:Ua:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IO(n){return n===Ua?void 0:n}function xO(n){return n.instantiationMode==="EAGER"}class RO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new AO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const CO={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},DO=Bt.INFO,VO={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},MO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=VO[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class $_{constructor(t){this.name=t,this._logLevel=DO,this._logHandler=MO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?CO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const PO=(n,t)=>t.some(e=>n instanceof e);let vw,Tw;function OO(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function NO(){return Tw||(Tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cI=new WeakMap,qy=new WeakMap,hI=new WeakMap,cy=new WeakMap,Z_=new WeakMap;function kO(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(zs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&cI.set(e,n)}).catch(()=>{}),Z_.set(t,n),t}function LO(n){if(qy.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});qy.set(n,t)}let Hy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return qy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||hI.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return zs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function UO(n){Hy=n(Hy)}function BO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(hy(this),t,...e);return hI.set(i,t.sort?t.sort():[t]),zs(i)}:NO().includes(n)?function(...t){return n.apply(hy(this),t),zs(cI.get(this))}:function(...t){return zs(n.apply(hy(this),t))}}function zO(n){return typeof n=="function"?BO(n):(n instanceof IDBTransaction&&LO(n),PO(n,OO())?new Proxy(n,Hy):n)}function zs(n){if(n instanceof IDBRequest)return kO(n);if(cy.has(n))return cy.get(n);const t=zO(n);return t!==n&&(cy.set(n,t),Z_.set(t,n)),t}const hy=n=>Z_.get(n);function jO(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),h=zs(u);return i&&u.addEventListener("upgradeneeded",m=>{i(zs(u.result),m.oldVersion,m.newVersion,zs(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),h.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const FO=["get","getKey","getAll","getAllKeys","count"],qO=["put","add","delete","clear"],fy=new Map;function Ew(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(fy.get(t))return fy.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=qO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||FO.includes(e)))return;const l=async function(u,...h){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[e](...h),a&&m.done]))[0]};return fy.set(t,l),l}UO(n=>({...n,get:(t,e,i)=>Ew(t,e)||n.get(t,e,i),has:(t,e)=>!!Ew(t,e)||n.has(t,e)}));class HO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(GO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function GO(n){return n.getComponent()?.type==="VERSION"}const Gy="@firebase/app",bw="0.14.8";const jr=new $_("@firebase/app"),KO="@firebase/app-compat",YO="@firebase/analytics-compat",QO="@firebase/analytics",XO="@firebase/app-check-compat",WO="@firebase/app-check",$O="@firebase/auth",ZO="@firebase/auth-compat",JO="@firebase/database",tN="@firebase/data-connect",eN="@firebase/database-compat",nN="@firebase/functions",iN="@firebase/functions-compat",rN="@firebase/installations",sN="@firebase/installations-compat",aN="@firebase/messaging",oN="@firebase/messaging-compat",lN="@firebase/performance",uN="@firebase/performance-compat",cN="@firebase/remote-config",hN="@firebase/remote-config-compat",fN="@firebase/storage",dN="@firebase/storage-compat",mN="@firebase/firestore",pN="@firebase/ai",gN="@firebase/firestore-compat",yN="firebase",_N="12.9.0";const Ky="[DEFAULT]",vN={[Gy]:"fire-core",[KO]:"fire-core-compat",[QO]:"fire-analytics",[YO]:"fire-analytics-compat",[WO]:"fire-app-check",[XO]:"fire-app-check-compat",[$O]:"fire-auth",[ZO]:"fire-auth-compat",[JO]:"fire-rtdb",[tN]:"fire-data-connect",[eN]:"fire-rtdb-compat",[nN]:"fire-fn",[iN]:"fire-fn-compat",[rN]:"fire-iid",[sN]:"fire-iid-compat",[aN]:"fire-fcm",[oN]:"fire-fcm-compat",[lN]:"fire-perf",[uN]:"fire-perf-compat",[cN]:"fire-rc",[hN]:"fire-rc-compat",[fN]:"fire-gcs",[dN]:"fire-gcs-compat",[mN]:"fire-fst",[gN]:"fire-fst-compat",[pN]:"fire-vertex","fire-js":"fire-js",[yN]:"fire-js-all"};const $d=new Map,TN=new Map,Yy=new Map;function ww(n,t){try{n.container.addComponent(t)}catch(e){jr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Ol(n){const t=n.name;if(Yy.has(t))return jr.debug(`There were multiple attempts to register component ${t}.`),!1;Yy.set(t,n);for(const e of $d.values())ww(e,n);for(const e of TN.values())ww(e,n);return!0}function J_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ci(n){return n==null?!1:n.settings!==void 0}const EN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new fh("app","Firebase",EN);class bN{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}const tu=_N;function fI(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Ky,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw js.create("bad-app-name",{appName:String(a)});if(e||(e=nI()),!e)throw js.create("no-options");const l=$d.get(a);if(l){if(no(e,l.options)&&no(i,l.config))return l;throw js.create("duplicate-app",{appName:a})}const u=new RO(a);for(const m of Yy.values())u.addComponent(m);const h=new bN(e,i,u);return $d.set(a,h),h}function dI(n=Ky){const t=$d.get(n);if(!t&&n===Ky&&nI())return fI();if(!t)throw js.create("no-app",{appName:n});return t}function Fs(n,t,e){let i=vN[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),jr.warn(u.join(" "));return}Ol(new io(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const wN="firebase-heartbeat-database",SN=1,Gc="firebase-heartbeat-store";let dy=null;function mI(){return dy||(dy=jO(wN,SN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Gc)}catch(e){console.warn(e)}}}}).catch(n=>{throw js.create("idb-open",{originalErrorMessage:n.message})})),dy}async function AN(n){try{const e=(await mI()).transaction(Gc),i=await e.objectStore(Gc).get(pI(n));return await e.done,i}catch(t){if(t instanceof Kr)jr.warn(t.message);else{const e=js.create("idb-get",{originalErrorMessage:t?.message});jr.warn(e.message)}}}async function Sw(n,t){try{const i=(await mI()).transaction(Gc,"readwrite");await i.objectStore(Gc).put(t,pI(n)),await i.done}catch(e){if(e instanceof Kr)jr.warn(e.message);else{const i=js.create("idb-set",{originalErrorMessage:e?.message});jr.warn(i.message)}}}function pI(n){return`${n.name}!${n.options.appId}`}const IN=1024,xN=30;class RN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new DN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Aw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>xN){const a=VN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){jr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Aw(),{heartbeatsToSend:e,unsentEntries:i}=CN(this._heartbeatsCache.heartbeats),a=Wd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return jr.warn(t),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function CN(n,t=IN){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Iw(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Iw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class DN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uI()?yO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await AN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Iw(n){return Wd(JSON.stringify({version:2,heartbeats:n})).length}function VN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function MN(n){Ol(new io("platform-logger",t=>new HO(t),"PRIVATE")),Ol(new io("heartbeat",t=>new RN(t),"PRIVATE")),Fs(Gy,bw,n),Fs(Gy,bw,"esm2020"),Fs("fire-js","")}MN("");function gI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PN=gI,yI=new fh("auth","Firebase",gI());const Zd=new $_("@firebase/auth");function ON(n,...t){Zd.logLevel<=Bt.WARN&&Zd.warn(`Auth (${tu}): ${n}`,...t)}function wd(n,...t){Zd.logLevel<=Bt.ERROR&&Zd.error(`Auth (${tu}): ${n}`,...t)}function dr(n,...t){throw e0(n,...t)}function Vi(n,...t){return e0(n,...t)}function t0(n,t,e){const i={...PN(),[t]:e};return new fh("auth","Firebase",i).create(t,{appName:n.name})}function $a(n){return t0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NN(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&dr(n,"argument-error"),t0(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function e0(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return yI.create(n,...t)}function wt(n,t,...e){if(!n)throw e0(t,...e)}function kr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw wd(t),new Error(t)}function Fr(n,t){n||kr(t)}function Qy(){return typeof self<"u"&&self.location?.href||""}function kN(){return xw()==="http:"||xw()==="https:"}function xw(){return typeof self<"u"&&self.location?.protocol||null}function LN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kN()||mO()||"connection"in navigator)?navigator.onLine:!0}function UN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class mh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Fr(e>t,"Short delay should be less than long delay!"),this.isMobile=fO()||pO()}get(){return LN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function n0(n,t){Fr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class _I{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const BN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jN=new mh(3e4,6e4);function i0(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function eu(n,t,e,i,a={}){return vI(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const h=dh({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:m,...l};return dO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Jl(n.emulatorConfig.host)&&(p.credentials="include"),_I.fetch()(await TI(n,n.config.apiHost,e,h),p)})}async function vI(n,t,e){n._canInitEmulator=!1;const i={...BN,...t};try{const a=new qN(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw cd(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[m,p]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw cd(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw cd(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw cd(n,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw t0(n,y,p);dr(n,y)}}catch(a){if(a instanceof Kr)throw a;dr(n,"network-request-failed",{message:String(a)})}}async function FN(n,t,e,i,a={}){const l=await eu(n,t,e,i,a);return"mfaPendingCredential"in l&&dr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function TI(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?n0(n.config,a):`${n.config.apiScheme}://${a}`;return zN.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class qN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Vi(this.auth,"network-request-failed")),jN.get())})}}function cd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Vi(n,t,i);return a.customData._tokenResponse=e,a}async function HN(n,t){return eu(n,"POST","/v1/accounts:delete",t)}async function Jd(n,t){return eu(n,"POST","/v1/accounts:lookup",t)}function Mc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function GN(n,t=!1){const e=Ke(n),i=await e.getIdToken(t),a=r0(i);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Mc(my(a.auth_time)),issuedAtTime:Mc(my(a.iat)),expirationTime:Mc(my(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function my(n){return Number(n)*1e3}function r0(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const a=JA(e);return a?JSON.parse(a):(wd("Failed to decode base64 JWT payload"),null)}catch(a){return wd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Rw(n){const t=r0(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Kc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Kr&&KN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function KN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class YN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Mc(this.lastLoginAt),this.creationTime=Mc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tm(n){const t=n.auth,e=await n.getIdToken(),i=await Kc(n,Jd(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?EI(a.providerUserInfo):[],u=XN(n.providerData,l),h=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=h?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Xy(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function QN(n){const t=Ke(n);await tm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XN(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function EI(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function WN(n,t){const e=await vI(n,{},async()=>{const i=dh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await TI(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:i};return n.emulatorConfig&&Jl(n.emulatorConfig.host)&&(m.credentials="include"),_I.fetch()(u,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function $N(n,t){return eu(n,"POST","/v2/accounts:revokeToken",i0(n,t))}class xl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=Rw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await WN(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new xl;return i&&(wt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xl,this.toJSON())}_performRefresh(){return kr("not implemented")}}function Cs(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Di{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new YN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Xy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Kc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return GN(this,t)}reload(){return QN(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Di({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await tm(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ci(this.auth.app))return Promise.reject($a(this.auth));const t=await this.getIdToken();return await Kc(this,HN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,h=e.tenantId??void 0,m=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:A,providerData:D,stsTokenManager:L}=e;wt(v&&L,t,"internal-error");const P=xl.fromJSON(this.name,L);wt(typeof v=="string",t,"internal-error"),Cs(i,t.name),Cs(a,t.name),wt(typeof E=="boolean",t,"internal-error"),wt(typeof A=="boolean",t,"internal-error"),Cs(l,t.name),Cs(u,t.name),Cs(h,t.name),Cs(m,t.name),Cs(p,t.name),Cs(y,t.name);const z=new Di({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:A,photoURL:u,phoneNumber:l,tenantId:h,stsTokenManager:P,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(z.providerData=D.map(Q=>({...Q}))),m&&(z._redirectEventId=m),z}static async _fromIdTokenResponse(t,e,i=!1){const a=new xl;a.updateFromServerResponse(e);const l=new Di({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await tm(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?EI(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,h=new xl;h.updateFromIdToken(i);const m=new Di({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Xy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const Cw=new Map;function Lr(n){Fr(n instanceof Function,"Expected a class definition");let t=Cw.get(n);return t?(Fr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Cw.set(n,t),t)}class bI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}bI.type="NONE";const Dw=bI;function Sd(n,t,e){return`firebase:${n}:${t}:${e}`}class Rl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Sd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Sd("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Jd(this.auth,{idToken:t}).catch(()=>{});return e?Di._fromGetAccountInfoResponse(this.auth,e,t):null}return Di._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Rl(Lr(Dw),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Lr(Dw);const u=Sd(i,t.config.apiKey,t.name);let h=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Jd(t,{idToken:y}).catch(()=>{});if(!E)break;v=await Di._fromGetAccountInfoResponse(t,E,y)}else v=Di._fromJSON(t,y);p!==l&&(h=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Rl(l,t,i):(l=m[0],h&&await l._set(u,h.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Rl(l,t,i))}}function Vw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(II(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(RI(t))return"Blackberry";if(CI(t))return"Webos";if(SI(t))return"Safari";if((t.includes("chrome/")||AI(t))&&!t.includes("edge/"))return"Chrome";if(xI(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function wI(n=Ze()){return/firefox\//i.test(n)}function SI(n=Ze()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AI(n=Ze()){return/crios\//i.test(n)}function II(n=Ze()){return/iemobile/i.test(n)}function xI(n=Ze()){return/android/i.test(n)}function RI(n=Ze()){return/blackberry/i.test(n)}function CI(n=Ze()){return/webos/i.test(n)}function s0(n=Ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function ZN(n=Ze()){return s0(n)&&!!window.navigator?.standalone}function JN(){return gO()&&document.documentMode===10}function DI(n=Ze()){return s0(n)||xI(n)||CI(n)||RI(n)||/windows phone/i.test(n)||II(n)}function VI(n,t=[]){let e;switch(n){case"Browser":e=Vw(Ze());break;case"Worker":e=`${Vw(Ze())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${tu}/${i}`}class tk{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,h)=>{try{const m=t(l);u(m)}catch(m){h(m)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function ek(n,t={}){return eu(n,"GET","/v2/passwordPolicy",i0(n,t))}const nk=6;class ik{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??nk,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class rk{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mw(this),this.idTokenSubscription=new Mw(this),this.beforeStateQueue=new tk(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Lr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Jd(this,{idToken:t}),i=await Di._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ci(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!l||l===u)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await tm(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ci(this.app))return Promise.reject($a(this));const e=t?Ke(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ci(this.app)?Promise.reject($a(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ci(this.app)?Promise.reject($a(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ek(this),e=new ik(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new fh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await $N(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Lr(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Rl.create(this,[Lr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,i,a);return()=>{u=!0,m()}}else{const m=t.addObserver(e);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=VI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ON(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ph(n){return Ke(n)}class Mw{constructor(t){this.auth=t,this.observer=null,this.addObserver=bO(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let a0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sk(n){a0=n}function ak(n){return a0.loadJS(n)}function ok(){return a0.gapiScript}function lk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function uk(n,t){const e=J_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(no(l,t??{}))return a;dr(a,"already-initialized")}return e.initialize({options:t})}function ck(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Lr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function hk(n,t,e){const i=ph(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=MI(t),{host:u,port:h}=fk(t),m=h===null?"":`:${h}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(no(p,i.config.emulator)&&no(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,Jl(u)?(rI(`${l}//${u}${m}`),sI("Auth",!0)):dk()}function MI(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function fk(n){const t=MI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Pw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Pw(u)}}}function Pw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function dk(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class PI{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return kr("not implemented")}_getIdTokenResponse(t){return kr("not implemented")}_linkToIdToken(t,e){return kr("not implemented")}_getReauthenticationResolver(t){return kr("not implemented")}}async function Cl(n,t){return FN(n,"POST","/v1/accounts:signInWithIdp",i0(n,t))}const mk="http://localhost";class ro extends PI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ro(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):dr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new ro(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Cl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Cl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Cl(t,e)}buildRequest(){const t={requestUri:mk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=dh(e)}return t}}class o0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class gh extends o0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Os extends gh{constructor(){super("facebook.com")}static credential(t){return ro._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Os.credential(t.oauthAccessToken)}catch{return null}}}Os.FACEBOOK_SIGN_IN_METHOD="facebook.com";Os.PROVIDER_ID="facebook.com";class Nr extends gh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ro._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Nr.credentialFromTaggedObject(t)}static credentialFromError(t){return Nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Nr.credential(e,i)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";class Ns extends gh{constructor(){super("github.com")}static credential(t){return ro._fromParams({providerId:Ns.PROVIDER_ID,signInMethod:Ns.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ns.credentialFromTaggedObject(t)}static credentialFromError(t){return Ns.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ns.credential(t.oauthAccessToken)}catch{return null}}}Ns.GITHUB_SIGN_IN_METHOD="github.com";Ns.PROVIDER_ID="github.com";class ks extends gh{constructor(){super("twitter.com")}static credential(t,e){return ro._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ks.credentialFromTaggedObject(t)}static credentialFromError(t){return ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return ks.credential(e,i)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";class Nl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await Di._fromIdTokenResponse(t,i,a),u=Ow(i);return new Nl({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=Ow(i);return new Nl({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function Ow(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class em extends Kr{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,em.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new em(t,e,i,a)}}function OI(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?em._fromErrorAndOperation(n,l,t,i):l})}async function pk(n,t,e=!1){const i=await Kc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Nl._forOperation(n,"link",i)}async function gk(n,t,e=!1){const{auth:i}=n;if(Ci(i.app))return Promise.reject($a(i));const a="reauthenticate";try{const l=await Kc(n,OI(i,a,t,n),e);wt(l.idToken,i,"internal-error");const u=r0(l.idToken);wt(u,i,"internal-error");const{sub:h}=u;return wt(n.uid===h,i,"user-mismatch"),Nl._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&dr(i,"user-mismatch"),l}}async function yk(n,t,e=!1){if(Ci(n.app))return Promise.reject($a(n));const i="signIn",a=await OI(n,i,t),l=await Nl._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function _k(n,t){return Ke(n).setPersistence(t)}function vk(n,t,e,i){return Ke(n).onIdTokenChanged(t,e,i)}function Tk(n,t,e){return Ke(n).beforeAuthStateChanged(t,e)}function Ek(n,t,e,i){return Ke(n).onAuthStateChanged(t,e,i)}function bk(n){return Ke(n).signOut()}const nm="__sak";class NI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(nm,"1"),this.storage.removeItem(nm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const wk=1e3,Sk=10;class kI extends NI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,h,m)=>{this.notifyListeners(u,m)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);JN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,Sk):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},wk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}kI.type="LOCAL";const LI=kI;class UI extends NI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}UI.type="SESSION";const BI=UI;function Ak(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class Cm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new Cm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async p=>p(e.origin,l)),m=await Ak(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cm.receivers=[];function l0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class Ik{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,m)=>{const p=l0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function ur(){return window}function xk(n){ur().location.href=n}function zI(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function Rk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ck(){return navigator?.serviceWorker?.controller||null}function Dk(){return zI()?self:null}const jI="firebaseLocalStorageDb",Vk=1,im="firebaseLocalStorage",FI="fbase_key";class yh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Dm(n,t){return n.transaction([im],t?"readwrite":"readonly").objectStore(im)}function Mk(){const n=indexedDB.deleteDatabase(jI);return new yh(n).toPromise()}function Wy(){const n=indexedDB.open(jI,Vk);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(im,{keyPath:FI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(im)?t(i):(i.close(),await Mk(),t(await Wy()))})})}async function Nw(n,t,e){const i=Dm(n,!0).put({[FI]:t,value:e});return new yh(i).toPromise()}async function Pk(n,t){const e=Dm(n,!1).get(t),i=await new yh(e).toPromise();return i===void 0?null:i.value}function kw(n,t){const e=Dm(n,!0).delete(t);return new yh(e).toPromise()}const Ok=800,Nk=3;class qI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>Nk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cm._getInstance(Dk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Rk(),!this.activeServiceWorker)return;this.sender=new Ik(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ck()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Wy();return await Nw(t,nm,"1"),await kw(t,nm),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Nw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Pk(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>kw(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Dm(a,!1).getAll();return new yh(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ok)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qI.type="LOCAL";const kk=qI;new mh(3e4,6e4);function HI(n,t){return t?Lr(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class u0 extends PI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Cl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Cl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Cl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Lk(n){return yk(n.auth,new u0(n),n.bypassAuthState)}function Uk(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),gk(e,new u0(n),n.bypassAuthState)}async function Bk(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),pk(e,new u0(n),n.bypassAuthState)}class GI{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Lk;case"linkViaPopup":case"linkViaRedirect":return Bk;case"reauthViaPopup":case"reauthViaRedirect":return Uk;default:dr(this.auth,"internal-error")}}resolve(t){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zk=new mh(2e3,1e4);async function jk(n,t,e){if(Ci(n.app))return Promise.reject(Vi(n,"operation-not-supported-in-this-environment"));const i=ph(n);NN(n,t,o0);const a=HI(i,e);return new Ka(i,"signInViaPopup",t,a).executeNotNull()}class Ka extends GI{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ka.currentPopupAction&&Ka.currentPopupAction.cancel(),Ka.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Fr(this.filter.length===1,"Popup operations only handle one event");const t=l0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ka.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zk.get())};t()}}Ka.currentPopupAction=null;const Fk="pendingRedirect",Ad=new Map;class qk extends GI{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Ad.get(this.auth._key());if(!t){try{const i=await Hk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Ad.set(this.auth._key(),t)}return this.bypassAuthState||Ad.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Hk(n,t){const e=Yk(t),i=Kk(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function Gk(n,t){Ad.set(n._key(),t)}function Kk(n){return Lr(n._redirectPersistence)}function Yk(n){return Sd(Fk,n.config.apiKey,n.name)}async function Qk(n,t){return await ph(n)._initializationPromise,KI(n,t,!1)}async function KI(n,t,e=!1){if(Ci(n.app))return Promise.reject($a(n));const i=ph(n),a=HI(i,t),u=await new qk(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const Xk=600*1e3;class Wk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$k(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!YI(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Vi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Xk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lw(t))}saveEventToCache(t){this.cachedEventUids.add(Lw(t)),this.lastProcessedEventTime=Date.now()}}function Lw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function YI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function $k(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return YI(n);default:return!1}}async function Zk(n,t={}){return eu(n,"GET","/v1/projects",t)}const Jk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,t4=/^https?/;async function e4(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Zk(n);for(const e of t)try{if(n4(e))return}catch{}dr(n,"unauthorized-domain")}function n4(n){const t=Qy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!t4.test(e))return!1;if(Jk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const i4=new mh(3e4,6e4);function Uw(){const n=ur().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function r4(n){return new Promise((t,e)=>{function i(){Uw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uw(),e(Vi(n,"network-request-failed"))},timeout:i4.get()})}if(ur().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ur().gapi?.load)i();else{const a=lk("iframefcb");return ur()[a]=()=>{gapi.load?i():e(Vi(n,"network-request-failed"))},ak(`${ok()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw Id=null,t})}let Id=null;function s4(n){return Id=Id||r4(n),Id}const a4=new mh(5e3,15e3),o4="__/auth/iframe",l4="emulator/auth/iframe",u4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},c4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function h4(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?n0(t,l4):`https://${n.config.authDomain}/${o4}`,i={apiKey:t.apiKey,appName:n.name,v:tu},a=c4.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${dh(i).slice(1)}`}async function f4(n){const t=await s4(n),e=ur().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:h4(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:u4,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Vi(n,"network-request-failed"),h=ur().setTimeout(()=>{l(u)},a4.get());function m(){ur().clearTimeout(h),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const d4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},m4=500,p4=600,g4="_blank",y4="http://localhost";class Bw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _4(n,t,e,i=m4,a=p4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const m={...d4,width:i.toString(),height:a.toString(),top:l,left:u},p=Ze().toLowerCase();e&&(h=AI(p)?g4:e),wI(p)&&(t=t||y4,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[A,D])=>`${E}${A}=${D},`,"");if(ZN(p)&&h!=="_self")return v4(t||"",h),new Bw(null);const v=window.open(t||"",h,y);wt(v,n,"popup-blocked");try{v.focus()}catch{}return new Bw(v)}function v4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const T4="__/auth/handler",E4="emulator/auth/handler",b4=encodeURIComponent("fac");async function zw(n,t,e,i,a,l){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:tu,eventId:a};if(t instanceof o0){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",EO(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof gh){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const h=u;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const m=await n._getAppCheckToken(),p=m?`#${b4}=${encodeURIComponent(m)}`:"";return`${w4(n)}?${dh(h).slice(1)}${p}`}function w4({config:n}){return n.emulator?n0(n,E4):`https://${n.authDomain}/${T4}`}const py="webStorageSupport";class S4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BI,this._completeRedirectFn=KI,this._overrideRedirectResult=Gk}async _openPopup(t,e,i,a){Fr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await zw(t,e,i,Qy(),a);return _4(t,l,l0())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await zw(t,e,i,Qy(),a);return xk(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Fr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await f4(t),i=new Wk(t);return e.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(py,{type:py},a=>{const l=a?.[0]?.[py];l!==void 0&&e(!!l),dr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=e4(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return DI()||SI()||s0()}}const A4=S4;var jw="@firebase/auth",Fw="1.12.0";class I4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function x4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function R4(n){Ol(new io("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;wt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VI(n)},p=new rk(i,a,l,m);return ck(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Ol(new io("auth-internal",t=>{const e=ph(t.getProvider("auth").getImmediate());return(i=>new I4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fs(jw,Fw,x4(n)),Fs(jw,Fw,"esm2020")}const C4=300,D4=iI("authIdTokenMaxAge")||C4;let qw=null;const V4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>D4)return;const a=e?.token;qw!==a&&(qw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function M4(n=dI()){const t=J_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=uk(n,{popupRedirectResolver:A4,persistence:[kk,LI,BI]}),i=iI("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=V4(l.toString());Tk(e,u,()=>u(e.currentUser)),vk(e,h=>u(h))}}const a=eI("auth");return a&&hk(e,`http://${a}`),e}function P4(){return document.getElementsByTagName("head")?.[0]??document}sk({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=Vi("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",P4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});R4("Browser");var O4="firebase",N4="12.9.0";Fs(O4,N4,"app");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var qs,QI;(function(){var n;function t(x,I){function R(){}R.prototype=I.prototype,x.F=I.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(O,M,U){for(var C=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)C[Yt-2]=arguments[Yt];return I.prototype[M].apply(O,C)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,I,R){R||(R=0);const O=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)O[M]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(M=0;M<16;++M)O[M]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=x.g[0],R=x.g[1],M=x.g[2];let U=x.g[3],C;C=I+(U^R&(M^U))+O[0]+3614090360&4294967295,I=R+(C<<7&4294967295|C>>>25),C=U+(M^I&(R^M))+O[1]+3905402710&4294967295,U=I+(C<<12&4294967295|C>>>20),C=M+(R^U&(I^R))+O[2]+606105819&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(I^M&(U^I))+O[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(U^R&(M^U))+O[4]+4118548399&4294967295,I=R+(C<<7&4294967295|C>>>25),C=U+(M^I&(R^M))+O[5]+1200080426&4294967295,U=I+(C<<12&4294967295|C>>>20),C=M+(R^U&(I^R))+O[6]+2821735955&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(I^M&(U^I))+O[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(U^R&(M^U))+O[8]+1770035416&4294967295,I=R+(C<<7&4294967295|C>>>25),C=U+(M^I&(R^M))+O[9]+2336552879&4294967295,U=I+(C<<12&4294967295|C>>>20),C=M+(R^U&(I^R))+O[10]+4294925233&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(I^M&(U^I))+O[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(U^R&(M^U))+O[12]+1804603682&4294967295,I=R+(C<<7&4294967295|C>>>25),C=U+(M^I&(R^M))+O[13]+4254626195&4294967295,U=I+(C<<12&4294967295|C>>>20),C=M+(R^U&(I^R))+O[14]+2792965006&4294967295,M=U+(C<<17&4294967295|C>>>15),C=R+(I^M&(U^I))+O[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=I+(M^U&(R^M))+O[1]+4129170786&4294967295,I=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(I^R))+O[6]+3225465664&4294967295,U=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(U^I))+O[11]+643717713&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^I&(M^U))+O[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(M^U&(R^M))+O[5]+3593408605&4294967295,I=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(I^R))+O[10]+38016083&4294967295,U=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(U^I))+O[15]+3634488961&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^I&(M^U))+O[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(M^U&(R^M))+O[9]+568446438&4294967295,I=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(I^R))+O[14]+3275163606&4294967295,U=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(U^I))+O[3]+4107603335&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^I&(M^U))+O[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(M^U&(R^M))+O[13]+2850285829&4294967295,I=R+(C<<5&4294967295|C>>>27),C=U+(R^M&(I^R))+O[2]+4243563512&4294967295,U=I+(C<<9&4294967295|C>>>23),C=M+(I^R&(U^I))+O[7]+1735328473&4294967295,M=U+(C<<14&4294967295|C>>>18),C=R+(U^I&(M^U))+O[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=I+(R^M^U)+O[5]+4294588738&4294967295,I=R+(C<<4&4294967295|C>>>28),C=U+(I^R^M)+O[8]+2272392833&4294967295,U=I+(C<<11&4294967295|C>>>21),C=M+(U^I^R)+O[11]+1839030562&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^I)+O[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(R^M^U)+O[1]+2763975236&4294967295,I=R+(C<<4&4294967295|C>>>28),C=U+(I^R^M)+O[4]+1272893353&4294967295,U=I+(C<<11&4294967295|C>>>21),C=M+(U^I^R)+O[7]+4139469664&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^I)+O[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(R^M^U)+O[13]+681279174&4294967295,I=R+(C<<4&4294967295|C>>>28),C=U+(I^R^M)+O[0]+3936430074&4294967295,U=I+(C<<11&4294967295|C>>>21),C=M+(U^I^R)+O[3]+3572445317&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^I)+O[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(R^M^U)+O[9]+3654602809&4294967295,I=R+(C<<4&4294967295|C>>>28),C=U+(I^R^M)+O[12]+3873151461&4294967295,U=I+(C<<11&4294967295|C>>>21),C=M+(U^I^R)+O[15]+530742520&4294967295,M=U+(C<<16&4294967295|C>>>16),C=R+(M^U^I)+O[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=I+(M^(R|~U))+O[0]+4096336452&4294967295,I=R+(C<<6&4294967295|C>>>26),C=U+(R^(I|~M))+O[7]+1126891415&4294967295,U=I+(C<<10&4294967295|C>>>22),C=M+(I^(U|~R))+O[14]+2878612391&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~I))+O[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=I+(M^(R|~U))+O[12]+1700485571&4294967295,I=R+(C<<6&4294967295|C>>>26),C=U+(R^(I|~M))+O[3]+2399980690&4294967295,U=I+(C<<10&4294967295|C>>>22),C=M+(I^(U|~R))+O[10]+4293915773&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~I))+O[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=I+(M^(R|~U))+O[8]+1873313359&4294967295,I=R+(C<<6&4294967295|C>>>26),C=U+(R^(I|~M))+O[15]+4264355552&4294967295,U=I+(C<<10&4294967295|C>>>22),C=M+(I^(U|~R))+O[6]+2734768916&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~I))+O[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=I+(M^(R|~U))+O[4]+4149444226&4294967295,I=R+(C<<6&4294967295|C>>>26),C=U+(R^(I|~M))+O[11]+3174756917&4294967295,U=I+(C<<10&4294967295|C>>>22),C=M+(I^(U|~R))+O[2]+718787259&4294967295,M=U+(C<<15&4294967295|C>>>17),C=R+(U^(M|~I))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+I&4294967295,x.g[1]=x.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+M&4294967295,x.g[3]=x.g[3]+U&4294967295}i.prototype.v=function(x,I){I===void 0&&(I=x.length);const R=I-this.blockSize,O=this.C;let M=this.h,U=0;for(;U<I;){if(M==0)for(;U<=R;)a(this,x,U),U+=this.blockSize;if(typeof x=="string"){for(;U<I;)if(O[M++]=x.charCodeAt(U++),M==this.blockSize){a(this,O),M=0;break}}else for(;U<I;)if(O[M++]=x[U++],M==this.blockSize){a(this,O),M=0;break}}this.h=M,this.o+=I},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var I=1;I<x.length-8;++I)x[I]=0;I=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.v(x),x=Array(16),I=0,R=0;R<4;++R)for(let O=0;O<32;O+=8)x[I++]=this.g[R]>>>O&255;return x};function l(x,I){var R=h;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=I(x)}function u(x,I){this.h=I;const R=[];let O=!0;for(let M=x.length-1;M>=0;M--){const U=x[M]|0;O&&U==I||(R[M]=U,O=!1)}this.g=R}var h={};function m(x){return-128<=x&&x<128?l(x,function(I){return new u([I|0],I<0?-1:0)}):new u([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return v;if(x<0)return P(p(-x));const I=[];let R=1;for(let O=0;x>=R;O++)I[O]=x/R|0,R*=4294967296;return new u(I,0)}function y(x,I){if(x.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(x.charAt(0)=="-")return P(y(x.substring(1),I));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(I,8));let O=v;for(let U=0;U<x.length;U+=8){var M=Math.min(8,x.length-U);const C=parseInt(x.substring(U,U+M),I);M<8?(M=p(Math.pow(I,M)),O=O.j(M).add(p(C))):(O=O.j(R),O=O.add(p(C)))}return O}var v=m(0),E=m(1),A=m(16777216);n=u.prototype,n.m=function(){if(L(this))return-P(this).m();let x=0,I=1;for(let R=0;R<this.g.length;R++){const O=this.i(R);x+=(O>=0?O:4294967296+O)*I,I*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(L(this))return"-"+P(this).toString(x);const I=p(Math.pow(x,6));var R=this;let O="";for(;;){const M=Z(R,I).g;R=z(R,M.j(I));let U=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=M,D(R))return U+O;for(;U.length<6;)U="0"+U;O=U+O}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(let I=0;I<x.g.length;I++)if(x.g[I]!=0)return!1;return!0}function L(x){return x.h==-1}n.l=function(x){return x=z(this,x),L(x)?-1:D(x)?0:1};function P(x){const I=x.g.length,R=[];for(let O=0;O<I;O++)R[O]=~x.g[O];return new u(R,~x.h).add(E)}n.abs=function(){return L(this)?P(this):this},n.add=function(x){const I=Math.max(this.g.length,x.g.length),R=[];let O=0;for(let M=0;M<=I;M++){let U=O+(this.i(M)&65535)+(x.i(M)&65535),C=(U>>>16)+(this.i(M)>>>16)+(x.i(M)>>>16);O=C>>>16,U&=65535,C&=65535,R[M]=C<<16|U}return new u(R,R[R.length-1]&-2147483648?-1:0)};function z(x,I){return x.add(P(I))}n.j=function(x){if(D(this)||D(x))return v;if(L(this))return L(x)?P(this).j(P(x)):P(P(this).j(x));if(L(x))return P(this.j(P(x)));if(this.l(A)<0&&x.l(A)<0)return p(this.m()*x.m());const I=this.g.length+x.g.length,R=[];for(var O=0;O<2*I;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<x.g.length;M++){const U=this.i(O)>>>16,C=this.i(O)&65535,Yt=x.i(M)>>>16,fe=x.i(M)&65535;R[2*O+2*M]+=C*fe,Q(R,2*O+2*M),R[2*O+2*M+1]+=U*fe,Q(R,2*O+2*M+1),R[2*O+2*M+1]+=C*Yt,Q(R,2*O+2*M+1),R[2*O+2*M+2]+=U*Yt,Q(R,2*O+2*M+2)}for(x=0;x<I;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=I;x<2*I;x++)R[x]=0;return new u(R,0)};function Q(x,I){for(;(x[I]&65535)!=x[I];)x[I+1]+=x[I]>>>16,x[I]&=65535,I++}function K(x,I){this.g=x,this.h=I}function Z(x,I){if(D(I))throw Error("division by zero");if(D(x))return new K(v,v);if(L(x))return I=Z(P(x),I),new K(P(I.g),P(I.h));if(L(I))return I=Z(x,P(I)),new K(P(I.g),I.h);if(x.g.length>30){if(L(x)||L(I))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=I;O.l(x)<=0;)R=nt(R),O=nt(O);var M=lt(R,1),U=lt(O,1);for(O=lt(O,2),R=lt(R,2);!D(O);){var C=U.add(O);C.l(x)<=0&&(M=M.add(R),U=C),O=lt(O,1),R=lt(R,1)}return I=z(x,M.j(I)),new K(M,I)}for(M=v;x.l(I)>=0;){for(R=Math.max(1,Math.floor(x.m()/I.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),U=p(R),C=U.j(I);L(C)||C.l(x)>0;)R-=O,U=p(R),C=U.j(I);D(U)&&(U=E),M=M.add(U),x=z(x,C)}return new K(M,x)}n.B=function(x){return Z(this,x).h},n.and=function(x){const I=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<I;O++)R[O]=this.i(O)&x.i(O);return new u(R,this.h&x.h)},n.or=function(x){const I=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<I;O++)R[O]=this.i(O)|x.i(O);return new u(R,this.h|x.h)},n.xor=function(x){const I=Math.max(this.g.length,x.g.length),R=[];for(let O=0;O<I;O++)R[O]=this.i(O)^x.i(O);return new u(R,this.h^x.h)};function nt(x){const I=x.g.length+1,R=[];for(let O=0;O<I;O++)R[O]=x.i(O)<<1|x.i(O-1)>>>31;return new u(R,x.h)}function lt(x,I){const R=I>>5;I%=32;const O=x.g.length-R,M=[];for(let U=0;U<O;U++)M[U]=I>0?x.i(U+R)>>>I|x.i(U+R+1)<<32-I:x.i(U+R);return new u(M,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,QI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,qs=u}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var XI,Sc,WI,xd,$y,$I,ZI,JI;(function(){var n,t=Object.defineProperty;function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof hd=="object"&&hd];for(var _=0;_<f.length;++_){var b=f[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=e(this);function a(f,_){if(_)t:{var b=i;f=f.split(".");for(var S=0;S<f.length-1;S++){var F=f[S];if(!(F in b))break t;b=b[F]}f=f[f.length-1],S=b[f],_=_(S),_!=S&&_!=null&&t(b,f,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(f){return f||function(_){var b=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&b.push([S,_[S]]);return b}});var l=l||{},u=this||self;function h(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function m(f,_,b){return f.call.apply(f.bind,arguments)}function p(f,_,b){return p=m,p.apply(null,arguments)}function y(f,_){var b=Array.prototype.slice.call(arguments,1);return function(){var S=b.slice();return S.push.apply(S,arguments),f.apply(this,S)}}function v(f,_){function b(){}b.prototype=_.prototype,f.Z=_.prototype,f.prototype=new b,f.prototype.constructor=f,f.Ob=function(S,F,Y){for(var ct=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ct[Rt-2]=arguments[Rt];return _.prototype[F].apply(S,ct)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function A(f){const _=f.length;if(_>0){const b=Array(_);for(let S=0;S<_;S++)b[S]=f[S];return b}return[]}function D(f,_){for(let S=1;S<arguments.length;S++){const F=arguments[S];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=f.length||0;const Y=F.length||0;f.length=b+Y;for(let ct=0;ct<Y;ct++)f[b+ct]=F[ct]}else f.push(F)}}class L{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(f){u.setTimeout(()=>{throw f},0)}function z(){var f=x;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,b){const S=K.get();S.set(_,b),this.h?this.h.next=S:this.g=S,this.h=S}}var K=new L(()=>new Z,f=>f.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,x=new Q,I=()=>{const f=Promise.resolve(void 0);nt=()=>{f.then(R)}};function R(){for(var f;f=z();){try{f.h.call(f.g)}catch(b){P(b)}var _=K;_.j(f),_.h<100&&(_.h++,f.next=_.g,_.g=f)}lt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return f})();function C(f){return/^[\s\xa0]*$/.test(f)}function Yt(f,_){M.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,_)}v(Yt,M),Yt.prototype.init=function(f,_){const b=this.type=f.type,S=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget,_||(b=="mouseover"?_=f.fromElement:b=="mouseout"&&(_=f.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&Yt.Z.h.call(this)},Yt.prototype.h=function(){Yt.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),$=0;function st(f,_,b,S,F){this.listener=f,this.proxy=null,this.src=_,this.type=b,this.capture=!!S,this.ha=F,this.key=++$,this.da=this.fa=!1}function pt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function Dt(f,_,b){for(const S in f)_.call(b,f[S],S,f)}function kt(f,_){for(const b in f)_.call(void 0,f[b],b,f)}function k(f){const _={};for(const b in f)_[b]=f[b];return _}const rt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(f,_){let b,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(b in S)f[b]=S[b];for(let Y=0;Y<rt.length;Y++)b=rt[Y],Object.prototype.hasOwnProperty.call(S,b)&&(f[b]=S[b])}}function mt(f){this.src=f,this.g={},this.h=0}mt.prototype.add=function(f,_,b,S,F){const Y=f.toString();f=this.g[Y],f||(f=this.g[Y]=[],this.h++);const ct=Vt(f,_,S,F);return ct>-1?(_=f[ct],b||(_.fa=!1)):(_=new st(_,this.src,Y,!!S,F),_.fa=b,f.push(_)),_};function At(f,_){const b=_.type;if(b in f.g){var S=f.g[b],F=Array.prototype.indexOf.call(S,_,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(S,F,1),Y&&(pt(_),f.g[b].length==0&&(delete f.g[b],f.h--))}}function Vt(f,_,b,S){for(let F=0;F<f.length;++F){const Y=f[F];if(!Y.da&&Y.listener==_&&Y.capture==!!b&&Y.ha==S)return F}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Qe={};function de(f,_,b,S,F){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)de(f,_[Y],b,S,F);return null}return b=cu(b),f&&f[fe]?f.J(_,b,h(S)?!!S.capture:!1,F):ra(f,_,b,!1,S,F)}function ra(f,_,b,S,F,Y){if(!_)throw Error("Invalid event type");const ct=h(F)?!!F.capture:!!F;let Rt=sa(f);if(Rt||(f[Ft]=Rt=new mt(f)),b=Rt.add(_,b,S,ct,Y),b.proxy)return b;if(S=yo(),b.proxy=S,S.src=f,S.listener=b,f.addEventListener)U||(F=ct),F===void 0&&(F=!1),f.addEventListener(_.toString(),S,F);else if(f.attachEvent)f.attachEvent(Ni(_.toString()),S);else if(f.addListener&&f.removeListener)f.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return b}function yo(){function f(b){return _.call(f.src,f.listener,b)}const _=lu;return f}function _o(f,_,b,S,F){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)_o(f,_[Y],b,S,F);else S=h(S)?!!S.capture:!!S,b=cu(b),f&&f[fe]?(f=f.i,Y=String(_).toString(),Y in f.g&&(_=f.g[Y],b=Vt(_,b,S,F),b>-1&&(pt(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete f.g[Y],f.h--)))):f&&(f=sa(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Vt(_,b,S,F)),(b=f>-1?_[f]:null)&&vo(b))}function vo(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[fe])At(_.i,f);else{var b=f.type,S=f.proxy;_.removeEventListener?_.removeEventListener(b,S,f.capture):_.detachEvent?_.detachEvent(Ni(b),S):_.addListener&&_.removeListener&&_.removeListener(S),(b=sa(_))?(At(b,f),b.h==0&&(b.src=null,_[Ft]=null)):pt(f)}}}function Ni(f){return f in Qe?Qe[f]:Qe[f]="on"+f}function lu(f,_){if(f.da)f=!0;else{_=new Yt(_,this);const b=f.listener,S=f.ha||f.src;f.fa&&vo(f),f=b.call(S,_)}return f}function sa(f){return f=f[Ft],f instanceof mt?f:null}var uu="__closure_events_fn_"+(Math.random()*1e9>>>0);function cu(f){return typeof f=="function"?f:(f[uu]||(f[uu]=function(_){return f.handleEvent(_)}),f[uu])}function Pe(){O.call(this),this.i=new mt(this),this.M=this,this.G=null}v(Pe,O),Pe.prototype[fe]=!0,Pe.prototype.removeEventListener=function(f,_,b,S){_o(this,f,_,b,S)};function Xe(f,_){var b,S=f.G;if(S)for(b=[];S;S=S.G)b.push(S);if(f=f.M,S=_.type||_,typeof _=="string")_=new M(_,f);else if(_ instanceof M)_.target=_.target||f;else{var F=_;_=new M(S,f),ft(_,F)}F=!0;let Y,ct;if(b)for(ct=b.length-1;ct>=0;ct--)Y=_.g=b[ct],F=Xr(Y,S,!0,_)&&F;if(Y=_.g=f,F=Xr(Y,S,!0,_)&&F,F=Xr(Y,S,!1,_)&&F,b)for(ct=0;ct<b.length;ct++)Y=_.g=b[ct],F=Xr(Y,S,!1,_)&&F}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var f=this.i;for(const _ in f.g){const b=f.g[_];for(let S=0;S<b.length;S++)pt(b[S]);delete f.g[_],f.h--}}this.G=null},Pe.prototype.J=function(f,_,b,S){return this.i.add(String(f),_,!1,b,S)},Pe.prototype.K=function(f,_,b,S){return this.i.add(String(f),_,!0,b,S)};function Xr(f,_,b,S){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let Y=0;Y<_.length;++Y){const ct=_[Y];if(ct&&!ct.da&&ct.capture==b){const Rt=ct.listener,Re=ct.ha||ct.src;ct.fa&&At(f.i,ct),F=Rt.call(Re,S)!==!1&&F}}return F&&!S.defaultPrevented}function rp(f,_){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=p(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(f,_||0)}function Oh(f){f.g=rp(()=>{f.g=null,f.i&&(f.i=!1,Oh(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class wn extends O{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Oh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(f){O.call(this),this.h=f,this.g={}}v(aa,O);var hu=[];function fu(f){Dt(f.g,function(_,b){this.g.hasOwnProperty(b)&&vo(_)},f),f.g={}}aa.prototype.N=function(){aa.Z.N.call(this),fu(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wr=u.JSON.stringify,sp=u.JSON.parse,Nh=class{stringify(f){return u.JSON.stringify(f,void 0)}parse(f){return u.JSON.parse(f,void 0)}};function kh(){}function Lh(){}var mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){M.call(this,"d")}v(ln,M);function $n(){M.call(this,"c")}v($n,M);var xe={},Uh=null;function To(){return Uh=Uh||new Pe}xe.Ia="serverreachability";function Bh(f){M.call(this,xe.Ia,f)}v(Bh,M);function ki(f){const _=To();Xe(_,new Bh(_))}xe.STAT_EVENT="statevent";function oa(f,_){M.call(this,xe.STAT_EVENT,f),this.stat=_}v(oa,M);function Oe(f){const _=To();Xe(_,new oa(_,f))}xe.Ja="timingevent";function Li(f,_){M.call(this,xe.Ja,f),this.size=_}v(Li,M);function Ui(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){f()},_)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function ap(f,_,b,S,F,Y){f.info(function(){if(f.g)if(Y){var ct="",Rt=Y.split("&");for(let Qt=0;Qt<Rt.length;Qt++){var Re=Rt[Qt].split("=");if(Re.length>1){const me=Re[0];Re=Re[1];const ei=me.split("_");ct=ei.length>=2&&ei[1]=="type"?ct+(me+"="+Re+"&"):ct+(me+"=redacted&")}}}else ct=null;else ct=Y;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+_+`
`+b+`
`+ct})}function zh(f,_,b,S,F,Y,ct){f.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+_+`
`+b+`
`+Y+" "+ct})}function Bi(f,_,b,S){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+op(f,b)+(S?" "+S:"")})}function la(f,_){f.info(function(){return"TIMEOUT: "+_})}pi.prototype.info=function(){};function op(f,_){if(!f.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(f=0;f<Y.length;f++)if(Array.isArray(Y[f])){var b=Y[f];if(!(b.length<2)){var S=b[1];if(Array.isArray(S)&&!(S.length<1)){var F=S[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ct=1;ct<S.length;ct++)S[ct]=""}}}}return Wr(Y)}catch{return _}}var ua={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},du={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mu;function ca(){}v(ca,kh),ca.prototype.g=function(){return new XMLHttpRequest},mu=new ca;function gr(f){return encodeURIComponent(String(f))}function jh(f){var _=1;f=f.split(":");const b=[];for(;_>0&&f.length;)b.push(f.shift()),_--;return f.length&&b.push(f.join(":")),b}function gi(f,_,b,S){this.j=f,this.i=_,this.l=b,this.S=S||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var Ne={},tn={};function zi(f,_,b){f.M=1,f.A=ha(Le(_)),f.u=b,f.R=!0,Eo(f,null)}function Eo(f,_){f.F=Date.now(),ji(f),f.B=Le(f.A);var b=f.B,S=f.S;Array.isArray(S)||(S=[String(S)]),Ao(b.i,"t",S),f.C=0,b=f.j.L,f.h=new yi,f.g=nf(f.j,b?_:null,!f.u),f.P>0&&(f.O=new wn(p(f.Y,f,f.g),f.P)),_=f.V,b=f.g,S=f.ba;var F="readystatechange";Array.isArray(F)||(F&&(hu[0]=F.toString()),F=hu);for(let Y=0;Y<F.length;Y++){const ct=de(b,F[Y],S||_.handleEvent,!1,_.h||_);if(!ct)break;_.g[ct.key]=ct}_=f.J?k(f.J):{},f.u?(f.v||(f.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,_)):(f.v="GET",f.g.ea(f.B,f.v,null,_)),ki(),ap(f.i,f.v,f.B,f.l,f.S,f.u)}gi.prototype.ba=function(f){f=f.target;const _=this.O;_&&Ti(f)==3?_.j():this.Y(f)},gi.prototype.Y=function(f){try{if(f==this.g)t:{const Rt=Ti(this.g),Re=this.g.ya(),Qt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Rt!=4||Re==7||(Re==8||Qt<=0?ki(3):ki(2)),Fi(this);var _=this.g.ca();this.X=_;var b=lp(this);if(this.o=_==200,zh(this.i,this.v,this.B,this.l,this.S,Rt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var S,F=this.g;if((S=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var Y=S;break e}}Y=null}if(f=Y)Bi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qi(this,f);else{this.o=!1,this.m=3,Oe(12),Un(this),Zn(this);break t}}if(this.R){f=!0;let me;for(;!this.K&&this.C<b.length;)if(me=qh(this,b),me==tn){Rt==4&&(this.m=4,Oe(14),f=!1),Bi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ne){this.m=4,Oe(15),Bi(this.i,this.l,b,"[Invalid Chunk]"),f=!1;break}else Bi(this.i,this.l,me,null),qi(this,me);if(Fh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||b.length!=0||this.h.h||(this.m=1,Oe(16),f=!1),this.o=this.o&&f,!f)Bi(this.i,this.l,b,"[Invalid Chunked Response]"),Un(this),Zn(this);else if(b.length>0&&!this.W){this.W=!0;var ct=this.j;ct.g==this&&ct.aa&&!ct.P&&(ct.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Cu(ct),ct.P=!0,Oe(11))}}else Bi(this.i,this.l,b,null),qi(this,b);Rt==4&&Un(this),this.o&&!this.K&&(Rt==4?Zh(this.j,this):(this.o=!1,ji(this)))}else _r(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),Un(this),Zn(this)}}}catch{}};function lp(f){if(!Fh(f))return f.g.la();const _=un(f.g);if(_==="")return"";let b="";const S=_.length,F=Ti(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return Un(f),Zn(f),"";f.h.i=new u.TextDecoder}for(let Y=0;Y<S;Y++)f.h.h=!0,b+=f.h.i.decode(_[Y],{stream:!(F&&Y==S-1)});return _.length=0,f.h.g+=b,f.C=0,f.h.g}function Fh(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function qh(f,_){var b=f.C,S=_.indexOf(`
`,b);return S==-1?tn:(b=Number(_.substring(b,S)),isNaN(b)?Ne:(S+=1,S+b>_.length?tn:(_=_.slice(S,S+b),f.C=S+b,_)))}gi.prototype.cancel=function(){this.K=!0,Un(this)};function ji(f){f.T=Date.now()+f.H,bo(f,f.H)}function bo(f,_){if(f.D!=null)throw Error("WatchDog timer not null");f.D=Ui(p(f.aa,f),_)}function Fi(f){f.D&&(u.clearTimeout(f.D),f.D=null)}gi.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(la(this.i,this.B),this.M!=2&&(ki(),Oe(17)),Un(this),this.m=2,Zn(this)):bo(this,this.T-f)};function Zn(f){f.j.I==0||f.K||Zh(f.j,f)}function Un(f){Fi(f);var _=f.O;_&&typeof _.dispose=="function"&&_.dispose(),f.O=null,fu(f.V),f.g&&(_=f.g,f.g=null,_.abort(),_.dispose())}function qi(f,_){try{var b=f.j;if(b.I!=0&&(b.g==f||Gi(b.h,f))){if(!f.L&&Gi(b.h,f)&&b.I==3){try{var S=b.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<f.F)Do(b),rs(b);else break t;_a(b),Oe(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Ui(p(b.Va,b),6e3));Hi(b.h)<=1&&b.ta&&(b.ta=void 0)}else $i(b,11)}else if((f.L||b.g==f)&&Do(b),!C(_))for(F=b.Ba.g.parse(_),_=0;_<F.length;_++){let Qt=F[_];const me=Qt[0];if(!(me<=b.K))if(b.K=me,Qt=Qt[1],b.I==2)if(Qt[0]=="c"){b.M=Qt[1],b.ba=Qt[2];const ei=Qt[3];ei!=null&&(b.ka=ei,b.j.info("VER="+b.ka));const Zi=Qt[4];Zi!=null&&(b.za=Zi,b.j.info("SVER="+b.za));const Ei=Qt[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(S=1.5*Ei,b.O=S,b.j.info("backChannelRequestTimeoutMs_="+S)),S=b;const bi=f.g;if(bi){const va=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(va){var Y=S.h;Y.g||va.indexOf("spdy")==-1&&va.indexOf("quic")==-1&&va.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(yu(Y,Y.h),Y.h=null))}if(S.G){const Vo=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;Vo&&(S.wa=Vo,$t(S.J,S.G,Vo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-f.F,b.j.info("Handshake RTT: "+b.T+"ms")),S=b;var ct=f;if(S.na=ef(S,S.L?S.ba:null,S.W),ct.L){_u(S.h,ct);var Rt=ct,Re=S.O;Re&&(Rt.H=Re),Rt.D&&(Fi(Rt),ji(Rt)),S.g=ct}else Wh(S);b.i.length>0&&Wi(b)}else Qt[0]!="stop"&&Qt[0]!="close"||$i(b,7);else b.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?$i(b,7):xu(b):Qt[0]!="noop"&&b.l&&b.l.qa(Qt),b.A=0)}}ki(4)}catch{}}var ke=class{constructor(f,_){this.g=f,this.map=_}};function pu(f){this.l=f||10,u.PerformanceNavigationTiming?(f=u.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gu(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Hi(f){return f.h?1:f.g?f.g.size:0}function Gi(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function yu(f,_){f.g?f.g.add(_):f.h=_}function _u(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}pu.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function vu(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const b of f.g.values())_=_.concat(b.G);return _}return A(f.i)}var Hh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(f,_){if(f){f=f.split("&");for(let b=0;b<f.length;b++){const S=f[b].indexOf("=");let F,Y=null;S>=0?(F=f[b].substring(0,S),Y=f[b].substring(S+1)):F=f[b],_(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Bn(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;f instanceof Bn?(this.l=f.l,en(this,f.j),this.o=f.o,this.g=f.g,$r(this,f.u),this.h=f.h,Tu(this,Qh(f.i)),this.m=f.m):f&&(_=String(f).match(Hh))?(this.l=!1,en(this,_[1]||"",!0),this.o=Ki(_[2]||""),this.g=Ki(_[3]||"",!0),$r(this,_[4]),this.h=Ki(_[5]||"",!0),Tu(this,_[6]||"",!0),this.m=Ki(_[7]||"")):(this.l=!1,this.i=new Jr(null,this.l))}Bn.prototype.toString=function(){const f=[];var _=this.j;_&&f.push(fa(_,So,!0),":");var b=this.g;return(b||_=="file")&&(f.push("//"),(_=this.o)&&f.push(fa(_,So,!0),"@"),f.push(gr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&f.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(fa(b,b.charAt(0)=="/"?Eu:Gh,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",fa(b,Kh)),f.join("")},Bn.prototype.resolve=function(f){const _=Le(this);let b=!!f.j;b?en(_,f.j):b=!!f.o,b?_.o=f.o:b=!!f.g,b?_.g=f.g:b=f.u!=null;var S=f.h;if(b)$r(_,f.u);else if(b=!!f.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var F=_.h.lastIndexOf("/");F!=-1&&(S=_.h.slice(0,F+1)+S)}if(F=S,F==".."||F==".")S="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){S=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let ct=0;ct<F.length;){const Rt=F[ct++];Rt=="."?S&&ct==F.length&&Y.push(""):Rt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),S&&ct==F.length&&Y.push("")):(Y.push(Rt),S=!0)}S=Y.join("/")}else S=F}return b?_.h=S:b=f.i.toString()!=="",b?Tu(_,Qh(f.i)):b=!!f.m,b&&(_.m=f.m),_};function Le(f){return new Bn(f)}function en(f,_,b){f.j=b?Ki(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function $r(f,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);f.u=_}else f.u=null}function Tu(f,_,b){_ instanceof Jr?(f.i=_,Io(f.i,f.l)):(b||(_=fa(_,Zr)),f.i=new Jr(_,f.l))}function $t(f,_,b){f.i.set(_,b)}function ha(f){return $t(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ki(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fa(f,_,b){return typeof f=="string"?(f=encodeURI(f).replace(_,Cn),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Cn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var So=/[#\/\?@]/g,Gh=/[#\?:]/g,Eu=/[#\?]/g,Zr=/[#\?@]/g,Kh=/#/g;function Jr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Dn(f){f.g||(f.g=new Map,f.h=0,f.i&&wo(f.i,function(_,b){f.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=Jr.prototype,n.add=function(f,_){Dn(this),this.i=null,f=ts(this,f);let b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(_),this.h+=1,this};function Yh(f,_){Dn(f),_=ts(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function bu(f,_){return Dn(f),_=ts(f,_),f.g.has(_)}n.forEach=function(f,_){Dn(this),this.g.forEach(function(b,S){b.forEach(function(F){f.call(_,F,S,this)},this)},this)};function wu(f,_){Dn(f);let b=[];if(typeof _=="string")bu(f,_)&&(b=b.concat(f.g.get(ts(f,_))));else for(f=Array.from(f.g.values()),_=0;_<f.length;_++)b=b.concat(f[_]);return b}n.set=function(f,_){return Dn(this),this.i=null,f=ts(this,f),bu(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},n.get=function(f,_){return f?(f=wu(this,f),f.length>0?String(f[0]):_):_};function Ao(f,_,b){Yh(f,_),b.length>0&&(f.i=null,f.g.set(ts(f,_),A(b)),f.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var b=_[S];const F=gr(b);b=wu(this,b);for(let Y=0;Y<b.length;Y++){let ct=F;b[Y]!==""&&(ct+="="+gr(b[Y])),f.push(ct)}}return this.i=f.join("&")};function Qh(f){const _=new Jr;return _.i=f.i,f.g&&(_.g=new Map(f.g),_.h=f.h),_}function ts(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function Io(f,_){_&&!f.j&&(Dn(f),f.i=null,f.g.forEach(function(b,S){const F=S.toLowerCase();S!=F&&(Yh(this,S),Ao(this,F,b))},f)),f.j=_}function _i(f,_){const b=new pi;if(u.Image){const S=new Image;S.onload=y(Jn,b,"TestLoadImage: loaded",!0,_,S),S.onerror=y(Jn,b,"TestLoadImage: error",!1,_,S),S.onabort=y(Jn,b,"TestLoadImage: abort",!1,_,S),S.ontimeout=y(Jn,b,"TestLoadImage: timeout",!1,_,S),u.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=f}else _(!1)}function Su(f,_){const b=new pi,S=new AbortController,F=setTimeout(()=>{S.abort(),Jn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:S.signal}).then(Y=>{clearTimeout(F),Y.ok?Jn(b,"TestPingServer: ok",!0,_):Jn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Jn(b,"TestPingServer: error",!1,_)})}function Jn(f,_,b,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(b)}catch{}}function es(){this.g=new Nh}function Yi(f){this.i=f.Sb||null,this.h=f.ab||!1}v(Yi,kh),Yi.prototype.g=function(){return new da(this.i,this.h)};function da(f,_){Pe.call(this),this.H=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(da,Pe),n=da.prototype,n.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=_,this.readyState=1,vi(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(_.body=f),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ns(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;xo(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function xo(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ns(this):vi(this),this.readyState==3&&xo(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,ns(this))},n.Na=function(f){this.g&&(this.response=f,ns(this))},n.ga=function(){this.g&&ns(this)};function ns(f){f.readyState=4,f.l=null,f.j=null,f.B=null,vi(f)}n.setRequestHeader=function(f,_){this.A.append(f,_)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=_.next();return f.join(`\r
`)};function vi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ti(f){let _="";return Dt(f,function(b,S){_+=S,_+=":",_+=b,_+=`\r
`}),_}function ma(f,_,b){t:{for(S in b){var S=!1;break t}S=!0}S||(b=ti(b),typeof f=="string"?b!=null&&gr(b):$t(f,_,b))}function re(f){Pe.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(re,Pe);var Qi=/^https?$/i,Au=["POST","PUT"];n=re.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,_,b,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Y){pa(this,Y);return}if(f=b||"",b=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)b.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())b.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=u.FormData&&f instanceof u.FormData,!(Array.prototype.indexOf.call(Au,_,void 0)>=0)||S||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ct]of b)this.g.setRequestHeader(Y,ct);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Y){pa(this,Y)}};function pa(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.o=5,Iu(f),yr(f)}function Iu(f){f.A||(f.A=!0,Xe(f,"complete"),Xe(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Xe(this,"complete"),Xe(this,"abort"),yr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yr(this,!0)),re.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ga(this):this.Xa())},n.Xa=function(){ga(this)};function ga(f){if(f.h&&typeof l<"u"){if(f.v&&Ti(f)==4)setTimeout(f.Ca.bind(f),0);else if(Xe(f,"readystatechange"),Ti(f)==4){f.h=!1;try{const Y=f.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var S;if(S=Y===0){let ct=String(f.D).match(Hh)[1]||null;!ct&&u.self&&u.self.location&&(ct=u.self.location.protocol.slice(0,-1)),S=!Qi.test(ct?ct.toLowerCase():"")}b=S}if(b)Xe(f,"complete"),Xe(f,"success");else{f.o=6;try{var F=Ti(f)>2?f.g.statusText:""}catch{F=""}f.l=F+" ["+f.ca()+"]",Iu(f)}}finally{yr(f)}}}}function yr(f,_){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const b=f.g;f.g=null,_||Xe(f,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ti(f){return f.g?f.g.readyState:0}n.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),sp(_)}};function un(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function _r(f){const _={};f=(f.g&&Ti(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<f.length;S++){if(C(f[S]))continue;var b=jh(f[S]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=_[F]||[];_[F]=Y,Y.push(b)}kt(_,function(S){return S.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(f,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||_}function is(f){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xi("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xi("baseRetryDelayMs",5e3,f),this.Za=Xi("retryDelaySeedMs",1e4,f),this.Ta=Xi("forwardChannelMaxRetries",2,f),this.va=Xi("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new pu(f&&f.concurrentRequestLimit),this.Ba=new es,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=is.prototype,n.ka=8,n.I=1,n.connect=function(f,_,b,S){Oe(0),this.W=f,this.H=_||{},b&&S!==void 0&&(this.H.OSID=b,this.H.OAID=S),this.F=this.X,this.J=ef(this,null,this.W),Wi(this)};function xu(f){if(Ro(f),f.I==3){var _=f.V++,b=Le(f.J);if($t(b,"SID",f.M),$t(b,"RID",_),$t(b,"TYPE","terminate"),ya(f,b),_=new gi(f,f.j,_),_.M=2,_.A=ha(Le(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=nf(_.j,null),_.g.ea(_.A)),_.F=Date.now(),ji(_)}tf(f)}function rs(f){f.g&&(Cu(f),f.g.cancel(),f.g=null)}function Ro(f){rs(f),f.v&&(u.clearTimeout(f.v),f.v=null),Do(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&u.clearTimeout(f.m),f.m=null)}function Wi(f){if(!gu(f.h)&&!f.m){f.m=!0;var _=f.Ea;nt||I(),lt||(nt(),lt=!0),x.add(_,f),f.D=0}}function Co(f,_){return Hi(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=_.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=Ui(p(f.Ea,f,_),Jh(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const F=new gi(this,this.j,f);let Y=this.o;if(this.U&&(Y?(Y=k(Y),ft(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var S=this.i[b];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Xh(this,F,_),b=Le(this.J),$t(b,"RID",f),$t(b,"CVER",22),this.G&&$t(b,"X-HTTP-Session-Id",this.G),ya(this,b),Y&&(this.R?_="headers="+gr(ti(Y))+"&"+_:this.u&&ma(b,this.u,Y)),yu(this.h,F),this.Ra&&$t(b,"TYPE","init"),this.S?($t(b,"$req",_),$t(b,"SID","null"),F.U=!0,zi(F,b,null)):zi(F,b,_),this.I=2}}else this.I==3&&(f?Ru(this,f):this.i.length==0||gu(this.h)||Ru(this))};function Ru(f,_){var b;_?b=_.l:b=f.V++;const S=Le(f.J);$t(S,"SID",f.M),$t(S,"RID",b),$t(S,"AID",f.K),ya(f,S),f.u&&f.o&&ma(S,f.u,f.o),b=new gi(f,f.j,b,f.D+1),f.u===null&&(b.J=f.o),_&&(f.i=_.G.concat(f.i)),_=Xh(f,b,1e3),b.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),yu(f.h,b),zi(b,S,_)}function ya(f,_){f.H&&Dt(f.H,function(b,S){$t(_,S,b)}),f.l&&Dt({},function(b,S){$t(_,S,b)})}function Xh(f,_,b){b=Math.min(f.i.length,b);const S=f.l?p(f.l.Ka,f.l,f):null;t:{var F=f.i;let Rt=-1;for(;;){const Re=["count="+b];Rt==-1?b>0?(Rt=F[0].g,Re.push("ofs="+Rt)):Rt=0:Re.push("ofs="+Rt);let Qt=!0;for(let me=0;me<b;me++){var Y=F[me].g;const ei=F[me].map;if(Y-=Rt,Y<0)Rt=Math.max(0,F[me].g-100),Qt=!1;else try{Y="req"+Y+"_"||"";try{var ct=ei instanceof Map?ei:Object.entries(ei);for(const[Zi,Ei]of ct){let bi=Ei;h(Ei)&&(bi=Wr(Ei)),Re.push(Y+Zi+"="+encodeURIComponent(bi))}}catch(Zi){throw Re.push(Y+"type="+encodeURIComponent("_badmap")),Zi}}catch{S&&S(ei)}}if(Qt){ct=Re.join("&");break t}}ct=void 0}return f=f.i.splice(0,b),_.G=f,ct}function Wh(f){if(!f.g&&!f.v){f.Y=1;var _=f.Da;nt||I(),lt||(nt(),lt=!0),x.add(_,f),f.A=0}}function _a(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=Ui(p(f.Da,f),Jh(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,$h(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=Ui(p(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),rs(this),$h(this))};function Cu(f){f.B!=null&&(u.clearTimeout(f.B),f.B=null)}function $h(f){f.g=new gi(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var _=Le(f.na);$t(_,"RID","rpc"),$t(_,"SID",f.M),$t(_,"AID",f.K),$t(_,"CI",f.F?"0":"1"),!f.F&&f.ia&&$t(_,"TO",f.ia),$t(_,"TYPE","xmlhttp"),ya(f,_),f.u&&f.o&&ma(_,f.u,f.o),f.O&&(f.g.H=f.O);var b=f.g;f=f.ba,b.M=1,b.A=ha(Le(_)),b.u=null,b.R=!0,Eo(b,f)}n.Va=function(){this.C!=null&&(this.C=null,rs(this),_a(this),Oe(19))};function Do(f){f.C!=null&&(u.clearTimeout(f.C),f.C=null)}function Zh(f,_){var b=null;if(f.g==_){Do(f),Cu(f),f.g=null;var S=2}else if(Gi(f.h,_))b=_.G,_u(f.h,_),S=1;else return;if(f.I!=0){if(_.o)if(S==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var F=f.D;S=To(),Xe(S,new Li(S,b)),Wi(f)}else Wh(f);else if(F=_.m,F==3||F==0&&_.X>0||!(S==1&&Co(f,_)||S==2&&_a(f)))switch(b&&b.length>0&&(_=f.h,_.i=_.i.concat(b)),F){case 1:$i(f,5);break;case 4:$i(f,10);break;case 3:$i(f,6);break;default:$i(f,2)}}}function Jh(f,_){let b=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(b*=2),b*_}function $i(f,_){if(f.j.info("Error code "+_),_==2){var b=p(f.bb,f),S=f.Ua;const F=!S;S=new Bn(S||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||en(S,"https"),ha(S),F?_i(S.toString(),b):Su(S.toString(),b)}else Oe(2);f.I=0,f.l&&f.l.pa(_),tf(f),Ro(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function tf(f){if(f.I=0,f.ja=[],f.l){const _=vu(f.h);(_.length!=0||f.i.length!=0)&&(D(f.ja,_),D(f.ja,f.i),f.h.i.length=0,A(f.i),f.i.length=0),f.l.oa()}}function ef(f,_,b){var S=b instanceof Bn?Le(b):new Bn(b);if(S.g!="")_&&(S.g=_+"."+S.g),$r(S,S.u);else{var F=u.location;S=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const Y=new Bn(null);S&&en(Y,S),_&&(Y.g=_),F&&$r(Y,F),b&&(Y.h=b),S=Y}return b=f.G,_=f.wa,b&&_&&$t(S,b,_),$t(S,"VER",f.ka),ya(f,S),S}function nf(f,_,b){if(_&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Aa&&!f.ma?new re(new Yi({ab:b})):new re(f.ma),_.Fa(f.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function rf(){}n=rf.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ss(){}ss.prototype.g=function(f,_){return new Sn(f,_)};function Sn(f,_){Pe.call(this),this.g=new is(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(f?f["X-WebChannel-Client-Profile"]=_.sa:f={"X-WebChannel-Client-Profile":_.sa}),this.g.U=f,(f=_&&_.Qb)&&!C(f)&&(this.g.u=f),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!C(_)&&(this.g.G=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new vr(this)}v(Sn,Pe),Sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){xu(this.g)},Sn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.v&&(b={},b.__data__=Wr(f),f=b);_.i.push(new ke(_.Ya++,f)),_.I==3&&Wi(_)},Sn.prototype.N=function(){this.g.l=null,delete this.j,xu(this.g),delete this.g,Sn.Z.N.call(this)};function sf(f){ln.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){t:{for(const b in _){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}v(sf,ln);function af(){$n.call(this),this.status=1}v(af,$n);function vr(f){this.g=f}v(vr,rf),vr.prototype.ra=function(){Xe(this.g,"a")},vr.prototype.qa=function(f){Xe(this.g,new sf(f))},vr.prototype.pa=function(f){Xe(this.g,new af)},vr.prototype.oa=function(){Xe(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,JI=function(){return new ss},ZI=function(){return To()},$I=xe,$y={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ua.NO_ERROR=0,ua.TIMEOUT=8,ua.HTTP_ERROR=6,xd=ua,du.COMPLETE="complete",WI=du,Lh.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,Sc=Lh,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,XI=re}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let nu="12.9.0";function k4(n){nu=n}const so=new $_("@firebase/firestore");function ml(){return so.logLevel}function at(n,...t){if(so.logLevel<=Bt.DEBUG){const e=t.map(c0);so.debug(`Firestore (${nu}): ${n}`,...e)}}function In(n,...t){if(so.logLevel<=Bt.ERROR){const e=t.map(c0);so.error(`Firestore (${nu}): ${n}`,...e)}}function Qs(n,...t){if(so.logLevel<=Bt.WARN){const e=t.map(c0);so.warn(`Firestore (${nu}): ${n}`,...e)}}function c0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function dt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,tx(n,i,e)}function tx(n,t,e){let i=`FIRESTORE (${nu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw In(i),new Error(i)}function _t(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||tx(t,a,i)}function St(n,t){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends Kr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class ex{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class L4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(pn.UNAUTHENTICATED)))}shutdown(){}}class U4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class B4{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_t(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let l=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cr,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},h=m=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cr)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new ex(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class z4{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class j4{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new z4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Gw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_t(this.o===void 0,3512);const i=l=>{l.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,at("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Gw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Gw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function q4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class h0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=q4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function It(n,t){return n<t?-1:n>t?1:0}function Zy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return gy(a)===gy(l)?It(a,l):gy(a)?1:-1}return It(n.length,t.length)}const H4=55296,G4=57343;function gy(n){const t=n.charCodeAt(0);return t>=H4&&t<=G4}function kl(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function nx(n){return n+"\0"}const Kw="__name__";class rr{constructor(t,e,i){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&dt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return rr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof rr?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=rr.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const i=rr.isNumericId(t),a=rr.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?rr.extractNumericId(t).compare(rr.extractNumericId(e)):Zy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qs.fromString(t.substring(4,t.length-2))}}class Ht extends rr{construct(t,e,i){return new Ht(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ut(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const K4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Te extends rr{construct(t,e,i){return new Te(t,e,i)}static isValidIdentifier(t){return K4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Te.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kw}static keyField(){return new Te([Kw])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new ut(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ut(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new ut(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Te(e)}static emptyPath(){return new Te([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Ht.fromString(t))}static fromName(t){return new ht(Ht.fromString(t).popFirst(5))}static empty(){return new ht(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Ht(t.slice()))}}function ix(n,t,e){if(!e)throw new ut(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Y4(n,t,e,i){if(t===!0&&i===!0)throw new ut(W.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Yw(n){if(!ht.isDocumentKey(n))throw new ut(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Qw(n){if(ht.isDocumentKey(n))throw new ut(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Vm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":dt(12329,{type:typeof n})}function Br(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ut(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Vm(n);throw new ut(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function He(n,t){const e={typeString:n};return t&&(e.value=t),e}function _h(n,t){if(!rx(n))throw new ut(W.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new ut(W.INVALID_ARGUMENT,e);return!0}const Xw=-62135596800,Ww=1e6;class ee{static now(){return ee.fromMillis(Date.now())}static fromDate(t){return ee.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Ww);return new ee(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ut(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Xw)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ww}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ee._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(_h(t,ee._jsonSchema))return new ee(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Xw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ee._jsonSchemaVersion="firestore/timestamp/1.0",ee._jsonSchema={type:He("string",ee._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ee(0,0))}static max(){return new Tt(new ee(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Yc=-1;class rm{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function Jy(n){return n.fields.find((t=>t.kind===2))}function Ba(n){return n.fields.filter((t=>t.kind!==2))}rm.UNKNOWN_ID=-1;class Rd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Qc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Qc(0,Wn.min())}}function Q4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(i===1e9?new ee(e+1,0):new ee(e,i));return new Wn(a,ht.empty(),t)}function sx(n){return new Wn(n.readTime,n.key,Yc)}class Wn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Wn(Tt.min(),ht.empty(),Yc)}static max(){return new Wn(Tt.max(),ht.empty(),Yc)}}function f0(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const ax="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ox{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function mo(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==ax)throw n;at("LocalStore","Unexpectedly lost primary lease")}class j{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new j(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof j?e:j.resolve(e)}catch(e){return j.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):j.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):j.reject(e)}static resolve(t){return new j(((e,i)=>{e(t)}))}static reject(t){return new j(((e,i)=>{i(t)}))}static waitFor(t){return new j(((e,i)=>{let a=0,l=0,u=!1;t.forEach((h=>{++a,h.next((()=>{++l,u&&l===a&&e()}),(m=>i(m)))})),u=!0,l===a&&e()}))}static or(t){let e=j.resolve(!1);for(const i of t)e=e.next((a=>a?j.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new j(((i,a)=>{const l=t.length,u=new Array(l);let h=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next((y=>{u[p]=y,++h,h===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new j(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}const Yn="SimpleDb";class Mm{static open(t,e,i,a){try{return new Mm(e,t.transaction(a,i))}catch(l){throw new Pc(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new cr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Pc(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=d0(i.target.error);this.S.reject(new Pc(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(at(Yn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new W4(e)}}class Hs{static delete(t){return at(Yn,"Removing database:",t),Fa(tI().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!uI())return!1;if(Hs.F())return!0;const t=Ze(),e=Hs.M(t),i=0<e&&e<10,a=lx(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,Hs.M(Ze())===12.2&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(at(Yn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new Pc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new ut(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ut(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Pc(t,u))},a.onupgradeneeded=l=>{at(Yn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{at(Yn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const h=Mm.open(this.db,t,l?"readonly":"readwrite",i),m=a(h).next((p=>(h.C(),p))).catch((p=>(h.abort(p),j.reject(p)))).toPromise();return m.catch((()=>{})),await h.D,m}catch(h){const m=h,p=m.name!=="FirebaseError"&&u<3;if(at(Yn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function lx(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class X4{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return Fa(this.U.delete())}}class Pc extends ut{constructor(t,e){super(W.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ea(n){return n.name==="IndexedDbTransactionError"}class W4{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(at(Yn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(at(Yn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Fa(i)}add(t){return at(Yn,"ADD",this.store.name,t,t),Fa(this.store.add(t))}get(t){return Fa(this.store.get(t)).next((e=>(e===void 0&&(e=null),at(Yn,"GET",this.store.name,t,e),e)))}delete(t){return at(Yn,"DELETE",this.store.name,t),Fa(this.store.delete(t))}count(){return at(Yn,"COUNT",this.store.name),Fa(this.store.count())}H(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new j(((u,h)=>{l.onerror=m=>{h(m.target.error)},l.onsuccess=m=>{u(m.target.result)}}))}{const l=this.cursor(i),u=[];return this.J(l,((h,m)=>{u.push(m)})).next((()=>u))}}Z(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new j(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(t,e){at(Yn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const a=this.cursor(i);return this.J(a,((l,u,h)=>h.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.J(a,e)}te(t){const e=this.cursor({});return new j(((i,a)=>{e.onerror=l=>{const u=d0(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((h=>{h?u.continue():i()})):i()}}))}J(t,e){const i=[];return new j(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void a();const m=new X4(h),p=e(h.primaryKey,h.value,m);if(p instanceof j){const y=p.catch((v=>(m.done(),j.reject(v))));i.push(y)}m.isDone?a():m.G===null?h.continue():h.continue(m.G)}})).next((()=>j.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Fa(n){return new j(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=d0(i.target.error);e(a)}}))}let $w=!1;function d0(n){const t=Hs.M(Ze());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return $w||($w=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Oc="IndexBackfiller";class $4{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){at(Oc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();at(Oc,`Documents written: ${e}`)}catch(e){ea(e)?at(Oc,"Ignoring IndexedDB error during index backfill: ",e):await mo(e)}await this.re(6e4)}))}}class Z4{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return j.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return at(Oc,`Processing collection: ${u}`),this.oe(t,u,a).next((h=>{a-=h,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((h=>(at(Oc,`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=sx(l);f0(u,i)>0&&(i=u)})),new Wn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ci{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ci.ce=-1;const Za=-1;function vh(n){return n==null}function Xc(n){return n===0&&1/n==-1/0}function J4(n){return typeof n=="number"&&Number.isInteger(n)&&!Xc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const sm="";function bn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Zw(t)),t=t3(n.get(e),t);return Zw(t)}function t3(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case sm:e+="";break;default:e+=l}}return e}function Zw(n){return n+sm+""}function or(n){const t=n.length;if(_t(t>=2,64408,{path:n}),t===2)return _t(n.charAt(0)===sm&&n.charAt(1)==="",56145,{path:n}),Ht.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(sm,l);switch((u<0||u>e)&&dt(50515,{path:n}),n.charAt(u+1)){case"":const h=n.substring(l,u);let m;a.length===0?m=h:(a+=h,m=a,a=""),i.push(m);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:dt(61167,{path:n})}l=u+2}return new Ht(i)}const za="remoteDocuments",Th="owner",ll="owner",Wc="mutationQueues",e3="userId",Ri="mutations",Jw="batchId",Ya="userMutationsIndex",t1=["userId","batchId"];function Cd(n,t){return[n,bn(t)]}function ux(n,t,e){return[n,bn(t),e]}const n3={},Ll="documentMutations",am="remoteDocumentsV14",i3=["prefixPath","collectionGroup","readTime","documentId"],Dd="documentKeyIndex",r3=["prefixPath","collectionGroup","documentId"],cx="collectionGroupIndex",s3=["collectionGroup","readTime","prefixPath","documentId"],$c="remoteDocumentGlobal",t_="remoteDocumentGlobalKey",Ul="targets",hx="queryTargetsIndex",a3=["canonicalId","targetId"],Bl="targetDocuments",o3=["targetId","path"],m0="documentTargetsIndex",l3=["path","targetId"],om="targetGlobalKey",Ja="targetGlobal",Zc="collectionParents",u3=["collectionId","parent"],zl="clientMetadata",c3="clientId",Pm="bundles",h3="bundleId",Om="namedQueries",f3="name",p0="indexConfiguration",d3="indexId",e_="collectionGroupIndex",m3="collectionGroup",Nc="indexState",p3=["indexId","uid"],fx="sequenceNumberIndex",g3=["uid","sequenceNumber"],kc="indexEntries",y3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],dx="documentKeyIndex",_3=["indexId","uid","orderedDocumentKey"],Nm="documentOverlays",v3=["userId","collectionPath","documentId"],n_="collectionPathOverlayIndex",T3=["userId","collectionPath","largestBatchId"],mx="collectionGroupOverlayIndex",E3=["userId","collectionGroup","largestBatchId"],g0="globals",b3="name",px=[Wc,Ri,Ll,za,Ul,Th,Ja,Bl,zl,$c,Zc,Pm,Om],w3=[...px,Nm],gx=[Wc,Ri,Ll,am,Ul,Th,Ja,Bl,zl,$c,Zc,Pm,Om,Nm],yx=gx,y0=[...yx,p0,Nc,kc],S3=y0,_x=[...y0,g0],A3=_x;class i_ extends ox{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Je(n,t){const e=St(n);return Hs.O(e.le,t)}function e1(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function na(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class _e{constructor(t,e){this.comparator=t,this.root=e||gn.EMPTY}insert(t,e){return new _e(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new fd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new fd(this.root,t,this.comparator,!1)}getReverseIterator(){return new fd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new fd(this.root,t,this.comparator,!0)}}class fd{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new gn(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new gn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ie{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new n1(this.data.getIterator())}getIteratorFrom(t){return new n1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof ie)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ie(this.comparator);return e.data=t,e}}class n1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ul(n){return n.hasNext()?n.getNext():void 0}class Ln{constructor(t){this.fields=t,t.sort(Te.comparator)}static empty(){return new Ln([])}unionWith(t){let e=new ie(Te.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ln(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return kl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Tx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new Tx("Invalid base64 string: "+l):l}})(t);return new Ye(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new Ye(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const I3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(n){if(_t(!!n,39018),typeof n=="string"){let t=0;const e=I3.exec(n);if(_t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ge(n.seconds),nanos:ge(n.nanos)}}function ge(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Hr(n){return typeof n=="string"?Ye.fromBase64String(n):Ye.fromUint8Array(n)}const Ex="server_timestamp",bx="__type__",wx="__previous_value__",Sx="__local_write_time__";function _0(n){return(n?.mapValue?.fields||{})[bx]?.stringValue===Ex}function km(n){const t=n.mapValue.fields[wx];return _0(t)?km(t):t}function Jc(n){const t=qr(n.mapValue.fields[Sx].timestampValue);return new ee(t.seconds,t.nanos)}class x3{constructor(t,e,i,a,l,u,h,m,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const lm="(default)";class ao{constructor(t,e){this.projectId=t,this.database=e||lm}static empty(){return new ao("","")}get isDefaultDatabase(){return this.database===lm}isEqual(t){return t instanceof ao&&t.projectId===this.projectId&&t.database===this.database}}function R3(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ut(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ao(n.options.projectId,t)}const v0="__type__",Ax="__max__",Us={mapValue:{fields:{__type__:{stringValue:Ax}}}},T0="__vector__",jl="value",Vd={nullValue:"NULL_VALUE"};function Xs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?_0(n)?4:Ix(n)?9007199254740991:Lm(n)?10:11:dt(28295,{value:n})}function mr(n,t){if(n===t)return!0;const e=Xs(n);if(e!==Xs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Jc(n).isEqual(Jc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=qr(a.timestampValue),h=qr(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Hr(a.bytesValue).isEqual(Hr(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return ge(a.geoPointValue.latitude)===ge(l.geoPointValue.latitude)&&ge(a.geoPointValue.longitude)===ge(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return ge(a.integerValue)===ge(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=ge(a.doubleValue),h=ge(l.doubleValue);return u===h?Xc(u)===Xc(h):isNaN(u)&&isNaN(h)}return!1})(n,t);case 9:return kl(n.arrayValue.values||[],t.arrayValue.values||[],mr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(e1(u)!==e1(h))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(h[m]===void 0||!mr(u[m],h[m])))return!1;return!0})(n,t);default:return dt(52216,{left:n})}}function th(n,t){return(n.values||[]).find((e=>mr(e,t)))!==void 0}function Ws(n,t){if(n===t)return 0;const e=Xs(n),i=Xs(t);if(e!==i)return It(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const h=ge(l.integerValue||l.doubleValue),m=ge(u.integerValue||u.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,t);case 3:return i1(n.timestampValue,t.timestampValue);case 4:return i1(Jc(n),Jc(t));case 5:return Zy(n.stringValue,t.stringValue);case 6:return(function(l,u){const h=Hr(l),m=Hr(u);return h.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const h=l.split("/"),m=u.split("/");for(let p=0;p<h.length&&p<m.length;p++){const y=It(h[p],m[p]);if(y!==0)return y}return It(h.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const h=It(ge(l.latitude),ge(u.latitude));return h!==0?h:It(ge(l.longitude),ge(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return r1(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const h=l.fields||{},m=u.fields||{},p=h[jl]?.arrayValue,y=m[jl]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:r1(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===Us.mapValue&&u===Us.mapValue)return 0;if(l===Us.mapValue)return 1;if(u===Us.mapValue)return-1;const h=l.fields||{},m=Object.keys(h),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const E=Zy(m[v],y[v]);if(E!==0)return E;const A=Ws(h[m[v]],p[y[v]]);if(A!==0)return A}return It(m.length,y.length)})(n.mapValue,t.mapValue);default:throw dt(23264,{he:e})}}function i1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=qr(n),i=qr(t),a=It(e.seconds,i.seconds);return a!==0?a:It(e.nanos,i.nanos)}function r1(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Ws(e[a],i[a]);if(l)return l}return It(e.length,i.length)}function Fl(n){return r_(n)}function r_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=qr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Hr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=r_(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${r_(e.fields[u])}`;return a+"}"})(n.mapValue):dt(61005,{value:n})}function Md(n){switch(Xs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=km(n);return t?16+Md(t):16;case 5:return 2*n.stringValue.length;case 6:return Hr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Md(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return na(i.fields,((l,u)=>{a+=l.length+Md(u)})),a})(n.mapValue);default:throw dt(13486,{value:n})}}function eh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function s_(n){return!!n&&"integerValue"in n}function nh(n){return!!n&&"arrayValue"in n}function s1(n){return!!n&&"nullValue"in n}function a1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pd(n){return!!n&&"mapValue"in n}function Lm(n){return(n?.mapValue?.fields||{})[v0]?.stringValue===T0}function Lc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return na(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Lc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Lc(n.arrayValue.values[e]);return t}return{...n}}function Ix(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Ax}const xx={mapValue:{fields:{[v0]:{stringValue:T0},[jl]:{arrayValue:{}}}}};function C3(n){return"nullValue"in n?Vd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?eh(ao.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Lm(n)?xx:{mapValue:{}}:dt(35942,{value:n})}function D3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?eh(ao.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?xx:"mapValue"in n?Lm(n)?{mapValue:{}}:Us:dt(61959,{value:n})}function o1(n,t){const e=Ws(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function l1(n,t){const e=Ws(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Pd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Lc(e)}setAll(t){let e=Te.emptyPath(),i={},a=[];t.forEach(((u,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,a),i={},a=[],e=h.popLast()}u?i[h.lastSegment()]=Lc(u):a.push(h.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Pd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Pd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){na(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new yn(Lc(this.value))}}function Rx(n){const t=[];return na(n.fields,((e,i)=>{const a=new Te([e]);if(Pd(i)){const l=Rx(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new Ln(t)}class ye{constructor(t,e,i,a,l,u,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(t){return new ye(t,0,Tt.min(),Tt.min(),Tt.min(),yn.empty(),0)}static newFoundDocument(t,e,i,a){return new ye(t,1,e,Tt.min(),i,a,0)}static newNoDocument(t,e){return new ye(t,2,e,Tt.min(),Tt.min(),yn.empty(),0)}static newUnknownDocument(t,e){return new ye(t,3,e,Tt.min(),Tt.min(),yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ye&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ql{constructor(t,e){this.position=t,this.inclusive=e}}function u1(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(u.referenceValue),e.key):i=Ws(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function c1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!mr(n.position[e],t.position[e]))return!1;return!0}class um{constructor(t,e="asc"){this.field=t,this.dir=e}}function V3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Cx{}class zt extends Cx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new M3(t,e,i):e==="array-contains"?new N3(t,i):e==="in"?new Nx(t,i):e==="not-in"?new k3(t,i):e==="array-contains-any"?new L3(t,i):new zt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new P3(t,i):new O3(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ws(e,this.value)):e!==null&&Xs(this.value)===Xs(e)&&this.matchesComparison(Ws(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ne extends Cx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ne(t,e)}matches(t){return Hl(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Hl(n){return n.op==="and"}function a_(n){return n.op==="or"}function E0(n){return Dx(n)&&Hl(n)}function Dx(n){for(const t of n.filters)if(t instanceof ne)return!1;return!0}function o_(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Fl(n.value);if(E0(n))return n.filters.map((t=>o_(t))).join(",");{const t=n.filters.map((e=>o_(e))).join(",");return`${n.op}(${t})`}}function Vx(n,t){return n instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&mr(i.value,a.value)})(n,t):n instanceof ne?(function(i,a){return a instanceof ne&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,h)=>l&&Vx(u,a.filters[h])),!0):!1})(n,t):void dt(19439)}function Mx(n,t){const e=n.filters.concat(t);return ne.create(e,n.op)}function Px(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Fl(e.value)}`})(n):n instanceof ne?(function(e){return e.op.toString()+" {"+e.getFilters().map(Px).join(" ,")+"}"})(n):"Filter"}class M3 extends zt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class P3 extends zt{constructor(t,e){super(t,"in",e),this.keys=Ox("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class O3 extends zt{constructor(t,e){super(t,"not-in",e),this.keys=Ox("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Ox(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class N3 extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return nh(e)&&th(e.arrayValue,this.value)}}class Nx extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&th(this.value.arrayValue,e)}}class k3 extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!th(this.value.arrayValue,e)}}class L3 extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!nh(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>th(this.value.arrayValue,i)))}}class U3{constructor(t,e=null,i=[],a=[],l=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Te=null}}function l_(n,t=null,e=[],i=[],a=null,l=null,u=null){return new U3(n,t,e,i,a,l,u)}function oo(n){const t=St(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>o_(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),vh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Fl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Fl(i))).join(",")),t.Te=e}return t.Te}function Eh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!V3(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Vx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!c1(n.startAt,t.startAt)&&c1(n.endAt,t.endAt)}function cm(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function hm(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function h1(n,t,e){let i=Vd,a=!0;for(const l of hm(n,t)){let u=Vd,h=!0;switch(l.op){case"<":case"<=":u=C3(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,h=!1;break;case"!=":case"not-in":u=Vd}o1({value:i,inclusive:a},{value:u,inclusive:h})<0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];o1({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function f1(n,t,e){let i=Us,a=!0;for(const l of hm(n,t)){let u=Us,h=!0;switch(l.op){case">=":case">":u=D3(l.value),h=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,h=!1;break;case"!=":case"not-in":u=Us}l1({value:i,inclusive:a},{value:u,inclusive:h})>0&&(i=u,a=h)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];l1({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}class bh{constructor(t,e=null,i=[],a=[],l=null,u="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function B3(n,t,e,i,a,l,u,h){return new bh(n,t,e,i,a,l,u,h)}function Um(n){return new bh(n)}function d1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function z3(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function kx(n){return n.collectionGroup!==null}function Uc(n){const t=St(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new ie(Te.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(h=h.add(p.field))}))})),h})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new um(l,i))})),e.has(Te.keyField().canonicalString())||t.Ie.push(new um(Te.keyField(),i))}return t.Ie}function fi(n){const t=St(n);return t.Ee||(t.Ee=j3(t,Uc(n))),t.Ee}function j3(n,t){if(n.limitType==="F")return l_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new um(a.field,l)}));const e=n.endAt?new ql(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new ql(n.startAt.position,n.startAt.inclusive):null;return l_(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function u_(n,t){const e=n.filters.concat([t]);return new bh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function c_(n,t,e){return new bh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Bm(n,t){return Eh(fi(n),fi(t))&&n.limitType===t.limitType}function Lx(n){return`${oo(fi(n))}|lt:${n.limitType}`}function pl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>Px(a))).join(", ")}]`),vh(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Fl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Fl(a))).join(",")),`Target(${i})`})(fi(n))}; limitType=${n.limitType})`}function wh(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Uc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,h,m){const p=u1(u,h,m);return u.inclusive?p<=0:p<0})(i.startAt,Uc(i),a)||i.endAt&&!(function(u,h,m){const p=u1(u,h,m);return u.inclusive?p>=0:p>0})(i.endAt,Uc(i),a))})(n,t)}function F3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Ux(n){return(t,e)=>{let i=!1;for(const a of Uc(n)){const l=q3(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function q3(n,t,e){const i=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,h){const m=u.data.field(l),p=h.data.field(l);return m!==null&&p!==null?Ws(m,p):dt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:n.dir})}}class Yr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){na(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return vx(this.inner)}size(){return this.innerSize}}const H3=new _e(ht.comparator);function Xn(){return H3}const Bx=new _e(ht.comparator);function Ac(...n){let t=Bx;for(const e of n)t=t.insert(e.key,e);return t}function zx(n){let t=Bx;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function lr(){return Bc()}function jx(){return Bc()}function Bc(){return new Yr((n=>n.toString()),((n,t)=>n.isEqual(t)))}const G3=new _e(ht.comparator),K3=new ie(ht.comparator);function Pt(...n){let t=K3;for(const e of n)t=t.add(e);return t}const Y3=new ie(It);function Q3(){return Y3}function b0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xc(t)?"-0":t}}function Fx(n){return{integerValue:""+n}}function X3(n,t){return J4(t)?Fx(t):b0(n,t)}class zm{constructor(){this._=void 0}}function W3(n,t,e){return n instanceof Gl?(function(a,l){const u={fields:{[bx]:{stringValue:Ex},[Sx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&_0(l)&&(l=km(l)),l&&(u.fields[wx]=l),{mapValue:u}})(e,t):n instanceof Kl?Hx(n,t):n instanceof Yl?Gx(n,t):(function(a,l){const u=qx(a,l),h=m1(u)+m1(a.Ae);return s_(u)&&s_(a.Ae)?Fx(h):b0(a.serializer,h)})(n,t)}function $3(n,t,e){return n instanceof Kl?Hx(n,t):n instanceof Yl?Gx(n,t):e}function qx(n,t){return n instanceof ih?(function(i){return s_(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Gl extends zm{}class Kl extends zm{constructor(t){super(),this.elements=t}}function Hx(n,t){const e=Kx(t);for(const i of n.elements)e.some((a=>mr(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Yl extends zm{constructor(t){super(),this.elements=t}}function Gx(n,t){let e=Kx(t);for(const i of n.elements)e=e.filter((a=>!mr(a,i)));return{arrayValue:{values:e}}}class ih extends zm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function m1(n){return ge(n.integerValue||n.doubleValue)}function Kx(n){return nh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yx{constructor(t,e){this.field=t,this.transform=e}}function Z3(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Kl&&a instanceof Kl||i instanceof Yl&&a instanceof Yl?kl(i.elements,a.elements,mr):i instanceof ih&&a instanceof ih?mr(i.Ae,a.Ae):i instanceof Gl&&a instanceof Gl})(n.transform,t.transform)}class J3{constructor(t,e){this.version=t,this.transformResults=e}}class sn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new sn}static exists(t){return new sn(void 0,t)}static updateTime(t){return new sn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Od(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class jm{}function Qx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Sh(n.key,sn.none()):new iu(n.key,n.data,sn.none());{const e=n.data,i=yn.empty();let a=new ie(Te.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Qr(n.key,i,new Ln(a.toArray()),sn.none())}}function t6(n,t,e){n instanceof iu?(function(a,l,u){const h=a.value.clone(),m=g1(a.fieldTransforms,l,u.transformResults);h.setAll(m),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Qr?(function(a,l,u){if(!Od(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=g1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(Xx(a)),m.setAll(h),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function zc(n,t,e,i){return n instanceof iu?(function(l,u,h,m){if(!Od(l.precondition,u))return h;const p=l.value.clone(),y=y1(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Qr?(function(l,u,h,m){if(!Od(l.precondition,u))return h;const p=y1(l.fieldTransforms,m,u),y=u.data;return y.setAll(Xx(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,u,h){return Od(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h})(n,t,e)}function e6(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=qx(i.transform,a||null);l!=null&&(e===null&&(e=yn.empty()),e.set(i.field,l))}return e||null}function p1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&kl(i,a,((l,u)=>Z3(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class iu extends jm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Qr extends jm{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Xx(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function g1(n,t,e){const i=new Map;_t(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,h=t.data.field(l.field);i.set(l.field,$3(u,h,e[a]))}return i}function y1(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,W3(l,u,t))}return i}class Sh extends jm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class w0 extends jm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class S0{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&t6(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=zc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=zc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=jx();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=e.has(a.key)?null:h;const m=Qx(u,h);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Tt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&kl(this.mutations,t.mutations,((e,i)=>p1(e,i)))&&kl(this.baseMutations,t.baseMutations,((e,i)=>p1(e,i)))}}class A0{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){_t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return G3})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new A0(t,e,i,a)}}class I0{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class n6{constructor(t,e){this.count=t,this.unchangedNames=e}}var Fe,qt;function Wx(n){switch(n){case W.OK:return dt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return dt(15467,{code:n})}}function $x(n){if(n===void 0)return In("GRPC error has no .code"),W.UNKNOWN;switch(n){case Fe.OK:return W.OK;case Fe.CANCELLED:return W.CANCELLED;case Fe.UNKNOWN:return W.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return W.INTERNAL;case Fe.UNAVAILABLE:return W.UNAVAILABLE;case Fe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Fe.NOT_FOUND:return W.NOT_FOUND;case Fe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Fe.ABORTED:return W.ABORTED;case Fe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Fe.DATA_LOSS:return W.DATA_LOSS;default:return dt(39323,{code:n})}}(qt=Fe||(Fe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function i6(){return new TextEncoder}const r6=new qs([4294967295,4294967295],0);function _1(n){const t=i6().encode(n),e=new QI;return e.update(t),new Uint8Array(e.digest())}function v1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new qs([e,i],0),new qs([a,l],0)]}class x0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ic(`Invalid padding: ${e}`);if(i<0)throw new Ic(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=qs.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(qs.fromNumber(i)));return a.compare(r6)===1&&(a=new qs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=_1(t),[i,a]=v1(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new x0(l,a,e);return i.forEach((h=>u.insert(h))),u}insert(t){if(this.ge===0)return;const e=_1(t),[i,a]=v1(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Fm{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,Ah.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Fm(Tt.min(),a,new _e(It),Xn(),Pt())}}class Ah{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Ah(i,e,Pt(),Pt(),Pt())}}class Nd{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class Zx{constructor(t,e){this.targetId=t,this.Ce=e}}class Jx{constructor(t,e,i=Ye.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class T1{constructor(){this.ve=0,this.Fe=E1(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),i=Pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:l})}})),new Ah(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=E1()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class s6{constructor(t){this.Ge=t,this.ze=new Map,this.je=Xn(),this.He=dd(),this.Je=dd(),this.Ze=new _e(It)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(cm(l))if(i===0){const u=new ht(l.path);this.et(e,u,ye.newNoDocument(u,Tt.min()))}else _t(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const h=this.ut(t),m=h?this.ct(h,t,u):1;if(m!==0){this.it(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,h;try{u=Hr(i).toUint8Array()}catch(m){if(m instanceof Tx)return Qs("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new x0(u,a,l)}catch(m){return Qs(m instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(h)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const h=this.ot(u);if(h){if(l.current&&cm(h.target)){const m=new ht(h.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,ye.newNoDocument(m,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let i=Pt();this.Je.forEach(((l,u)=>{let h=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new Fm(t,e,this.Ze,this.je,i);return this.je=Xn(),this.He=dd(),this.Je=dd(),this.Ze=new _e(It),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new T1,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ie(It),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ie(It),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new T1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function dd(){return new _e(ht.comparator)}function E1(){return new _e(ht.comparator)}const a6={asc:"ASCENDING",desc:"DESCENDING"},o6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},l6={and:"AND",or:"OR"};class u6{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function h_(n,t){return n.useProto3Json||vh(t)?t:{value:t}}function Ql(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function c6(n,t){return Ql(n,t.toTimestamp())}function an(n){return _t(!!n,49232),Tt.fromTimestamp((function(e){const i=qr(e);return new ee(i.seconds,i.nanos)})(n))}function R0(n,t){return f_(n,t).canonicalString()}function f_(n,t){const e=(function(a){return new Ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function eR(n){const t=Ht.fromString(n);return _t(cR(t),10190,{key:t.toString()}),t}function rh(n,t){return R0(n.databaseId,t.path)}function zr(n,t){const e=eR(t);if(e.get(1)!==n.databaseId.projectId)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ut(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(rR(e))}function nR(n,t){return R0(n.databaseId,t)}function iR(n){const t=eR(n);return t.length===4?Ht.emptyPath():rR(t)}function d_(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rR(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function b1(n,t,e){return{name:rh(n,t),fields:e.value.mapValue.fields}}function h6(n,t,e){const i=zr(n,t.name),a=an(t.updateTime),l=t.createTime?an(t.createTime):Tt.min(),u=new yn({mapValue:{fields:t.fields}}),h=ye.newFoundDocument(i,a,l,u);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function f6(n,t){return"found"in t?(function(i,a){_t(!!a.found,43571),a.found.name,a.found.updateTime;const l=zr(i,a.found.name),u=an(a.found.updateTime),h=a.found.createTime?an(a.found.createTime):Tt.min(),m=new yn({mapValue:{fields:a.found.fields}});return ye.newFoundDocument(l,u,h,m)})(n,t):"missing"in t?(function(i,a){_t(!!a.missing,3894),_t(!!a.readTime,22933);const l=zr(i,a.missing),u=an(a.readTime);return ye.newNoDocument(l,u)})(n,t):dt(7234,{result:t})}function d6(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(_t(y===void 0||typeof y=="string",58123),Ye.fromBase64String(y||"")):(_t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ye.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&(function(p){const y=p.code===void 0?W.UNKNOWN:$x(p.code);return new ut(y,p.message||"")})(u);e=new Jx(i,a,l,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=zr(n,i.document.name),l=an(i.document.updateTime),u=i.document.createTime?an(i.document.createTime):Tt.min(),h=new yn({mapValue:{fields:i.document.fields}}),m=ye.newFoundDocument(a,l,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];e=new Nd(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=zr(n,i.document),l=i.readTime?an(i.readTime):Tt.min(),u=ye.newNoDocument(a,l),h=i.removedTargetIds||[];e=new Nd([],h,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=zr(n,i.document),l=i.removedTargetIds||[];e=new Nd([],l,a,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new n6(a,l),h=i.targetId;e=new Zx(h,u)}}return e}function sh(n,t){let e;if(t instanceof iu)e={update:b1(n,t.key,t.value)};else if(t instanceof Sh)e={delete:rh(n,t.key)};else if(t instanceof Qr)e={update:b1(n,t.key,t.data),updateMask:v6(t.fieldMask)};else{if(!(t instanceof w0))return dt(16599,{dt:t.type});e={verify:rh(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const h=u.transform;if(h instanceof Gl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Yl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof ih)return{fieldPath:u.field.canonicalString(),increment:h.Ae};throw dt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:c6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:dt(27497)})(n,t.precondition)),e}function m_(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?sn.updateTime(an(l.updateTime)):l.exists!==void 0?sn.exists(l.exists):sn.none()})(t.currentDocument):sn.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,h){let m=null;if("setToServerValue"in h)_t(h.setToServerValue==="REQUEST_TIME",16630,{proto:h}),m=new Gl;else if("appendMissingElements"in h){const y=h.appendMissingElements.values||[];m=new Kl(y)}else if("removeAllFromArray"in h){const y=h.removeAllFromArray.values||[];m=new Yl(y)}else"increment"in h?m=new ih(u,h.increment):dt(16584,{proto:h});const p=Te.fromServerFormat(h.fieldPath);return new Yx(p,m)})(n,a))):[];if(t.update){t.update.name;const a=zr(n,t.update.name),l=new yn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(m){const p=m.fieldPaths||[];return new Ln(p.map((y=>Te.fromServerFormat(y))))})(t.updateMask);return new Qr(a,l,u,e,i)}return new iu(a,l,e,i)}if(t.delete){const a=zr(n,t.delete);return new Sh(a,e)}if(t.verify){const a=zr(n,t.verify);return new w0(a,e)}return dt(1463,{proto:t})}function m6(n,t){return n&&n.length>0?(_t(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?an(a.updateTime):an(l);return u.isEqual(Tt.min())&&(u=an(l)),new J3(u,a.transformResults||[])})(e,t)))):[]}function sR(n,t){return{documents:[nR(n,t.path)]}}function aR(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=nR(n,a);const l=(function(p){if(p.length!==0)return uR(ne.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:gl(E.field),direction:g6(E.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const h=h_(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function oR(n){let t=iR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){_t(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const E=lR(v);return E instanceof ne&&E0(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((E=>(function(D){return new um(yl(D.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(E)))})(e.orderBy));let h=null;e.limit&&(h=(function(v){let E;return E=typeof v=="object"?v.value:v,vh(E)?null:E})(e.limit));let m=null;e.startAt&&(m=(function(v){const E=!!v.before,A=v.values||[];return new ql(A,E)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const E=!v.before,A=v.values||[];return new ql(A,E)})(e.endAt)),B3(t,a,u,l,h,"F",m,p)}function p6(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function lR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=yl(e.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=yl(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=yl(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=yl(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(yl(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ne.create(e.compositeFilter.filters.map((i=>lR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(e.compositeFilter.op))})(n):dt(30097,{filter:n})}function g6(n){return a6[n]}function y6(n){return o6[n]}function _6(n){return l6[n]}function gl(n){return{fieldPath:n.canonicalString()}}function yl(n){return Te.fromServerFormat(n.fieldPath)}function uR(n){return n instanceof zt?(function(e){if(e.op==="=="){if(a1(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NAN"}};if(s1(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(a1(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NAN"}};if(s1(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(e.field),op:y6(e.op),value:e.value}}})(n):n instanceof ne?(function(e){const i=e.getFilters().map((a=>uR(a)));return i.length===1?i[0]:{compositeFilter:{op:_6(e.op),filters:i}}})(n):dt(54877,{filter:n})}function v6(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function cR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function hR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Ur{constructor(t,e,i,a,l=Tt.min(),u=Tt.min(),h=Ye.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(t){return new Ur(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fR{constructor(t){this.yt=t}}function T6(n,t){let e;if(t.document)e=h6(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),a=uo(t.noDocument.readTime);e=ye.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const i=ht.fromSegments(t.unknownDocument.path),a=uo(t.unknownDocument.version);e=ye.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new ee(a[0],a[1]);return Tt.fromTimestamp(l)})(t.readTime)),e}function w1(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:fm(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:rh(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Ql(l,u.version.toTimestamp()),createTime:Ql(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:lo(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:lo(t.version)}}return i}function fm(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function lo(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function uo(n){const t=new ee(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function qa(n,t){const e=(t.baseMutations||[]).map((l=>m_(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const h=t.mutations[l+1];u.updateTransforms=h.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>m_(n.yt,l))),a=ee.fromMillis(t.localWriteTimeMs);return new S0(t.batchId,a,e,i)}function xc(n){const t=uo(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?uo(n.lastLimboFreeSnapshotVersion):Tt.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return _t(u===1,1966,{count:u}),fi(Um(iR(l.documents[0])))})(n.query):(function(l){return fi(oR(l))})(n.query),new Ur(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ye.fromBase64String(n.resumeToken))}function dR(n,t){const e=lo(t.snapshotVersion),i=lo(t.lastLimboFreeSnapshotVersion);let a;a=cm(t.target)?sR(n.yt,t.target):aR(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oo(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function mR(n){const t=oR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?c_(t,t.limit,"L"):t}function yy(n,t){return new I0(t.largestBatchId,m_(n.yt,t.overlayMutation))}function S1(n,t){const e=t.path.lastSegment();return[n,bn(t.path.popLast()),e]}function A1(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:lo(i.readTime),documentKey:bn(i.documentKey.path),largestBatchId:i.largestBatchId}}class E6{getBundleMetadata(t,e){return I1(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:uo(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return I1(t).put((function(a){return{bundleId:a.id,createTime:lo(an(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return x1(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:mR(l.bundledQuery),readTime:uo(l.readTime)}})(i)}))}saveNamedQuery(t,e){return x1(t).put((function(a){return{name:a.name,readTime:lo(an(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function I1(n){return Je(n,Pm)}function x1(n){return Je(n,Om)}class qm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new qm(t,i)}getOverlay(t,e){return gc(t).get(S1(this.userId,e)).next((i=>i?yy(this.serializer,i):null))}getOverlays(t,e){const i=lr();return j.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const h=new I0(e,u);a.push(this.bt(t,h))})),j.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(bn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(gc(t).X(n_,h))})),j.waitFor(l)}getOverlaysForCollection(t,e,i){const a=lr(),l=bn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return gc(t).H(n_,u).next((h=>{for(const m of h){const p=yy(this.serializer,m);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=lr();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return gc(t).ee({index:mx,range:h},((m,p,y)=>{const v=yy(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return gc(t).put((function(a,l,u){const[h,m,p]=S1(l,u.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:sh(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function gc(n){return Je(n,Nm)}class b6{St(t){return Je(t,g0)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const i=e?.value;return i?Ye.fromUint8Array(i):Ye.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Ha{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(ge(t.integerValue));else if("doubleValue"in t){const i=ge(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),Xc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=qr(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Hr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?Ix(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Lm(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):dt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=jl,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(ge(l)),this.Ot(a,e),this.Ct(i[a],e)}qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.$t(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Ha.Wt=new Ha;const cl=255;function w6(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function R1(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=w6(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class S6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ht(i.value),i=e.next();this.Jt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),i=R1(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=R1(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(cl),this.sn(255)}_n(){this.an(cl),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===cl?(this.sn(cl),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===cl?(this.an(cl),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class A6{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class I6{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class yc{constructor(){this.cn=new S6,this.ascending=new A6(this.cn),this.descending=new I6(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ga{constructor(t,e,i,a){this.hn=t,this.Pn=e,this.Tn=i,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.In,0),e!==t?i.set([0],this.In.length):++i[i.length-1],new Ga(this.hn,this.Pn,this.Tn,i)}Rn(t,e,i){return{indexId:this.hn,uid:t,arrayValue:kd(this.Tn),directionalValue:kd(this.In),orderedDocumentKey:kd(e),documentKey:i.path.toArray()}}An(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ds(n,t){let e=n.hn-t.hn;return e!==0?e:(e=C1(n.Tn,t.Tn),e!==0?e:(e=C1(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function C1(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function kd(n){return lI()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function D1(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class V1{constructor(t){this.Vn=new ie(((e,i)=>Te.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=Jy(t);if(e!==void 0&&!this.pn(e))return!1;const i=Ba(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.pn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const h=this.Vn.getIterator().getNext();if(!a.has(h.field.canonicalString())){const m=i[l];if(!this.yn(h,m)||!this.wn(this.dn[u++],m))return!1}++l}for(;l<i.length;++l){const h=i[l];if(u>=this.dn.length||!this.wn(this.dn[u++],h))return!1}return!0}bn(){if(this.fn)return null;let t=new ie(Te.comparator);const e=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new Rd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Rd(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Rd(i.field,i.dir==="asc"?0:1)));return new rm(rm.UNKNOWN_ID,this.collectionId,e,Qc.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function pR(n){if(_t(n instanceof zt||n instanceof ne,20012),n instanceof zt){if(n instanceof Nx){const e=n.value.arrayValue?.values?.map((i=>zt.create(n.field,"==",i)))||[];return ne.create(e,"or")}return n}const t=n.filters.map((e=>pR(e)));return ne.create(t,n.op)}function x6(n){if(n.getFilters().length===0)return[];const t=y_(pR(n));return _t(gR(t),7391),p_(t)||g_(t)?[t]:t.getFilters()}function p_(n){return n instanceof zt}function g_(n){return n instanceof ne&&E0(n)}function gR(n){return p_(n)||g_(n)||(function(e){if(e instanceof ne&&a_(e)){for(const i of e.getFilters())if(!p_(i)&&!g_(i))return!1;return!0}return!1})(n)}function y_(n){if(_t(n instanceof zt||n instanceof ne,34018),n instanceof zt)return n;if(n.filters.length===1)return y_(n.filters[0]);const t=n.filters.map((i=>y_(i)));let e=ne.create(t,n.op);return e=dm(e),gR(e)?e:(_t(e instanceof ne,64498),_t(Hl(e),40251),_t(e.filters.length>1,57927),e.filters.reduce(((i,a)=>C0(i,a))))}function C0(n,t){let e;return _t(n instanceof zt||n instanceof ne,38388),_t(t instanceof zt||t instanceof ne,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return ne.create([a,l],"and")})(n,t):M1(n,t):t instanceof zt?M1(t,n):(function(a,l){if(_t(a.filters.length>0&&l.filters.length>0,48005),Hl(a)&&Hl(l))return Mx(a,l.getFilters());const u=a_(a)?a:l,h=a_(a)?l:a,m=u.filters.map((p=>C0(p,h)));return ne.create(m,"or")})(n,t),dm(e)}function M1(n,t){if(Hl(t))return Mx(t,n.getFilters());{const e=t.filters.map((i=>C0(n,i)));return ne.create(e,"or")}}function dm(n){if(_t(n instanceof zt||n instanceof ne,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return dm(t[0]);if(Dx(n))return n;const e=t.map((a=>dm(a))),i=[];return e.forEach((a=>{a instanceof zt?i.push(a):a instanceof ne&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:ne.create(i,n.op)}class R6{constructor(){this.Sn=new D0}addToCollectionParentIndex(t,e){return this.Sn.add(e),j.resolve()}getCollectionParents(t,e){return j.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return j.resolve()}deleteFieldIndex(t,e){return j.resolve()}deleteAllFieldIndexes(t){return j.resolve()}createTargetIndexes(t,e){return j.resolve()}getDocumentsMatchingTarget(t,e){return j.resolve(null)}getIndexType(t,e){return j.resolve(0)}getFieldIndexes(t,e){return j.resolve([])}getNextCollectionGroupToUpdate(t){return j.resolve(null)}getMinOffset(t,e){return j.resolve(Wn.min())}getMinOffsetFromCollectionGroup(t,e){return j.resolve(Wn.min())}updateCollectionGroup(t,e,i){return j.resolve()}updateIndexEntries(t,e){return j.resolve()}}class D0{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ie(Ht.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ie(Ht.comparator)).toArray()}}const P1="IndexedDbIndexManager",md=new Uint8Array(0);class C6{constructor(t,e){this.databaseId=e,this.Dn=new D0,this.Cn=new Yr((i=>oo(i)),((i,a)=>Eh(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:i,parent:bn(a)};return O1(t).put(l)}return j.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[nx(e),""],!1,!0);return O1(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(or(u.parent))}return i}))}addFieldIndex(t,e){const i=_c(t),a=(function(h){return{indexId:h.indexId,collectionGroup:h.collectionGroup,fields:h.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=fl(t);return l.next((h=>{u.put(A1(h,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=_c(t),a=fl(t),l=hl(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=_c(t),i=hl(t),a=fl(t);return e.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(t,e){return j.forEach(this.vn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new V1(i).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=hl(t);let a=!0;const l=new Map;return j.forEach(this.vn(e),(u=>this.Fn(t,u).next((h=>{a&&(a=!!h),l.set(u,h)})))).next((()=>{if(a){let u=Pt();const h=[];return j.forEach(l,((m,p)=>{at(P1,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((Z=>`${Z.fieldPath}:${Z.kind}`)).join(",")}`})(m)} to execute ${oo(e)}`);const y=(function(K,Z){const nt=Jy(Z);if(nt===void 0)return null;for(const lt of hm(K,nt.fieldPath))switch(lt.op){case"array-contains-any":return lt.value.arrayValue.values||[];case"array-contains":return[lt.value]}return null})(p,m),v=(function(K,Z){const nt=new Map;for(const lt of Ba(Z))for(const x of hm(K,lt.fieldPath))switch(x.op){case"==":case"in":nt.set(lt.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return nt.set(lt.fieldPath.canonicalString(),x.value),Array.from(nt.values())}return null})(p,m),E=(function(K,Z){const nt=[];let lt=!0;for(const x of Ba(Z)){const I=x.kind===0?h1(K,x.fieldPath,K.startAt):f1(K,x.fieldPath,K.startAt);nt.push(I.value),lt&&(lt=I.inclusive)}return new ql(nt,lt)})(p,m),A=(function(K,Z){const nt=[];let lt=!0;for(const x of Ba(Z)){const I=x.kind===0?f1(K,x.fieldPath,K.endAt):h1(K,x.fieldPath,K.endAt);nt.push(I.value),lt&&(lt=I.inclusive)}return new ql(nt,lt)})(p,m),D=this.Mn(m,p,E),L=this.Mn(m,p,A),P=this.xn(m,p,v),z=this.On(m.indexId,y,D,E.inclusive,L,A.inclusive,P);return j.forEach(z,(Q=>i.Z(Q,e.limit).next((K=>{K.forEach((Z=>{const nt=ht.fromSegments(Z.documentKey);u.has(nt)||(u=u.add(nt),h.push(nt))}))}))))})).next((()=>h))}return j.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=x6(ne.create(t.filters,"and")).map((i=>l_(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,i,a,l,u,h){const m=(e!=null?e.length:1)*Math.max(i.length,l.length),p=m/(e!=null?e.length:1),y=[];for(let v=0;v<m;++v){const E=e?this.Nn(e[v/p]):md,A=this.Bn(t,E,i[v%p],a),D=this.Ln(t,E,l[v%p],u),L=h.map((P=>this.Bn(t,E,P,!0)));y.push(...this.createRange(A,D,L))}return y}Bn(t,e,i,a){const l=new Ga(t,ht.empty(),e,i);return a?l:l.En()}Ln(t,e,i,a){const l=new Ga(t,ht.empty(),e,i);return a?l.En():l}Fn(t,e){const i=new V1(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const h of l)i.gn(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u}))}getIndexType(t,e){let i=2;const a=this.vn(e);return j.forEach(a,(l=>this.Fn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(m){let p=new ie(Te.comparator),y=!1;for(const v of m.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of m.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}kn(t,e){const i=new yc;for(const a of Ba(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.ln(a.kind);Ha.Wt.Dt(l,u)}return i.un()}Nn(t){const e=new yc;return Ha.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const i=new yc;return Ha.Wt.Dt(eh(this.databaseId,e),i.ln((function(l){const u=Ba(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}xn(t,e,i){if(i===null)return[];let a=[];a.push(new yc);let l=0;for(const u of Ba(t)){const h=i[l++];for(const m of a)if(this.qn(e,u.fieldPath)&&nh(h))a=this.Un(a,u,h);else{const p=m.ln(u.kind);Ha.Wt.Dt(h,p)}}return this.$n(a)}Mn(t,e,i){return this.xn(t,e,i.position)}$n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Un(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const h of a){const m=new yc;m.seed(h.un()),Ha.Wt.Dt(u,m.ln(e.kind)),l.push(m)}return l}qn(t,e){return!!t.filters.find((i=>i instanceof zt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=_c(t),a=fl(t);return(e?i.H(e_,IDBKeyRange.bound(e,e)):i.H()).next((l=>{const u=[];return j.forEach(l,(h=>a.get([h.indexId,this.uid]).next((m=>{u.push((function(y,v){const E=v?new Qc(v.sequenceNumber,new Wn(uo(v.readTime),new ht(or(v.documentKey)),v.largestBatchId)):Qc.empty(),A=y.fields.map((([D,L])=>new Rd(Te.fromServerFormat(D),L)));return new rm(y.indexId,y.collectionGroup,A,E)})(h,m))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=_c(t),l=fl(t);return this.Wn(t).next((u=>a.H(e_,IDBKeyRange.bound(e,e)).next((h=>j.forEach(h,(m=>l.put(A1(m.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return j.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?j.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((h=>(i.set(a.collectionGroup,h),j.forEach(h,(m=>this.Qn(t,a,m).next((p=>{const y=this.Gn(l,m);return p.isEqual(y)?j.resolve():this.zn(t,l,m,p,y)})))))))}))}jn(t,e,i,a){return hl(t).put(a.Rn(this.uid,this.Kn(i,e.key),e.key))}Hn(t,e,i,a){return hl(t).delete(a.An(this.uid,this.Kn(i,e.key),e.key))}Qn(t,e,i){const a=hl(t);let l=new ie(Ds);return a.ee({index:dx,range:IDBKeyRange.only([i.indexId,this.uid,kd(this.Kn(i,e))])},((u,h)=>{l=l.add(new Ga(i.indexId,e,D1(h.arrayValue),D1(h.directionalValue)))})).next((()=>l))}Gn(t,e){let i=new ie(Ds);const a=this.kn(e,t);if(a==null)return i;const l=Jy(e);if(l!=null){const u=t.data.field(l.fieldPath);if(nh(u))for(const h of u.arrayValue.values||[])i=i.add(new Ga(e.indexId,t.key,this.Nn(h),a))}else i=i.add(new Ga(e.indexId,t.key,md,a));return i}zn(t,e,i,a,l){at(P1,"Updating index entries for document '%s'",e.key);const u=[];return(function(m,p,y,v,E){const A=m.getIterator(),D=p.getIterator();let L=ul(A),P=ul(D);for(;L||P;){let z=!1,Q=!1;if(L&&P){const K=y(L,P);K<0?Q=!0:K>0&&(z=!0)}else L!=null?Q=!0:z=!0;z?(v(P),P=ul(D)):Q?(E(L),L=ul(A)):(L=ul(A),P=ul(D))}})(a,l,Ds,(h=>{u.push(this.jn(t,e,i,h))}),(h=>{u.push(this.Hn(t,e,i,h))})),j.waitFor(u)}Wn(t){let e=1;return fl(t).ee({index:fx,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,h)=>Ds(u,h))).filter(((u,h,m)=>!h||Ds(u,m[h-1])!==0));const a=[];a.push(t);for(const u of i){const h=Ds(u,t),m=Ds(u,e);if(h===0)a[0]=t.En();else if(h>0&&m<0)a.push(u),a.push(u.En());else if(m>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const h=a[u].An(this.uid,md,ht.empty()),m=a[u+1].An(this.uid,md,ht.empty());l.push(IDBKeyRange.bound(h,m))}return l}Jn(t,e){return Ds(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(N1)}getMinOffset(t,e){return j.mapArray(this.vn(e),(i=>this.Fn(t,i).next((a=>a||dt(44426))))).next(N1)}}function O1(n){return Je(n,Zc)}function hl(n){return Je(n,kc)}function _c(n){return Je(n,p0)}function fl(n){return Je(n,Nc)}function N1(n){_t(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;f0(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Wn(t.readTime,t.documentKey,e)}const k1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yR=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}function _R(n,t,e){const i=n.store(Ri),a=n.store(Ll),l=[],u=IDBKeyRange.only(e.batchId);let h=0;const m=i.ee({range:u},((y,v,E)=>(h++,E.delete())));l.push(m.next((()=>{_t(h===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=ux(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return j.waitFor(l).next((()=>p))}function mm(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw dt(14731);t=n.noDocument}return JSON.stringify(t).length}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(yR,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Hm{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(t,e,i,a){_t(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Hm(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vs(t).ee({index:Ya,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=_l(t),u=Vs(t);return u.add({}).next((h=>{_t(typeof h=="number",49019);const m=new S0(h,e,i,a),p=(function(A,D,L){const P=L.baseMutations.map((Q=>sh(A.yt,Q))),z=L.mutations.map((Q=>sh(A.yt,Q)));return{userId:D,batchId:L.batchId,localWriteTimeMs:L.localWriteTime.toMillis(),baseMutations:P,mutations:z}})(this.serializer,this.userId,m),y=[];let v=new ie(((E,A)=>It(E.canonicalString(),A.canonicalString())));for(const E of a){const A=ux(this.userId,E.key.path,h);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(l.put(A,n3))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[h]=m.keys()})),j.waitFor(y).next((()=>m))}))}lookupMutationBatch(t,e){return Vs(t).get(e).next((i=>i?(_t(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),qa(this.serializer,i)):null))}Xn(t,e){return this.Zn[e]?j.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Vs(t).ee({index:Ya,range:a},((u,h,m)=>{h.userId===this.userId&&(_t(h.batchId>=i,47524,{Yn:i}),l=qa(this.serializer,h)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Za;return Vs(t).ee({index:Ya,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,Za],[this.userId,Number.POSITIVE_INFINITY]);return Vs(t).H(Ya,e).next((i=>i.map((a=>qa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Cd(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return _l(t).ee({range:a},((u,h,m)=>{const[p,y,v]=u,E=or(y);if(p===this.userId&&e.path.isEqual(E))return Vs(t).get(v).next((A=>{if(!A)throw dt(61480,{er:u,batchId:v});_t(A.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:A.userId,batchId:v}),l.push(qa(this.serializer,A))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ie(It);const a=[];return e.forEach((l=>{const u=Cd(this.userId,l.path),h=IDBKeyRange.lowerBound(u),m=_l(t).ee({range:h},((p,y,v)=>{const[E,A,D]=p,L=or(A);E===this.userId&&l.path.isEqual(L)?i=i.add(D):v.done()}));a.push(m)})),j.waitFor(a).next((()=>this.tr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=Cd(this.userId,i),u=IDBKeyRange.lowerBound(l);let h=new ie(It);return _l(t).ee({range:u},((m,p,y)=>{const[v,E,A]=m,D=or(E);v===this.userId&&i.isPrefixOf(D)?D.length===a&&(h=h.add(A)):y.done()})).next((()=>this.tr(t,h)))}tr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(Vs(t).get(l).next((u=>{if(u===null)throw dt(35274,{batchId:l});_t(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(qa(this.serializer,u))})))})),j.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return _R(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),j.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return j.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return _l(t).ee({range:i},((l,u,h)=>{if(l[0]===this.userId){const m=or(l[1]);a.push(m)}else h.done()})).next((()=>{_t(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return vR(t,this.userId,e)}ir(t){return TR(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:Za,lastStreamToken:""}))}}function vR(n,t,e){const i=Cd(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return _l(n).ee({range:l,Y:!0},((h,m,p)=>{const[y,v,E]=h;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function Vs(n){return Je(n,Ri)}function _l(n){return Je(n,Ll)}function TR(n){return Je(n,Wc)}class co{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new co(0)}static ar(){return new co(-1)}}class D6{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const i=new co(e.highestTargetId);return e.highestTargetId=i.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Tt.fromTimestamp(new ee(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((i=>(i.targetCount+=1,this.hr(e,i),this.cr(t,i))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>dl(t).delete(e.targetId))).next((()=>this.ur(t))).next((i=>(_t(i.targetCount>0,8065),i.targetCount-=1,this.cr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return dl(t).ee(((u,h)=>{const m=xc(h);m.sequenceNumber<=e&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))})).next((()=>j.waitFor(l))).next((()=>a))}forEachTarget(t,e){return dl(t).ee(((i,a)=>{const l=xc(a);e(l)}))}ur(t){return L1(t).get(om).next((e=>(_t(e!==null,2888),e)))}cr(t,e){return L1(t).put(om,e)}lr(t,e){return dl(t).put(dR(this.serializer,e))}hr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const i=oo(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return dl(t).ee({range:a,index:hx},((u,h,m)=>{const p=xc(h);Eh(e,p.target)&&(l=p,m.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=Ls(t);return e.forEach((u=>{const h=bn(u.path);a.push(l.put({targetId:i,path:h})),a.push(this.referenceDelegate.addReference(t,i,u))})),j.waitFor(a)}removeMatchingKeys(t,e,i){const a=Ls(t);return j.forEach(e,(l=>{const u=bn(l.path);return j.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=Ls(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Ls(t);let l=Pt();return a.ee({range:i,Y:!0},((u,h,m)=>{const p=or(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=bn(e.path),a=IDBKeyRange.bound([i],[nx(i)],!1,!0);let l=0;return Ls(t).ee({index:m0,Y:!0,range:a},(([u,h],m,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return dl(t).get(e).next((i=>i?xc(i):null))}}function dl(n){return Je(n,Ul)}function L1(n){return Je(n,Ja)}function Ls(n){return Je(n,Bl)}const U1="LruGarbageCollector",V6=1048576;function B1([n,t],[e,i]){const a=It(n,e);return a===0?It(t,i):a}class M6{constructor(t){this.Pr=t,this.buffer=new ie(B1),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();B1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class ER{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(U1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ea(e)?at(U1,"Ignoring IndexedDB error during garbage collection: ",e):await mo(e)}await this.Ar(3e5)}))}}class P6{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return j.resolve(ci.ce);const i=new M6(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(k1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k1):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,l,u,h,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,h=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),ml()<=Bt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(m-h)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function bR(n,t){return new P6(n,t)}class O6{constructor(t,e){this.db=t,this.garbageCollector=bR(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((i,a)=>e(a)))}addReference(t,e,i){return pd(t,i)}removeReference(t,e,i){return pd(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return pd(t,e)}wr(t,e){return(function(a,l){let u=!1;return TR(a).te((h=>vR(a,h,l).next((m=>(m&&(u=!0),j.resolve(!m)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,h)=>{if(h<=e){const m=this.wr(t,u).next((p=>{if(!p)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,Tt.min()),Ls(t).delete((function(v){return[0,bn(v.path)]})(u)))))}));a.push(m)}})).next((()=>j.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return pd(t,e)}yr(t,e){const i=Ls(t);let a,l=ci.ce;return i.ee({index:m0},(([u,h],{path:m,sequenceNumber:p})=>{u===0?(l!==ci.ce&&e(new ht(or(a)),l),l=p,a=m):l=ci.ce})).next((()=>{l!==ci.ce&&e(new ht(or(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function pd(n,t){return Ls(n).put((function(i,a){return{targetId:0,path:bn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class wR{constructor(){this.changes=new Yr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ye.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?j.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class N6{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Na(t).put(i)}removeEntry(t,e,i){return Na(t).delete((function(l,u){const h=l.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],fm(u),h[h.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.br(t,i))))}getEntry(t,e){let i=ye.newInvalidDocument(e);return Na(t).ee({index:Dd,range:IDBKeyRange.only(vc(e))},((a,l)=>{i=this.Sr(e,l)})).next((()=>i))}Dr(t,e){let i={size:0,document:ye.newInvalidDocument(e)};return Na(t).ee({index:Dd,range:IDBKeyRange.only(vc(e))},((a,l)=>{i={document:this.Sr(e,l),size:mm(l)}})).next((()=>i))}getEntries(t,e){let i=Xn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);i=i.insert(a,u)})).next((()=>i))}vr(t,e){let i=Xn(),a=new _e(ht.comparator);return this.Cr(t,e,((l,u)=>{const h=this.Sr(l,u);i=i.insert(l,h),a=a.insert(l,mm(u))})).next((()=>({documents:i,Fr:a})))}Cr(t,e,i){if(e.isEmpty())return j.resolve();let a=new ie(F1);e.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(vc(a.first()),vc(a.last())),u=a.getIterator();let h=u.getNext();return Na(t).ee({index:Dd,range:l},((m,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;h&&F1(h,v)<0;)i(h,null),h=u.getNext();h&&h.isEqual(v)&&(i(h,p),h=u.hasNext()?u.getNext():null),h?y.j(vc(h)):y.done()})).next((()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,h=[u.popLast().toArray(),u.lastSegment(),fm(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Na(t).H(IDBKeyRange.bound(h,m,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=Xn();for(const v of p){const E=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(wh(e,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=Xn();const u=j1(e,i),h=j1(e,Wn.max());return Na(t).ee({index:cx,range:IDBKeyRange.bound(u,h,!0)},((m,p,y)=>{const v=this.Sr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new k6(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return z1(t).get(t_).next((e=>(_t(!!e,20021),e)))}br(t,e){return z1(t).put(t_,e)}Sr(t,e){if(e){const i=T6(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Tt.min())))return i}return ye.newInvalidDocument(t)}}function SR(n){return new N6(n)}class k6 extends wR{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new Yr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new ie(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const h=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,h.readTime)),u.isValidDocument()){const m=w1(this.Mr.serializer,u);a=a.add(l.path.popLast());const p=mm(m);i+=p-h.size,e.push(this.Mr.addEntry(t,l,m))}else if(i-=h.size,this.trackRemovals){const m=w1(this.Mr.serializer,u.convertToNoDocument(Tt.min()));e.push(this.Mr.addEntry(t,l,m))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,i)),j.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((i=>(this.Or.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:i,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function z1(n){return Je(n,$c)}function Na(n){return Je(n,am)}function vc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function j1(n,t){const e=t.documentKey.path.toArray();return[n,fm(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function F1(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=It(e[l],i[l]),a)return a;return a=It(e.length,i.length),a||(a=It(e[e.length-2],i[i.length-2]),a||It(e[e.length-1],i[i.length-1]))}class L6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class AR{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&zc(i.mutation,a,Ln.empty(),ee.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Pt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Pt()){const a=lr();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=Ac();return l.forEach(((h,m)=>{u=u.insert(h,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=lr();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Pt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,h)=>{e.set(u,h)}))}))}computeViews(t,e,i,a){let l=Xn();const u=Bc(),h=(function(){return Bc()})();return e.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Qr)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),zc(y.mutation,p,y.mutation.getFieldMask(),ee.now())):u.set(p.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>h.set(p,new L6(y,u.get(p)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Bc();let a=new _e(((u,h)=>u-h)),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const h of u)h.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let y=i.get(m)||Ln.empty();y=h.applyToLocalView(p,y),i.set(m,y);const v=(a.get(h.batchId)||Pt()).add(m);a=a.insert(h.batchId,v)}))})).next((()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),p=m.key,y=m.value,v=jx();y.forEach((E=>{if(!l.has(E)){const A=Qx(e.get(E),i.get(E));A!==null&&v.set(E,A),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return j.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return z3(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):kx(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):j.resolve(lr());let h=Yc,m=l;return u.next((p=>j.forEach(p,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?j.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Pt()))).next((y=>({batchId:h,changes:zx(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let a=Ac();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=Ac();return this.indexManager.getCollectionParents(t,l).next((h=>j.forEach(h,(m=>{const p=(function(v,E){return new bh(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ye.newInvalidDocument(y)))}));let h=Ac();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&zc(y.mutation,p,Ln.empty(),ee.now()),wh(e,p)&&(h=h.insert(m,p))})),h}))}}class U6{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return j.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:an(a.createTime)}})(e)),j.resolve()}getNamedQuery(t,e){return j.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:mR(a.bundledQuery),readTime:an(a.readTime)}})(e)),j.resolve()}}class B6{constructor(){this.overlays=new _e(ht.comparator),this.Lr=new Map}getOverlay(t,e){return j.resolve(this.overlays.get(e))}getOverlays(t,e){const i=lr();return j.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.bt(t,e,l)})),j.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),j.resolve()}getOverlaysForCollection(t,e,i){const a=lr(),l=e.length+1,u=new ht(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const m=h.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return j.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new _e(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=lr(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=lr(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>h.set(p,y))),!(h.size()>=a)););return j.resolve(h)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new I0(e,i));let l=this.Lr.get(e);l===void 0&&(l=Pt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(i.key))}}class z6{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return j.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,j.resolve()}}class V0{constructor(){this.kr=new ie(rn.Kr),this.qr=new ie(rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new rn(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new rn(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new ht(new Ht([])),i=new rn(e,t),a=new rn(e,t+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Ht([])),i=new rn(e,t),a=new rn(e,t+1);let l=Pt();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new rn(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class rn{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||It(t.Hr,e.Hr)}static Ur(t,e){return It(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class j6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ie(rn.Kr)}checkEmpty(t){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new S0(l,e,i,a);this.mutationQueue.push(u);for(const h of a)this.Jr=this.Jr.add(new rn(h.key,l)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return j.resolve(u)}lookupMutationBatch(t,e){return j.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),l=a<0?0:a;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Za:this.Yn-1)}getAllMutationBatches(t){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new rn(e,0),a=new rn(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const h=this.Zr(u.Hr);l.push(h)})),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ie(It);return e.forEach((a=>{const l=new rn(a,0),u=new rn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(h=>{i=i.add(h.Hr)}))})),j.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const u=new rn(new ht(l),0);let h=new ie(It);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(h=h.add(m.Hr)),!0)}),u),j.resolve(this.Yr(h))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){_t(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return j.forEach(e.mutations,(a=>{const l=new rn(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new rn(e,0),a=this.Jr.firstAfterOrEqual(i);return j.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,j.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class F6{constructor(t){this.ti=t,this.docs=(function(){return new _e(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return j.resolve(i?i.document.mutableCopy():ye.newInvalidDocument(e))}getEntries(t,e){let i=Xn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ye.newInvalidDocument(a))})),j.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Xn();const u=e.path,h=new ht(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||f0(sx(y),i)<=0||(a.has(y.key)||wh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(t,e,i,a){dt(9500)}ni(t,e){return j.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new q6(this)}getSize(t){return j.resolve(this.size)}}class q6 extends wR{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),j.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class H6{constructor(t){this.persistence=t,this.ri=new Yr((e=>oo(e)),Eh),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new V0,this.targetCount=0,this.oi=co._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),j.resolve()}getLastRemoteSnapshotVersion(t){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return j.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),j.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new co(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,j.resolve()}updateTargetData(t,e){return this.lr(e),j.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,j.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.ri.forEach(((u,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),j.waitFor(l).next((()=>a))}getTargetCount(t){return j.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return j.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),j.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),j.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),j.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return j.resolve(i)}containsKey(t,e){return j.resolve(this.si.containsKey(e))}}class M0{constructor(t,e){this._i={},this.overlays={},this.ai=new ci(0),this.ui=!1,this.ui=!0,this.ci=new z6,this.referenceDelegate=t(this),this.li=new H6(this),this.indexManager=new R6,this.remoteDocumentCache=(function(a){return new F6(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new fR(e),this.Pi=new U6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new B6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new j6(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const a=new G6(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return j.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class G6 extends ox{constructor(t){super(),this.currentSequenceNumber=t}}class Gm{constructor(t){this.persistence=t,this.Ri=new V0,this.Ai=null}static Vi(t){return new Gm(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),j.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),j.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),j.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,(i=>{const a=ht.fromPath(i);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return j.or([()=>j.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class pm{constructor(t,e){this.persistence=t,this.fi=new Yr((i=>bn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=bR(this,e)}static Vi(t,e){return new pm(t,e)}Ti(){}Ii(t){return j.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return j.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((l=>l?j.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((h=>{h||(i++,l.removeEntry(u,Tt.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),j.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),j.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),j.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),j.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Md(t.data.value)),e}wr(t,e,i){return j.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return j.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class K6{constructor(t){this.serializer=t}k(t,e,i,a){const l=new Mm("createOrUpgrade",e);i<1&&a>=1&&((function(m){m.createObjectStore(Th)})(t),(function(m){m.createObjectStore(Wc,{keyPath:e3}),m.createObjectStore(Ri,{keyPath:Jw,autoIncrement:!0}).createIndex(Ya,t1,{unique:!0}),m.createObjectStore(Ll)})(t),q1(t),(function(m){m.createObjectStore(za)})(t));let u=j.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(Bl),m.deleteObjectStore(Ul),m.deleteObjectStore(Ja)})(t),q1(t)),u=u.next((()=>(function(m){const p=m.store(Ja),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return p.put(om,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(m,p){return p.store(Ri).H().next((v=>{m.deleteObjectStore(Ri),m.createObjectStore(Ri,{keyPath:Jw,autoIncrement:!0}).createIndex(Ya,t1,{unique:!0});const E=p.store(Ri),A=v.map((D=>E.put(D)));return j.waitFor(A)}))})(t,l)))),u=u.next((()=>{(function(m){m.createObjectStore(zl,{keyPath:c3})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(m){m.createObjectStore($c)})(t),this.pi(l))))),i<7&&a>=7&&(u=u.next((()=>this.yi(l)))),i<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(m){m.createObjectStore(Pm,{keyPath:h3})})(t),(function(m){m.createObjectStore(Om,{keyPath:f3})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(m){const p=m.createObjectStore(Nm,{keyPath:v3});p.createIndex(n_,T3,{unique:!1}),p.createIndex(mx,E3,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(m){const p=m.createObjectStore(am,{keyPath:i3});p.createIndex(Dd,r3),p.createIndex(cx,s3)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(za)))),i<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(m){m.createObjectStore(p0,{keyPath:d3,autoIncrement:!0}).createIndex(e_,m3,{unique:!1}),m.createObjectStore(Nc,{keyPath:p3}).createIndex(fx,g3,{unique:!1}),m.createObjectStore(kc,{keyPath:y3}).createIndex(dx,_3,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(Nc).clear()})).next((()=>{e.objectStore(kc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(m){m.createObjectStore(g0,{keyPath:b3})})(t)}))),i<18&&a>=18&&lI()&&(u=u.next((()=>{e.objectStore(Nc).clear()})).next((()=>{e.objectStore(kc).clear()}))),u}pi(t){let e=0;return t.store(za).ee(((i,a)=>{e+=mm(a)})).next((()=>{const i={byteSize:e};return t.store($c).put(t_,i)}))}gi(t){const e=t.store(Wc),i=t.store(Ri);return e.H().next((a=>j.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,Za],[l.userId,l.lastAcknowledgedBatchId]);return i.H(Ya,u).next((h=>j.forEach(h,(m=>{_t(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=qa(this.serializer,m);return _R(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const e=t.store(Bl),i=t.store(za);return t.store(Ja).get(om).next((a=>{const l=[];return i.ee(((u,h)=>{const m=new Ht(u),p=(function(v){return[0,bn(v)]})(m);l.push(e.get(p).next((y=>y?j.resolve():(v=>e.put({targetId:0,path:bn(v),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>j.waitFor(l)))}))}wi(t,e){t.createObjectStore(Zc,{keyPath:u3});const i=e.store(Zc),a=new D0,l=u=>{if(a.add(u)){const h=u.lastSegment(),m=u.popLast();return i.put({collectionId:h,parent:bn(m)})}};return e.store(za).ee({Y:!0},((u,h)=>{const m=new Ht(u);return l(m.popLast())})).next((()=>e.store(Ll).ee({Y:!0},(([u,h,m],p)=>{const y=or(h);return l(y.popLast())}))))}bi(t){const e=t.store(Ul);return e.ee(((i,a)=>{const l=xc(a),u=dR(this.serializer,l);return e.put(u)}))}Si(t,e){const i=e.store(za),a=[];return i.ee(((l,u)=>{const h=e.store(am),m=(function(v){return v.document?new ht(Ht.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):dt(36783)})(u).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(h.put(p))})).next((()=>j.waitFor(a)))}Di(t,e){const i=e.store(Ri),a=SR(this.serializer),l=new M0(Gm.Vi,this.serializer.yt);return i.H().next((u=>{const h=new Map;return u.forEach((m=>{let p=h.get(m.userId)??Pt();qa(this.serializer,m).keys().forEach((y=>p=p.add(y))),h.set(m.userId,p)})),j.forEach(h,((m,p)=>{const y=new pn(p),v=qm.wt(this.serializer,y),E=l.getIndexManager(y),A=Hm.wt(y,this.serializer,E,l.referenceDelegate);return new AR(a,A,v,E).recalculateAndSaveOverlaysForDocumentKeys(new i_(e,ci.ce),m).next()}))}))}}function q1(n){n.createObjectStore(Bl,{keyPath:o3}).createIndex(m0,l3,{unique:!0}),n.createObjectStore(Ul,{keyPath:"targetId"}).createIndex(hx,a3,{unique:!0}),n.createObjectStore(Ja)}const Ms="IndexedDbPersistence",_y=18e5,vy=5e3,Ty="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Y6="main";class P0{constructor(t,e,i,a,l,u,h,m,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ci=l,this.window=u,this.document=h,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!P0.v())throw new ut(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new O6(this,a),this.Ki=e+Y6,this.serializer=new fR(m),this.qi=new Hs(this.Ki,this.xi,new K6(this.serializer)),this.ci=new b6,this.li=new D6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SR(this.serializer),this.Pi=new E6,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&In(Ms,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(W.FAILED_PRECONDITION,Ty);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new ci(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>gd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(ea(t))return at(Ms,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at(Ms,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return Tc(t).get(ll).next((e=>j.resolve(this.Xi(e))))}Yi(t){return gd(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,_y)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Je(e,zl);return i.H().next((a=>{const l=this.ns(a,_y),u=a.filter((h=>l.indexOf(h)===-1));return j.forEach(u,(h=>i.delete(h.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?j.resolve(!0):Tc(t).get(ll).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,vy)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new ut(W.FAILED_PRECONDITION,Ty);return!1}}return!(!this.networkEnabled||!this.inForeground)||gd(t).H().next((i=>this.ns(i,vy).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,h=this.networkEnabled===a.networkEnabled;if(l||u&&h)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&at(Ms,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Th,zl],(t=>{const e=new i_(t,ci.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((i=>this.ts(i.updateTimeMs,e)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>gd(t).H().next((e=>this.ns(e,_y).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Hm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new C6(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return qm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,i){at(Ms,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?A3:m===17?_x:m===16?S3:m===15?y0:m===14?yx:m===13?gx:m===12?w3:m===11?px:void dt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(h=>(u=new i_(h,this.ai?this.ai.next():ci.ce),e==="readwrite-primary"?this.ji(u).next((m=>!!m||this.Hi(u))).next((m=>{if(!m)throw In(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ut(W.FAILED_PRECONDITION,ax);return i(u)})).next((m=>this.Zi(u).next((()=>m)))):this.Ps(u).next((()=>i(u)))))).then((h=>(u.raiseOnCommittedEvent(),h)))}Ps(t){return Tc(t).get(ll).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,vy)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ut(W.FAILED_PRECONDITION,Ty)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tc(t).put(ll,e)}static v(){return Hs.v()}Ji(t){const e=Tc(t);return e.get(ll).next((i=>this.Xi(i)?(at(Ms,"Releasing primary lease."),e.delete(ll)):j.resolve()))}ts(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(In(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;oI()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return at(Ms,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return In(Ms,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){In("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Tc(n){return Je(n,Th)}function gd(n){return Je(n,zl)}function Q6(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class O0{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Pt(),a=Pt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new O0(t,e.fromCache,i,a)}}class X6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class IR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return oI()?8:lx(Ze())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new X6;return this.ys(t,e,u).next((h=>{if(l.result=h,this.As)return this.ws(t,e,u,h.size)}))})).next((()=>l.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(ml()<=Bt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",pl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(ml()<=Bt.DEBUG&&at("QueryEngine","Query:",pl(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(ml()<=Bt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",pl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(e))):j.resolve())}gs(t,e){if(d1(e))return j.resolve(null);let i=fi(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=c_(e,null,"F"),i=fi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Pt(...l);return this.fs.getDocuments(t,u).next((h=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.bs(e,h);return this.Ss(e,p,u,m.readTime)?this.gs(t,c_(e,null,"F")):this.Ds(t,p,e,m)}))))})))))}ps(t,e,i,a){return d1(e)||a.isEqual(Tt.min())?j.resolve(null):this.fs.getDocuments(t,i).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,i,a)?j.resolve(null):(ml()<=Bt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),pl(e)),this.Ds(t,u,e,Q4(a,Yc)).next((h=>h)))}))}bs(t,e){let i=new ie(Ux(t));return e.forEach(((a,l)=>{wh(t,l)&&(i=i.add(l))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,i){return ml()<=Bt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",pl(e)),this.fs.getDocumentsMatchingQuery(t,e,Wn.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const N0="LocalStore",W6=3e8;class $6{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new _e(It),this.Fs=new Yr((l=>oo(l)),Eh),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function xR(n,t,e,i){return new $6(n,t,e,i)}async function RR(n,t){const e=St(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],h=[];let m=Pt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){h.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:h})))}))}))}function Z6(n,t){const e=St(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(h,m,p,y){const v=p.batch,E=v.keys();let A=j.resolve();return E.forEach((D=>{A=A.next((()=>y.getEntry(m,D))).next((L=>{const P=p.docVersions.get(D);_t(P!==null,48541),L.version.compareTo(P)<0&&(v.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),y.addEntry(L)))}))})),A.next((()=>h.mutationQueue.removeMutationBatch(m,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let m=Pt();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(m=m.add(h.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function CR(n){const t=St(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function J6(n,t){const e=St(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const h=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;h.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let A=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?A=A.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(y.resumeToken,i)),a=a.insert(v,A),(function(L,P,z){return L.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=W6?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(E,A,y)&&h.push(e.li.updateTargetData(l,A))}));let m=Xn(),p=Pt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(tL(l,u,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!i.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));h.push(y)}return j.waitFor(h).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(e.vs=a,l)))}function tL(n,t,e){let i=Pt(),a=Pt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=Xn();return e.forEach(((h,m)=>{const p=l.get(h);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(h)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(t.removeEntry(h,m.readTime),u=u.insert(h,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),u=u.insert(h,m)):at(N0,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function eL(n,t){const e=St(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Za),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function nL(n,t){const e=St(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((l=>l?(a=l,j.resolve(a)):e.li.allocateTargetId(i).next((u=>(a=new Ur(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function __(n,t,e){const i=St(n),a=i.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ea(u))throw u;at(N0,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function H1(n,t,e){const i=St(n);let a=Tt.min(),l=Pt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=St(m),E=v.Fs.get(y);return E!==void 0?j.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(i,u,fi(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,h.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,e?a:Tt.min(),e?l:Pt()))).next((h=>(iL(i,F3(t),h),{documents:h,ks:l})))))}function iL(n,t,e){let i=n.Ms.get(t)||Tt.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(t,i)}class G1{constructor(){this.activeTargetIds=Q3()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DR{constructor(){this.vo=new G1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new G1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class rL{Mo(t){}shutdown(){}}const K1="ConnectivityMonitor";class Y1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(K1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(K1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let yd=null;function v_(){return yd===null?yd=(function(){return 268435456+Math.round(2147483648*Math.random())})():yd++,"0x"+yd.toString(16)}const Ey="RestConnection",sL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aL{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===lm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,l){const u=v_(),h=this.Qo(t,e.toUriEncodedString());at(Ey,`Sending RPC '${t}' ${u}:`,h,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(h),y=Jl(p);return this.zo(t,h,m,i,y).then((v=>(at(Ey,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Qs(Ey,`RPC '${t}' ${u} failed with error: `,v,"url: ",h,"request:",i),v}))}jo(t,e,i,a,l,u){return this.Wo(t,e,i,a,l)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const i=sL[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class oL{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const vn="WebChannelConnection",Ec=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Dl extends aL{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Dl.c_){const t=ZI();Ec(t,$I.STAT_EVENT,(e=>{e.stat===$y.PROXY?at(vn,"STAT_EVENT: detected buffering proxy"):e.stat===$y.NOPROXY&&at(vn,"STAT_EVENT: detected no buffering proxy")})),Dl.c_=!0}}zo(t,e,i,a,l){const u=v_();return new Promise(((h,m)=>{const p=new XI;p.setWithCredentials(!0),p.listenOnce(WI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case xd.NO_ERROR:const v=p.getResponseJson();at(vn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),h(v);break;case xd.TIMEOUT:at(vn,`RPC '${t}' ${u} timed out`),m(new ut(W.DEADLINE_EXCEEDED,"Request time out"));break;case xd.HTTP_ERROR:const E=p.getStatus();if(at(vn,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const D=A?.error;if(D&&D.status&&D.message){const L=(function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(Q)>=0?Q:W.UNKNOWN})(D.status);m(new ut(L,D.message))}else m(new ut(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ut(W.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{at(vn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);at(vn,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=v_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(h.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,e,i),h.encodeInitMessageHeaders=!0;const p=l.join("");at(vn,`Creating RPC '${t}' stream ${a}: ${p}`,h);const y=u.createWebChannel(p,h);this.I_(y);let v=!1,E=!1;const A=new oL({Ho:D=>{E?at(vn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(v||(at(vn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),at(vn,`RPC '${t}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return Ec(y,Sc.EventType.OPEN,(()=>{E||(at(vn,`RPC '${t}' stream ${a} transport opened.`),A.i_())})),Ec(y,Sc.EventType.CLOSE,(()=>{E||(E=!0,at(vn,`RPC '${t}' stream ${a} transport closed`),A.o_(),this.E_(y))})),Ec(y,Sc.EventType.ERROR,(D=>{E||(E=!0,Qs(vn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),A.o_(new ut(W.UNAVAILABLE,"The operation could not be completed")))})),Ec(y,Sc.EventType.MESSAGE,(D=>{if(!E){const L=D.data[0];_t(!!L,16349);const P=L,z=P?.error||P[0]?.error;if(z){at(vn,`RPC '${t}' stream ${a} received error:`,z);const Q=z.status;let K=(function(lt){const x=Fe[lt];if(x!==void 0)return $x(x)})(Q),Z=z.message;Q==="NOT_FOUND"&&Z.includes("database")&&Z.includes("does not exist")&&Z.includes(this.databaseId.database)&&Qs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=W.INTERNAL,Z="Unknown error status: "+Q+" with message "+z.message),E=!0,A.o_(new ut(K,Z)),y.close()}else at(vn,`RPC '${t}' stream ${a} received:`,L),A.__(L)}})),Dl.u_(),setTimeout((()=>{A.s_()}),0),A}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return JI()}}function lL(n){return new Dl(n)}function uL(){return typeof window<"u"?window:null}function Ld(){return typeof document<"u"?document:null}function Km(n){return new u6(n,!0)}Dl.c_=!1;class k0{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&at("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Q1="PersistentStream";class VR{constructor(t,e,i,a,l,u,h,m){this.Ci=t,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new k0(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===W.RESOURCE_EXHAUSTED?(In(e.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ut(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Q1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(at(Q1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cL extends VR{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=d6(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Tt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?an(u.readTime):Tt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=d_(this.serializer),e.addTarget=(function(l,u){let h;const m=u.target;if(h=cm(m)?{documents:sR(l,m)}:{query:aR(l,m).ft},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=tR(l,u.resumeToken);const p=h_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Tt.min())>0){h.readTime=Ql(l,u.snapshotVersion.toTimestamp());const p=h_(l,u.expectedCount);p!==null&&(h.expectedCount=p)}return h})(this.serializer,t);const i=p6(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=d_(this.serializer),e.removeTarget=t,this.K_(e)}}class hL extends VR{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=m6(t.writeResults,t.commitTime),i=an(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=d_(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>sh(this.serializer,i)))};this.K_(e)}}class fL{}class dL extends fL{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,f_(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(W.UNKNOWN,l.toString())}))}jo(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.jo(t,f_(e,i),a,u,h,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ut(W.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function mL(n,t,e,i){return new dL(n,t,e,i)}class pL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(In(e),this.aa=!1):at("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ho="RemoteStore";class gL{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{po(this)&&(at(ho,"Restarting streams for network reachability change."),await(async function(m){const p=St(m);p.Ea.add(4),await Ih(p),p.Va.set("Unknown"),p.Ea.delete(4),await Ym(p)})(this))}))})),this.Va=new pL(i,a)}}async function Ym(n){if(po(n))for(const t of n.Ra)await t(!0)}async function Ih(n){for(const t of n.Ra)await t(!1)}function MR(n,t){const e=St(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),z0(e)?B0(e):ru(e).O_()&&U0(e,t))}function L0(n,t){const e=St(n),i=ru(e);e.Ia.delete(t),i.O_()&&PR(e,t),e.Ia.size===0&&(i.O_()?i.L_():po(e)&&e.Va.set("Unknown"))}function U0(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ru(n).Z_(t)}function PR(n,t){n.da.$e(t),ru(n).X_(t)}function B0(n){n.da=new s6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ru(n).start(),n.Va.ua()}function z0(n){return po(n)&&!ru(n).x_()&&n.Ia.size>0}function po(n){return St(n).Ea.size===0}function OR(n){n.da=void 0}async function yL(n){n.Va.set("Online")}async function _L(n){n.Ia.forEach(((t,e)=>{U0(n,t)}))}async function vL(n,t){OR(n),z0(n)?(n.Va.ha(t),B0(n)):n.Va.set("Unknown")}async function TL(n,t,e){if(n.Va.set("Online"),t instanceof Jx&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ia.delete(h),a.da.removeTarget(h))})(n,t)}catch(i){at(ho,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await gm(n,i)}else if(t instanceof Nd?n.da.Xe(t):t instanceof Zx?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const i=await CR(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const h=l.da.Tt(u);return h.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),h.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Ye.EMPTY_BYTE_STRING,y.snapshotVersion)),PR(l,m);const v=new Ur(y.target,m,p,y.sequenceNumber);U0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){at(ho,"Failed to raise snapshot:",i),await gm(n,i)}}async function gm(n,t,e){if(!ea(t))throw t;n.Ea.add(1),await Ih(n),n.Va.set("Offline"),e||(e=()=>CR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{at(ho,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ym(n)}))}function NR(n,t){return t().catch((e=>gm(n,e,t)))}async function xh(n){const t=St(n),e=$s(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Za;for(;EL(t);)try{const a=await eL(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,bL(t,a)}catch(a){await gm(t,a)}kR(t)&&LR(t)}function EL(n){return po(n)&&n.Ta.length<10}function bL(n,t){n.Ta.push(t);const e=$s(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function kR(n){return po(n)&&!$s(n).x_()&&n.Ta.length>0}function LR(n){$s(n).start()}async function wL(n){$s(n).ra()}async function SL(n){const t=$s(n);for(const e of n.Ta)t.ea(e.mutations)}async function AL(n,t,e){const i=n.Ta.shift(),a=A0.from(i,t,e);await NR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await xh(n)}async function IL(n,t){t&&$s(n).Y_&&await(async function(i,a){if((function(u){return Wx(u)&&u!==W.ABORTED})(a.code)){const l=i.Ta.shift();$s(i).B_(),await NR(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await xh(i)}})(n,t),kR(n)&&LR(n)}async function X1(n,t){const e=St(n);e.asyncQueue.verifyOperationInProgress(),at(ho,"RemoteStore received new credentials");const i=po(e);e.Ea.add(3),await Ih(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ym(e)}async function xL(n,t){const e=St(n);t?(e.Ea.delete(2),await Ym(e)):t||(e.Ea.add(2),await Ih(e),e.Va.set("Unknown"))}function ru(n){return n.ma||(n.ma=(function(e,i,a){const l=St(e);return l.sa(),new cL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:yL.bind(null,n),Yo:_L.bind(null,n),t_:vL.bind(null,n),J_:TL.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),z0(n)?B0(n):n.Va.set("Unknown")):(await n.ma.stop(),OR(n))}))),n.ma}function $s(n){return n.fa||(n.fa=(function(e,i,a){const l=St(e);return l.sa(),new hL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:wL.bind(null,n),t_:IL.bind(null,n),ta:SL.bind(null,n),na:AL.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await xh(n)):(await n.fa.stop(),n.Ta.length>0&&(at(ho,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class j0{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,h=new j0(t,e,u,a,l);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F0(n,t){if(In("AsyncQueue",`${t}: ${n}`),ea(n))return new ut(W.UNAVAILABLE,`${t}: ${n}`);throw n}class Vl{static emptySet(t){return new Vl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=Ac(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Vl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Vl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class W1{constructor(){this.ga=new _e(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Xl{constructor(t,e,i,a,l,u,h,m,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((h=>{u.push({type:0,doc:h})})),new Xl(t,e,Vl.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class RL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class CL{constructor(){this.queries=$1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=St(e),l=a.queries;a.queries=$1(),l.forEach(((u,h)=>{for(const m of h.ba)m.onError(i)}))})(this,new ut(W.ABORTED,"Firestore shutting down"))}}function $1(){return new Yr((n=>Lx(n)),Bm)}async function UR(n,t){const e=St(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(i=2):(l=new RL,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const h=F0(u,`Initialization of query '${pl(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&q0(e)}async function BR(n,t){const e=St(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function DL(n,t){const e=St(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const h of u.ba)h.Fa(a)&&(i=!0);u.wa=a}}i&&q0(e)}function VL(n,t,e){const i=St(n),a=i.queries.get(t);if(a)for(const l of a.ba)l.onError(e);i.queries.delete(t)}function q0(n){n.Ca.forEach((t=>{t.next()}))}var T_,Z1;(Z1=T_||(T_={})).Ma="default",Z1.Cache="cache";class zR{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Xl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Xl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==T_.Cache}}class jR{constructor(t){this.key=t}}class FR{constructor(t){this.key=t}}class ML{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=Ux(t),this.tu=new Vl(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new W1,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,h=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),A=wh(this.query,v)?v:null,D=!!E&&this.mutatedKeys.has(E.key),L=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let P=!1;E&&A?E.data.isEqual(A.data)?D!==L&&(i.track({type:3,doc:A}),P=!0):this.su(E,A)||(i.track({type:2,doc:A}),P=!0,(m&&this.eu(A,m)>0||p&&this.eu(A,p)<0)&&(h=!0)):!E&&A?(i.track({type:0,doc:A}),P=!0):E&&!A&&(i.track({type:1,doc:E}),P=!0,(m||p)&&(h=!0)),P&&(A?(u=u.add(A),l=L?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:h,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(A,D){const L=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:P})}};return L(A)-L(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Xl(this.query,t.tu,l,u,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new FR(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new jR(i))})),e}cu(t){this.Za=t.ks,this.Ya=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const H0="SyncEngine";class PL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class OL{constructor(t){this.key=t,this.hu=!1}}class NL{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Yr((h=>Lx(h)),Bm),this.Iu=new Map,this.Eu=new Set,this.Ru=new _e(ht.comparator),this.Au=new Map,this.Vu=new V0,this.du={},this.mu=new Map,this.fu=co.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function kL(n,t,e=!0){const i=QR(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await qR(i,t,e,!0),a}async function LL(n,t){const e=QR(n);await qR(e,t,!0,!1)}async function qR(n,t,e,i){const a=await nL(n.localStore,fi(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let h;return i&&(h=await UL(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&MR(n.remoteStore,a),h}async function UL(n,t,e,i,a){n.pu=(v,E,A)=>(async function(L,P,z,Q){let K=P.view.ru(z);K.Ss&&(K=await H1(L.localStore,P.query,!1).then((({documents:x})=>P.view.ru(x,K))));const Z=Q&&Q.targetChanges.get(P.targetId),nt=Q&&Q.targetMismatches.get(P.targetId)!=null,lt=P.view.applyChanges(K,L.isPrimaryClient,Z,nt);return tS(L,P.targetId,lt.au),lt.snapshot})(n,v,E,A);const l=await H1(n.localStore,t,!0),u=new ML(t,l.ks),h=u.ru(l.documents),m=Ah.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=u.applyChanges(h,n.isPrimaryClient,m);tS(n,e,p.au);const y=new PL(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function BL(n,t,e){const i=St(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Bm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await __(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&L0(i.remoteStore,a.targetId),E_(i,a.targetId)})).catch(mo)):(E_(i,a.targetId),await __(i.localStore,a.targetId,!0))}async function zL(n,t){const e=St(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),L0(e.remoteStore,i.targetId))}async function jL(n,t,e){const i=XR(n);try{const a=await(function(u,h){const m=St(u),p=ee.now(),y=h.reduce(((A,D)=>A.add(D.key)),Pt());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(A=>{let D=Xn(),L=Pt();return m.xs.getEntries(A,y).next((P=>{D=P,D.forEach(((z,Q)=>{Q.isValidDocument()||(L=L.add(z))}))})).next((()=>m.localDocuments.getOverlayedDocuments(A,D))).next((P=>{v=P;const z=[];for(const Q of h){const K=e6(Q,v.get(Q.key).overlayedDocument);K!=null&&z.push(new Qr(Q.key,K,Rx(K.value.mapValue),sn.exists(!0)))}return m.mutationQueue.addMutationBatch(A,p,z,h)})).next((P=>{E=P;const z=P.applyToLocalDocumentSet(v,L);return m.documentOverlayCache.saveOverlays(A,P.batchId,z)}))})).then((()=>({batchId:E.batchId,changes:zx(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,h,m){let p=u.du[u.currentUser.toKey()];p||(p=new _e(It)),p=p.insert(h,m),u.du[u.currentUser.toKey()]=p})(i,a.batchId,e),await Rh(i,a.changes),await xh(i.remoteStore)}catch(a){const l=F0(a,"Failed to persist write");e.reject(l)}}async function HR(n,t){const e=St(n);try{const i=await J6(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await Rh(e,i,t)}catch(i){await mo(i)}}function J1(n,t,e){const i=St(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const h=u.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(u,h){const m=St(u);m.onlineState=h;let p=!1;m.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(h)&&(p=!0)})),p&&q0(m)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function FL(n,t,e){const i=St(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new _e(ht.comparator);u=u.insert(l,ye.newNoDocument(l,Tt.min()));const h=Pt().add(l),m=new Fm(Tt.min(),new Map,new _e(It),u,h);await HR(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(t),G0(i)}else await __(i.localStore,t,!1).then((()=>E_(i,t,e))).catch(mo)}async function qL(n,t){const e=St(n),i=t.batch.batchId;try{const a=await Z6(e.localStore,t);KR(e,i,null),GR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Rh(e,a)}catch(a){await mo(a)}}async function HL(n,t,e){const i=St(n);try{const a=await(function(u,h){const m=St(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,h).next((v=>(_t(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);KR(i,t,e),GR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Rh(i,a)}catch(a){await mo(a)}}function GR(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function KR(n,t,e){const i=St(n);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function E_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||YR(n,i)}))}function YR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(L0(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),G0(n))}function tS(n,t,e){for(const i of e)i instanceof jR?(n.Vu.addReference(i.key,t),GL(n,i)):i instanceof FR?(at(H0,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||YR(n,i.key)):dt(19791,{wu:i})}function GL(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(at(H0,"New document in limbo: "+e),n.Eu.add(i),G0(n))}function G0(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Ht.fromString(t)),i=n.fu.next();n.Au.set(i,new OL(e)),n.Ru=n.Ru.insert(e,i),MR(n.remoteStore,new Ur(fi(Um(e.path)),i,"TargetPurposeLimboResolution",ci.ce))}}async function Rh(n,t,e){const i=St(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,m)=>{u.push(i.pu(m,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=O0.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,p){const y=St(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>j.forEach(p,(E=>j.forEach(E.Ts,(A=>y.persistence.referenceDelegate.addReference(v,E.targetId,A))).next((()=>j.forEach(E.Is,(A=>y.persistence.referenceDelegate.removeReference(v,E.targetId,A)))))))))}catch(v){if(!ea(v))throw v;at(N0,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const A=y.vs.get(E),D=A.snapshotVersion,L=A.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(E,L)}}})(i.localStore,l))}async function KL(n,t){const e=St(n);if(!e.currentUser.isEqual(t)){at(H0,"User change. New user:",t.toKey());const i=await RR(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((h=>{h.forEach((m=>{m.reject(new ut(W.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Rh(e,i.Ns)}}function YL(n,t){const e=St(n),i=e.Au.get(t);if(i&&i.hu)return Pt().add(i.key);{let a=Pt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const h=e.Tu.get(u);a=a.unionWith(h.view.nu)}return a}}function QR(n){const t=St(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=HR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=FL.bind(null,t),t.Pu.J_=DL.bind(null,t.eventManager),t.Pu.yu=VL.bind(null,t.eventManager),t}function XR(n){const t=St(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=HL.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Km(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return xR(this.persistence,new IR,t.initialUser,this.serializer)}Cu(t){return new M0(Gm.Vi,this.serializer)}Du(t){return new DR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class QL extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_t(this.persistence.referenceDelegate instanceof pm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new ER(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new M0((i=>pm.Vi(i,e)),this.serializer)}}class XL extends ah{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await XR(this.xu.syncEngine),await xh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return xR(this.persistence,new IR,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new ER(i,t.asyncQueue,e)}Mu(t,e){const i=new Z4(e,this.persistence);return new $4(t.asyncQueue,i)}Cu(t){const e=Q6(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new P0(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,uL(),Ld(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new DR}}class ym{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>J1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KL.bind(null,this.syncEngine),await xL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new CL})()}createDatastore(t){const e=Km(t.databaseInfo.databaseId),i=lL(t.databaseInfo);return mL(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,h){return new gL(i,a,l,u,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>J1(this.syncEngine,e,0)),(function(){return Y1.v()?new Y1:new rL})())}createSyncEngine(t,e){return(function(a,l,u,h,m,p,y){const v=new NL(a,l,u,h,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=St(e);at(ho,"RemoteStore shutting down."),i.Ea.add(5),await Ih(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}ym.provider={build:()=>new ym};class WR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):In("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let WL=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new ut(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const u=St(a),h={documents:l.map((v=>rh(u.serializer,v)))},m=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ht.emptyPath(),h,l.length),p=new Map;m.forEach((v=>{const E=f6(u.serializer,v);p.set(E.key.toString(),E)}));const y=[];return l.forEach((v=>{const E=p.get(v.toString());_t(!!E,55234,{key:v}),y.push(E)})),y})(this.datastore,t);return e.forEach((i=>this.recordVersion(i))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Sh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,i)=>{const a=ht.fromPath(i);this.mutations.push(new w0(a,this.precondition(a)))})),await(async function(i,a){const l=St(i),u={writes:a.map((h=>sh(l.serializer,h)))};await l.Wo("Commit",l.serializer.databaseId,Ht.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt(50498,{Gu:t.constructor.name});e=Tt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ut(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?sn.exists(!1):sn.updateTime(e):sn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new ut(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(e)}return sn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class $L{constructor(t,e,i,a,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new k0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new WL(this.datastore),e=this.Ju(t);e&&e.then((i=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Zu(a)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(t){try{const e=this.updateFunction(t);return!vh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!Wx(e)}return!1}}const Zs="FirestoreClient";class ZL{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=h0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{at(Zs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(at(Zs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=F0(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function by(n,t){n.asyncQueue.verifyOperationInProgress(),at(Zs,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await RR(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function eS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await JL(n);at(Zs,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>X1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>X1(t.remoteStore,a))),n._onlineComponents=t}async function JL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at(Zs,"Using user provided OfflineComponentProvider");try{await by(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Qs("Error using user provided cache. Falling back to memory cache: "+e),await by(n,new ah)}}else at(Zs,"Using default OfflineComponentProvider"),await by(n,new QL(void 0));return n._offlineComponents}async function K0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at(Zs,"Using user provided OnlineComponentProvider"),await eS(n,n._uninitializedComponentsProvider._online)):(at(Zs,"Using default OnlineComponentProvider"),await eS(n,new ym))),n._onlineComponents}function t5(n){return K0(n).then((t=>t.syncEngine))}function e5(n){return K0(n).then((t=>t.datastore))}async function b_(n){const t=await K0(n),e=t.eventManager;return e.onListen=kL.bind(null,t.syncEngine),e.onUnlisten=BL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=LL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=zL.bind(null,t.syncEngine),e}function n5(n,t,e,i){const a=new WR(i),l=new zR(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>UR(await b_(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>BR(await b_(n),l)))}}function i5(n,t,e={}){const i=new cr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,h,m,p){const y=new WR({next:E=>{y.Nu(),u.enqueueAndForget((()=>BR(l,v))),E.fromCache&&m.source==="server"?p.reject(new ut(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new zR(h,y,{includeMetadataChanges:!0,Ka:!0});return UR(l,v)})(await b_(n),n.asyncQueue,t,e,i))),i.promise}function r5(n,t){const e=new cr;return n.asyncQueue.enqueueAndForget((async()=>jL(await t5(n),t,e))),e.promise}function s5(n,t,e){const i=new cr;return n.asyncQueue.enqueueAndForget((async()=>{const a=await e5(n);new $L(n.asyncQueue,a,e,t,i).ju()})),i.promise}function $R(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const a5="ComponentProvider",nS=new Map;function o5(n,t,e,i,a){return new x3(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,$R(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const ZR="firestore.googleapis.com",iS=!0;class rS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ZR,this.ssl=iS}else this.host=t.host,this.ssl=t.ssl??iS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<V6)throw new ut(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Y4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$R(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ut(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Qm{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new L4;switch(i.type){case"firstParty":return new j4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ut(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=nS.get(e);i&&(at(a5,"Removing Datastore"),nS.delete(e),i.terminate())})(this),Promise.resolve()}}function l5(n,t,e,i={}){n=Br(n,Qm);const a=Jl(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(rI(`https://${h}`),sI("Firestore",!0)),l.host!==ZR&&l.host!==h&&Qs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:h,ssl:a,emulatorOptions:i};if(!no(m,u)&&(n._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=pn.MOCK_USER;else{p=uO(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ut(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(v)}n._authCredentials=new U4(new ex(p,y))}}class go{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new go(this.firestore,t,this._query)}}class Ge{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ge(this.firestore,t,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(_h(e,Ge._jsonSchema))return new Ge(t,i||null,new ht(Ht.fromString(e.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:He("string",Ge._jsonSchemaVersion),referencePath:He("string")};class Gs extends go{constructor(t,e,i){super(t,e,Um(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ge(this.firestore,null,new ht(t))}withConverter(t){return new Gs(this.firestore,t,this._path)}}function sS(n,t,...e){if(n=Ke(n),ix("collection","path",t),n instanceof Qm){const i=Ht.fromString(t,...e);return Qw(i),new Gs(n,null,i)}{if(!(n instanceof Ge||n instanceof Gs))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return Qw(i),new Gs(n.firestore,null,i)}}function aS(n,t,...e){if(n=Ke(n),arguments.length===1&&(t=h0.newId()),ix("doc","path",t),n instanceof Qm){const i=Ht.fromString(t,...e);return Yw(i),new Ge(n,null,new ht(i))}{if(!(n instanceof Ge||n instanceof Gs))throw new ut(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return Yw(i),new Ge(n.firestore,n instanceof Gs?n.converter:null,new ht(i))}}const oS="AsyncQueue";class lS{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new k0(this,"async_queue_retry"),this._c=()=>{const i=Ld();i&&at(oS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Ld();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ld();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new cr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ea(t))throw t;at(oS,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,In("INTERNAL UNHANDLED ERROR: ",uS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=j0.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&dt(47125,{Pc:uS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function uS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class fo extends Qm{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new lS,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lS(t),this._firestoreClient=void 0,await t}}}function u5(n,t){const e=typeof n=="object"?n:dI(),i=typeof n=="string"?n:lm,a=J_(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=oO("firestore");l&&l5(a,...l)}return a}function Xm(n){if(n._terminated)throw new ut(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JR(n),n._firestoreClient}function JR(n){const t=n._freezeSettings(),e=o5(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new ZL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}function c5(n,t){Qs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return h5(n,ym.provider,{build:i=>new XL(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function h5(n,t,e){if((n=Br(n,fo))._firestoreClient||n._terminated)throw new ut(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ut(W.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},JR(n)}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(Ye.fromBase64String(t))}catch(e){throw new ut(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Qn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(_h(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:He("string",Qn._jsonSchemaVersion),bytes:He("string")};class Y0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ut(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Te(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wm{constructor(t){this._methodName=t}}class hr{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ut(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ut(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hr._jsonSchemaVersion}}static fromJSON(t){if(_h(t,hr._jsonSchema))return new hr(t.latitude,t.longitude)}}hr._jsonSchemaVersion="firestore/geoPoint/1.0",hr._jsonSchema={type:He("string",hr._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Mi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(_h(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Mi(t.vectorValues);throw new ut(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:He("string",Mi._jsonSchemaVersion),vectorValues:He("object")};const f5=/^__.*__$/;class d5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms):new iu(t,this.data,e,this.fieldTransforms)}}class tC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Qr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function eC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:n})}}class Q0{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Q0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return _m(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(eC(this.dataSource)&&f5.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class m5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Km(t)}createContext(t,e,i,a=!1){return new Q0({dataSource:t,methodName:e,targetDoc:i,path:Te.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nC(n){const t=n._freezeSettings(),e=Km(n._databaseId);return new m5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function p5(n,t,e,i,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);W0("Data must be an object, but it was:",u,i);const h=iC(i,u);let m,p;if(l.merge)m=new Ln(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Wl(t,v,e);if(!u.contains(E))throw new ut(W.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);aC(y,E)||y.push(E)}m=new Ln(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new d5(new yn(h),m,p)}class $m extends Wm{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $m}}class X0 extends Wm{_toFieldTransform(t){return new Yx(t.path,new Gl)}isEqual(t){return t instanceof X0}}function g5(n,t,e,i){const a=n.createContext(1,t,e);W0("Data must be an object, but it was:",a,i);const l=[],u=yn.empty();na(i,((m,p)=>{const y=sC(t,m,e);p=Ke(p);const v=a.childContextForFieldPath(y);if(p instanceof $m)l.push(y);else{const E=Ch(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const h=new Ln(l);return new tC(u,h,a.fieldTransforms)}function y5(n,t,e,i,a,l){const u=n.createContext(1,t,e),h=[Wl(t,i,e)],m=[a];if(l.length%2!=0)throw new ut(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)h.push(Wl(t,l[E])),m.push(l[E+1]);const p=[],y=yn.empty();for(let E=h.length-1;E>=0;--E)if(!aC(p,h[E])){const A=h[E];let D=m[E];D=Ke(D);const L=u.childContextForFieldPath(A);if(D instanceof $m)p.push(A);else{const P=Ch(D,L);P!=null&&(p.push(A),y.set(A,P))}}const v=new Ln(p);return new tC(y,v,u.fieldTransforms)}function _5(n,t,e,i=!1){return Ch(e,n.createContext(i?4:3,t))}function Ch(n,t){if(rC(n=Ke(n)))return W0("Unsupported field value:",t,n),iC(n,t);if(n instanceof Wm)return(function(i,a){if(!eC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const h of i){let m=Ch(h,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=Ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return X3(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ee.fromDate(i);return{timestampValue:Ql(a.serializer,l)}}if(i instanceof ee){const l=new ee(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ql(a.serializer,l)}}if(i instanceof hr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qn)return{bytesValue:tR(a.serializer,i._byteString)};if(i instanceof Ge){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:R0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Mi)return(function(u,h){const m=u instanceof Mi?u.toArray():u;return{mapValue:{fields:{[v0]:{stringValue:T0},[jl]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return b0(h.serializer,y)}))}}}}}})(i,a);if(hR(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Vm(i)}`)})(n,t)}function iC(n,t){const e={};return vx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):na(n,((i,a)=>{const l=Ch(a,t.childContextForField(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function rC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ee||n instanceof hr||n instanceof Qn||n instanceof Ge||n instanceof Wm||n instanceof Mi||hR(n))}function W0(n,t,e){if(!rC(e)||!rx(e)){const i=Vm(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function Wl(n,t,e){if((t=Ke(t))instanceof Y0)return t._internalPath;if(typeof t=="string")return sC(n,t);throw _m("Field path arguments must be of type string or ",n,!1,void 0,e)}const v5=new RegExp("[~\\*/\\[\\]]");function sC(n,t,e){if(t.search(v5)>=0)throw _m(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Y0(...t.split("."))._internalPath}catch{throw _m(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function _m(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new ut(W.INVALID_ARGUMENT,h+n+m)}function aC(n,t){return n.some((e=>e.isEqual(t)))}class oC{convertValue(t,e="none"){switch(Xs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return na(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[jl].arrayValue?.values?.map((i=>ge(i.doubleValue)));return new Mi(e)}convertGeoPoint(t){return new hr(ge(t.latitude),ge(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=km(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Jc(t));default:return null}}convertTimestamp(t){const e=qr(t);return new ee(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ht.fromString(t);_t(cR(i),9688,{name:t});const a=new ao(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return a.isEqual(e)||In(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class Zm extends oC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,e)}}function T5(){return new X0("serverTimestamp")}const cS="@firebase/firestore",hS="4.11.0";function fS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class vm{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new E5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Wl("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class E5 extends vm{data(){return super.data()}}function lC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ut(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $0{}class b5 extends $0{}function dS(n,t,...e){let i=[];t instanceof $0&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((m=>m instanceof Z0)).length,h=l.filter((m=>m instanceof Jm)).length;if(u>1||u>0&&h>0)throw new ut(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Jm extends b5{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Jm(t,e,i)}_apply(t){const e=this._parse(t);return uC(t._query,e),new go(t.firestore,t.converter,u_(t._query,e))}_parse(t){const e=nC(t.firestore);return(function(l,u,h,m,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ut(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){pS(v,y);const D=[];for(const L of v)D.push(mS(m,l,L));E={arrayValue:{values:D}}}else E=mS(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||pS(v,y),E=_5(h,u,v,y==="in"||y==="not-in");return zt.create(p,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function _d(n,t,e){const i=t,a=Wl("where",n);return Jm._create(a,i,e)}class Z0 extends $0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Z0(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:ne.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const h=l.getFlattenedFilters();for(const m of h)uC(u,m),u=u_(u,m)})(t._query,e),new go(t.firestore,t.converter,u_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mS(n,t,e){if(typeof(e=Ke(e))=="string"){if(e==="")throw new ut(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kx(t)&&e.indexOf("/")!==-1)throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ht.fromString(e));if(!ht.isDocumentKey(i))throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return eh(n,new ht(i))}if(e instanceof Ge)return eh(n,e._key);throw new ut(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Vm(e)}.`)}function pS(n,t){if(!Array.isArray(n)||n.length===0)throw new ut(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function uC(n,t){const e=(function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ut(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function w5(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class S5 extends oC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,e)}}class El{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ks extends vm{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Wl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ks._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ks._jsonSchema={type:He("string",Ks._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Ud extends Ks{data(t={}){return super.data(t)}}class to{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new El(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Ud(this._firestore,this._userDataWriter,i.key,i,new El(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ut(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((h=>{const m=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new El(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const m=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new El(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:A5(h.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=to._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=h0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function A5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:n})}}to._jsonSchemaVersion="firestore/querySnapshot/1.0",to._jsonSchema={type:He("string",to._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};const I5={maxAttempts:5};function Rc(n,t){if((n=Ke(n)).firestore!==t)throw new ut(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class x5{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=nC(t)}get(t){const e=Rc(t,this._firestore),i=new S5(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return dt(24041);const l=a[0];if(l.isFoundDocument())return new vm(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new vm(this._firestore,i,e._key,null,e.converter);throw dt(18433,{doc:l})}))}set(t,e,i){const a=Rc(t,this._firestore),l=w5(a.converter,e,i),u=p5(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,u),this}update(t,e,i,...a){const l=Rc(t,this._firestore);let u;return u=typeof(e=Ke(e))=="string"||e instanceof Y0?y5(this._dataReader,"Transaction.update",l._key,e,i,a):g5(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=Rc(t,this._firestore);return this._transaction.delete(e._key),this}}class R5 extends x5{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Rc(t,this._firestore),i=new Zm(this._firestore);return super.get(t).then((a=>new Ks(this._firestore,i,e._key,a._document,new El(!1,!1),e.converter)))}}function C5(n,t,e){n=Br(n,fo);const i={...I5,...e};(function(u){if(u.maxAttempts<1)throw new ut(W.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const a=Xm(n);return s5(a,(l=>t(new R5(n,l))),i)}function D5(n){n=Br(n,go);const t=Br(n.firestore,fo),e=Xm(t),i=new Zm(t);return lC(n._query),i5(e,n._query).then((a=>new to(t,i,n,a)))}function V5(n){return P5(Br(n.firestore,fo),[new Sh(n._key,sn.none())])}function M5(n,...t){n=Ke(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||fS(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(fS(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let l,u,h;if(n instanceof Ge)u=Br(n.firestore,fo),h=Um(n._key.path),l={next:p=>{t[i]&&t[i](O5(u,n,p))},error:t[i+1],complete:t[i+2]};else{const p=Br(n,go);u=Br(p.firestore,fo),h=p._query;const y=new Zm(u);l={next:v=>{t[i]&&t[i](new to(u,y,p,v))},error:t[i+1],complete:t[i+2]},lC(n._query)}const m=Xm(u);return n5(m,h,a,l)}function P5(n,t){const e=Xm(n);return r5(e,t)}function O5(n,t,e){const i=e.docs.get(t._key),a=new Zm(n);return new Ks(n,a,t._key,i,new El(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){k4(tu),Ol(new io("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new fo(new B4(i.getProvider("auth-internal")),new F4(u,i.getProvider("app-check-internal")),R3(u,a),u);return l={useFetchStreams:e,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),Fs(cS,hS,t),Fs(cS,hS,"esm2020")})();const N5={apiKey:"AIzaSyAUo9Hw0KKEfu-sGYC-YAIazVb4BH34YXQ",authDomain:"class-claim.firebaseapp.com",projectId:"class-claim",storageBucket:"class-claim.firebasestorage.app",messagingSenderId:"997912799584",appId:"1:997912799584:web:3dce64fcb94d3926cd9605",measurementId:"G-VXYPG7JFP5"},cC=fI(N5),vl=u5(cC);c5(vl).catch(n=>{n.code=="failed-precondition"?console.warn("Firestore persistence failed: multiple tabs open"):n.code=="unimplemented"&&console.warn("Firestore persistence not supported in this browser")});const bc=M4(cC),k5=new Nr,hC=ot.createContext(),J0=()=>ot.useContext(hC),L5=({children:n})=>{const[t,e]=ot.useState(null),[i,a]=ot.useState(!0),l=async()=>{try{await _k(bc,LI);const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0,p=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);await jk(bc,k5)}catch(m){throw console.error("Login failed:",m),m}},u=()=>bk(bc);ot.useEffect(()=>{Qk(bc).catch(p=>{console.error("Redirect login failed:",p)});const m=Ek(bc,p=>{e(p),a(!1)});return()=>m()},[]);const h={user:t,login:l,logout:u,loading:i};return tt.jsx(hC.Provider,{value:h,children:!i&&n})},fC=ot.createContext(),U5=()=>ot.useContext(fC),B5=({children:n})=>{const[t,e]=ot.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});ot.useEffect(()=>{const a=window.document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{e(a=>a==="light"?"dark":"light")};return tt.jsx(fC.Provider,{value:{theme:t,toggleTheme:i},children:n})},z5=({selectedRoom:n,onSelectRoom:t,className:e=""})=>{const[i,a]=ot.useState("Block E"),{user:l,login:u,logout:h}=J0(),{theme:m,toggleTheme:p}=U5(),y=async()=>{try{await u()}catch(E){console.error("Login failed:",E)}},v=async()=>{try{await h()}catch(E){console.error("Logout failed:",E)}};return tt.jsxs("div",{className:`flex flex-col h-full bg-white dark:bg-gray-800 border-r border-gray-100 dark:border-gray-700 transition-colors duration-200 ${e}`,children:[tt.jsxs("div",{className:"p-6",children:[tt.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent flex items-center gap-2",children:[tt.jsx("img",{src:"/Class-Claim/logo.png",alt:"ClassClaim Logo",className:"h-8 w-auto"}),"ClassClaim"]}),tt.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Central University"})]}),tt.jsx("div",{className:"flex p-4 gap-2 border-b border-gray-50 dark:border-gray-700",children:Object.keys(Fy).map(E=>tt.jsx("button",{onClick:()=>a(E),className:`
              flex-1 py-2 px-3 rounded-xl text-sm font-medium transition-all
              ${i===E?"bg-red-50 text-red-700 shadow-sm dark:bg-red-900/20 dark:text-red-400":"text-gray-500 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-700"}
            `,children:E},E))}),tt.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[tt.jsxs("h3",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3 px-2",children:[i," Rooms"]}),Fy[i].map(E=>tt.jsxs("button",{onClick:()=>t(E),className:`
              w-full flex items-center justify-between p-3 rounded-xl text-sm font-medium transition-all
              ${n===E?"bg-gray-900 text-white shadow-lg shadow-gray-200 dark:bg-black dark:shadow-gray-900":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}
            `,children:[E,n===E&&tt.jsx(KP,{})]},E))]}),tt.jsxs("div",{className:"p-4 border-t border-gray-50 dark:border-gray-700 space-y-3",children:[tt.jsxs("button",{onClick:p,className:"w-full flex items-center justify-between p-2 rounded-lg text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[tt.jsxs("span",{className:"flex items-center gap-2",children:[m==="dark"?tt.jsx($P,{}):tt.jsx(JP,{}),m==="dark"?"Dark Mode":"Light Mode"]}),tt.jsx("div",{className:`
            w-10 h-5 rounded-full relative transition-colors duration-200
            ${m==="dark"?"bg-red-600":"bg-gray-200"}
          `,children:tt.jsx("div",{className:`
              absolute top-1 left-1 w-3 h-3 rounded-full bg-white transition-transform duration-200
              ${m==="dark"?"translate-x-5":"translate-x-0"}
            `})})]}),l?tt.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-50 dark:border-gray-700",children:[tt.jsx("img",{src:l.photoURL,alt:l.displayName,className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-600"}),tt.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[tt.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:l.displayName}),tt.jsxs("button",{onClick:v,className:"text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1",children:[tt.jsx(QP,{})," Sign Out"]})]})]}):tt.jsxs("button",{onClick:y,className:"w-full py-2.5 px-4 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-white rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[tt.jsx(XP,{className:"text-red-600 text-lg"}),"Sign in with Google"]})]})]})},tv=ot.createContext({});function ev(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const dC=typeof window<"u",mC=dC?ot.useLayoutEffect:ot.useEffect,tp=ot.createContext(null);function nv(n,t){n.indexOf(t)===-1&&n.push(t)}function Tm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const pr=(n,t,e)=>e>t?t:e<n?n:e;let iv=()=>{};const Gr={},pC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function gC(n){return typeof n=="object"&&n!==null}const yC=n=>/^0[^.\s]+$/u.test(n);function rv(n){let t;return()=>(t===void 0&&(t=n()),t)}const di=n=>n,j5=(n,t)=>e=>t(n(e)),Dh=(...n)=>n.reduce(j5),oh=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class sv{constructor(){this.subscriptions=[]}add(t){return nv(this.subscriptions,t),()=>Tm(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Pi=n=>n*1e3,hi=n=>n/1e3;function _C(n,t){return t?n*(1e3/t):0}const vC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,F5=1e-7,q5=12;function H5(n,t,e,i,a){let l,u,h=0;do u=t+(e-t)/2,l=vC(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>F5&&++h<q5);return u}function Vh(n,t,e,i){if(n===t&&e===i)return di;const a=l=>H5(l,0,1,n,e);return l=>l===0||l===1?l:vC(a(l),t,i)}const TC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,EC=n=>t=>1-n(1-t),bC=Vh(.33,1.53,.69,.99),av=EC(bC),wC=TC(av),SC=n=>(n*=2)<1?.5*av(n):.5*(2-Math.pow(2,-10*(n-1))),ov=n=>1-Math.sin(Math.acos(n)),AC=EC(ov),IC=TC(ov),G5=Vh(.42,0,1,1),K5=Vh(0,0,.58,1),xC=Vh(.42,0,.58,1),Y5=n=>Array.isArray(n)&&typeof n[0]!="number",RC=n=>Array.isArray(n)&&typeof n[0]=="number",Q5={linear:di,easeIn:G5,easeInOut:xC,easeOut:K5,circIn:ov,circInOut:IC,circOut:AC,backIn:av,backInOut:wC,backOut:bC,anticipate:SC},X5=n=>typeof n=="string",gS=n=>{if(RC(n)){iv(n.length===4);const[t,e,i,a]=n;return Vh(t,e,i,a)}else if(X5(n))return Q5[n];return n},vd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function W5(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),n()),y(h)}const p={schedule:(y,v=!1,E=!1)=>{const D=E&&a?e:i;return v&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const $5=40;function CC(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=vd.reduce((K,Z)=>(K[Z]=W5(l),K),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:A,postRender:D}=u,L=()=>{const K=Gr.useManualTiming?a.timestamp:performance.now();e=!1,Gr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,$5),1)),a.timestamp=K,a.isProcessing=!0,h.process(a),m.process(a),p.process(a),y.process(a),v.process(a),E.process(a),A.process(a),D.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(L))},P=()=>{e=!0,i=!0,a.isProcessing||n(L)};return{schedule:vd.reduce((K,Z)=>{const nt=u[Z];return K[Z]=(lt,x=!1,I=!1)=>(e||P(),nt.schedule(lt,x,I)),K},{}),cancel:K=>{for(let Z=0;Z<vd.length;Z++)u[vd[Z]].cancel(K)},state:a,steps:u}}const{schedule:ue,cancel:Js,state:mn,steps:wy}=CC(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0);let Bd;function Z5(){Bd=void 0}const xn={now:()=>(Bd===void 0&&xn.set(mn.isProcessing||Gr.useManualTiming?mn.timestamp:performance.now()),Bd),set:n=>{Bd=n,queueMicrotask(Z5)}},DC=n=>t=>typeof t=="string"&&t.startsWith(n),VC=DC("--"),J5=DC("var(--"),lv=n=>J5(n)?t9.test(n.split("/*")[0].trim()):!1,t9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function yS(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const su={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lh={...su,transform:n=>pr(0,1,n)},Td={...su,default:1},jc=n=>Math.round(n*1e5)/1e5,uv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e9(n){return n==null}const n9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cv=(n,t)=>e=>!!(typeof e=="string"&&n9.test(e)&&e.startsWith(n)||t&&!e9(e)&&Object.prototype.hasOwnProperty.call(e,t)),MC=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(uv);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},i9=n=>pr(0,255,n),Sy={...su,transform:n=>Math.round(i9(n))},Qa={test:cv("rgb","red"),parse:MC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+Sy.transform(n)+", "+Sy.transform(t)+", "+Sy.transform(e)+", "+jc(lh.transform(i))+")"};function r9(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const w_={test:cv("#"),parse:r9,transform:Qa.transform},Mh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ps=Mh("deg"),fr=Mh("%"),yt=Mh("px"),s9=Mh("vh"),a9=Mh("vw"),_S={...fr,parse:n=>fr.parse(n)/100,transform:n=>fr.transform(n*100)},bl={test:cv("hsl","hue"),parse:MC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+fr.transform(jc(t))+", "+fr.transform(jc(e))+", "+jc(lh.transform(i))+")"},qe={test:n=>Qa.test(n)||w_.test(n)||bl.test(n),parse:n=>Qa.test(n)?Qa.parse(n):bl.test(n)?bl.parse(n):w_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Qa.transform(n):bl.transform(n),getAnimatableNone:n=>{const t=qe.parse(n);return t.alpha=0,qe.transform(t)}},o9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l9(n){return isNaN(n)&&typeof n=="string"&&(n.match(uv)?.length||0)+(n.match(o9)?.length||0)>0}const PC="number",OC="color",u9="var",c9="var(",vS="${}",h9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function uh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=t.replace(h9,m=>(qe.test(m)?(i.color.push(l),a.push(OC),e.push(qe.parse(m))):m.startsWith(c9)?(i.var.push(l),a.push(u9),e.push(m)):(i.number.push(l),a.push(PC),e.push(parseFloat(m))),++l,vS)).split(vS);return{values:e,split:h,indexes:i,types:a}}function NC(n){return uh(n).values}function kC(n){const{split:t,types:e}=uh(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const h=e[u];h===PC?l+=jc(a[u]):h===OC?l+=qe.transform(a[u]):l+=a[u]}return l}}const f9=n=>typeof n=="number"?0:qe.test(n)?qe.getAnimatableNone(n):n;function d9(n){const t=NC(n);return kC(n)(t.map(f9))}const ta={test:l9,parse:NC,createTransformer:kC,getAnimatableNone:d9};function Ay(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function m9({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const h=e<.5?e*(1+t):e+t-e*t,m=2*e-h;a=Ay(m,h,n+1/3),l=Ay(m,h,n),u=Ay(m,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function Em(n,t){return e=>e>0?t:n}const Ee=(n,t,e)=>n+(t-n)*e,Iy=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},p9=[w_,Qa,bl],g9=n=>p9.find(t=>t.test(n));function TS(n){const t=g9(n);if(!t)return!1;let e=t.parse(n);return t===bl&&(e=m9(e)),e}const ES=(n,t)=>{const e=TS(n),i=TS(t);if(!e||!i)return Em(n,t);const a={...e};return l=>(a.red=Iy(e.red,i.red,l),a.green=Iy(e.green,i.green,l),a.blue=Iy(e.blue,i.blue,l),a.alpha=Ee(e.alpha,i.alpha,l),Qa.transform(a))},S_=new Set(["none","hidden"]);function y9(n,t){return S_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function _9(n,t){return e=>Ee(n,t,e)}function hv(n){return typeof n=="number"?_9:typeof n=="string"?lv(n)?Em:qe.test(n)?ES:E9:Array.isArray(n)?LC:typeof n=="object"?qe.test(n)?ES:v9:Em}function LC(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>hv(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function v9(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=hv(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function T9(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],h=n.values[u]??0;e[a]=h,i[l]++}return e}const E9=(n,t)=>{const e=ta.createTransformer(t),i=uh(n),a=uh(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?S_.has(n)&&!a.values.length||S_.has(t)&&!i.values.length?y9(n,t):Dh(LC(T9(i,a),a.values),e):Em(n,t)};function UC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Ee(n,t,e):hv(n)(n,t)}const b9=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ue.update(t,e),stop:()=>Js(t),now:()=>mn.isProcessing?mn.timestamp:xn.now()}},BC=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},bm=2e4;function fv(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<bm;)t+=e,i=n.next(t);return t>=bm?1/0:t}function w9(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(fv(i),bm);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:hi(a)}}const S9=5;function zC(n,t,e){const i=Math.max(t-S9,0);return _C(e-n(i),t-i)}const Se={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xy=.001;function A9({duration:n=Se.duration,bounce:t=Se.bounce,velocity:e=Se.velocity,mass:i=Se.mass}){let a,l,u=1-t;u=pr(Se.minDamping,Se.maxDamping,u),n=pr(Se.minDuration,Se.maxDuration,hi(n)),u<1?(a=p=>{const y=p*u,v=y*n,E=y-e,A=A_(p,u),D=Math.exp(-v);return xy-E/A*D},l=p=>{const v=p*u*n,E=v*e+e,A=Math.pow(u,2)*Math.pow(p,2)*n,D=Math.exp(-v),L=A_(Math.pow(p,2),u);return(-a(p)+xy>0?-1:1)*((E-A)*D)/L}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-xy+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const h=5/n,m=x9(a,l,h);if(n=Pi(n),isNaN(m))return{stiffness:Se.stiffness,damping:Se.damping,duration:n};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const I9=12;function x9(n,t,e){let i=e;for(let a=1;a<I9;a++)i=i-n(i)/t(i);return i}function A_(n,t){return n*Math.sqrt(1-t*t)}const R9=["duration","bounce"],C9=["stiffness","damping","mass"];function bS(n,t){return t.some(e=>n[e]!==void 0)}function D9(n){let t={velocity:Se.velocity,stiffness:Se.stiffness,damping:Se.damping,mass:Se.mass,isResolvedFromDuration:!1,...n};if(!bS(n,C9)&&bS(n,R9))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*pr(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Se.mass,stiffness:a,damping:l}}else{const e=A9(n);t={...t,...e,mass:Se.mass},t.isResolvedFromDuration=!0}return t}function wm(n=Se.visualDuration,t=Se.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],h={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:A}=D9({...e,velocity:-hi(e.velocity||0)}),D=E||0,L=p/(2*Math.sqrt(m*y)),P=u-l,z=hi(Math.sqrt(m/y)),Q=Math.abs(P)<5;i||(i=Q?Se.restSpeed.granular:Se.restSpeed.default),a||(a=Q?Se.restDelta.granular:Se.restDelta.default);let K;if(L<1){const nt=A_(z,L);K=lt=>{const x=Math.exp(-L*z*lt);return u-x*((D+L*z*P)/nt*Math.sin(nt*lt)+P*Math.cos(nt*lt))}}else if(L===1)K=nt=>u-Math.exp(-z*nt)*(P+(D+z*P)*nt);else{const nt=z*Math.sqrt(L*L-1);K=lt=>{const x=Math.exp(-L*z*lt),I=Math.min(nt*lt,300);return u-x*((D+L*z*P)*Math.sinh(I)+nt*P*Math.cosh(I))/nt}}const Z={calculatedDuration:A&&v||null,next:nt=>{const lt=K(nt);if(A)h.done=nt>=v;else{let x=nt===0?D:0;L<1&&(x=nt===0?Pi(D):zC(K,nt,lt));const I=Math.abs(x)<=i,R=Math.abs(u-lt)<=a;h.done=I&&R}return h.value=h.done?u:lt,h},toString:()=>{const nt=Math.min(fv(Z),bm),lt=BC(x=>Z.next(nt*x).value,nt,30);return nt+"ms "+lt},toTransition:()=>{}};return Z}wm.applyToOptions=n=>{const t=w9(n,100,wm);return n.ease=t.ease,n.duration=Pi(t.duration),n.type="keyframes",n};function I_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:m,restDelta:p=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},A=I=>h!==void 0&&I<h||m!==void 0&&I>m,D=I=>h===void 0?m:m===void 0||Math.abs(h-I)<Math.abs(m-I)?h:m;let L=e*t;const P=v+L,z=u===void 0?P:u(P);z!==P&&(L=z-v);const Q=I=>-L*Math.exp(-I/i),K=I=>z+Q(I),Z=I=>{const R=Q(I),O=K(I);E.done=Math.abs(R)<=p,E.value=E.done?z:O};let nt,lt;const x=I=>{A(E.value)&&(nt=I,lt=wm({keyframes:[E.value,D(E.value)],velocity:zC(K,I,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return x(0),{calculatedDuration:null,next:I=>{let R=!1;return!lt&&nt===void 0&&(R=!0,Z(I),x(I)),nt!==void 0&&I>=nt?lt.next(I-nt):(!R&&Z(I),E)}}}function V9(n,t,e){const i=[],a=e||Gr.mix||UC,l=n.length-1;for(let u=0;u<l;u++){let h=a(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||di:t;h=Dh(m,h)}i.push(h)}return i}function M9(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(iv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=V9(t,i,a),m=h.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=oh(n[v],n[v+1],y);return h[v](E)};return e?y=>p(pr(n[0],n[l-1],y)):p}function P9(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=oh(0,t,i);n.push(Ee(e,1,a))}}function O9(n){const t=[0];return P9(t,n.length-1),t}function N9(n,t){return n.map(e=>e*t)}function k9(n,t){return n.map(()=>t||xC).splice(0,n.length-1)}function Fc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=Y5(i)?i.map(gS):gS(i),l={done:!1,value:t[0]},u=N9(e&&e.length===t.length?e:O9(t),n),h=M9(u,t,{ease:Array.isArray(a)?a:k9(t,a)});return{calculatedDuration:n,next:m=>(l.value=h(m),l.done=m>=n,l)}}const L9=n=>n!==null;function dv(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(L9),h=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const U9={decay:I_,inertia:I_,tween:Fc,keyframes:Fc,spring:wm};function jC(n){typeof n.type=="string"&&(n.type=U9[n.type])}class mv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const B9=n=>n/100;class pv extends mv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;jC(t);const{type:e=Fc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:h}=t;const m=e||Fc;m!==Fc&&typeof h[0]!="number"&&(this.mixKeyframes=Dh(B9,UC(h[0],h[1])),h=[0,100]);const p=m({...t,keyframes:h});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...h].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=fv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:A,type:D,onUpdate:L,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const z=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Q=this.playbackSpeed>=0?z<0:z>a;this.currentTime=Math.max(z,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,Z=i;if(v){const I=Math.min(this.currentTime,a)/h;let R=Math.floor(I),O=I%1;!O&&I>=1&&(O=1),O===1&&R--,R=Math.min(R,v+1),R%2&&(E==="reverse"?(O=1-O,A&&(O-=A/h)):E==="mirror"&&(Z=u)),K=pr(0,1,O)*h}const nt=Q?{done:!1,value:y[0]}:Z.next(K);l&&(nt.value=l(nt.value));let{done:lt}=nt;!Q&&m!==null&&(lt=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const x=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&lt);return x&&D!==I_&&(nt.value=dv(y,this.options,P,this.speed)),L&&L(nt.value),x&&this.finish(),nt}then(t,e){return this.finished.then(t,e)}get duration(){return hi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hi(t)}get time(){return hi(this.currentTime)}set time(t){t=Pi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=hi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=b9,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function z9(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Xa=n=>n*180/Math.PI,x_=n=>{const t=Xa(Math.atan2(n[1],n[0]));return R_(t)},j9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:x_,rotateZ:x_,skewX:n=>Xa(Math.atan(n[1])),skewY:n=>Xa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},R_=n=>(n=n%360,n<0&&(n+=360),n),wS=x_,SS=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),AS=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),F9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:SS,scaleY:AS,scale:n=>(SS(n)+AS(n))/2,rotateX:n=>R_(Xa(Math.atan2(n[6],n[5]))),rotateY:n=>R_(Xa(Math.atan2(-n[2],n[0]))),rotateZ:wS,rotate:wS,skewX:n=>Xa(Math.atan(n[4])),skewY:n=>Xa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function C_(n){return n.includes("scale")?1:0}function D_(n,t){if(!n||n==="none")return C_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=F9,a=e;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=j9,a=h}if(!a)return C_(t);const l=i[t],u=a[1].split(",").map(H9);return typeof l=="function"?l(u):u[l]}const q9=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return D_(e,t)};function H9(n){return parseFloat(n.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(au),IS=n=>n===su||n===yt,G9=new Set(["x","y","z"]),K9=au.filter(n=>!G9.has(n));function Y9(n){const t=[];return K9.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Bs={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>D_(t,"x"),y:(n,{transform:t})=>D_(t,"y")};Bs.translateX=Bs.x;Bs.translateY=Bs.y;const eo=new Set;let V_=!1,M_=!1,P_=!1;function FC(){if(M_){const n=Array.from(eo).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=Y9(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}M_=!1,V_=!1,eo.forEach(n=>n.complete(P_)),eo.clear()}function qC(){eo.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(M_=!0)})}function Q9(){P_=!0,qC(),FC(),P_=!1}class gv{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(eo.add(this),V_||(V_=!0,ue.read(qC),ue.resolveKeyframes(FC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const h=i.readValue(e,u);h!=null&&(t[0]=h)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}z9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),eo.delete(this)}cancel(){this.state==="scheduled"&&(eo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X9=n=>n.startsWith("--");function W9(n,t,e){X9(t)?n.style.setProperty(t,e):n.style[t]=e}const $9=rv(()=>window.ScrollTimeline!==void 0),Z9={};function J9(n,t){const e=rv(n);return()=>Z9[t]??e()}const HC=J9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cc=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,xS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function GC(n,t){if(n)return typeof n=="function"?HC()?BC(n,t):"ease-out":RC(n)?Cc(n):Array.isArray(n)?n.map(e=>GC(e,t)||xS.easeOut):xS[n]}function tU(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:m}={},p=void 0){const y={[t]:e};m&&(y.offset=m);const v=GC(h,a);Array.isArray(v)&&(y.easing=v);const E={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(y,E)}function KC(n){return typeof n=="function"&&"applyToOptions"in n}function eU({type:n,...t}){return KC(n)&&HC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class YC extends mv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,iv(typeof t.type!="string");const p=eU(t);this.animation=tU(e,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=dv(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):W9(e,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return hi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hi(t)}get time(){return hi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Pi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$9()?(this.animation.timeline=t,di):e(this)}}const QC={anticipate:SC,backInOut:wC,circInOut:IC};function nU(n){return n in QC}function iU(n){typeof n.ease=="string"&&nU(n.ease)&&(n.ease=QC[n.ease])}const Ry=10;class rU extends YC{constructor(t){iU(t),jC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const h=new pv({...u,autoplay:!1}),m=Math.max(Ry,xn.now()-this.startTime),p=pr(0,Ry,m-Ry);e.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const RS=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(ta.test(n)||n==="0")&&!n.startsWith("url("));function sU(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function aU(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=RS(a,t),h=RS(l,t);return!u||!h?!1:sU(n)||(e==="spring"||KC(e))&&i}function O_(n){n.duration=0,n.type="keyframes"}const oU=new Set(["opacity","clipPath","filter","transform"]),lU=rv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uU(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return lU()&&e&&oU.has(e)&&(e!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const cU=40;class hU extends mv{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const E={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...v},A=y?.KeyframeResolver||gv;this.keyframeResolver=new A(h,(D,L,P)=>this.onKeyframesResolved(D,L,E,!P),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=xn.now(),aU(t,l,u,h)||((Gr.instantAnimations||!m)&&y?.(dv(t,i,e)),t[0]=t[t.length-1],O_(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>cU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},A=!p&&uU(E),D=E.motionValue?.owner?.current,L=A?new rU({...E,element:D}):new pv(E);L.finished.then(()=>{this.notifyFinished()}).catch(di),this.pendingTimeline&&(this.stopTimeline=L.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=L}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Q9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function XC(n,t,e,i=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,h=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:h-l*i}const fU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dU(n){const t=fU.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function WC(n,t,e=1){const[i,a]=dU(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return pC(u)?parseFloat(u):u}return lv(a)?WC(a,t,e+1):a}const mU={type:"spring",stiffness:500,damping:25,restSpeed:10},pU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),gU={type:"keyframes",duration:.8},yU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_U=(n,{keyframes:t})=>t.length>2?gU:ou.has(n)?n.startsWith("scale")?pU(t[1]):mU:yU,vU=n=>n!==null;function TU(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(vU),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function $C(n,t){if(n?.inherit&&t){const{inherit:e,...i}=n;return{...t,...i}}return n}function yv(n,t){const e=n?.[t]??n?.default??n;return e!==n?$C(e,n):e}function EU({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const _v=(n,t,e,i={},a,l)=>u=>{const h=yv(i,n)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Pi(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-p,onUpdate:E=>{t.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:l?void 0:a};EU(h)||Object.assign(y,_U(n,y)),y.duration&&(y.duration=Pi(y.duration)),y.repeatDelay&&(y.repeatDelay=Pi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(O_(y),y.delay===0&&(v=!0)),(Gr.instantAnimations||Gr.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,O_(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&t.get()!==void 0){const E=TU(y.keyframes,h);if(E!==void 0){ue.update(()=>{y.onUpdate(E),y.onComplete()});return}}return h.isSync?new pv(y):new hU(y)};function CS(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function vv(n,t,e,i){if(typeof t=="function"){const[a,l]=CS(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=CS(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function Ml(n,t,e){const i=n.getProps();return vv(i,t,e!==void 0?e:i.custom,n)}const ZC=new Set(["width","height","top","left","right","bottom",...au]),DS=30,bU=n=>!isNaN(parseFloat(n));class wU{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new sv);const i=this.events[t].add(e);return t==="change"?()=>{i(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>DS)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,DS);return _C(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function $l(n,t){return new wU(n,t)}const N_=n=>Array.isArray(n);function SU(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,$l(e))}function AU(n){return N_(n)?n[n.length-1]||0:n}function IU(n,t){const e=Ml(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const h=AU(l[u]);SU(n,u,h)}}const En=n=>!!(n&&n.getVelocity);function xU(n){return!!(En(n)&&n.add)}function k_(n,t){const e=n.getValue("willChange");if(xU(e))return e.add(t);if(!e&&Gr.WillChange){const i=new Gr.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function Tv(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const RU="framerAppearId",JC="data-"+Tv(RU);function tD(n){return n.props[JC]}function CU({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function eD(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...h}=t;const m=n.getDefaultTransition();l=l?$C(l,m):m;const p=l?.reduceMotion;i&&(l=i);const y=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const E in h){const A=n.getValue(E,n.latestValues[E]??null),D=h[E];if(D===void 0||v&&CU(v,E))continue;const L={delay:e,...yv(l||{},E)},P=A.get();if(P!==void 0&&!A.isAnimating&&!Array.isArray(D)&&D===P&&!L.velocity)continue;let z=!1;if(window.MotionHandoffAnimation){const Z=tD(n);if(Z){const nt=window.MotionHandoffAnimation(Z,E,ue);nt!==null&&(L.startTime=nt,z=!0)}}k_(n,E);const Q=p??n.shouldReduceMotion;A.start(_v(E,A,D,Q&&ZC.has(E)?{type:!1}:L,n,z));const K=A.animation;K&&y.push(K)}if(u){const E=()=>ue.update(()=>{u&&IU(n,u)});y.length?Promise.all(y).then(E):E()}return y}function L_(n,t,e={}){const i=Ml(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(eD(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return DU(n,t,m,p,y,v,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,p]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function DU(n,t,e=0,i=0,a=0,l=1,u){const h=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),h.push(L_(m,t,{...u,delay:e+(typeof i=="function"?0:i)+XC(n.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(h)}function VU(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>L_(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=L_(n,t,e);else{const a=typeof t=="function"?Ml(n,t,e.custom):t;i=Promise.all(eD(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const MU={test:n=>n==="auto",parse:n=>n},nD=n=>t=>t.test(n),iD=[su,yt,fr,Ps,a9,s9,MU],VS=n=>iD.find(nD(n));function PU(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||yC(n):!0}const OU=new Set(["brightness","contrast","saturate","opacity"]);function NU(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(uv)||[];if(!i)return n;const a=e.replace(i,"");let l=OU.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const kU=/\b([a-z-]*)\(.*?\)/gu,U_={...ta,getAnimatableNone:n=>{const t=n.match(kU);return t?t.map(NU).join(" "):n}},MS={...su,transform:Math.round},LU={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:Td,scaleX:Td,scaleY:Td,scaleZ:Td,skew:Ps,skewX:Ps,skewY:Ps,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:lh,originX:_S,originY:_S,originZ:yt},Ev={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...LU,zIndex:MS,fillOpacity:lh,strokeOpacity:lh,numOctaves:MS},UU={...Ev,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:U_,WebkitFilter:U_},rD=n=>UU[n];function sD(n,t){let e=rD(n);return e!==U_&&(e=ta),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const BU=new Set(["auto","none","0"]);function zU(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!BU.has(l)&&uh(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=sD(e,a)}class jU extends gv{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),lv(v))){const E=WC(v,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!ZC.has(i)||t.length!==2)return;const[a,l]=t,u=VS(a),h=VS(l),m=yS(a),p=yS(l);if(m!==p&&Bs[i]){this.needsMeasurement=!0;return}if(u!==h)if(IS(u)&&IS(h))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Bs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||PU(t[a]))&&i.push(a);i.length&&zU(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Bs[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{t.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const FU=new Set(["opacity","clipPath","filter","transform"]);function aD(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const oD=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function B_(n){return gC(n)&&"offsetHeight"in n}const{schedule:bv}=CC(queueMicrotask,!1),xi={x:!1,y:!1};function lD(){return xi.x||xi.y}function qU(n){return n==="x"||n==="y"?xi[n]?null:(xi[n]=!0,()=>{xi[n]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function uD(n,t){const e=aD(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function HU(n){return!(n.pointerType==="touch"||lD())}function GU(n,t,e={}){const[i,a,l]=uD(n,e);return i.forEach(u=>{let h=!1,m=!1,p;const y=()=>{u.removeEventListener("pointerleave",D)},v=P=>{p&&(p(P),p=void 0),y()},E=P=>{h=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),m&&(m=!1,v(P))},A=()=>{h=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},D=P=>{if(P.pointerType!=="touch"){if(h){m=!0;return}v(P)}},L=P=>{if(!HU(P))return;m=!1;const z=t(u,P);typeof z=="function"&&(p=z,u.addEventListener("pointerleave",D,a))};u.addEventListener("pointerenter",L,a),u.addEventListener("pointerdown",A,a)}),l}const cD=(n,t)=>t?n===t?!0:cD(n,t.parentElement):!1,wv=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,KU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YU(n){return KU.has(n.tagName)||n.isContentEditable===!0}const QU=new Set(["INPUT","SELECT","TEXTAREA"]);function XU(n){return QU.has(n.tagName)||n.isContentEditable===!0}const zd=new WeakSet;function PS(n){return t=>{t.key==="Enter"&&n(t)}}function Cy(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WU=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=PS(()=>{if(zd.has(e))return;Cy(e,"down");const a=PS(()=>{Cy(e,"up")}),l=()=>Cy(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function OS(n){return wv(n)&&!lD()}const NS=new WeakSet;function $U(n,t,e={}){const[i,a,l]=uD(n,e),u=h=>{const m=h.currentTarget;if(!OS(h)||NS.has(h))return;zd.add(m),e.stopPropagation&&NS.add(h);const p=t(m,h),y=(A,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),zd.has(m)&&zd.delete(m),OS(A)&&typeof p=="function"&&p(A,{success:D})},v=A=>{y(A,m===window||m===document||e.useGlobalTarget||cD(m,A.target))},E=A=>{y(A,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return i.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),B_(h)&&(h.addEventListener("focus",p=>WU(p,a)),!YU(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function Sv(n){return gC(n)&&"ownerSVGElement"in n}const jd=new WeakMap;let Fd;const hD=(n,t,e)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:Sv(i)&&"getBBox"in i?i.getBBox()[t]:i[e],ZU=hD("inline","width","offsetWidth"),JU=hD("block","height","offsetHeight");function tB({target:n,borderBoxSize:t}){jd.get(n)?.forEach(e=>{e(n,{get width(){return ZU(n,t)},get height(){return JU(n,t)}})})}function eB(n){n.forEach(tB)}function nB(){typeof ResizeObserver>"u"||(Fd=new ResizeObserver(eB))}function iB(n,t){Fd||nB();const e=aD(n);return e.forEach(i=>{let a=jd.get(i);a||(a=new Set,jd.set(i,a)),a.add(t),Fd?.observe(i)}),()=>{e.forEach(i=>{const a=jd.get(i);a?.delete(t),a?.size||Fd?.unobserve(i)})}}const qd=new Set;let wl;function rB(){wl=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};qd.forEach(t=>t(n))},window.addEventListener("resize",wl)}function sB(n){return qd.add(n),wl||rB(),()=>{qd.delete(n),!qd.size&&typeof wl=="function"&&(window.removeEventListener("resize",wl),wl=void 0)}}function kS(n,t){return typeof n=="function"?sB(n):iB(n,t)}function aB(n){return Sv(n)&&n.tagName==="svg"}const oB=[...iD,qe,ta],lB=n=>oB.find(nD(n)),LS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sl=()=>({x:LS(),y:LS()}),US=()=>({min:0,max:0}),$e=()=>({x:US(),y:US()}),uB=new WeakMap;function ep(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function ch(n){return typeof n=="string"||Array.isArray(n)}const Av=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Iv=["initial",...Av];function np(n){return ep(n.animate)||Iv.some(t=>ch(n[t]))}function fD(n){return!!(np(n)||n.variants)}function cB(n,t,e){for(const i in t){const a=t[i],l=e[i];if(En(a))n.addValue(i,a);else if(En(l))n.addValue(i,$l(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,$l(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const z_={current:null},dD={current:!1},hB=typeof window<"u";function fB(){if(dD.current=!0,!!hB)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>z_.current=n.matches;n.addEventListener("change",t),t()}else z_.current=!1}const BS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Sm={};function mD(n){Sm=n}function dB(){return Sm}class mB{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=gv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const A=xn.now();this.renderScheduledAt<A&&(this.renderScheduledAt=A,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=np(e),this.isVariantNode=fD(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const A in E){const D=E[A];p[A]!==void 0&&En(D)&&D.set(p[A])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,uB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(dD.current||fB(),this.shouldReduceMotion=z_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&FU.has(t)&&this.current instanceof HTMLElement){const{factory:u,keyframes:h,times:m,ease:p,duration:y}=e.accelerate,v=new YC({element:this.current,name:t,keyframes:h,times:m,ease:p,duration:Pi(y)}),E=u(v);this.valueSubscriptions.set(t,()=>{E(),v.cancel()});return}const i=ou.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ue.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Sm){const e=Sm[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<BS.length;i++){const a=BS[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=cB(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=$l(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(pC(i)||yC(i))?i=parseFloat(i):!lB(i)&&ta.test(e)&&(i=sD(t,e)),this.setBaseTarget(t,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=vv(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!En(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new sv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){bv.render(this.render)}}class pD extends mB{constructor(){super(...arguments),this.KeyframeResolver=jU}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class ia{constructor(t){this.isMounted=!1,this.node=t}update(){}}function gD({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function pB({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function gB(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function Dy(n){return n===void 0||n===1}function j_({scale:n,scaleX:t,scaleY:e}){return!Dy(n)||!Dy(t)||!Dy(e)}function ja(n){return j_(n)||yD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function yD(n){return zS(n.x)||zS(n.y)}function zS(n){return n&&n!=="0%"}function Am(n,t,e){const i=n-e,a=t*i;return e+a}function jS(n,t,e,i,a){return a!==void 0&&(n=Am(n,a,i)),Am(n,e,i)+t}function F_(n,t=0,e=1,i,a){n.min=jS(n.min,t,e,i,a),n.max=jS(n.max,t,e,i,a)}function _D(n,{x:t,y:e}){F_(n.x,t.translate,t.scale,t.originPoint),F_(n.y,e.translate,e.scale,e.originPoint)}const FS=.999999999999,qS=1.0000000000001;function yB(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let h=0;h<a;h++){l=e[h],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Il(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,_D(n,u)),i&&ja(l.latestValues)&&Il(n,l.latestValues))}t.x<qS&&t.x>FS&&(t.x=1),t.y<qS&&t.y>FS&&(t.y=1)}function Al(n,t){n.min=n.min+t,n.max=n.max+t}function HS(n,t,e,i,a=.5){const l=Ee(n.min,n.max,a);F_(n,t,e,l,i)}function Il(n,t){HS(n.x,t.x,t.scaleX,t.scale,t.originX),HS(n.y,t.y,t.scaleY,t.scale,t.originY)}function vD(n,t){return gD(gB(n.getBoundingClientRect(),t))}function _B(n,t,e){const i=vD(n,e),{scroll:a}=t;return a&&(Al(i.x,a.offset.x),Al(i.y,a.offset.y)),i}const vB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TB=au.length;function EB(n,t,e){let i="",a=!0;for(let l=0;l<TB;l++){const u=au[l],h=n[u];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(u.startsWith("scale")?1:0);else{const p=parseFloat(h);m=u.startsWith("scale")?p===1:p===0}if(!m||e){const p=oD(h,Ev[u]);if(!m){a=!1;const y=vB[u]||u;i+=`${y}(${p}) `}e&&(t[u]=p)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function xv(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,h=!1;for(const m in t){const p=t[m];if(ou.has(m)){u=!0;continue}else if(VC(m)){a[m]=p;continue}else{const y=oD(p,Ev[m]);m.startsWith("origin")?(h=!0,l[m]=y):i[m]=y}}if(t.transform||(u||e?i.transform=EB(t,n.transform,e):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}function TD(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function GS(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const wc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=GS(n,t.target.x),i=GS(n,t.target.y);return`${e}% ${i}%`}},bB={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=ta.parse(n);if(a.length>5)return i;const l=ta.createTransformer(n),u=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,m=e.y.scale*t.y;a[0+u]/=h,a[1+u]/=m;const p=Ee(h,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},q_={borderRadius:{...wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wc,borderTopRightRadius:wc,borderBottomLeftRadius:wc,borderBottomRightRadius:wc,boxShadow:bB};function ED(n,{layout:t,layoutId:e}){return ou.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!q_[n]||n==="opacity")}function Rv(n,t,e){const i=n.style,a=t?.style,l={};if(!i)return l;for(const u in i)(En(i[u])||a&&En(a[u])||ED(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function wB(n){return window.getComputedStyle(n)}class SB extends pD{constructor(){super(...arguments),this.type="html",this.renderInstance=TD}readValueFromInstance(t,e){if(ou.has(e))return this.projection?.isProjecting?C_(e):q9(t,e);{const i=wB(t),a=(VC(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return vD(t,e)}build(t,e,i){xv(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Rv(t,e,i)}}const AB={offset:"stroke-dashoffset",array:"stroke-dasharray"},IB={offset:"strokeDashoffset",array:"strokeDasharray"};function xB(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?AB:IB;n[l.offset]=`${-i}`,n[l.array]=`${t} ${e}`}const RB=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function bD(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},m,p,y){if(xv(n,h,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const A of RB)v[A]!==void 0&&(E[A]=v[A],delete v[A]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),a!==void 0&&xB(v,a,l,u,!1)}const wD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),SD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function CB(n,t,e,i){TD(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(wD.has(a)?a:Tv(a),t.attrs[a])}function AD(n,t,e){const i=Rv(n,t,e);for(const a in n)if(En(n[a])||En(t[a])){const l=au.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}class DB extends pD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ou.has(e)){const i=rD(e);return i&&i.default||0}return e=wD.has(e)?e:Tv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return AD(t,e,i)}build(t,e,i){bD(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){CB(t,e,i,a)}mount(t){this.isSVGTag=SD(t.tagName),super.mount(t)}}const VB=Iv.length;function ID(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?ID(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<VB;e++){const i=Iv[e],a=n.props[i];(ch(a)||a===!1)&&(t[i]=a)}return t}function xD(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const MB=[...Av].reverse(),PB=Av.length;function OB(n){return t=>Promise.all(t.map(({animation:e,options:i})=>VU(n,e,i)))}function NB(n){let t=OB(n),e=KS(),i=!0;const a=m=>(p,y)=>{const v=Ml(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:A,...D}=v;p={...p,...D,...A}}return p};function l(m){t=m(n)}function u(m){const{props:p}=n,y=ID(n.parent)||{},v=[],E=new Set;let A={},D=1/0;for(let P=0;P<PB;P++){const z=MB[P],Q=e[z],K=p[z]!==void 0?p[z]:y[z],Z=ch(K),nt=z===m?Q.isActive:null;nt===!1&&(D=P);let lt=K===y[z]&&K!==p[z]&&Z;if(lt&&i&&n.manuallyAnimateOnMount&&(lt=!1),Q.protectedKeys={...A},!Q.isActive&&nt===null||!K&&!Q.prevProp||ep(K)||typeof K=="boolean")continue;if(z==="exit"&&Q.isActive&&nt!==!0){Q.prevResolvedValues&&(A={...A,...Q.prevResolvedValues});continue}const x=kB(Q.prevProp,K);let I=x||z===m&&Q.isActive&&!lt&&Z||P>D&&Z,R=!1;const O=Array.isArray(K)?K:[K];let M=O.reduce(a(z),{});nt===!1&&(M={});const{prevResolvedValues:U={}}=Q,C={...U,...M},Yt=st=>{I=!0,E.has(st)&&(R=!0,E.delete(st)),Q.needsAnimating[st]=!0;const pt=n.getValue(st);pt&&(pt.liveStyle=!1)};for(const st in C){const pt=M[st],Dt=U[st];if(A.hasOwnProperty(st))continue;let kt=!1;N_(pt)&&N_(Dt)?kt=!xD(pt,Dt):kt=pt!==Dt,kt?pt!=null?Yt(st):E.add(st):pt!==void 0&&E.has(st)?Yt(st):Q.protectedKeys[st]=!0}Q.prevProp=K,Q.prevResolvedValues=M,Q.isActive&&(A={...A,...M}),i&&n.blockInitialAnimation&&(I=!1);const fe=lt&&x;I&&(!fe||R)&&v.push(...O.map(st=>{const pt={type:z};if(typeof st=="string"&&i&&!fe&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=Ml(Dt,st);if(Dt.enteringChildren&&kt){const{delayChildren:k}=kt.transition||{};pt.delay=XC(Dt.enteringChildren,n,k)}}return{animation:st,options:pt}}))}if(E.size){const P={};if(typeof p.initial!="boolean"){const z=Ml(n,Array.isArray(p.initial)?p.initial[0]:p.initial);z&&z.transition&&(P.transition=z.transition)}E.forEach(z=>{const Q=n.getBaseTarget(z),K=n.getValue(z);K&&(K.liveStyle=!0),P[z]=Q??null}),v.push({animation:P})}let L=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(L=!1),i=!1,L?t(v):Promise.resolve()}function h(m,p){if(e[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),e[m].isActive=p;const y=u(m);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>e,reset:()=>{e=KS()}}}function kB(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!xD(t,n):!1}function ka(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function KS(){return{animate:ka(!0),whileInView:ka(),whileHover:ka(),whileTap:ka(),whileDrag:ka(),whileFocus:ka(),exit:ka()}}function YS(n,t){n.min=t.min,n.max=t.max}function Ii(n,t){YS(n.x,t.x),YS(n.y,t.y)}function QS(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const RD=1e-4,LB=1-RD,UB=1+RD,CD=.01,BB=0-CD,zB=0+CD;function Rn(n){return n.max-n.min}function jB(n,t,e){return Math.abs(n-t)<=e}function XS(n,t,e,i=.5){n.origin=i,n.originPoint=Ee(t.min,t.max,n.origin),n.scale=Rn(e)/Rn(t),n.translate=Ee(e.min,e.max,n.origin)-n.originPoint,(n.scale>=LB&&n.scale<=UB||isNaN(n.scale))&&(n.scale=1),(n.translate>=BB&&n.translate<=zB||isNaN(n.translate))&&(n.translate=0)}function qc(n,t,e,i){XS(n.x,t.x,e.x,i?i.originX:void 0),XS(n.y,t.y,e.y,i?i.originY:void 0)}function WS(n,t,e){n.min=e.min+t.min,n.max=n.min+Rn(t)}function FB(n,t,e){WS(n.x,t.x,e.x),WS(n.y,t.y,e.y)}function $S(n,t,e){n.min=t.min-e.min,n.max=n.min+Rn(t)}function Im(n,t,e){$S(n.x,t.x,e.x),$S(n.y,t.y,e.y)}function ZS(n,t,e,i,a){return n-=t,n=Am(n,1/e,i),a!==void 0&&(n=Am(n,1/a,i)),n}function qB(n,t=0,e=1,i=.5,a,l=n,u=n){if(fr.test(t)&&(t=parseFloat(t),t=Ee(u.min,u.max,t/100)-u.min),typeof t!="number")return;let h=Ee(l.min,l.max,i);n===l&&(h-=t),n.min=ZS(n.min,t,e,h,a),n.max=ZS(n.max,t,e,h,a)}function JS(n,t,[e,i,a],l,u){qB(n,t[e],t[i],t[a],t.scale,l,u)}const HB=["x","scaleX","originX"],GB=["y","scaleY","originY"];function tA(n,t,e,i){JS(n.x,t,HB,e?e.x:void 0,i?i.x:void 0),JS(n.y,t,GB,e?e.y:void 0,i?i.y:void 0)}function eA(n){return n.translate===0&&n.scale===1}function DD(n){return eA(n.x)&&eA(n.y)}function nA(n,t){return n.min===t.min&&n.max===t.max}function KB(n,t){return nA(n.x,t.x)&&nA(n.y,t.y)}function iA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function VD(n,t){return iA(n.x,t.x)&&iA(n.y,t.y)}function rA(n){return Rn(n.x)/Rn(n.y)}function sA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function ir(n){return[n("x"),n("y")]}function YB(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:A,skewY:D}=e;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),A&&(i+=`skewX(${A}deg) `),D&&(i+=`skewY(${D}deg) `)}const h=n.x.scale*t.x,m=n.y.scale*t.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const MD=["TopLeft","TopRight","BottomLeft","BottomRight"],QB=MD.length,aA=n=>typeof n=="string"?parseFloat(n):n,oA=n=>typeof n=="number"||yt.test(n);function XB(n,t,e,i,a,l){a?(n.opacity=Ee(0,e.opacity??1,WB(i)),n.opacityExit=Ee(t.opacity??1,0,$B(i))):l&&(n.opacity=Ee(t.opacity??1,e.opacity??1,i));for(let u=0;u<QB;u++){const h=`border${MD[u]}Radius`;let m=lA(t,h),p=lA(e,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||oA(m)===oA(p)?(n[h]=Math.max(Ee(aA(m),aA(p),i),0),(fr.test(p)||fr.test(m))&&(n[h]+="%")):n[h]=p}(t.rotate||e.rotate)&&(n.rotate=Ee(t.rotate||0,e.rotate||0,i))}function lA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const WB=PD(0,.5,AC),$B=PD(.5,.95,di);function PD(n,t,e){return i=>i<n?0:i>t?1:e(oh(n,t,i))}function ZB(n,t,e){const i=En(n)?n:$l(n);return i.start(_v("",i,t,e)),i.animation}function hh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const JB=(n,t)=>n.depth-t.depth;class tz{constructor(){this.children=[],this.isDirty=!1}add(t){nv(this.children,t),this.isDirty=!0}remove(t){Tm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JB),this.isDirty=!1,this.children.forEach(t)}}function ez(n,t){const e=xn.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(Js(i),n(l-t))};return ue.setup(i,!0),()=>Js(i)}function Hd(n){return En(n)?n.get():n}class nz{constructor(){this.members=[]}add(t){nv(this.members,t);for(let e=this.members.length-1;e>=0;e--){const i=this.members[e];if(i===t||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&Tm(this.members,i)}t.scheduleRender()}remove(t){if(Tm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const a=i.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:h}=t.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Vy=["","X","Y","Z"],iz=1e3;let rz=0;function My(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function OD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=tD(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ue,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&OD(i)}function ND({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=t?.()){this.id=rz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oz),this.nodes.forEach(hz),this.nodes.forEach(fz),this.nodes.forEach(lz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new tz)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new sv),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const m=this.eventHandlers.get(u);m&&m.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=Sv(u)&&!aB(u),this.instance=u;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{v=window.innerWidth}),n(u,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,y&&y(),y=ez(E,250),Gd.hasAnimatedSinceResize&&(Gd.hasAnimatedSinceResize=!1,this.nodes.forEach(hA)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||yz,{onLayoutAnimationStart:L,onLayoutAnimationComplete:P}=p.getProps(),z=!this.targetLayout||!VD(this.targetLayout,A),Q=!v&&E;if(this.options.layoutRoot||this.resumeFrom||Q||v&&(z||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...yv(D,"layout"),onPlay:L,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,Q)}else v||hA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(uA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(cA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cz),this.nodes.forEach(sz),this.nodes.forEach(az)):this.nodes.forEach(cA),this.clearAllSnapshots();const h=xn.now();mn.delta=pr(0,1e3/60,h-mn.timestamp),mn.timestamp=h,mn.isProcessing=!0,wy.update.process(mn),wy.preRender.process(mn),wy.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uz),this.sharedNodes.forEach(mz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!DD(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(h||ja(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return u&&(m=this.removeTransform(m)),_z(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return $e();const h=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vz))){const{scroll:p}=this.root;p&&(Al(h.x,p.offset.x),Al(h.y,p.offset.y))}return h}removeElementScroll(u){const h=$e();if(Ii(h,u),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ii(h,u),Al(h.x,y.offset.x),Al(h.y,y.offset.y))}return h}applyTransform(u,h=!1){const m=$e();Ii(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Il(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),ja(y.latestValues)&&Il(m,y.latestValues)}return ja(this.latestValues)&&Il(m,this.latestValues),m}removeTransform(u){const h=$e();Ii(h,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!ja(p.latestValues))continue;j_(p.latestValues)&&p.updateSnapshot();const y=$e(),v=p.measurePageBox();Ii(y,v),tA(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return ja(this.latestValues)&&tA(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=mn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ii(this.target,this.layout.layoutBox),_D(this.target,this.targetDelta)):Ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||j_(this.parent.latestValues)||yD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,h,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),Im(this.relativeTargetOrigin,h,m),Ii(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),h=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ii(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;yB(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=$e());const{target:A}=u;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(QS(this.prevProjectionDelta.x,this.projectionDelta.x),QS(this.prevProjectionDelta.y,this.projectionDelta.y)),qc(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!sA(this.projectionDelta.x,this.prevProjectionDelta.x)||!sA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sl(),this.projectionDelta=Sl(),this.projectionDeltaWithTransform=Sl()}setAnimationOrigin(u,h=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=Sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=$e(),A=m?m.source:void 0,D=this.layout?this.layout.source:void 0,L=A!==D,P=this.getStack(),z=!P||P.members.length<=1,Q=!!(L&&!z&&this.options.crossfade===!0&&!this.path.some(gz));this.animationProgress=0;let K;this.mixTargetDelta=Z=>{const nt=Z/1e3;fA(v.x,u.x,nt),fA(v.y,u.y,nt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Im(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pz(this.relativeTarget,this.relativeTargetOrigin,E,nt),K&&KB(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=$e()),Ii(K,this.relativeTarget)),L&&(this.animationValues=y,XB(y,p,this.latestValues,nt,Q,z)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=nt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=$l(0)),this.currentAnimation=ZB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:y}=u;if(!(!h||!m||!p)){if(this!==u&&this.layout&&p&&kD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||$e();const v=Rn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const E=Rn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+E}Ii(h,m),Il(h,y),qc(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new nz),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&My("z",u,p,this.animationValues);for(let y=0;y<Vy.length;y++)My(`rotate${Vy[y]}`,u,p,this.animationValues),My(`skew${Vy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Hd(h?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Hd(h?.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=YB(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:E,y:A}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${A.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in q_){if(y[D]===void 0)continue;const{correct:L,applyTo:P,isCSSVariable:z}=q_[D],Q=v==="none"?y[D]:L(y[D],p);if(P){const K=P.length;for(let Z=0;Z<K;Z++)u[P[Z]]=Q}else z?this.options.visualElement.renderState.vars[D]=Q:u[D]=Q}this.options.layoutId&&(u.pointerEvents=p===this?Hd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(uA),this.root.sharedNodes.clear()}}}function sz(n){n.updateLayout()}function az(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?ir(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=Rn(v);v.min=e[y].min,v.max=v.min+E}):kD(a,t.layoutBox,e)&&ir(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=Rn(e[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=Sl();qc(u,e,t.layoutBox);const h=Sl();l?qc(h,n.applyTransform(i,!0),t.measuredBox):qc(h,e,t.layoutBox);const m=!DD(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const A=$e();Im(A,t.layoutBox,v.layoutBox);const D=$e();Im(D,e,E.layoutBox),VD(A,D)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=A,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:h,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function oz(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lz(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function uz(n){n.clearSnapshot()}function uA(n){n.clearMeasurements()}function cA(n){n.isLayoutDirty=!1}function cz(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function hA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hz(n){n.resolveTargetDelta()}function fz(n){n.calcProjection()}function dz(n){n.resetSkewAndRotation()}function mz(n){n.removeLeadSnapshot()}function fA(n,t,e){n.translate=Ee(t.translate,0,e),n.scale=Ee(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function dA(n,t,e,i){n.min=Ee(t.min,e.min,i),n.max=Ee(t.max,e.max,i)}function pz(n,t,e,i){dA(n.x,t.x,e.x,i),dA(n.y,t.y,e.y,i)}function gz(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const yz={duration:.45,ease:[.4,0,.1,1]},mA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),pA=mA("applewebkit/")&&!mA("chrome/")?Math.round:di;function gA(n){n.min=pA(n.min),n.max=pA(n.max)}function _z(n){gA(n.x),gA(n.y)}function kD(n,t,e){return n==="position"||n==="preserve-aspect"&&!jB(rA(t),rA(e),.2)}function vz(n){return n!==n.root&&n.scroll?.wasRoot}const Tz=ND({attachResizeListener:(n,t)=>hh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Py={current:void 0},LD=ND({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Py.current){const n=new Tz({});n.mount(window),n.setOptions({layoutScroll:!0}),Py.current=n}return Py.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),Cv=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function yA(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Ez(...n){return t=>{let e=!1;const i=n.map(a=>{const l=yA(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():yA(n[a],null)}}}}function bz(...n){return ot.useCallback(Ez(...n),n)}class wz extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=e.offsetParent,a=B_(i)&&i.offsetWidth||0,l=B_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Sz({children:n,isPresent:t,anchorX:e,anchorY:i,root:a,pop:l}){const u=ot.useId(),h=ot.useRef(null),m=ot.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=ot.useContext(Cv),y=n.props?.ref??n?.ref,v=bz(h,y);return ot.useInsertionEffect(()=>{const{width:E,height:A,top:D,left:L,right:P,bottom:z}=m.current;if(t||l===!1||!h.current||!E||!A)return;const Q=e==="left"?`left: ${L}`:`right: ${P}`,K=i==="bottom"?`bottom: ${z}`:`top: ${D}`;h.current.dataset.motionPopId=u;const Z=document.createElement("style");p&&(Z.nonce=p);const nt=a??document.head;return nt.appendChild(Z),Z.sheet&&Z.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${A}px !important;
            ${Q}px !important;
            ${K}px !important;
          }
        `),()=>{nt.contains(Z)&&nt.removeChild(Z)}},[t]),tt.jsx(wz,{isPresent:t,childRef:h,sizeRef:m,pop:l,children:l===!1?n:ot.cloneElement(n,{ref:v})})}const Az=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h,anchorY:m,root:p})=>{const y=ev(Iz),v=ot.useId();let E=!0,A=ot.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:D=>{y.set(D,!0);for(const L of y.values())if(!L)return;i&&i()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[e,y,i]);return l&&E&&(A={...A}),ot.useMemo(()=>{y.forEach((D,L)=>y.set(L,!1))},[e]),ot.useEffect(()=>{!e&&!y.size&&i&&i()},[e]),n=tt.jsx(Sz,{pop:u==="popLayout",isPresent:e,anchorX:h,anchorY:m,root:p,children:n}),tt.jsx(tp.Provider,{value:A,children:n})};function Iz(){return new Map}function UD(n=!0){const t=ot.useContext(tp);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=ot.useId();ot.useEffect(()=>{if(n)return a(l)},[n]);const u=ot.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const Ed=n=>n.key||"";function _A(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const xz=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[y,v]=UD(u),E=ot.useMemo(()=>_A(n),[n]),A=u&&!y?[]:E.map(Ed),D=ot.useRef(!0),L=ot.useRef(E),P=ev(()=>new Map),z=ot.useRef(new Set),[Q,K]=ot.useState(E),[Z,nt]=ot.useState(E);mC(()=>{D.current=!1,L.current=E;for(let I=0;I<Z.length;I++){const R=Ed(Z[I]);A.includes(R)?(P.delete(R),z.current.delete(R)):P.get(R)!==!0&&P.set(R,!1)}},[Z,A.length,A.join("-")]);const lt=[];if(E!==Q){let I=[...E];for(let R=0;R<Z.length;R++){const O=Z[R],M=Ed(O);A.includes(M)||(I.splice(R,0,O),lt.push(O))}return l==="wait"&&lt.length&&(I=lt),nt(_A(I)),K(E),null}const{forceRender:x}=ot.useContext(tv);return tt.jsx(tt.Fragment,{children:Z.map(I=>{const R=Ed(I),O=u&&!y?!1:E===Z||A.includes(R),M=()=>{if(z.current.has(R))return;if(z.current.add(R),P.has(R))P.set(R,!0);else return;let U=!0;P.forEach(C=>{C||(U=!1)}),U&&(x?.(),nt(L.current),u&&v?.(),i&&i())};return tt.jsx(Az,{isPresent:O,initial:!D.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:O?void 0:M,anchorX:h,anchorY:m,children:I},R)})})},BD=ot.createContext({strict:!1}),vA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let TA=!1;function Rz(){if(TA)return;const n={};for(const t in vA)n[t]={isEnabled:e=>vA[t].some(i=>!!e[i])};mD(n),TA=!0}function zD(){return Rz(),dB()}function Cz(n){const t=zD();for(const e in n)t[e]={...t[e],...n[e]};mD(t)}const Dz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function xm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Dz.has(n)}let jD=n=>!xm(n);function Vz(n){typeof n=="function"&&(jD=t=>t.startsWith("on")?!xm(t):n(t))}try{Vz(require("@emotion/is-prop-valid").default)}catch{}function Mz(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(jD(a)||e===!0&&xm(a)||!t&&!xm(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const ip=ot.createContext({});function Pz(n,t){if(np(n)){const{initial:e,animate:i}=n;return{initial:e===!1||ch(e)?e:void 0,animate:ch(i)?i:void 0}}return n.inherit!==!1?t:{}}function Oz(n){const{initial:t,animate:e}=Pz(n,ot.useContext(ip));return ot.useMemo(()=>({initial:t,animate:e}),[EA(t),EA(e)])}function EA(n){return Array.isArray(n)?n.join(" "):n}const Dv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FD(n,t,e){for(const i in t)!En(t[i])&&!ED(i,e)&&(n[i]=t[i])}function Nz({transformTemplate:n},t){return ot.useMemo(()=>{const e=Dv();return xv(e,t,n),Object.assign({},e.vars,e.style)},[t])}function kz(n,t){const e=n.style||{},i={};return FD(i,e,n),Object.assign(i,Nz(n,t)),i}function Lz(n,t){const e={},i=kz(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const qD=()=>({...Dv(),attrs:{}});function Uz(n,t,e,i){const a=ot.useMemo(()=>{const l=qD();return bD(l,t,SD(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};FD(l,n.style,n),a.style={...l,...a.style}}return a}const Bz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Vv(n){return typeof n!="string"||n.includes("-")?!1:!!(Bz.indexOf(n)>-1||/[A-Z]/u.test(n))}function zz(n,t,e,{latestValues:i},a,l=!1,u){const m=(u??Vv(n)?Uz:Lz)(t,i,a,n),p=Mz(t,typeof n=="string",l),y=n!==ot.Fragment?{...p,...m,ref:e}:{},{children:v}=t,E=ot.useMemo(()=>En(v)?v.get():v,[v]);return ot.createElement(n,{...y,children:E})}function jz({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:Fz(e,i,a,n),renderState:t()}}function Fz(n,t,e,i){const a={},l=i(n,{});for(const E in l)a[E]=Hd(l[E]);let{initial:u,animate:h}=n;const m=np(n),p=fD(n);t&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?h:u;if(v&&typeof v!="boolean"&&!ep(v)){const E=Array.isArray(v)?v:[v];for(let A=0;A<E.length;A++){const D=vv(n,E[A]);if(D){const{transitionEnd:L,transition:P,...z}=D;for(const Q in z){let K=z[Q];if(Array.isArray(K)){const Z=y?K.length-1:0;K=K[Z]}K!==null&&(a[Q]=K)}for(const Q in L)a[Q]=L[Q]}}}return a}const HD=n=>(t,e)=>{const i=ot.useContext(ip),a=ot.useContext(tp),l=()=>jz(n,t,i,a);return e?l():ev(l)},qz=HD({scrapeMotionValuesFromProps:Rv,createRenderState:Dv}),Hz=HD({scrapeMotionValuesFromProps:AD,createRenderState:qD}),Gz=Symbol.for("motionComponentSymbol");function Kz(n,t,e){const i=ot.useRef(e);ot.useInsertionEffect(()=>{i.current=e});const a=ot.useRef(null);return ot.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=i.current;if(typeof u=="function")if(l){const h=u(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const GD=ot.createContext({});function Tl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Yz(n,t,e,i,a,l){const{visualElement:u}=ot.useContext(ip),h=ot.useContext(BD),m=ot.useContext(tp),p=ot.useContext(Cv),y=p.reducedMotion,v=p.skipAnimations,E=ot.useRef(null),A=ot.useRef(!1);i=i||h.renderer,!E.current&&i&&(E.current=i(n,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:l}),A.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const D=E.current,L=ot.useContext(GD);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&Qz(E.current,e,a,L);const P=ot.useRef(!1);ot.useInsertionEffect(()=>{D&&P.current&&D.update(e,m)});const z=e[JC],Q=ot.useRef(!!z&&!window.MotionHandoffIsComplete?.(z)&&window.MotionHasOptimisedAnimation?.(z));return mC(()=>{A.current=!0,D&&(P.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),Q.current&&D.animationState&&D.animationState.animateChanges())}),ot.useEffect(()=>{D&&(!Q.current&&D.animationState&&D.animationState.animateChanges(),Q.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(z)}),Q.current=!1),D.enteringChildren=void 0)}),D}function Qz(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:KD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&Tl(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function KD(n){if(n)return n.options.allowProjection!==!1?n.projection:KD(n.parent)}function Oy(n,{forwardMotionProps:t=!1,type:e}={},i,a){i&&Cz(i);const l=e?e==="svg":Vv(n),u=l?Hz:qz;function h(p,y){let v;const E={...ot.useContext(Cv),...p,layoutId:Xz(p)},{isStatic:A}=E,D=Oz(p),L=u(p,A);if(!A&&dC){Wz();const P=$z(E);v=P.MeasureLayout,D.visualElement=Yz(n,L,E,a,P.ProjectionNode,l)}return tt.jsxs(ip.Provider,{value:D,children:[v&&D.visualElement?tt.jsx(v,{visualElement:D.visualElement,...E}):null,zz(n,p,Kz(L,D.visualElement,y),L,A,t,l)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=ot.forwardRef(h);return m[Gz]=n,m}function Xz({layoutId:n}){const t=ot.useContext(tv).id;return t&&n!==void 0?t+"-"+n:n}function Wz(n,t){ot.useContext(BD).strict}function $z(n){const t=zD(),{drag:e,layout:i}=t;if(!e&&!i)return{};const a={...e,...i};return{MeasureLayout:e?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Zz(n,t){if(typeof Proxy>"u")return Oy;const e=new Map,i=(l,u)=>Oy(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,Oy(u,void 0,n,t)),e.get(u))})}const Jz=(n,t)=>t.isSVG??Vv(n)?new DB(t):new SB(t,{allowProjection:n!==ot.Fragment});class tj extends ia{constructor(t){super(t),t.animationState||(t.animationState=NB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ep(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ej=0;class nj extends ia{constructor(){super(...arguments),this.id=ej++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ij={animation:{Feature:tj},exit:{Feature:nj}};function Ph(n){return{point:{x:n.pageX,y:n.pageY}}}const rj=n=>t=>wv(t)&&n(t,Ph(t));function Hc(n,t,e,i){return hh(n,t,rj(e),i)}const YD=({current:n})=>n?n.ownerDocument.defaultView:null,bA=(n,t)=>Math.abs(n-t);function sj(n,t){const e=bA(n.x,t.x),i=bA(n.y,t.y);return Math.sqrt(e**2+i**2)}const wA=new Set(["auto","scroll"]);class QD{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=A=>{this.handleScroll(A.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=ky(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,L=sj(A.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!L)return;const{point:P}=A,{timestamp:z}=mn;this.history.push({...P,timestamp:z});const{onStart:Q,onMove:K}=this.handlers;D||(Q&&Q(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,A)},this.handlePointerMove=(A,D)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=Ny(D,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(A,D)=>{this.end();const{onEnd:L,onSessionEnd:P,resumeAnimation:z}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&z&&z(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Q=ky(A.type==="pointercancel"?this.lastMoveEventInfo:Ny(D,this.transformPagePoint),this.history);this.startEvent&&L&&L(A,Q),P&&P(A,Q)},!wv(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=Ph(t),p=Ny(m,this.transformPagePoint),{point:y}=p,{timestamp:v}=mn;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,ky(p,this.history)),this.removeListeners=Dh(Hc(this.contextWindow,"pointermove",this.handlePointerMove),Hc(this.contextWindow,"pointerup",this.handlePointerUp),Hc(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(wA.has(i.overflowX)||wA.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ue.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Js(this.updatePoint)}}function Ny(n,t){return t?{point:t(n.point)}:n}function SA(n,t){return{x:n.x-t.x,y:n.y-t.y}}function ky({point:n},t){return{point:n,delta:SA(n,XD(t)),offset:SA(n,aj(t)),velocity:oj(t,.1)}}function aj(n){return n[0]}function XD(n){return n[n.length-1]}function oj(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=XD(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Pi(t)));)e--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&a.timestamp-i.timestamp>Pi(t)*2&&(i=n[1]);const l=hi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function lj(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Ee(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Ee(e,n,i.max):Math.min(n,e)),n}function AA(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function uj(n,{top:t,left:e,bottom:i,right:a}){return{x:AA(n.x,e,a),y:AA(n.y,t,i)}}function IA(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function cj(n,t){return{x:IA(n.x,t.x),y:IA(n.y,t.y)}}function hj(n,t){let e=.5;const i=Rn(n),a=Rn(t);return a>i?e=oh(t.min,t.max-i,n.min):i>a&&(e=oh(n.min,n.max-a,t.min)),pr(0,1,e)}function fj(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const H_=.35;function dj(n=H_){return n===!1?n=0:n===!0&&(n=H_),{x:xA(n,"left","right"),y:xA(n,"top","bottom")}}function xA(n,t,e){return{min:RA(n,t),max:RA(n,e)}}function RA(n,t){return typeof n=="number"?n:n[t]||0}const mj=new WeakMap;class pj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e&&this.snapToCursor(Ph(v).point),this.stopAnimation()},u=(v,E)=>{const{drag:A,dragPropagation:D,onDragStart:L}=this.getProps();if(A&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qU(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ir(z=>{let Q=this.getAxisMotionValue(z).get()||0;if(fr.test(Q)){const{projection:K}=this.visualElement;if(K&&K.layout){const Z=K.layout.layoutBox[z];Z&&(Q=Rn(Z)*(parseFloat(Q)/100))}}this.originPoint[z]=Q}),L&&ue.update(()=>L(v,E),!1,!0),k_(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},h=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:A,dragDirectionLock:D,onDirectionLock:L,onDrag:P}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:z}=E;if(D&&this.currentDirection===null){this.currentDirection=yj(z),this.currentDirection!==null&&L&&L(this.currentDirection);return}this.updateAxis("x",E.point,z),this.updateAxis("y",E.point,z),this.visualElement.render(),P&&ue.update(()=>P(v,E),!1,!0)},m=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new QD(t,{onSessionStart:l,onStart:u,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:YD(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:h}=this.getProps();h&&ue.postRender(()=>h(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!bd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=lj(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&Tl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=uj(i.layoutBox,t):this.constraints=!1,this.elastic=dj(e),a!==this.constraints&&!Tl(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&ir(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=fj(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Tl(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=_B(i,a.root,this.visualElement.getTransformPagePoint());let u=cj(a.layout.layoutBox,l);if(e){const h=e(pB(u));this.hasMutatedConstraints=!!h,h&&(u=gD(h))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=ir(y=>{if(!bd(y,e,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,A=a?40:1e7,D={type:"inertia",velocity:i?t[y]:0,bounceStiffness:E,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(h)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return k_(this.visualElement,t),i.start(_v(t,i,0,e,this.visualElement,!1))}stopAnimation(){ir(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){ir(e=>{const{drag:i}=this.getProps();if(!bd(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[e],m=l.get()||0;l.set(t[e]-Ee(u,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!Tl(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ir(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const m=h.get();a[u]=hj({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),ir(u=>{if(!bd(u,t,null))return;const h=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];h.set(Ee(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;mj.set(this.visualElement,this);const t=this.visualElement.current,e=Hc(t,"pointerdown",p=>{const{drag:y,dragListener:v=!0}=this.getProps(),E=p.target,A=E!==t&&XU(E);y&&v&&!A&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();Tl(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=gj(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ue.read(a);const h=hh(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(ir(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{h(),e(),u(),m&&m(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=H_,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function CA(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function gj(n,t,e){const i=kS(n,CA(e)),a=kS(t,CA(e));return()=>{i(),a()}}function bd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function yj(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class _j extends ia{constructor(t){super(t),this.removeGroupControls=di,this.removeListeners=di,this.controls=new pj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ly=n=>(t,e)=>{n&&ue.update(()=>n(t,e),!1,!0)};class vj extends ia{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(t){this.session=new QD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:YD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ly(t),onStart:Ly(e),onMove:Ly(i),onEnd:(l,u)=>{delete this.session,a&&ue.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Hc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Uy=!1;class Tj extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),Uy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),Uy=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ue.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),bv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;Uy=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WD(n){const[t,e]=UD(),i=ot.useContext(tv);return tt.jsx(Tj,{...n,layoutGroup:i,switchLayoutGroup:ot.useContext(GD),isPresent:t,safeToRemove:e})}const Ej={pan:{Feature:vj},drag:{Feature:_j,ProjectionNode:LD,MeasureLayout:WD}};function DA(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&ue.postRender(()=>l(t,Ph(t)))}class bj extends ia{mount(){const{current:t}=this.node;t&&(this.unmount=GU(t,(e,i)=>(DA(this.node,i,"Start"),a=>DA(this.node,a,"End"))))}unmount(){}}class wj extends ia{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Dh(hh(this.node.current,"focus",()=>this.onFocus()),hh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function VA(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&ue.postRender(()=>l(t,Ph(t)))}class Sj extends ia{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:i}=this.node.props;this.unmount=$U(t,(a,l)=>(VA(this.node,l,"Start"),(u,{success:h})=>VA(this.node,u,h?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:i?.tap===!1})}unmount(){}}const G_=new WeakMap,By=new WeakMap,Aj=n=>{const t=G_.get(n.target);t&&t(n)},Ij=n=>{n.forEach(Aj)};function xj({root:n,...t}){const e=n||document;By.has(e)||By.set(e,{});const i=By.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(Ij,{root:n,...t})),i[a]}function Rj(n,t,e){const i=xj(t);return G_.set(n,e),i.observe(n),()=>{G_.delete(n),i.unobserve(n)}}const Cj={some:0,all:1};class Dj extends ia{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Cj[a]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(m)};return Rj(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Vj(t,e))&&this.startObserver()}unmount(){}}function Vj({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Mj={inView:{Feature:Dj},tap:{Feature:Sj},focus:{Feature:wj},hover:{Feature:bj}},Pj={layout:{ProjectionNode:LD,MeasureLayout:WD}},Oj={...ij,...Mj,...Ej,...Pj},K_=Zz(Oj,Jz),Nj=({room:n,date:t,bookings:e,onBook:i,onCancel:a,currentUser:l})=>{const u=m=>{const p=e.find(L=>L.slot===m);if(p)return p;const y=new Date(2e3,0,1),[v,E]=m.split(" - "),A=kn(v,"HH:mm",y),D=kn(E,"HH:mm",y);return e.find(L=>{try{const[P,z]=L.slot.split(" - "),Q=kn(P.trim(),"HH:mm",y),K=kn(z.trim(),"HH:mm",y);return A<K&&D>Q}catch{return!1}})},h=m=>{try{if(t!==Dc(new Date,"yyyy-MM-dd"))return!1;const p=m.split(" - ")[1].trim(),y=kn(`${t} ${p}`,"yyyy-MM-dd HH:mm",new Date);return FA(y,new Date)}catch{return!1}};return tt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:WA.map((m,p)=>{const y=u(m),v=!!y,E=h(m),A=v&&l&&y.userId===l.uid;return E?null:tt.jsxs(K_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.05},className:`
              relative p-4 rounded-2xl border transition-all duration-200
              ${v?"bg-red-50/50 border-red-100 dark:bg-red-900/10 dark:border-red-900/30":"bg-white border-gray-100 hover:shadow-md hover:border-red-200 cursor-pointer group dark:bg-gray-800 dark:border-gray-700 dark:hover:border-red-500/30"}
            `,onClick:()=>!v&&i(m),children:[tt.jsxs("div",{className:"flex justify-between items-start mb-3",children:[tt.jsxs("div",{className:"flex flex-col",children:[tt.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",children:[tt.jsx(XA,{className:"mr-1"}),m]}),v&&y.slot!==m&&tt.jsxs("span",{className:"text-[10px] font-bold text-red-500 mt-1 flex items-center gap-1",children:[tt.jsx("span",{className:"h-1 w-1 rounded-full bg-red-500"}),"Custom: ",y.slot]})]}),!v&&tt.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-200 dark:bg-gray-600"})]}),v?tt.jsxs("div",{className:"space-y-2",children:[tt.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[tt.jsx(HP,{className:"text-red-400"}),y.courseCode]}),tt.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[tt.jsx(ZP,{}),tt.jsx("span",{children:y.bookedBy})]}),y.notes&&tt.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic mt-2 pl-2 border-l-2 border-red-100 dark:border-red-900/30",children:['"',y.notes,'"']}),A&&tt.jsx("button",{onClick:D=>{D.stopPropagation(),a(y.id)},className:"mt-3 w-full py-1.5 px-3 bg-white border border-red-100 text-red-500 text-xs font-medium rounded-lg hover:bg-red-50 transition-colors dark:bg-gray-700 dark:border-red-900/30 dark:hover:bg-red-900/20",children:"Cancel Booking"})]}):tt.jsx("div",{className:"py-4 text-center",children:tt.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-gray-50 text-xs font-medium text-gray-400 group-hover:bg-red-50 group-hover:text-red-500 transition-colors dark:bg-gray-700 dark:text-gray-500 dark:group-hover:bg-red-900/20 dark:group-hover:text-red-400",children:l?"Available":"Sign in to book"})})]},m)})})},kj=({isOpen:n,onClose:t,onConfirm:e,slot:i,room:a,date:l})=>{const{user:u}=J0(),[h,m]=ot.useState(""),[p,y]=ot.useState(""),[v,E]=ot.useState(""),[A,D]=ot.useState(!1),[L,P]=ot.useState(""),[z,Q]=ot.useState("");ot.useEffect(()=>{if(n&&u){if(y(u.displayName||""),i){const[Z,nt]=i.split(" - ");P(Z||""),Q(nt||"")}D(!1)}},[n,u,i]);const K=Z=>{if(Z.preventDefault(),A){if(!L||!z){alert("Please select both start and end times.");return}if(L>=z){alert("End time must be after start time.");return}}const nt=A?`${L} - ${z}`:i;e({courseCode:h,bookedBy:p,notes:v,slot:nt,isCustom:A}),m(""),y(""),E("")};return n?tt.jsx(xz,{children:tt.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:tt.jsxs(K_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-white/20 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[tt.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-gray-700",children:[tt.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Book Room"}),tt.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-500 dark:text-gray-400",children:tt.jsx(YP,{size:20})})]}),tt.jsxs("div",{className:"p-6 bg-gray-50/50 dark:bg-gray-900/50",children:[tt.jsxs("div",{className:"mb-6 text-sm text-gray-600 dark:text-gray-300 grid grid-cols-2 gap-2",children:[tt.jsxs("div",{children:[tt.jsx("strong",{children:"Room:"})," ",a]}),tt.jsxs("div",{children:[tt.jsx("strong",{children:"Date:"})," ",l]}),tt.jsxs("div",{className:"col-span-2",children:[tt.jsx("strong",{children:"Default Slot:"})," ",i]})]}),tt.jsxs("form",{onSubmit:K,className:"space-y-4",children:[tt.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700",children:[tt.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[tt.jsx(XA,{className:"text-red-500"}),"Custom Time Slot"]}),tt.jsx("button",{type:"button",onClick:()=>D(!A),className:`
                    w-10 h-5 rounded-full relative transition-colors duration-200
                    ${A?"bg-red-600":"bg-gray-200"}
                  `,children:tt.jsx("div",{className:`
                    absolute top-1 left-1 w-3 h-3 rounded-full bg-white transition-transform duration-200
                    ${A?"translate-x-5":"translate-x-0"}
                  `})})]}),A&&tt.jsxs(K_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"grid grid-cols-2 gap-4 pt-2",children:[tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start Time"}),tt.jsx("input",{type:"time",required:A,value:L,onChange:Z=>P(Z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End Time"}),tt.jsx("input",{type:"time",required:A,value:z,onChange:Z=>Q(Z.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsx("p",{className:"col-span-2 text-[10px] text-gray-400 italic",children:"Note: Ensure your custom time doesn't overlap with existing bookings."})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course Code"}),tt.jsx("input",{type:"text",required:!0,value:h,onChange:Z=>m(Z.target.value),placeholder:"e.g. COMM 101",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Name / Initials"}),tt.jsx("input",{type:"text",required:!0,value:p,onChange:Z=>y(Z.target.value),placeholder:"e.g. JD - Course Rep",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes (Optional)"}),tt.jsx("textarea",{value:v,onChange:Z=>E(Z.target.value),placeholder:"Any additional info...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none h-20"})]}),tt.jsxs("div",{className:"pt-4 flex gap-3",children:[tt.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),tt.jsx("button",{type:"submit",className:"flex-1 py-2.5 px-4 rounded-xl bg-red-600 text-white font-medium hover:bg-red-700 shadow-lg shadow-red-200 dark:shadow-red-900/20 transition-all",children:"Confirm Booking"})]})]})]})]})})}):null},Lj=(n,t)=>{const[e,i]=ot.useState([]),[a,l]=ot.useState(!0),[u,h]=ot.useState(null);return ot.useEffect(()=>{l(!0);const y=dS(sS(vl,"bookings"),_d("date","==",n),_d("room","==",t)),v=M5(y,E=>{const A=[];E.forEach(D=>{A.push({id:D.id,...D.data()})}),i(A),l(!1)},E=>{E.code==="failed-precondition"||E.code==="unavailable"?console.log("Firestore offline/unavailable:",E.message):(console.error("Error fetching bookings:",E),h(E)),l(!1)});return()=>v()},[n,t]),{bookings:e,loading:a,error:u,addBooking:async y=>{try{const v=new Date(2e3,0,1),[E,A]=y.slot.split(" - "),D=kn(E.trim(),"HH:mm",v),L=kn(A.trim(),"HH:mm",v),P=dS(sS(vl,"bookings"),_d("date","==",y.date),_d("room","==",y.room)),K=(await D5(P)).docs.map(x=>x.data()).find(x=>{try{const[I,R]=x.slot.split(" - "),O=kn(I.trim(),"HH:mm",v),M=kn(R.trim(),"HH:mm",v);return D<M&&L>O}catch{return!1}});if(K)throw new Error(`This time overlaps with an existing booking: ${K.slot} (${K.courseCode})`);const Z=y.slot.replace(/[\/\s:]/g,"_"),nt=`${y.date}_${y.room}_${Z}`,lt=aS(vl,"bookings",nt);return await C5(vl,async x=>{if((await x.get(lt)).exists())throw new Error("This specific slot has already been booked!");x.set(lt,{...y,createdAt:T5()})}),!0}catch(v){throw console.error("Error adding booking:",v),v}},cancelBooking:async y=>{try{return await V5(aS(vl,"bookings",y)),!0}catch(v){throw console.error("Error cancelling booking:",v),v}}}};function Uj(){const[n,t]=ot.useState(!1),[e,i]=ot.useState(Fy["Block E"][0]),[a,l]=ot.useState(Dc(new Date,"yyyy-MM-dd")),[u,h]=ot.useState(!1),[m,p]=ot.useState(null),{user:y,login:v}=J0(),{bookings:E,loading:A,addBooking:D,cancelBooking:L}=Lj(a,e),P=(()=>{const Z=Dc(new Date,"yyyy-MM-dd"),nt=new Date(2e3,0,1);return WA.filter(lt=>{const[x,I]=lt.split(" - ");if(a===Z){const C=I.trim(),Yt=kn(`${a} ${C}`,"yyyy-MM-dd HH:mm",new Date);if(FA(Yt,new Date))return!1}const R=kn(x,"HH:mm",nt),O=kn(I,"HH:mm",nt);return E.find(C=>C.slot===lt)?!1:!E.find(C=>{try{const[Yt,fe]=C.slot.split(" - "),$=kn(Yt.trim(),"HH:mm",nt),st=kn(fe.trim(),"HH:mm",nt);return R<st&&O>$}catch{return!1}})}).length})(),z=async Z=>{if(!y){try{await v()}catch(nt){console.error("Login failed:",nt)}return}p(Z),h(!0)},Q=async Z=>{try{await D({room:e,date:a,slot:m,userId:y.uid,...Z}),h(!1)}catch(nt){alert(nt.message)}},K=async Z=>{if(!y){alert("Please sign in to cancel a booking.");return}if(confirm("Are you sure you want to cancel this booking?"))try{await L(Z)}catch{alert("Failed to cancel booking")}};return tt.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden font-sans text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[n&&tt.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden backdrop-blur-sm",onClick:()=>t(!1)}),tt.jsx("div",{className:`
        fixed inset-y-0 left-0 z-30 w-72 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:tt.jsx(z5,{selectedRoom:e,onSelectRoom:Z=>{i(Z),t(!1)}})}),tt.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[tt.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 p-4 flex items-center justify-between z-10 transition-colors duration-200",children:[tt.jsxs("div",{className:"flex items-center gap-3",children:[tt.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:tt.jsx(WP,{size:24})}),tt.jsxs("div",{className:"flex flex-col",children:[tt.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[tt.jsx("span",{className:"hidden sm:inline text-gray-400 dark:text-gray-500 font-normal",children:"Room"}),e]}),tt.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium flex items-center gap-1",children:[tt.jsx("span",{className:`w-2 h-2 rounded-full ${P>0?"bg-green-500":"bg-red-500"}`}),A?"Loading...":`${P} slots available`]})]})]}),tt.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-700 p-1.5 rounded-xl border border-gray-100 dark:border-gray-600 transition-colors duration-200",children:[tt.jsxs("div",{className:"relative",children:[tt.jsx(GP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),tt.jsx("input",{type:"date",value:a,onChange:Z=>l(Z.target.value),className:"pl-9 pr-3 py-1.5 bg-transparent text-sm font-medium outline-none text-gray-700 dark:text-gray-200"})]}),tt.jsx("button",{onClick:()=>l(Dc(new Date,"yyyy-MM-dd")),className:"px-3 py-1.5 bg-white dark:bg-gray-600 shadow-sm rounded-lg text-xs font-semibold text-gray-700 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-500 transition-all",children:"Today"})]})]}),tt.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:tt.jsx("div",{className:"max-w-5xl mx-auto",children:tt.jsx(Nj,{room:e,date:a,bookings:E,onBook:z,onCancel:K,currentUser:y})})})]}),tt.jsx(kj,{isOpen:u,onClose:()=>h(!1),room:e,date:a,slot:m,onConfirm:Q})]})}const Bj="modulepreload",zj=function(n){return"/Class-Claim/"+n},MA={},jj=function(t,e,i){let a=Promise.resolve();if(e&&e.length>0){let p=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(E=>({status:"fulfilled",value:E}),E=>({status:"rejected",reason:E}))))};var u=p;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");a=p(e.map(y=>{if(y=zj(y),y in MA)return;MA[y]=!0;const v=y.endsWith(".css"),E=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${E}`))return;const A=document.createElement("link");if(A.rel=v?"stylesheet":Bj,v||(A.as="script"),A.crossOrigin="",A.href=y,m&&A.setAttribute("nonce",m),document.head.appendChild(A),v)return new Promise((D,L)=>{A.addEventListener("load",D),A.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return a.then(h=>{for(const m of h||[])m.status==="rejected"&&l(m.reason);return t().catch(l)})};function Fj(n={}){const{immediate:t=!1,onNeedRefresh:e,onOfflineReady:i,onRegistered:a,onRegisteredSW:l,onRegisterError:u}=n;let h,m;const p=async(v=!0)=>{await m};async function y(){if("serviceWorker"in navigator){if(h=await jj(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/Class-Claim/sw.js",{scope:"/Class-Claim/",type:"classic"})).catch(v=>{u?.(v)}),!h)return;h.addEventListener("activated",v=>{(v.isUpdate||v.isExternal)&&window.location.reload()}),h.addEventListener("installed",v=>{v.isUpdate||i?.()}),h.register({immediate:t}).then(v=>{l?l("/Class-Claim/sw.js",v):a?.(v)}).catch(v=>{u?.(v)})}}return m=y(),p}Fj({immediate:!0});LV.createRoot(document.getElementById("root")).render(tt.jsx(ot.StrictMode,{children:tt.jsx(B5,{children:tt.jsx(L5,{children:tt.jsx(Uj,{})})})}));
