(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function $2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qg={exports:{}},nc={};var Nb;function Z2(){if(Nb)return nc;Nb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return nc.Fragment=t,nc.jsx=e,nc.jsxs=e,nc}var kb;function J2(){return kb||(kb=1,qg.exports=Z2()),qg.exports}var nt=J2(),Hg={exports:{}},Rt={};var Lb;function tV(){if(Lb)return Rt;Lb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function I(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function Q(N,et,ft){this.props=N,this.context=et,this.refs=B,this.updater=ft||D}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Z(){}Z.prototype=Q.prototype;function Y(N,et,ft){this.props=N,this.context=et,this.refs=B,this.updater=ft||D}var it=Y.prototype=new Z;it.constructor=Y,U(it,Q.prototype),it.isPureReactComponent=!0;var rt=Array.isArray;function ct(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(N,et,ft){var mt=ft.ref;return{$$typeof:n,type:N,key:et,ref:mt!==void 0?mt:null,props:ft}}function P(N,et){return R(N.type,et,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function L(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ft){return et[ft]})}var x=/\/+/g;function ae(N,et){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):et.toString(36)}function ve(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ct,ct):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $(N,et,ft,mt,At){var Vt=typeof N;(Vt==="undefined"||Vt==="boolean")&&(N=null);var Ft=!1;if(N===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(N.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=N._init,$(Ft(N._payload),et,ft,mt,At)}}if(Ft)return At=At(N),Ft=mt===""?"."+ae(N,0):mt,rt(At)?(ft="",Ft!=null&&(ft=Ft.replace(x,"$&/")+"/"),$(At,et,ft,"",function(Xs){return Xs})):At!=null&&(M(At)&&(At=P(At,ft+(At.key==null||N&&N.key===At.key?"":(""+At.key).replace(x,"$&/")+"/")+Ft)),et.push(At)),1;Ft=0;var Fe=mt===""?".":mt+":";if(rt(N))for(var he=0;he<N.length;he++)mt=N[he],Vt=Fe+ae(mt,he),Ft+=$(mt,et,ft,Vt,At);else if(he=I(N),typeof he=="function")for(N=he.call(N),he=0;!(mt=N.next()).done;)mt=mt.value,Vt=Fe+ae(mt,he++),Ft+=$(mt,et,ft,Vt,At);else if(Vt==="object"){if(typeof N.then=="function")return $(ve(N),et,ft,mt,At);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function st(N,et,ft){if(N==null)return N;var mt=[],At=0;return $(N,mt,"","",function(Vt){return et.call(ft,Vt,At++)}),mt}function pt(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(ft){(N._status===0||N._status===-1)&&(N._status=1,N._result=ft)},function(ft){(N._status===0||N._status===-1)&&(N._status=2,N._result=ft)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var Dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},kt={map:st,forEach:function(N,et,ft){st(N,function(){et.apply(this,arguments)},ft)},count:function(N){var et=0;return st(N,function(){et++}),et},toArray:function(N){return st(N,function(et){return et})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Rt.Activity=v,Rt.Children=kt,Rt.Component=Q,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=Y,Rt.StrictMode=i,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(N,et,ft){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var mt=U({},N.props),At=N.key;if(et!=null)for(Vt in et.key!==void 0&&(At=""+et.key),et)!A.call(et,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&et.ref===void 0||(mt[Vt]=et[Vt]);var Vt=arguments.length-2;if(Vt===1)mt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),Fe=0;Fe<Vt;Fe++)Ft[Fe]=arguments[Fe+2];mt.children=Ft}return R(N.type,At,mt)},Rt.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Rt.createElement=function(N,et,ft){var mt,At={},Vt=null;if(et!=null)for(mt in et.key!==void 0&&(Vt=""+et.key),et)A.call(et,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(At[mt]=et[mt]);var Ft=arguments.length-2;if(Ft===1)At.children=ft;else if(1<Ft){for(var Fe=Array(Ft),he=0;he<Ft;he++)Fe[he]=arguments[he+2];At.children=Fe}if(N&&N.defaultProps)for(mt in Ft=N.defaultProps,Ft)At[mt]===void 0&&(At[mt]=Ft[mt]);return R(N,Vt,At)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:f,render:N}},Rt.isValidElement=M,Rt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:pt}},Rt.memo=function(N,et){return{$$typeof:p,type:N,compare:et===void 0?null:et}},Rt.startTransition=function(N){var et=C.T,ft={};C.T=ft;try{var mt=N(),At=C.S;At!==null&&At(ft,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(ct,Dt)}catch(Vt){Dt(Vt)}finally{et!==null&&ft.types!==null&&(et.types=ft.types),C.T=et}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(N){return C.H.use(N)},Rt.useActionState=function(N,et,ft){return C.H.useActionState(N,et,ft)},Rt.useCallback=function(N,et){return C.H.useCallback(N,et)},Rt.useContext=function(N){return C.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,et){return C.H.useDeferredValue(N,et)},Rt.useEffect=function(N,et){return C.H.useEffect(N,et)},Rt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(N,et,ft){return C.H.useImperativeHandle(N,et,ft)},Rt.useInsertionEffect=function(N,et){return C.H.useInsertionEffect(N,et)},Rt.useLayoutEffect=function(N,et){return C.H.useLayoutEffect(N,et)},Rt.useMemo=function(N,et){return C.H.useMemo(N,et)},Rt.useOptimistic=function(N,et){return C.H.useOptimistic(N,et)},Rt.useReducer=function(N,et,ft){return C.H.useReducer(N,et,ft)},Rt.useRef=function(N){return C.H.useRef(N)},Rt.useState=function(N){return C.H.useState(N)},Rt.useSyncExternalStore=function(N,et,ft){return C.H.useSyncExternalStore(N,et,ft)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.4",Rt}var Ub;function V_(){return Ub||(Ub=1,Hg.exports=tV()),Hg.exports}var ot=V_();const ja=$2(ot);var Gg={exports:{}},ic={},Kg={exports:{}},Yg={};var Bb;function eV(){return Bb||(Bb=1,(function(n){function t($,st){var pt=$.length;$.push(st);t:for(;0<pt;){var Dt=pt-1>>>1,kt=$[Dt];if(0<a(kt,st))$[Dt]=st,$[pt]=kt,pt=Dt;else break t}}function e($){return $.length===0?null:$[0]}function i($){if($.length===0)return null;var st=$[0],pt=$.pop();if(pt!==st){$[0]=pt;t:for(var Dt=0,kt=$.length,N=kt>>>1;Dt<N;){var et=2*(Dt+1)-1,ft=$[et],mt=et+1,At=$[mt];if(0>a(ft,pt))mt<kt&&0>a(At,ft)?($[Dt]=At,$[mt]=pt,Dt=mt):($[Dt]=ft,$[et]=pt,Dt=et);else if(mt<kt&&0>a(At,pt))$[Dt]=At,$[mt]=pt,Dt=mt;else break t}}return st}function a($,st){var pt=$.sortIndex-st.sortIndex;return pt!==0?pt:$.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,v=null,b=3,I=!1,D=!1,U=!1,B=!1,Q=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function it($){for(var st=e(p);st!==null;){if(st.callback===null)i(p);else if(st.startTime<=$)i(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(p)}}function rt($){if(U=!1,it($),!D)if(e(m)!==null)D=!0,ct||(ct=!0,L());else{var st=e(p);st!==null&&ve(rt,st.startTime-$)}}var ct=!1,C=-1,A=5,R=-1;function P(){return B?!0:!(n.unstable_now()-R<A)}function M(){if(B=!1,ct){var $=n.unstable_now();R=$;var st=!0;try{t:{D=!1,U&&(U=!1,Z(C),C=-1),I=!0;var pt=b;try{e:{for(it($),v=e(m);v!==null&&!(v.expirationTime>$&&P());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,b=v.priorityLevel;var kt=Dt(v.expirationTime<=$);if($=n.unstable_now(),typeof kt=="function"){v.callback=kt,it($),st=!0;break e}v===e(m)&&i(m),it($)}else i(m);v=e(m)}if(v!==null)st=!0;else{var N=e(p);N!==null&&ve(rt,N.startTime-$),st=!1}}break t}finally{v=null,b=pt,I=!1}st=void 0}}finally{st?L():ct=!1}}}var L;if(typeof Y=="function")L=function(){Y(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ae=x.port2;x.port1.onmessage=M,L=function(){ae.postMessage(null)}}else L=function(){Q(M,0)};function ve($,st){C=Q(function(){$(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function($){$.callback=null},n.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<$?Math.floor(1e3/$):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function($){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var pt=b;b=st;try{return $()}finally{b=pt}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function($,st){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pt=b;b=$;try{return st()}finally{b=pt}},n.unstable_scheduleCallback=function($,st,pt){var Dt=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Dt+pt:Dt):pt=Dt,$){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=pt+kt,$={id:y++,callback:st,priorityLevel:$,startTime:pt,expirationTime:kt,sortIndex:-1},pt>Dt?($.sortIndex=pt,t(p,$),e(m)===null&&$===e(p)&&(U?(Z(C),C=-1):U=!0,ve(rt,pt-Dt))):($.sortIndex=kt,t(m,$),D||I||(D=!0,ct||(ct=!0,L()))),$},n.unstable_shouldYield=P,n.unstable_wrapCallback=function($){var st=b;return function(){var pt=b;b=st;try{return $.apply(this,arguments)}finally{b=pt}}}})(Yg)),Yg}var zb;function nV(){return zb||(zb=1,Kg.exports=eV()),Kg.exports}var Qg={exports:{}},hn={};var jb;function iV(){if(jb)return hn;jb=1;var n=V_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,hn.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},hn.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},hn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},hn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},hn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:I}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},hn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hn.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},hn.requestFormReset=function(m){i.d.r(m)},hn.unstable_batchedUpdates=function(m,p){return m(p)},hn.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},hn.useFormStatus=function(){return u.H.useHostTransitionStatus()},hn.version="19.2.4",hn}var Fb;function rV(){if(Fb)return Qg.exports;Fb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qg.exports=iV(),Qg.exports}var qb;function sV(){if(qb)return ic;qb=1;var n=nV(),t=V_(),e=rV();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),r;if(g===c)return m(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,c=g;break}if(S===c){T=!0,c=d,o=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===o){T=!0,o=g,c=d;break}if(S===c){T=!0,c=g,o=d;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case Q:return"Profiler";case B:return"StrictMode";case rt:return"Suspense";case ct:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case D:return"Portal";case Y:return r.displayName||"Context";case Z:return(r._context.displayName||"Context")+".Consumer";case it:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return s=r.displayName||null,s!==null?s:ae(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ae(r(s))}catch{}}return null}var ve=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function N(r){return{current:r}}function et(r){0>kt||(r.current=Dt[kt],Dt[kt]=null,kt--)}function ft(r,s){kt++,Dt[kt]=r.current,r.current=s}var mt=N(null),At=N(null),Vt=N(null),Ft=N(null);function Fe(r,s){switch(ft(Vt,s),ft(At,r),ft(mt,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?rb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=rb(s),r=sb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}et(mt),ft(mt,r)}function he(){et(mt),et(At),et(Vt)}function Xs(r){r.memoizedState!==null&&ft(Ft,r);var s=mt.current,o=sb(s,r.type);s!==o&&(ft(At,r),ft(mt,o))}function ro(r){At.current===r&&(et(mt),et(At)),Ft.current===r&&(et(Ft),Zu._currentValue=pt)}var so,ao;function Ci(r){if(so===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);so=s&&s[1]||"",ao=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+so+r+ao}var Zl=!1;function Ws(r,s){if(!r||Zl)return"";Zl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var H=K}Reflect.construct(r,[],tt)}else{try{tt.call()}catch(K){H=K}r.call(tt.prototype)}}else{try{throw Error()}catch(K){H=K}(tt=r())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var V=T.split(`
`),q=S.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===q.length)for(c=V.length-1,d=q.length-1;1<=c&&0<=d&&V[c]!==q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==q[d]){var W=`
`+V[c].replace(" at new "," at ");return r.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",r.displayName)),W}while(1<=c&&0<=d);break}}}finally{Zl=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ci(o):""}function Jl(r,s){switch(r.tag){case 26:case 27:case 5:return Ci(r.type);case 16:return Ci("Lazy");case 13:return r.child!==s&&s!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Ws(r.type,!1);case 11:return Ws(r.type.render,!1);case 1:return Ws(r.type,!0);case 31:return Ci("Activity");default:return""}}function tu(r){try{var s="",o=null;do s+=Jl(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Re=Object.prototype.hasOwnProperty,qe=n.unstable_scheduleCallback,Br=n.unstable_cancelCallback,Gm=n.unstable_shouldYield,Sh=n.unstable_requestPaint,gn=n.unstable_now,$s=n.unstable_getCurrentPriorityLevel,eu=n.unstable_ImmediatePriority,nu=n.unstable_UserBlockingPriority,zr=n.unstable_NormalPriority,Km=n.unstable_LowPriority,wh=n.unstable_IdlePriority,Ah=n.log,Ih=n.unstable_setDisableYieldValue,oi=null,tn=null;function qn(r){if(typeof Ah=="function"&&Ih(r),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(oi,r)}catch{}}var Se=Math.clz32?Math.clz32:Ch,Rh=Math.log,oo=Math.LN2;function Ch(r){return r>>>=0,r===0?32:31-(Rh(r)/oo|0)|0}var xi=256,Zs=262144,Ce=4194304;function Di(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Vi(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~g,c!==0?d=Di(c):(T&=S,T!==0?d=Di(T):o||(o=S&~r,o!==0&&(d=Di(o))))):(S=c&~g,S!==0?d=Di(S):T!==0?d=Di(T):o||(o=c&~r,o!==0&&(d=Di(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function li(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Ym(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xh(){var r=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),r}function Mi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function Js(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Qm(r,s,o,c,d,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,V=r.expirationTimes,q=r.hiddenUpdates;for(o=T&~o;0<o;){var W=31-Se(o),tt=1<<W;S[W]=0,V[W]=-1;var H=q[W];if(H!==null)for(q[W]=null,W=0;W<H.length;W++){var K=H[W];K!==null&&(K.lane&=-536870913)}o&=~tt}c!==0&&ta(r,c,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function ta(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Se(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function iu(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Se(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function ru(r,s){var o=s&-s;return o=(o&42)!==0?1:ea(o),(o&(r.suspendedLanes|s))!==0?0:o}function ea(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ar(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Dh(){var r=st.p;return r!==0?r:(r=window.event,r===void 0?32:Cb(r.type))}function ui(r,s){var o=st.p;try{return st.p=r,s()}finally{st.p=o}}var ci=Math.random().toString(36).slice(2),xe="__reactFiber$"+ci,Qe="__reactProps$"+ci,Pi="__reactContainer$"+ci,lo="__reactEvents$"+ci,Xm="__reactListeners$"+ci,Vh="__reactHandles$"+ci,Mh="__reactResources$"+ci,Oi="__reactMarker$"+ci;function uo(r){delete r[xe],delete r[Qe],delete r[lo],delete r[Xm],delete r[Vh]}function Ni(r){var s=r[xe];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Pi]||o[xe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=fb(r);r!==null;){if(o=r[xe])return o;r=fb(r)}return s}r=o,o=r.parentNode}return null}function Hn(r){if(r=r[xe]||r[Pi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Dn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ki(r){var s=r[Mh];return s||(s=r[Mh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function De(r){r[Oi]=!0}var su=new Set,au={};function Li(r,s){Ui(r,s),Ui(r+"Capture",s)}function Ui(r,s){for(au[r]=s,r=0;r<s.length;r++)su.add(s[r])}var ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lu={},uu={};function Ph(r){return Re.call(uu,r)?!0:Re.call(lu,r)?!1:ou.test(r)?uu[r]=!0:(lu[r]=!0,!1)}function co(r,s,o){if(Ph(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Vn(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ve(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function Xe(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function jr(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function cu(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Xt(r){if(!r._valueTracker){var s=jr(r)?"checked":"value";r._valueTracker=cu(r,s,""+r[s])}}function na(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=jr(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Bi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ia=/[\n"\\]/g;function bn(r){return r.replace(ia,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function ho(r,s,o,c,d,g,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Xe(s)):r.value!==""+Xe(s)&&(r.value=""+Xe(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?hu(r,T,Xe(s)):o!=null?hu(r,T,Xe(o)):c!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Xe(S):r.removeAttribute("name")}function Oh(r,s,o,c,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Xt(r);return}o=o!=null?""+Xe(o):"",s=s!=null?""+Xe(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),Xt(r)}function hu(r,s,o){s==="number"&&Bi(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Fr(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Xe(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Nh(r,s,o){if(s!=null&&(s=""+Xe(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Xe(o):""}function qr(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(ve(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Xe(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),Xt(r)}function Sn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||kh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function du(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&fu(r,d,c)}else for(var g in s)s.hasOwnProperty(g)&&fu(r,g,s[g])}function fo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Hr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function mo(r){return Hr.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function hi(){}var mu=null;function Gn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Gr=null,zi=null;function ra(r){var s=Hn(r);if(s&&(r=s.stateNode)){var o=r[Qe]||null;t:switch(r=s.stateNode,s.type){case"input":if(ho(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+bn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[Qe]||null;if(!d)throw Error(i(90));ho(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&na(c)}break t;case"textarea":Nh(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Fr(r,!!o.multiple,s,!1)}}}var po=!1;function Kr(r,s,o){if(po)return r(s,o);po=!0;try{var c=r(s);return c}finally{if(po=!1,(Gr!==null||zi!==null)&&(Vf(),Gr&&(s=Gr,r=zi,zi=Gr=null,ra(s),r)))for(s=0;s<r.length;s++)ra(r[s])}}function fi(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Qe]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sa=!1;if(Kn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){sa=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{sa=!1}var ji=null,pu=null,aa=null;function gu(){if(aa)return aa;var r,s=pu,o=s.length,c,d="value"in ji?ji.value:ji.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(c=1;c<=T&&s[o-c]===d[g-c];c++);return aa=d.slice(r,1<c?1-c:void 0)}function oa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function di(){return!1}function en(r){function s(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?or:di,this.isPropagationStopped=di,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=en(lr),Yr=v({},lr,{view:0,detail:0}),yu=en(Yr),Qr,go,qi,yo=v({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qi&&(qi&&r.type==="mousemove"?(Qr=r.screenX-qi.screenX,go=r.screenY-qi.screenY):go=Qr=0,qi=r),Qr)},movementY:function(r){return"movementY"in r?r.movementY:go}}),_u=en(yo),la=v({},yo,{dataTransfer:0}),Uh=en(la),Bh=v({},Yr,{relatedTarget:0}),ua=en(Bh),vu=v({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),zh=en(vu),_o=v({},lr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),jh=en(_o),Fh=v({},lr,{data:0}),Hi=en(Fh),qh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kh(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Gh[r])?!!s[r]:!1}function Xr(){return Kh}var yn=v({},Yr,{key:function(r){if(r.key){var s=qh[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=oa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Hh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xr,charCode:function(r){return r.type==="keypress"?oa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?oa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yh=en(yn),Qh=v({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=en(Qh),h=v({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xr}),_=en(h),E=v({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=en(E),j=v({},yo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),G=en(j),ut=v({},lr,{newState:0,oldState:0}),Ct=en(ut),we=[9,13,27,32],Yt=Kn&&"CompositionEvent"in window,fe=null;Kn&&"documentMode"in document&&(fe=document.documentMode);var Yn=Kn&&"TextEvent"in window&&!fe,Gi=Kn&&(!Yt||fe&&8<fe&&11>=fe),mi=" ",pi=!1;function ca(r,s){switch(r){case"keyup":return we.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var To=!1;function ED(r,s){switch(r){case"compositionend":return vo(s);case"keypress":return s.which!==32?null:(pi=!0,mi);case"textInput":return r=s.data,r===mi&&pi?null:r;default:return null}}function bD(r,s){if(To)return r==="compositionend"||!Yt&&ca(r,s)?(r=gu(),aa=pu=ji=null,To=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var SD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!SD[r.type]:s==="textarea"}function g0(r,s,o,c){Gr?zi?zi.push(c):zi=[c]:Gr=c,s=Uf(s,"onChange"),0<s.length&&(o=new Fi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Tu=null,Eu=null;function wD(r){ZE(r,0)}function Xh(r){var s=Dn(r);if(na(s))return r}function y0(r,s){if(r==="change")return s}var _0=!1;if(Kn){var Wm;if(Kn){var $m="oninput"in document;if(!$m){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),$m=typeof v0.oninput=="function"}Wm=$m}else Wm=!1;_0=Wm&&(!document.documentMode||9<document.documentMode)}function T0(){Tu&&(Tu.detachEvent("onpropertychange",E0),Eu=Tu=null)}function E0(r){if(r.propertyName==="value"&&Xh(Eu)){var s=[];g0(s,Eu,r,Gn(r)),Kr(wD,s)}}function AD(r,s,o){r==="focusin"?(T0(),Tu=s,Eu=o,Tu.attachEvent("onpropertychange",E0)):r==="focusout"&&T0()}function ID(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xh(Eu)}function RD(r,s){if(r==="click")return Xh(s)}function CD(r,s){if(r==="input"||r==="change")return Xh(s)}function xD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Mn=typeof Object.is=="function"?Object.is:xD;function bu(r,s){if(Mn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Re.call(s,d)||!Mn(r[d],s[d]))return!1}return!0}function b0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function S0(r,s){var o=b0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=b0(o)}}function w0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?w0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function A0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Bi(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Bi(r.document)}return s}function Zm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var DD=Kn&&"documentMode"in document&&11>=document.documentMode,Eo=null,Jm=null,Su=null,tp=!1;function I0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;tp||Eo==null||Eo!==Bi(c)||(c=Eo,"selectionStart"in c&&Zm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Su&&bu(Su,c)||(Su=c,c=Uf(Jm,"onSelect"),0<c.length&&(s=new Fi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Eo)))}function ha(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var bo={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},ep={},R0={};Kn&&(R0=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function fa(r){if(ep[r])return ep[r];if(!bo[r])return r;var s=bo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in R0)return ep[r]=s[o];return r}var C0=fa("animationend"),x0=fa("animationiteration"),D0=fa("animationstart"),VD=fa("transitionrun"),MD=fa("transitionstart"),PD=fa("transitioncancel"),V0=fa("transitionend"),M0=new Map,np="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");np.push("scrollEnd");function gi(r,s){M0.set(r,s),Li(s,[r])}var Wh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Qn=[],So=0,ip=0;function $h(){for(var r=So,s=ip=So=0;s<r;){var o=Qn[s];Qn[s++]=null;var c=Qn[s];Qn[s++]=null;var d=Qn[s];Qn[s++]=null;var g=Qn[s];if(Qn[s++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&P0(o,d,g)}}function Zh(r,s,o,c){Qn[So++]=r,Qn[So++]=s,Qn[So++]=o,Qn[So++]=c,ip|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function rp(r,s,o,c){return Zh(r,s,o,c),Jh(r)}function da(r,s){return Zh(r,null,null,s),Jh(r)}function P0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-Se(o),r=g.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),g):null}function Jh(r){if(50<Gu)throw Gu=0,dg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var wo={};function OD(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(r,s,o,c){return new OD(r,s,o,c)}function sp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cr(r,s){var o=r.alternate;return o===null?(o=Pn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function O0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function tf(r,s,o,c,d,g){var T=0;if(c=r,typeof r=="function")sp(r)&&(T=1);else if(typeof r=="string")T=B2(r,o,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case R:return r=Pn(31,o,s,d),r.elementType=R,r.lanes=g,r;case U:return ma(o.children,d,g,s);case B:T=8,d|=24;break;case Q:return r=Pn(12,o,s,d|2),r.elementType=Q,r.lanes=g,r;case rt:return r=Pn(13,o,s,d),r.elementType=rt,r.lanes=g,r;case ct:return r=Pn(19,o,s,d),r.elementType=ct,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:T=10;break t;case Z:T=9;break t;case it:T=11;break t;case C:T=14;break t;case A:T=16,c=null;break t}T=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Pn(T,o,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function ma(r,s,o,c){return r=Pn(7,r,c,s),r.lanes=o,r}function ap(r,s,o){return r=Pn(6,r,null,s),r.lanes=o,r}function N0(r){var s=Pn(18,null,null,0);return s.stateNode=r,s}function op(r,s,o){return s=Pn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var k0=new WeakMap;function Xn(r,s){if(typeof r=="object"&&r!==null){var o=k0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:tu(s)},k0.set(r,s),s)}return{value:r,source:s,stack:tu(s)}}var Ao=[],Io=0,ef=null,wu=0,Wn=[],$n=0,Wr=null,Ki=1,Yi="";function hr(r,s){Ao[Io++]=wu,Ao[Io++]=ef,ef=r,wu=s}function L0(r,s,o){Wn[$n++]=Ki,Wn[$n++]=Yi,Wn[$n++]=Wr,Wr=r;var c=Ki;r=Yi;var d=32-Se(c)-1;c&=~(1<<d),o+=1;var g=32-Se(s)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,Ki=1<<32-Se(s)+d|o<<d|c,Yi=g+r}else Ki=1<<g|o<<d|c,Yi=r}function lp(r){r.return!==null&&(hr(r,1),L0(r,1,0))}function up(r){for(;r===ef;)ef=Ao[--Io],Ao[Io]=null,wu=Ao[--Io],Ao[Io]=null;for(;r===Wr;)Wr=Wn[--$n],Wn[$n]=null,Yi=Wn[--$n],Wn[$n]=null,Ki=Wn[--$n],Wn[$n]=null}function U0(r,s){Wn[$n++]=Ki,Wn[$n++]=Yi,Wn[$n++]=Wr,Ki=s.id,Yi=s.overflow,Wr=r}var nn=null,ue=null,jt=!1,$r=null,Zn=!1,cp=Error(i(519));function Zr(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Au(Xn(s,r)),cp}function B0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[xe]=r,s[Qe]=c,o){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(o=0;o<Yu.length;o++)Nt(Yu[o],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),Oh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),qr(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||nb(s.textContent,o)?(c.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),c.onScroll!=null&&Nt("scroll",s),c.onScrollEnd!=null&&Nt("scrollend",s),c.onClick!=null&&(s.onclick=hi),s=!0):s=!1,s||Zr(r,!0)}function z0(r){for(nn=r.return;nn;)switch(nn.tag){case 5:case 31:case 13:Zn=!1;return;case 27:case 3:Zn=!0;return;default:nn=nn.return}}function Ro(r){if(r!==nn)return!1;if(!jt)return z0(r),jt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Cg(r.type,r.memoizedProps)),o=!o),o&&ue&&Zr(r),z0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ue=hb(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ue=hb(r)}else s===27?(s=ue,fs(r.type)?(r=Pg,Pg=null,ue=r):ue=s):ue=nn?ti(r.stateNode.nextSibling):null;return!0}function pa(){ue=nn=null,jt=!1}function hp(){var r=$r;return r!==null&&(Rn===null?Rn=r:Rn.push.apply(Rn,r),$r=null),r}function Au(r){$r===null?$r=[r]:$r.push(r)}var fp=N(null),ga=null,fr=null;function Jr(r,s,o){ft(fp,s._currentValue),s._currentValue=o}function dr(r){r._currentValue=fp.current,et(fp)}function dp(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function mp(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var S=g;g=d;for(var V=0;V<s.length;V++)if(S.context===s[V]){g.lanes|=o,S=g.alternate,S!==null&&(S.lanes|=o),dp(g.return,o,r),c||(T=null);break t}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),dp(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Co(r,s,o,c){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=d.type;Mn(d.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(d===Ft.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Zu):r=[Zu])}d=d.return}r!==null&&mp(s,r,o,c),s.flags|=262144}function nf(r){for(r=r.firstContext;r!==null;){if(!Mn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ya(r){ga=r,fr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function rn(r){return j0(ga,r)}function rf(r,s){return ga===null&&ya(r),j0(r,s)}function j0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},fr===null){if(r===null)throw Error(i(308));fr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else fr=fr.next=s;return o}var ND=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},kD=n.unstable_scheduleCallback,LD=n.unstable_NormalPriority,Me={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pp(){return{controller:new ND,data:new Map,refCount:0}}function Iu(r){r.refCount--,r.refCount===0&&kD(LD,function(){r.controller.abort()})}var Ru=null,gp=0,xo=0,Do=null;function UD(r,s){if(Ru===null){var o=Ru=[];gp=0,xo=vg(),Do={status:"pending",value:void 0,then:function(c){o.push(c)}}}return gp++,s.then(F0,F0),s}function F0(){if(--gp===0&&Ru!==null){Do!==null&&(Do.status="fulfilled");var r=Ru;Ru=null,xo=0,Do=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function BD(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var q0=$.S;$.S=function(r,s){IE=gn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&UD(r,s),q0!==null&&q0(r,s)};var _a=N(null);function yp(){var r=_a.current;return r!==null?r:oe.pooledCache}function sf(r,s){s===null?ft(_a,_a.current):ft(_a,s.pool)}function H0(){var r=yp();return r===null?null:{parent:Me._currentValue,pool:r}}var Vo=Error(i(460)),_p=Error(i(474)),af=Error(i(542)),of={then:function(){}};function G0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function K0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(hi,hi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Q0(r),r;default:if(typeof s.status=="string")s.then(hi,hi);else{if(r=oe,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Q0(r),r}throw Ta=s,Vo}}function va(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ta=o,Vo):o}}var Ta=null;function Y0(){if(Ta===null)throw Error(i(459));var r=Ta;return Ta=null,r}function Q0(r){if(r===Vo||r===af)throw Error(i(483))}var Mo=null,Cu=0;function lf(r){var s=Cu;return Cu+=1,Mo===null&&(Mo=[]),K0(Mo,r,s)}function xu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function uf(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function X0(r){function s(k,O){if(r){var F=k.deletions;F===null?(k.deletions=[O],k.flags|=16):F.push(O)}}function o(k,O){if(!r)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function c(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function d(k,O){return k=cr(k,O),k.index=0,k.sibling=null,k}function g(k,O,F){return k.index=F,r?(F=k.alternate,F!==null?(F=F.index,F<O?(k.flags|=67108866,O):F):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function T(k){return r&&k.alternate===null&&(k.flags|=67108866),k}function S(k,O,F,J){return O===null||O.tag!==6?(O=ap(F,k.mode,J),O.return=k,O):(O=d(O,F),O.return=k,O)}function V(k,O,F,J){var Et=F.type;return Et===U?W(k,O,F.props.children,J,F.key):O!==null&&(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&va(Et)===O.type)?(O=d(O,F.props),xu(O,F),O.return=k,O):(O=tf(F.type,F.key,F.props,null,k.mode,J),xu(O,F),O.return=k,O)}function q(k,O,F,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=op(F,k.mode,J),O.return=k,O):(O=d(O,F.children||[]),O.return=k,O)}function W(k,O,F,J,Et){return O===null||O.tag!==7?(O=ma(F,k.mode,J,Et),O.return=k,O):(O=d(O,F),O.return=k,O)}function tt(k,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ap(""+O,k.mode,F),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return F=tf(O.type,O.key,O.props,null,k.mode,F),xu(F,O),F.return=k,F;case D:return O=op(O,k.mode,F),O.return=k,O;case A:return O=va(O),tt(k,O,F)}if(ve(O)||L(O))return O=ma(O,k.mode,F,null),O.return=k,O;if(typeof O.then=="function")return tt(k,lf(O),F);if(O.$$typeof===Y)return tt(k,rf(k,O),F);uf(k,O)}return null}function H(k,O,F,J){var Et=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Et!==null?null:S(k,O,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return F.key===Et?V(k,O,F,J):null;case D:return F.key===Et?q(k,O,F,J):null;case A:return F=va(F),H(k,O,F,J)}if(ve(F)||L(F))return Et!==null?null:W(k,O,F,J,null);if(typeof F.then=="function")return H(k,O,lf(F),J);if(F.$$typeof===Y)return H(k,O,rf(k,F),J);uf(k,F)}return null}function K(k,O,F,J,Et){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(F)||null,S(O,k,""+J,Et);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return k=k.get(J.key===null?F:J.key)||null,V(O,k,J,Et);case D:return k=k.get(J.key===null?F:J.key)||null,q(O,k,J,Et);case A:return J=va(J),K(k,O,F,J,Et)}if(ve(J)||L(J))return k=k.get(F)||null,W(O,k,J,Et,null);if(typeof J.then=="function")return K(k,O,F,lf(J),Et);if(J.$$typeof===Y)return K(k,O,F,rf(O,J),Et);uf(O,J)}return null}function gt(k,O,F,J){for(var Et=null,Gt=null,vt=O,Mt=O=0,Ut=null;vt!==null&&Mt<F.length;Mt++){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Kt=H(k,vt,F[Mt],J);if(Kt===null){vt===null&&(vt=Ut);break}r&&vt&&Kt.alternate===null&&s(k,vt),O=g(Kt,O,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt,vt=Ut}if(Mt===F.length)return o(k,vt),jt&&hr(k,Mt),Et;if(vt===null){for(;Mt<F.length;Mt++)vt=tt(k,F[Mt],J),vt!==null&&(O=g(vt,O,Mt),Gt===null?Et=vt:Gt.sibling=vt,Gt=vt);return jt&&hr(k,Mt),Et}for(vt=c(vt);Mt<F.length;Mt++)Ut=K(vt,k,Mt,F[Mt],J),Ut!==null&&(r&&Ut.alternate!==null&&vt.delete(Ut.key===null?Mt:Ut.key),O=g(Ut,O,Mt),Gt===null?Et=Ut:Gt.sibling=Ut,Gt=Ut);return r&&vt.forEach(function(ys){return s(k,ys)}),jt&&hr(k,Mt),Et}function bt(k,O,F,J){if(F==null)throw Error(i(151));for(var Et=null,Gt=null,vt=O,Mt=O=0,Ut=null,Kt=F.next();vt!==null&&!Kt.done;Mt++,Kt=F.next()){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var ys=H(k,vt,Kt.value,J);if(ys===null){vt===null&&(vt=Ut);break}r&&vt&&ys.alternate===null&&s(k,vt),O=g(ys,O,Mt),Gt===null?Et=ys:Gt.sibling=ys,Gt=ys,vt=Ut}if(Kt.done)return o(k,vt),jt&&hr(k,Mt),Et;if(vt===null){for(;!Kt.done;Mt++,Kt=F.next())Kt=tt(k,Kt.value,J),Kt!==null&&(O=g(Kt,O,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt);return jt&&hr(k,Mt),Et}for(vt=c(vt);!Kt.done;Mt++,Kt=F.next())Kt=K(vt,k,Mt,Kt.value,J),Kt!==null&&(r&&Kt.alternate!==null&&vt.delete(Kt.key===null?Mt:Kt.key),O=g(Kt,O,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt);return r&&vt.forEach(function(W2){return s(k,W2)}),jt&&hr(k,Mt),Et}function se(k,O,F,J){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case I:t:{for(var Et=F.key;O!==null;){if(O.key===Et){if(Et=F.type,Et===U){if(O.tag===7){o(k,O.sibling),J=d(O,F.props.children),J.return=k,k=J;break t}}else if(O.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===A&&va(Et)===O.type){o(k,O.sibling),J=d(O,F.props),xu(J,F),J.return=k,k=J;break t}o(k,O);break}else s(k,O);O=O.sibling}F.type===U?(J=ma(F.props.children,k.mode,J,F.key),J.return=k,k=J):(J=tf(F.type,F.key,F.props,null,k.mode,J),xu(J,F),J.return=k,k=J)}return T(k);case D:t:{for(Et=F.key;O!==null;){if(O.key===Et)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){o(k,O.sibling),J=d(O,F.children||[]),J.return=k,k=J;break t}else{o(k,O);break}else s(k,O);O=O.sibling}J=op(F,k.mode,J),J.return=k,k=J}return T(k);case A:return F=va(F),se(k,O,F,J)}if(ve(F))return gt(k,O,F,J);if(L(F)){if(Et=L(F),typeof Et!="function")throw Error(i(150));return F=Et.call(F),bt(k,O,F,J)}if(typeof F.then=="function")return se(k,O,lf(F),J);if(F.$$typeof===Y)return se(k,O,rf(k,F),J);uf(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(o(k,O.sibling),J=d(O,F),J.return=k,k=J):(o(k,O),J=ap(F,k.mode,J),J.return=k,k=J),T(k)):o(k,O)}return function(k,O,F,J){try{Cu=0;var Et=se(k,O,F,J);return Mo=null,Et}catch(vt){if(vt===Vo||vt===af)throw vt;var Gt=Pn(29,vt,null,k.mode);return Gt.lanes=J,Gt.return=k,Gt}}}var Ea=X0(!0),W0=X0(!1),ts=!1;function vp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function es(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ns(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Jh(r),P0(r,null,o),s}return Zh(r,c,s,o),Jh(r)}function Du(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,iu(r,o)}}function Ep(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var bp=!1;function Vu(){if(bp){var r=Do;if(r!==null)throw r}}function Mu(r,s,o,c){bp=!1;var d=r.updateQueue;ts=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var V=S,q=V.next;V.next=null,T===null?g=q:T.next=q,T=V;var W=r.alternate;W!==null&&(W=W.updateQueue,S=W.lastBaseUpdate,S!==T&&(S===null?W.firstBaseUpdate=q:S.next=q,W.lastBaseUpdate=V))}if(g!==null){var tt=d.baseState;T=0,W=q=V=null,S=g;do{var H=S.lane&-536870913,K=H!==S.lane;if(K?(Lt&H)===H:(c&H)===H){H!==0&&H===xo&&(bp=!0),W!==null&&(W=W.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var gt=r,bt=S;H=s;var se=o;switch(bt.tag){case 1:if(gt=bt.payload,typeof gt=="function"){tt=gt.call(se,tt,H);break t}tt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=bt.payload,H=typeof gt=="function"?gt.call(se,tt,H):gt,H==null)break t;tt=v({},tt,H);break t;case 2:ts=!0}}H=S.callback,H!==null&&(r.flags|=64,K&&(r.flags|=8192),K=d.callbacks,K===null?d.callbacks=[H]:K.push(H))}else K={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},W===null?(q=W=K,V=tt):W=W.next=K,T|=H;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);W===null&&(V=tt),d.baseState=V,d.firstBaseUpdate=q,d.lastBaseUpdate=W,g===null&&(d.shared.lanes=0),os|=T,r.lanes=T,r.memoizedState=tt}}function $0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Z0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)$0(o[r],s)}var Po=N(null),cf=N(0);function J0(r,s){r=br,ft(cf,r),ft(Po,s),br=r|s.baseLanes}function Sp(){ft(cf,br),ft(Po,Po.current)}function wp(){br=cf.current,et(Po),et(cf)}var On=N(null),Jn=null;function is(r){var s=r.alternate;ft(Ae,Ae.current&1),ft(On,r),Jn===null&&(s===null||Po.current!==null||s.memoizedState!==null)&&(Jn=r)}function Ap(r){ft(Ae,Ae.current),ft(On,r),Jn===null&&(Jn=r)}function tT(r){r.tag===22?(ft(Ae,Ae.current),ft(On,r),Jn===null&&(Jn=r)):rs()}function rs(){ft(Ae,Ae.current),ft(On,On.current)}function Nn(r){et(On),Jn===r&&(Jn=null),et(Ae)}var Ae=N(0);function hf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vg(o)||Mg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mr=0,xt=null,ie=null,Pe=null,ff=!1,Oo=!1,ba=!1,df=0,Pu=0,No=null,zD=0;function Te(){throw Error(i(321))}function Ip(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Mn(r[o],s[o]))return!1;return!0}function Rp(r,s,o,c,d,g){return mr=g,xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,$.H=r===null||r.memoizedState===null?LT:Fp,ba=!1,g=o(c,d),ba=!1,Oo&&(g=nT(s,o,c,d)),eT(r),g}function eT(r){$.H=ku;var s=ie!==null&&ie.next!==null;if(mr=0,Pe=ie=xt=null,ff=!1,Pu=0,No=null,s)throw Error(i(300));r===null||Oe||(r=r.dependencies,r!==null&&nf(r)&&(Oe=!0))}function nT(r,s,o,c){xt=r;var d=0;do{if(Oo&&(No=null),Pu=0,Oo=!1,25<=d)throw Error(i(301));if(d+=1,Pe=ie=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}$.H=UT,g=s(o,c)}while(Oo);return g}function jD(){var r=$.H,s=r.useState()[0];return s=typeof s.then=="function"?Ou(s):s,r=r.useState()[0],(ie!==null?ie.memoizedState:null)!==r&&(xt.flags|=1024),s}function Cp(){var r=df!==0;return df=0,r}function xp(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Dp(r){if(ff){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ff=!1}mr=0,Pe=ie=xt=null,Oo=!1,Pu=df=0,No=null}function _n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?xt.memoizedState=Pe=r:Pe=Pe.next=r,Pe}function Ie(){if(ie===null){var r=xt.alternate;r=r!==null?r.memoizedState:null}else r=ie.next;var s=Pe===null?xt.memoizedState:Pe.next;if(s!==null)Pe=s,ie=r;else{if(r===null)throw xt.alternate===null?Error(i(467)):Error(i(310));ie=r,r={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Pe===null?xt.memoizedState=Pe=r:Pe=Pe.next=r}return Pe}function mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(r){var s=Pu;return Pu+=1,No===null&&(No=[]),r=K0(No,r,s),s=xt,(Pe===null?s.memoizedState:Pe.next)===null&&(s=s.alternate,$.H=s===null||s.memoizedState===null?LT:Fp),r}function pf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Ou(r);if(r.$$typeof===Y)return rn(r)}throw Error(i(438,String(r)))}function Vp(r){var s=null,o=xt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=mf(),xt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=P;return s.index++,o}function pr(r,s){return typeof s=="function"?s(r):s}function gf(r){var s=Ie();return Mp(s,ie,r)}function Mp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,c.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var S=T=null,V=null,q=s,W=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Lt&tt)===tt:(mr&tt)===tt){var H=q.revertLane;if(H===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===xo&&(W=!0);else if((mr&H)===H){q=q.next,H===xo&&(W=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=tt,T=g):V=V.next=tt,xt.lanes|=H,os|=H;tt=q.action,ba&&o(g,tt),g=q.hasEagerState?q.eagerState:o(g,tt)}else H={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},V===null?(S=V=H,T=g):V=V.next=H,xt.lanes|=tt,os|=tt;q=q.next}while(q!==null&&q!==s);if(V===null?T=g:V.next=S,!Mn(g,r.memoizedState)&&(Oe=!0,W&&(o=Do,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=V,c.lastRenderedState=g}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Pp(r){var s=Ie(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=r(g,T.action),T=T.next;while(T!==d);Mn(g,s.memoizedState)||(Oe=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function iT(r,s,o){var c=xt,d=Ie(),g=jt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Mn((ie||d).memoizedState,o);if(T&&(d.memoizedState=o,Oe=!0),d=d.queue,kp(aT.bind(null,c,d,r),[r]),d.getSnapshot!==s||T||Pe!==null&&Pe.memoizedState.tag&1){if(c.flags|=2048,ko(9,{destroy:void 0},sT.bind(null,c,d,o,s),null),oe===null)throw Error(i(349));g||(mr&127)!==0||rT(c,s,o)}return o}function rT(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=xt.updateQueue,s===null?(s=mf(),xt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function sT(r,s,o,c){s.value=o,s.getSnapshot=c,oT(s)&&lT(r)}function aT(r,s,o){return o(function(){oT(s)&&lT(r)})}function oT(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Mn(r,o)}catch{return!0}}function lT(r){var s=da(r,2);s!==null&&Cn(s,r,2)}function Op(r){var s=_n();if(typeof r=="function"){var o=r;if(r=o(),ba){qn(!0);try{o()}finally{qn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:r},s}function uT(r,s,o,c){return r.baseState=o,Mp(r,ie,typeof c=="function"?c:pr)}function FD(r,s,o,c,d){if(vf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};$.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,cT(s,g)):(g.next=o.next,s.pending=o.next=g)}}function cT(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var g=$.T,T={};$.T=T;try{var S=o(d,c),V=$.S;V!==null&&V(T,S),hT(r,s,S)}catch(q){Np(r,s,q)}finally{g!==null&&T.types!==null&&(g.types=T.types),$.T=g}}else try{g=o(d,c),hT(r,s,g)}catch(q){Np(r,s,q)}}function hT(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){fT(r,s,c)},function(c){return Np(r,s,c)}):fT(r,s,o)}function fT(r,s,o){s.status="fulfilled",s.value=o,dT(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,cT(r,o)))}function Np(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,dT(s),s=s.next;while(s!==c)}r.action=null}function dT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function mT(r,s){return s}function pT(r,s){if(jt){var o=oe.formState;if(o!==null){t:{var c=xt;if(jt){if(ue){e:{for(var d=ue,g=Zn;d.nodeType!==8;){if(!g){d=null;break e}if(d=ti(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ue=ti(d.nextSibling),c=d.data==="F!";break t}}Zr(c)}c=!1}c&&(s=o[0])}}return o=_n(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mT,lastRenderedState:s},o.queue=c,o=OT.bind(null,xt,c),c.dispatch=o,c=Op(!1),g=jp.bind(null,xt,!1,c.queue),c=_n(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=FD.bind(null,xt,d,g,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function gT(r){var s=Ie();return yT(s,ie,r)}function yT(r,s,o){if(s=Mp(r,s,mT)[0],r=gf(pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Ou(s)}catch(T){throw T===Vo?af:T}else c=s;s=Ie();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(xt.flags|=2048,ko(9,{destroy:void 0},qD.bind(null,d,o),null)),[c,g,r]}function qD(r,s){r.action=s}function _T(r){var s=Ie(),o=ie;if(o!==null)return yT(s,o,r);Ie(),s=s.memoizedState,o=Ie();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function ko(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=xt.updateQueue,s===null&&(s=mf(),xt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function vT(){return Ie().memoizedState}function yf(r,s,o,c){var d=_n();xt.flags|=r,d.memoizedState=ko(1|s,{destroy:void 0},o,c===void 0?null:c)}function _f(r,s,o,c){var d=Ie();c=c===void 0?null:c;var g=d.memoizedState.inst;ie!==null&&c!==null&&Ip(c,ie.memoizedState.deps)?d.memoizedState=ko(s,g,o,c):(xt.flags|=r,d.memoizedState=ko(1|s,g,o,c))}function TT(r,s){yf(8390656,8,r,s)}function kp(r,s){_f(2048,8,r,s)}function HD(r){xt.flags|=4;var s=xt.updateQueue;if(s===null)s=mf(),xt.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function ET(r){var s=Ie().memoizedState;return HD({ref:s,nextImpl:r}),function(){if((Qt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function bT(r,s){return _f(4,2,r,s)}function ST(r,s){return _f(4,4,r,s)}function wT(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function AT(r,s,o){o=o!=null?o.concat([r]):null,_f(4,4,wT.bind(null,s,r),o)}function Lp(){}function IT(r,s){var o=Ie();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Ip(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function RT(r,s){var o=Ie();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Ip(s,c[1]))return c[0];if(c=r(),ba){qn(!0);try{r()}finally{qn(!1)}}return o.memoizedState=[c,s],c}function Up(r,s,o){return o===void 0||(mr&1073741824)!==0&&(Lt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=CE(),xt.lanes|=r,os|=r,o)}function CT(r,s,o,c){return Mn(o,s)?o:Po.current!==null?(r=Up(r,o,c),Mn(r,s)||(Oe=!0),r):(mr&42)===0||(mr&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,r.memoizedState=o):(r=CE(),xt.lanes|=r,os|=r,s)}function xT(r,s,o,c,d){var g=st.p;st.p=g!==0&&8>g?g:8;var T=$.T,S={};$.T=S,jp(r,!1,s,o);try{var V=d(),q=$.S;if(q!==null&&q(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var W=BD(V,c);Nu(r,s,W,Un(r))}else Nu(r,s,c,Un(r))}catch(tt){Nu(r,s,{then:function(){},status:"rejected",reason:tt},Un())}finally{st.p=g,T!==null&&S.types!==null&&(T.types=S.types),$.T=T}}function GD(){}function Bp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=DT(r).queue;xT(r,d,s,pt,o===null?GD:function(){return VT(r),o(c)})}function DT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:pt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function VT(r){var s=DT(r);s.next===null&&(s=r.alternate.memoizedState),Nu(r,s.next.queue,{},Un())}function zp(){return rn(Zu)}function MT(){return Ie().memoizedState}function PT(){return Ie().memoizedState}function KD(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Un();r=es(o);var c=ns(s,r,o);c!==null&&(Cn(c,s,o),Du(c,s,o)),s={cache:pp()},r.payload=s;return}s=s.return}}function YD(r,s,o){var c=Un();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vf(r)?NT(s,o):(o=rp(r,s,o,c),o!==null&&(Cn(o,r,c),kT(o,s,c)))}function OT(r,s,o){var c=Un();Nu(r,s,o,c)}function Nu(r,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(vf(r))NT(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,S=g(T,o);if(d.hasEagerState=!0,d.eagerState=S,Mn(S,T))return Zh(r,s,d,0),oe===null&&$h(),!1}catch{}if(o=rp(r,s,d,c),o!==null)return Cn(o,r,c),kT(o,s,c),!0}return!1}function jp(r,s,o,c){if(c={lane:2,revertLane:vg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},vf(r)){if(s)throw Error(i(479))}else s=rp(r,o,c,2),s!==null&&Cn(s,r,2)}function vf(r){var s=r.alternate;return r===xt||s!==null&&s===xt}function NT(r,s){Oo=ff=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function kT(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,iu(r,o)}}var ku={readContext:rn,use:pf,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};ku.useEffectEvent=Te;var LT={readContext:rn,use:pf,useCallback:function(r,s){return _n().memoizedState=[r,s===void 0?null:s],r},useContext:rn,useEffect:TT,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,yf(4194308,4,wT.bind(null,s,r),o)},useLayoutEffect:function(r,s){return yf(4194308,4,r,s)},useInsertionEffect:function(r,s){yf(4,2,r,s)},useMemo:function(r,s){var o=_n();s=s===void 0?null:s;var c=r();if(ba){qn(!0);try{r()}finally{qn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=_n();if(o!==void 0){var d=o(s);if(ba){qn(!0);try{o(s)}finally{qn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=YD.bind(null,xt,r),[c.memoizedState,r]},useRef:function(r){var s=_n();return r={current:r},s.memoizedState=r},useState:function(r){r=Op(r);var s=r.queue,o=OT.bind(null,xt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Lp,useDeferredValue:function(r,s){var o=_n();return Up(o,r,s)},useTransition:function(){var r=Op(!1);return r=xT.bind(null,xt,r.queue,!0,!1),_n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=xt,d=_n();if(jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),oe===null)throw Error(i(349));(Lt&127)!==0||rT(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,TT(aT.bind(null,c,g,r),[r]),c.flags|=2048,ko(9,{destroy:void 0},sT.bind(null,c,g,o,s),null),o},useId:function(){var r=_n(),s=oe.identifierPrefix;if(jt){var o=Yi,c=Ki;o=(c&~(1<<32-Se(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=df++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=zD++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:zp,useFormState:pT,useActionState:pT,useOptimistic:function(r){var s=_n();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=jp.bind(null,xt,!0,o),o.dispatch=s,[r,s]},useMemoCache:Vp,useCacheRefresh:function(){return _n().memoizedState=KD.bind(null,xt)},useEffectEvent:function(r){var s=_n(),o={impl:r};return s.memoizedState=o,function(){if((Qt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Fp={readContext:rn,use:pf,useCallback:IT,useContext:rn,useEffect:kp,useImperativeHandle:AT,useInsertionEffect:bT,useLayoutEffect:ST,useMemo:RT,useReducer:gf,useRef:vT,useState:function(){return gf(pr)},useDebugValue:Lp,useDeferredValue:function(r,s){var o=Ie();return CT(o,ie.memoizedState,r,s)},useTransition:function(){var r=gf(pr)[0],s=Ie().memoizedState;return[typeof r=="boolean"?r:Ou(r),s]},useSyncExternalStore:iT,useId:MT,useHostTransitionStatus:zp,useFormState:gT,useActionState:gT,useOptimistic:function(r,s){var o=Ie();return uT(o,ie,r,s)},useMemoCache:Vp,useCacheRefresh:PT};Fp.useEffectEvent=ET;var UT={readContext:rn,use:pf,useCallback:IT,useContext:rn,useEffect:kp,useImperativeHandle:AT,useInsertionEffect:bT,useLayoutEffect:ST,useMemo:RT,useReducer:Pp,useRef:vT,useState:function(){return Pp(pr)},useDebugValue:Lp,useDeferredValue:function(r,s){var o=Ie();return ie===null?Up(o,r,s):CT(o,ie.memoizedState,r,s)},useTransition:function(){var r=Pp(pr)[0],s=Ie().memoizedState;return[typeof r=="boolean"?r:Ou(r),s]},useSyncExternalStore:iT,useId:MT,useHostTransitionStatus:zp,useFormState:_T,useActionState:_T,useOptimistic:function(r,s){var o=Ie();return ie!==null?uT(o,ie,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Vp,useCacheRefresh:PT};UT.useEffectEvent=ET;function qp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Hp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Un(),d=es(c);d.payload=s,o!=null&&(d.callback=o),s=ns(r,d,c),s!==null&&(Cn(s,r,c),Du(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Un(),d=es(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=ns(r,d,c),s!==null&&(Cn(s,r,c),Du(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Un(),c=es(o);c.tag=2,s!=null&&(c.callback=s),s=ns(r,c,o),s!==null&&(Cn(s,r,o),Du(s,r,o))}};function BT(r,s,o,c,d,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!bu(o,c)||!bu(d,g):!0}function zT(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Hp.enqueueReplaceState(s,s.state,null)}function Sa(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function jT(r){Wh(r)}function FT(r){console.error(r)}function qT(r){Wh(r)}function Tf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function HT(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Gp(r,s,o){return o=es(o),o.tag=3,o.payload={element:null},o.callback=function(){Tf(r,s)},o}function GT(r){return r=es(r),r.tag=3,r}function KT(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;r.payload=function(){return d(g)},r.callback=function(){HT(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){HT(s,o,c),typeof d!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function QD(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Co(s,o,d,!0),o=On.current,o!==null){switch(o.tag){case 31:case 13:return Jn===null?Mf():o.alternate===null&&Ee===0&&(Ee=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===of?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),gg(r,c,d)),!1;case 22:return o.flags|=65536,c===of?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),gg(r,c,d)),!1}throw Error(i(435,o.tag))}return gg(r,c,d),Mf(),!1}if(jt)return s=On.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==cp&&(r=Error(i(422),{cause:c}),Au(Xn(r,o)))):(c!==cp&&(s=Error(i(423),{cause:c}),Au(Xn(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=Xn(c,o),d=Gp(r.stateNode,c,d),Ep(r,d),Ee!==4&&(Ee=2)),!1;var g=Error(i(520),{cause:c});if(g=Xn(g,o),Hu===null?Hu=[g]:Hu.push(g),Ee!==4&&(Ee=2),s===null)return!0;c=Xn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=Gp(o.stateNode,c,r),Ep(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ls===null||!ls.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=GT(d),KT(d,r,o,c),Ep(o,d),!1}o=o.return}while(o!==null);return!1}var Kp=Error(i(461)),Oe=!1;function sn(r,s,o,c){s.child=r===null?W0(s,null,o,c):Ea(s,r.child,o,c)}function YT(r,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return ya(s),c=Rp(r,s,o,T,g,d),S=Cp(),r!==null&&!Oe?(xp(r,s,d),gr(r,s,d)):(jt&&S&&lp(s),s.flags|=1,sn(r,s,c,d),s.child)}function QT(r,s,o,c,d){if(r===null){var g=o.type;return typeof g=="function"&&!sp(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,XT(r,s,g,c,d)):(r=tf(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!tg(r,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:bu,o(T,c)&&r.ref===s.ref)return gr(r,s,d)}return s.flags|=1,r=cr(g,c),r.ref=s.ref,r.return=s,s.child=r}function XT(r,s,o,c,d){if(r!==null){var g=r.memoizedProps;if(bu(g,c)&&r.ref===s.ref)if(Oe=!1,s.pendingProps=c=g,tg(r,d))(r.flags&131072)!==0&&(Oe=!0);else return s.lanes=r.lanes,gr(r,s,d)}return Yp(r,s,o,c,d)}function WT(r,s,o,c){var d=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(c=s.child=r.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,s.child=null;return $T(r,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&sf(s,g!==null?g.cachePool:null),g!==null?J0(s,g):Sp(),tT(s);else return c=s.lanes=536870912,$T(r,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(sf(s,g.cachePool),J0(s,g),rs(),s.memoizedState=null):(r!==null&&sf(s,null),Sp(),rs());return sn(r,s,d,o),s.child}function Lu(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function $T(r,s,o,c,d){var g=yp();return g=g===null?null:{parent:Me._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},r!==null&&sf(s,null),Sp(),tT(s),r!==null&&Co(r,s,c,!0),s.childLanes=d,null}function Ef(r,s){return s=Sf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function ZT(r,s,o){return Ea(s,r.child,null,o),r=Ef(s,s.pendingProps),r.flags|=2,Nn(s),s.memoizedState=null,r}function XD(r,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(jt){if(c.mode==="hidden")return r=Ef(s,c),s.lanes=536870912,Lu(null,r);if(Ap(s),(r=ue)?(r=cb(r,Zn),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Wr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=N0(r),o.return=s,s.child=o,nn=s,ue=null)):r=null,r===null)throw Zr(s);return s.lanes=536870912,null}return Ef(s,c)}var g=r.memoizedState;if(g!==null){var T=g.dehydrated;if(Ap(s),d)if(s.flags&256)s.flags&=-257,s=ZT(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Oe||Co(r,s,o,!1),d=(o&r.childLanes)!==0,Oe||d){if(c=oe,c!==null&&(T=ru(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,da(r,T),Cn(c,r,T),Kp;Mf(),s=ZT(r,s,o)}else r=g.treeContext,ue=ti(T.nextSibling),nn=s,jt=!0,$r=null,Zn=!1,r!==null&&U0(s,r),s=Ef(s,c),s.flags|=4096;return s}return r=cr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function bf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function Yp(r,s,o,c,d){return ya(s),o=Rp(r,s,o,c,void 0,d),c=Cp(),r!==null&&!Oe?(xp(r,s,d),gr(r,s,d)):(jt&&c&&lp(s),s.flags|=1,sn(r,s,o,d),s.child)}function JT(r,s,o,c,d,g){return ya(s),s.updateQueue=null,o=nT(s,c,o,d),eT(r),c=Cp(),r!==null&&!Oe?(xp(r,s,g),gr(r,s,g)):(jt&&c&&lp(s),s.flags|=1,sn(r,s,o,g),s.child)}function tE(r,s,o,c,d){if(ya(s),s.stateNode===null){var g=wo,T=o.contextType;typeof T=="object"&&T!==null&&(g=rn(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Hp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},vp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?rn(T):wo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(qp(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Hp.enqueueReplaceState(g,g.state,null),Mu(s,c,g,d),Vu(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var S=s.memoizedProps,V=Sa(o,S);g.props=V;var q=g.context,W=o.contextType;T=wo,typeof W=="object"&&W!==null&&(T=rn(W));var tt=o.getDerivedStateFromProps;W=typeof tt=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,W||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||q!==T)&&zT(s,g,c,T),ts=!1;var H=s.memoizedState;g.state=H,Mu(s,c,g,d),Vu(),q=s.memoizedState,S||H!==q||ts?(typeof tt=="function"&&(qp(s,o,tt,c),q=s.memoizedState),(V=ts||BT(s,o,V,c,H,q,T))?(W||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=q),g.props=c,g.state=q,g.context=T,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Tp(r,s),T=s.memoizedProps,W=Sa(o,T),g.props=W,tt=s.pendingProps,H=g.context,q=o.contextType,V=wo,typeof q=="object"&&q!==null&&(V=rn(q)),S=o.getDerivedStateFromProps,(q=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==tt||H!==V)&&zT(s,g,c,V),ts=!1,H=s.memoizedState,g.state=H,Mu(s,c,g,d),Vu();var K=s.memoizedState;T!==tt||H!==K||ts||r!==null&&r.dependencies!==null&&nf(r.dependencies)?(typeof S=="function"&&(qp(s,o,S,c),K=s.memoizedState),(W=ts||BT(s,o,W,c,H,K,V)||r!==null&&r.dependencies!==null&&nf(r.dependencies))?(q||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,K,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,K,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),g.props=c,g.state=K,g.context=V,c=W):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,bf(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Ea(s,r.child,null,d),s.child=Ea(s,null,o,d)):sn(r,s,o,d),s.memoizedState=g.state,r=s.child):r=gr(r,s,d),r}function eE(r,s,o,c){return pa(),s.flags|=256,sn(r,s,o,c),s.child}var Qp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xp(r){return{baseLanes:r,cachePool:H0()}}function Wp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Ln),r}function nE(r,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Ae.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(jt){if(d?is(s):rs(),(r=ue)?(r=cb(r,Zn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Wr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=N0(r),o.return=s,s.child=o,nn=s,ue=null)):r=null,r===null)throw Zr(s);return Mg(r)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(rs(),d=s.mode,S=Sf({mode:"hidden",children:S},d),c=ma(c,d,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=Xp(o),c.childLanes=Wp(r,T,o),s.memoizedState=Qp,Lu(null,c)):(is(s),$p(s,S))}var V=r.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(g)s.flags&256?(is(s),s.flags&=-257,s=Zp(r,s,o)):s.memoizedState!==null?(rs(),s.child=r.child,s.flags|=128,s=null):(rs(),S=c.fallback,d=s.mode,c=Sf({mode:"visible",children:c.children},d),S=ma(S,d,o,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,Ea(s,r.child,null,o),c=s.child,c.memoizedState=Xp(o),c.childLanes=Wp(r,T,o),s.memoizedState=Qp,s=Lu(null,c));else if(is(s),Mg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var q=T.dgst;T=q,c=Error(i(419)),c.stack="",c.digest=T,Au({value:c,source:null,stack:null}),s=Zp(r,s,o)}else if(Oe||Co(r,s,o,!1),T=(o&r.childLanes)!==0,Oe||T){if(T=oe,T!==null&&(c=ru(T,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,da(r,c),Cn(T,r,c),Kp;Vg(S)||Mf(),s=Zp(r,s,o)}else Vg(S)?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,ue=ti(S.nextSibling),nn=s,jt=!0,$r=null,Zn=!1,r!==null&&U0(s,r),s=$p(s,c.children),s.flags|=4096);return s}return d?(rs(),S=c.fallback,d=s.mode,V=r.child,q=V.sibling,c=cr(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,q!==null?S=cr(q,S):(S=ma(S,d,o,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,Lu(null,c),c=s.child,S=r.child.memoizedState,S===null?S=Xp(o):(d=S.cachePool,d!==null?(V=Me._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=H0(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=Wp(r,T,o),s.memoizedState=Qp,Lu(r.child,c)):(is(s),o=r.child,r=o.sibling,o=cr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function $p(r,s){return s=Sf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Sf(r,s){return r=Pn(22,r,null,s),r.lanes=0,r}function Zp(r,s,o){return Ea(s,r.child,null,o),r=$p(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function iE(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),dp(r.return,s,o)}function Jp(r,s,o,c,d,g){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function rE(r,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=Ae.current,S=(T&2)!==0;if(S?(T=T&1|2,s.flags|=128):T&=1,ft(Ae,T),sn(r,s,c,o),c=jt?wu:0,!S&&r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&iE(r,o,s);else if(r.tag===19)iE(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&hf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Jp(s,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&hf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Jp(s,!0,o,null,g,c);break;case"together":Jp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function gr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),os|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Co(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=cr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=cr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function tg(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&nf(r)))}function WD(r,s,o){switch(s.tag){case 3:Fe(s,s.stateNode.containerInfo),Jr(s,Me,r.memoizedState.cache),pa();break;case 27:case 5:Xs(s);break;case 4:Fe(s,s.stateNode.containerInfo);break;case 10:Jr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ap(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(is(s),s.flags|=128,null):(o&s.child.childLanes)!==0?nE(r,s,o):(is(s),r=gr(r,s,o),r!==null?r.sibling:null);is(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Co(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return rE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ft(Ae,Ae.current),c)break;return null;case 22:return s.lanes=0,WT(r,s,o,s.pendingProps);case 24:Jr(s,Me,r.memoizedState.cache)}return gr(r,s,o)}function sE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Oe=!0;else{if(!tg(r,o)&&(s.flags&128)===0)return Oe=!1,WD(r,s,o);Oe=(r.flags&131072)!==0}else Oe=!1,jt&&(s.flags&1048576)!==0&&L0(s,wu,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(r=va(s.elementType),s.type=r,typeof r=="function")sp(r)?(c=Sa(r,c),s.tag=1,s=tE(null,s,r,c,o)):(s.tag=0,s=Yp(null,s,r,c,o));else{if(r!=null){var d=r.$$typeof;if(d===it){s.tag=11,s=YT(null,s,r,c,o);break t}else if(d===C){s.tag=14,s=QT(null,s,r,c,o);break t}}throw s=ae(r)||r,Error(i(306,s,""))}}return s;case 0:return Yp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Sa(c,s.pendingProps),tE(r,s,c,d,o);case 3:t:{if(Fe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,Tp(r,s),Mu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,Jr(s,Me,c),c!==g.cache&&mp(s,[Me],o,!0),Vu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=eE(r,s,c,o);break t}else if(c!==d){d=Xn(Error(i(424)),s),Au(d),s=eE(r,s,c,o);break t}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,ue=ti(r.firstChild),nn=s,jt=!0,$r=null,Zn=!0,o=W0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(pa(),c===d){s=gr(r,s,o);break t}sn(r,s,c,o)}s=s.child}return s;case 26:return bf(r,s),r===null?(o=gb(s.type,null,s.pendingProps,null))?s.memoizedState=o:jt||(o=s.type,r=s.pendingProps,c=Bf(Vt.current).createElement(o),c[xe]=s,c[Qe]=r,an(c,o,r),De(c),s.stateNode=c):s.memoizedState=gb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Xs(s),r===null&&jt&&(c=s.stateNode=db(s.type,s.pendingProps,Vt.current),nn=s,Zn=!0,d=ue,fs(s.type)?(Pg=d,ue=ti(c.firstChild)):ue=d),sn(r,s,s.pendingProps.children,o),bf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&jt&&((d=c=ue)&&(c=I2(c,s.type,s.pendingProps,Zn),c!==null?(s.stateNode=c,nn=s,ue=ti(c.firstChild),Zn=!1,d=!0):d=!1),d||Zr(s)),Xs(s),d=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,c=g.children,Cg(d,g)?c=null:T!==null&&Cg(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=Rp(r,s,jD,null,null,o),Zu._currentValue=d),bf(r,s),sn(r,s,c,o),s.child;case 6:return r===null&&jt&&((r=o=ue)&&(o=R2(o,s.pendingProps,Zn),o!==null?(s.stateNode=o,nn=s,ue=null,r=!0):r=!1),r||Zr(s)),null;case 13:return nE(r,s,o);case 4:return Fe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ea(s,null,c,o):sn(r,s,c,o),s.child;case 11:return YT(r,s,s.type,s.pendingProps,o);case 7:return sn(r,s,s.pendingProps,o),s.child;case 8:return sn(r,s,s.pendingProps.children,o),s.child;case 12:return sn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Jr(s,s.type,c.value),sn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,ya(s),d=rn(d),c=c(d),s.flags|=1,sn(r,s,c,o),s.child;case 14:return QT(r,s,s.type,s.pendingProps,o);case 15:return XT(r,s,s.type,s.pendingProps,o);case 19:return rE(r,s,o);case 31:return XD(r,s,o);case 22:return WT(r,s,o,s.pendingProps);case 24:return ya(s),c=rn(Me),r===null?(d=yp(),d===null&&(d=oe,g=pp(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},vp(s),Jr(s,Me,d)):((r.lanes&o)!==0&&(Tp(r,s),Mu(s,null,null,o),Vu()),d=r.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Jr(s,Me,c)):(c=g.cache,Jr(s,Me,c),c!==d.cache&&mp(s,[Me],o,!0))),sn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function yr(r){r.flags|=4}function eg(r,s,o,c,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(ME())r.flags|=8192;else throw Ta=of,_p}else r.flags&=-16777217}function aE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Eb(s))if(ME())r.flags|=8192;else throw Ta=of,_p}function wf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?xh():536870912,r.lanes|=s,zo|=s)}function Uu(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ce(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function $D(r,s,o){var c=s.pendingProps;switch(up(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),dr(Me),he(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Ro(s)?yr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,hp())),ce(s),null;case 26:var d=s.type,g=s.memoizedState;return r===null?(yr(s),g!==null?(ce(s),aE(s,g)):(ce(s),eg(s,d,null,c,o))):g?g!==r.memoizedState?(yr(s),ce(s),aE(s,g)):(ce(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&yr(s),ce(s),eg(s,d,r,c,o)),null;case 27:if(ro(s),o=Vt.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ce(s),null}r=mt.current,Ro(s)?B0(s):(r=db(d,c,o),s.stateNode=r,yr(s))}return ce(s),null;case 5:if(ro(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ce(s),null}if(g=mt.current,Ro(s))B0(s);else{var T=Bf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[xe]=s,g[Qe]=c;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;t:switch(an(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&yr(s)}}return ce(s),eg(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Vt.current,Ro(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=nn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[xe]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||nb(r.nodeValue,o)),r||Zr(s,!0)}else r=Bf(r).createTextNode(c),r[xe]=s,s.stateNode=r}return ce(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=Ro(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[xe]=s}else pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),r=!1}else o=hp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(Nn(s),s):(Nn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ce(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Ro(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[xe]=s}else pa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),d=!1}else d=hp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Nn(s),s):(Nn(s),null)}return Nn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),wf(s,s.updateQueue),ce(s),null);case 4:return he(),r===null&&Sg(s.stateNode.containerInfo),ce(s),null;case 10:return dr(s.type),ce(s),null;case 19:if(et(Ae),c=s.memoizedState,c===null)return ce(s),null;if(d=(s.flags&128)!==0,g=c.rendering,g===null)if(d)Uu(c,!1);else{if(Ee!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=hf(r),g!==null){for(s.flags|=128,Uu(c,!1),r=g.updateQueue,s.updateQueue=r,wf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)O0(o,r),o=o.sibling;return ft(Ae,Ae.current&1|2),jt&&hr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&gn()>xf&&(s.flags|=128,d=!0,Uu(c,!1),s.lanes=4194304)}else{if(!d)if(r=hf(g),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,wf(s,r),Uu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return ce(s),null}else 2*gn()-c.renderingStartTime>xf&&o!==536870912&&(s.flags|=128,d=!0,Uu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=gn(),r.sibling=null,o=Ae.current,ft(Ae,d?o&1|2:o&1),jt&&hr(s,c.treeForkCount),r):(ce(s),null);case 22:case 23:return Nn(s),wp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),o=s.updateQueue,o!==null&&wf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&et(_a),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),dr(Me),ce(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ZD(r,s){switch(up(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return dr(Me),he(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return ro(s),null;case 31:if(s.memoizedState!==null){if(Nn(s),s.alternate===null)throw Error(i(340));pa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Nn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));pa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(Ae),null;case 4:return he(),null;case 10:return dr(s.type),null;case 22:case 23:return Nn(s),wp(),r!==null&&et(_a),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return dr(Me),null;case 25:return null;default:return null}}function oE(r,s){switch(up(s),s.tag){case 3:dr(Me),he();break;case 26:case 27:case 5:ro(s);break;case 4:he();break;case 31:s.memoizedState!==null&&Nn(s);break;case 13:Nn(s);break;case 19:et(Ae);break;case 10:dr(s.type);break;case 22:case 23:Nn(s),wp(),r!==null&&et(_a);break;case 24:dr(Me)}}function Bu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(S){$t(s,s.return,S)}}function ss(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=s;var V=o,q=S;try{q()}catch(W){$t(d,V,W)}}}c=c.next}while(c!==g)}}catch(W){$t(s,s.return,W)}}function lE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Z0(s,o)}catch(c){$t(r,r.return,c)}}}function uE(r,s,o){o.props=Sa(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){$t(r,s,c)}}function zu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){$t(r,s,d)}}function Qi(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){$t(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){$t(r,s,d)}else o.current=null}function cE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){$t(r,r.return,d)}}function ng(r,s,o){try{var c=r.stateNode;T2(c,r.type,o,s),c[Qe]=s}catch(d){$t(r,r.return,d)}}function hE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&fs(r.type)||r.tag===4}function ig(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||hE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&fs(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function rg(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=hi));else if(c!==4&&(c===27&&fs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(rg(r,s,o),r=r.sibling;r!==null;)rg(r,s,o),r=r.sibling}function Af(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&fs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Af(r,s,o),r=r.sibling;r!==null;)Af(r,s,o),r=r.sibling}function fE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);an(s,c,o),s[xe]=r,s[Qe]=o}catch(g){$t(r,r.return,g)}}var _r=!1,Ne=!1,sg=!1,dE=typeof WeakSet=="function"?WeakSet:Set,We=null;function JD(r,s){if(r=r.containerInfo,Ig=Kf,r=A0(r),Zm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,S=-1,V=-1,q=0,W=0,tt=r,H=null;e:for(;;){for(var K;tt!==o||d!==0&&tt.nodeType!==3||(S=T+d),tt!==g||c!==0&&tt.nodeType!==3||(V=T+c),tt.nodeType===3&&(T+=tt.nodeValue.length),(K=tt.firstChild)!==null;)H=tt,tt=K;for(;;){if(tt===r)break e;if(H===o&&++q===d&&(S=T),H===g&&++W===c&&(V=T),(K=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=K}o=S===-1||V===-1?null:{start:S,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rg={focusedElem:r,selectionRange:o},Kf=!1,We=s;We!==null;)if(s=We,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,We=r;else for(;We!==null;){switch(s=We,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Sa(o.type,d);r=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(bt){$t(o,o.return,bt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Dg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Dg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,We=r;break}We=s.return}}function mE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(r,o),c&4&&Bu(5,o);break;case 1:if(Tr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){$t(o,o.return,T)}else{var d=Sa(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){$t(o,o.return,T)}}c&64&&lE(o),c&512&&zu(o,o.return);break;case 3:if(Tr(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Z0(r,s)}catch(T){$t(o,o.return,T)}}break;case 27:s===null&&c&4&&fE(o);case 26:case 5:Tr(r,o),s===null&&c&4&&cE(o),c&512&&zu(o,o.return);break;case 12:Tr(r,o);break;case 31:Tr(r,o),c&4&&yE(r,o);break;case 13:Tr(r,o),c&4&&_E(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=l2.bind(null,o),C2(r,o))));break;case 22:if(c=o.memoizedState!==null||_r,!c){s=s!==null&&s.memoizedState!==null||Ne,d=_r;var g=Ne;_r=c,(Ne=s)&&!g?Er(r,o,(o.subtreeFlags&8772)!==0):Tr(r,o),_r=d,Ne=g}break;case 30:break;default:Tr(r,o)}}function pE(r){var s=r.alternate;s!==null&&(r.alternate=null,pE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&uo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var de=null,wn=!1;function vr(r,s,o){for(o=o.child;o!==null;)gE(r,s,o),o=o.sibling}function gE(r,s,o){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(oi,o)}catch{}switch(o.tag){case 26:Ne||Qi(o,s),vr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ne||Qi(o,s);var c=de,d=wn;fs(o.type)&&(de=o.stateNode,wn=!1),vr(r,s,o),Xu(o.stateNode),de=c,wn=d;break;case 5:Ne||Qi(o,s);case 6:if(c=de,d=wn,de=null,vr(r,s,o),de=c,wn=d,de!==null)if(wn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(o.stateNode)}catch(g){$t(o,s,g)}else try{de.removeChild(o.stateNode)}catch(g){$t(o,s,g)}break;case 18:de!==null&&(wn?(r=de,lb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Qo(r)):lb(de,o.stateNode));break;case 4:c=de,d=wn,de=o.stateNode.containerInfo,wn=!0,vr(r,s,o),de=c,wn=d;break;case 0:case 11:case 14:case 15:ss(2,o,s),Ne||ss(4,o,s),vr(r,s,o);break;case 1:Ne||(Qi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&uE(o,s,c)),vr(r,s,o);break;case 21:vr(r,s,o);break;case 22:Ne=(c=Ne)||o.memoizedState!==null,vr(r,s,o),Ne=c;break;default:vr(r,s,o)}}function yE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Qo(r)}catch(o){$t(s,s.return,o)}}}function _E(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Qo(r)}catch(o){$t(s,s.return,o)}}function t2(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dE),s;default:throw Error(i(435,r.tag))}}function If(r,s){var o=t2(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=u2.bind(null,r,c);c.then(d,d)}})}function An(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=r,T=s,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(fs(S.type)){de=S.stateNode,wn=!1;break t}break;case 5:de=S.stateNode,wn=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,wn=!0;break t}S=S.return}if(de===null)throw Error(i(160));gE(g,T,d),de=null,wn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)vE(s,r),s=s.sibling}var yi=null;function vE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:An(s,r),In(r),c&4&&(ss(3,r,r.return),Bu(3,r),ss(5,r,r.return));break;case 1:An(s,r),In(r),c&512&&(Ne||o===null||Qi(o,o.return)),c&64&&_r&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=yi;if(An(s,r),In(r),c&512&&(Ne||o===null||Qi(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){t:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Oi]||g[xe]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),an(g,c,o),g[xe]=r,De(g),c=g;break t;case"link":var T=vb("link","href",d).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}g=d.createElement(c),an(g,c,o),d.head.appendChild(g);break;case"meta":if(T=vb("meta","content",d).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}g=d.createElement(c),an(g,c,o),d.head.appendChild(g);break;default:throw Error(i(468,c))}g[xe]=r,De(g),c=g}r.stateNode=c}else Tb(d,r.type,r.stateNode);else r.stateNode=_b(d,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Tb(d,r.type,r.stateNode):_b(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&ng(r,r.memoizedProps,o.memoizedProps)}break;case 27:An(s,r),In(r),c&512&&(Ne||o===null||Qi(o,o.return)),o!==null&&c&4&&ng(r,r.memoizedProps,o.memoizedProps);break;case 5:if(An(s,r),In(r),c&512&&(Ne||o===null||Qi(o,o.return)),r.flags&32){d=r.stateNode;try{Sn(d,"")}catch(gt){$t(r,r.return,gt)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,ng(r,d,o!==null?o.memoizedProps:d)),c&1024&&(sg=!0);break;case 6:if(An(s,r),In(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(gt){$t(r,r.return,gt)}}break;case 3:if(Ff=null,d=yi,yi=zf(s.containerInfo),An(s,r),yi=d,In(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Qo(s.containerInfo)}catch(gt){$t(r,r.return,gt)}sg&&(sg=!1,TE(r));break;case 4:c=yi,yi=zf(r.stateNode.containerInfo),An(s,r),In(r),yi=c;break;case 12:An(s,r),In(r);break;case 31:An(s,r),In(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,If(r,c)));break;case 13:An(s,r),In(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Cf=gn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,If(r,c)));break;case 22:d=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,q=_r,W=Ne;if(_r=q||d,Ne=W||V,An(s,r),Ne=W,_r=q,In(r),c&8192)t:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||_r||Ne||wa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=V.stateNode;var tt=V.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(gt){$t(V,V.return,gt)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(gt){$t(V,V.return,gt)}}}else if(s.tag===18){if(o===null){V=s;try{var K=V.stateNode;d?ub(K,!0):ub(V.stateNode,!1)}catch(gt){$t(V,V.return,gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,If(r,o))));break;case 19:An(s,r),In(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,If(r,c)));break;case 30:break;case 21:break;default:An(s,r),In(r)}}function In(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(hE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=ig(r);Af(r,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Sn(T,""),o.flags&=-33);var S=ig(r);Af(r,S,T);break;case 3:case 4:var V=o.stateNode.containerInfo,q=ig(r);rg(r,q,V);break;default:throw Error(i(161))}}catch(W){$t(r,r.return,W)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function TE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;TE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Tr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)mE(r,s.alternate,s),s=s.sibling}function wa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ss(4,s,s.return),wa(s);break;case 1:Qi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&uE(s,s.return,o),wa(s);break;case 27:Xu(s.stateNode);case 26:case 5:Qi(s,s.return),wa(s);break;case 22:s.memoizedState===null&&wa(s);break;case 30:wa(s);break;default:wa(s)}r=r.sibling}}function Er(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Er(d,g,o),Bu(4,g);break;case 1:if(Er(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){$t(c,c.return,q)}if(c=g,d=c.updateQueue,d!==null){var S=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)$0(V[d],S)}catch(q){$t(c,c.return,q)}}o&&T&64&&lE(g),zu(g,g.return);break;case 27:fE(g);case 26:case 5:Er(d,g,o),o&&c===null&&T&4&&cE(g),zu(g,g.return);break;case 12:Er(d,g,o);break;case 31:Er(d,g,o),o&&T&4&&yE(d,g);break;case 13:Er(d,g,o),o&&T&4&&_E(d,g);break;case 22:g.memoizedState===null&&Er(d,g,o),zu(g,g.return);break;case 30:break;default:Er(d,g,o)}s=s.sibling}}function ag(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Iu(o))}function og(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Iu(r))}function _i(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)EE(r,s,o,c),s=s.sibling}function EE(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:_i(r,s,o,c),d&2048&&Bu(9,s);break;case 1:_i(r,s,o,c);break;case 3:_i(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Iu(r)));break;case 12:if(d&2048){_i(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){$t(s,s.return,V)}}else _i(r,s,o,c);break;case 31:_i(r,s,o,c);break;case 13:_i(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?_i(r,s,o,c):ju(r,s):g._visibility&2?_i(r,s,o,c):(g._visibility|=2,Lo(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&ag(T,s);break;case 24:_i(r,s,o,c),d&2048&&og(s.alternate,s);break;default:_i(r,s,o,c)}}function Lo(r,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,T=s,S=o,V=c,q=T.flags;switch(T.tag){case 0:case 11:case 15:Lo(g,T,S,V,d),Bu(8,T);break;case 23:break;case 22:var W=T.stateNode;T.memoizedState!==null?W._visibility&2?Lo(g,T,S,V,d):ju(g,T):(W._visibility|=2,Lo(g,T,S,V,d)),d&&q&2048&&ag(T.alternate,T);break;case 24:Lo(g,T,S,V,d),d&&q&2048&&og(T.alternate,T);break;default:Lo(g,T,S,V,d)}s=s.sibling}}function ju(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:ju(o,c),d&2048&&ag(c.alternate,c);break;case 24:ju(o,c),d&2048&&og(c.alternate,c);break;default:ju(o,c)}s=s.sibling}}var Fu=8192;function Uo(r,s,o){if(r.subtreeFlags&Fu)for(r=r.child;r!==null;)bE(r,s,o),r=r.sibling}function bE(r,s,o){switch(r.tag){case 26:Uo(r,s,o),r.flags&Fu&&r.memoizedState!==null&&z2(o,yi,r.memoizedState,r.memoizedProps);break;case 5:Uo(r,s,o);break;case 3:case 4:var c=yi;yi=zf(r.stateNode.containerInfo),Uo(r,s,o),yi=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Fu,Fu=16777216,Uo(r,s,o),Fu=c):Uo(r,s,o));break;default:Uo(r,s,o)}}function SE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function qu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];We=c,AE(c,r)}SE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)wE(r),r=r.sibling}function wE(r){switch(r.tag){case 0:case 11:case 15:qu(r),r.flags&2048&&ss(9,r,r.return);break;case 3:qu(r);break;case 12:qu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Rf(r)):qu(r);break;default:qu(r)}}function Rf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];We=c,AE(c,r)}SE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ss(8,s,s.return),Rf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Rf(s));break;default:Rf(s)}r=r.sibling}}function AE(r,s){for(;We!==null;){var o=We;switch(o.tag){case 0:case 11:case 15:ss(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Iu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,We=c;else t:for(o=r;We!==null;){c=We;var d=c.sibling,g=c.return;if(pE(c),c===o){We=null;break t}if(d!==null){d.return=g,We=d;break t}We=g}}}var e2={getCacheForType:function(r){var s=rn(Me),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return rn(Me).controller.signal}},n2=typeof WeakMap=="function"?WeakMap:Map,Qt=0,oe=null,Ot=null,Lt=0,Wt=0,kn=null,as=!1,Bo=!1,lg=!1,br=0,Ee=0,os=0,Aa=0,ug=0,Ln=0,zo=0,Hu=null,Rn=null,cg=!1,Cf=0,IE=0,xf=1/0,Df=null,ls=null,He=0,us=null,jo=null,Sr=0,hg=0,fg=null,RE=null,Gu=0,dg=null;function Un(){return(Qt&2)!==0&&Lt!==0?Lt&-Lt:$.T!==null?vg():Dh()}function CE(){if(Ln===0)if((Lt&536870912)===0||jt){var r=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),Ln=r}else Ln=536870912;return r=On.current,r!==null&&(r.flags|=32),Ln}function Cn(r,s,o){(r===oe&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)&&(Fo(r,0),cs(r,Lt,Ln,!1)),Js(r,o),((Qt&2)===0||r!==oe)&&(r===oe&&((Qt&2)===0&&(Aa|=o),Ee===4&&cs(r,Lt,Ln,!1)),Xi(r))}function xE(r,s,o){if((Qt&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||li(r,s),d=c?s2(r,s):pg(r,s,!0),g=c;do{if(d===0){Bo&&!c&&cs(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!i2(o)){d=pg(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var S=r;d=Hu;var V=S.current.memoizedState.isDehydrated;if(V&&(Fo(S,T).flags|=256),T=pg(S,T,!1),T!==2){if(lg&&!V){S.errorRecoveryDisabledLanes|=g,Aa|=g,d=4;break t}g=Rn,Rn=d,g!==null&&(Rn===null?Rn=g:Rn.push.apply(Rn,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Fo(r,0),cs(r,s,0,!0);break}t:{switch(c=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:cs(c,s,Ln,!as);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Cf+300-gn(),10<d)){if(cs(c,s,Ln,!as),Vi(c,0,!0)!==0)break t;Sr=s,c.timeoutHandle=ab(DE.bind(null,c,o,Rn,Df,cg,s,Ln,Aa,zo,as,g,"Throttled",-0,0),d);break t}DE(c,o,Rn,Df,cg,s,Ln,Aa,zo,as,g,null,-0,0)}}break}while(!0);Xi(r)}function DE(r,s,o,c,d,g,T,S,V,q,W,tt,H,K){if(r.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},bE(s,g,tt);var gt=(g&62914560)===g?Cf-gn():(g&4194048)===g?IE-gn():0;if(gt=j2(tt,gt),gt!==null){Sr=g,r.cancelPendingCommit=gt(UE.bind(null,r,s,g,o,c,d,T,S,V,W,tt,null,H,K)),cs(r,g,T,!q);return}}UE(r,s,g,o,c,d,T,S,V)}function i2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Mn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function cs(r,s,o,c){s&=~ug,s&=~Aa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var g=31-Se(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&ta(r,o,s)}function Vf(){return(Qt&6)===0?(Ku(0),!1):!0}function mg(){if(Ot!==null){if(Wt===0)var r=Ot.return;else r=Ot,fr=ga=null,Dp(r),Mo=null,Cu=0,r=Ot;for(;r!==null;)oE(r.alternate,r),r=r.return;Ot=null}}function Fo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,S2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Sr=0,mg(),oe=r,Ot=o=cr(r.current,null),Lt=s,Wt=0,kn=null,as=!1,Bo=li(r,s),lg=!1,zo=Ln=ug=Aa=os=Ee=0,Rn=Hu=null,cg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-Se(c),g=1<<d;s|=r[d],c&=~g}return br=s,$h(),o}function VE(r,s){xt=null,$.H=ku,s===Vo||s===af?(s=Y0(),Wt=3):s===_p?(s=Y0(),Wt=4):Wt=s===Kp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,kn=s,Ot===null&&(Ee=1,Tf(r,Xn(s,r.current)))}function ME(){var r=On.current;return r===null?!0:(Lt&4194048)===Lt?Jn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?r===Jn:!1}function PE(){var r=$.H;return $.H=ku,r===null?ku:r}function OE(){var r=$.A;return $.A=e2,r}function Mf(){Ee=4,as||(Lt&4194048)!==Lt&&On.current!==null||(Bo=!0),(os&134217727)===0&&(Aa&134217727)===0||oe===null||cs(oe,Lt,Ln,!1)}function pg(r,s,o){var c=Qt;Qt|=2;var d=PE(),g=OE();(oe!==r||Lt!==s)&&(Df=null,Fo(r,s)),s=!1;var T=Ee;t:do try{if(Wt!==0&&Ot!==null){var S=Ot,V=kn;switch(Wt){case 8:mg(),T=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(s=!0);var q=Wt;if(Wt=0,kn=null,qo(r,S,V,q),o&&Bo){T=0;break t}break;default:q=Wt,Wt=0,kn=null,qo(r,S,V,q)}}r2(),T=Ee;break}catch(W){VE(r,W)}while(!0);return s&&r.shellSuspendCounter++,fr=ga=null,Qt=c,$.H=d,$.A=g,Ot===null&&(oe=null,Lt=0,$h()),T}function r2(){for(;Ot!==null;)NE(Ot)}function s2(r,s){var o=Qt;Qt|=2;var c=PE(),d=OE();oe!==r||Lt!==s?(Df=null,xf=gn()+500,Fo(r,s)):Bo=li(r,s);t:do try{if(Wt!==0&&Ot!==null){s=Ot;var g=kn;e:switch(Wt){case 1:Wt=0,kn=null,qo(r,s,g,1);break;case 2:case 9:if(G0(g)){Wt=0,kn=null,kE(s);break}s=function(){Wt!==2&&Wt!==9||oe!==r||(Wt=7),Xi(r)},g.then(s,s);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:G0(g)?(Wt=0,kn=null,kE(s)):(Wt=0,kn=null,qo(r,s,g,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var S=Ot;if(T?Eb(T):S.stateNode.complete){Wt=0,kn=null;var V=S.sibling;if(V!==null)Ot=V;else{var q=S.return;q!==null?(Ot=q,Pf(q)):Ot=null}break e}}Wt=0,kn=null,qo(r,s,g,5);break;case 6:Wt=0,kn=null,qo(r,s,g,6);break;case 8:mg(),Ee=6;break t;default:throw Error(i(462))}}a2();break}catch(W){VE(r,W)}while(!0);return fr=ga=null,$.H=c,$.A=d,Qt=o,Ot!==null?0:(oe=null,Lt=0,$h(),Ee)}function a2(){for(;Ot!==null&&!Gm();)NE(Ot)}function NE(r){var s=sE(r.alternate,r,br);r.memoizedProps=r.pendingProps,s===null?Pf(r):Ot=s}function kE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=JT(o,s,s.pendingProps,s.type,void 0,Lt);break;case 11:s=JT(o,s,s.pendingProps,s.type.render,s.ref,Lt);break;case 5:Dp(s);default:oE(o,s),s=Ot=O0(s,br),s=sE(o,s,br)}r.memoizedProps=r.pendingProps,s===null?Pf(r):Ot=s}function qo(r,s,o,c){fr=ga=null,Dp(s),Mo=null,Cu=0;var d=s.return;try{if(QD(r,d,s,o,Lt)){Ee=1,Tf(r,Xn(o,r.current)),Ot=null;return}}catch(g){if(d!==null)throw Ot=d,g;Ee=1,Tf(r,Xn(o,r.current)),Ot=null;return}s.flags&32768?(jt||c===1?r=!0:Bo||(Lt&536870912)!==0?r=!1:(as=r=!0,(c===2||c===9||c===3||c===6)&&(c=On.current,c!==null&&c.tag===13&&(c.flags|=16384))),LE(s,r)):Pf(s)}function Pf(r){var s=r;do{if((s.flags&32768)!==0){LE(s,as);return}r=s.return;var o=$D(s.alternate,s,br);if(o!==null){Ot=o;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=r}while(s!==null);Ee===0&&(Ee=5)}function LE(r,s){do{var o=ZD(r.alternate,r);if(o!==null){o.flags&=32767,Ot=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ot=r;return}Ot=r=o}while(r!==null);Ee=6,Ot=null}function UE(r,s,o,c,d,g,T,S,V){r.cancelPendingCommit=null;do Of();while(He!==0);if((Qt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=ip,Qm(r,o,g,T,S,V),r===oe&&(Ot=oe=null,Lt=0),jo=s,us=r,Sr=o,hg=g,fg=d,RE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,c2(zr,function(){return qE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=$.T,$.T=null,d=st.p,st.p=2,T=Qt,Qt|=4;try{JD(r,s,o)}finally{Qt=T,st.p=d,$.T=c}}He=1,BE(),zE(),jE()}}function BE(){if(He===1){He=0;var r=us,s=jo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=$.T,$.T=null;var c=st.p;st.p=2;var d=Qt;Qt|=4;try{vE(s,r);var g=Rg,T=A0(r.containerInfo),S=g.focusedElem,V=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&w0(S.ownerDocument.documentElement,S)){if(V!==null&&Zm(S)){var q=V.start,W=V.end;if(W===void 0&&(W=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(W,S.value.length);else{var tt=S.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var K=H.getSelection(),gt=S.textContent.length,bt=Math.min(V.start,gt),se=V.end===void 0?bt:Math.min(V.end,gt);!K.extend&&bt>se&&(T=se,se=bt,bt=T);var k=S0(S,bt),O=S0(S,se);if(k&&O&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var F=tt.createRange();F.setStart(k.node,k.offset),K.removeAllRanges(),bt>se?(K.addRange(F),K.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),K.addRange(F))}}}}for(tt=[],K=S;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Kf=!!Ig,Rg=Ig=null}finally{Qt=d,st.p=c,$.T=o}}r.current=s,He=2}}function zE(){if(He===2){He=0;var r=us,s=jo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=$.T,$.T=null;var c=st.p;st.p=2;var d=Qt;Qt|=4;try{mE(r,s.alternate,s)}finally{Qt=d,st.p=c,$.T=o}}He=3}}function jE(){if(He===4||He===3){He=0,Sh();var r=us,s=jo,o=Sr,c=RE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?He=5:(He=0,jo=us=null,FE(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(ls=null),ar(o),s=s.stateNode,tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(oi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=$.T,d=st.p,st.p=2,$.T=null;try{for(var g=r.onRecoverableError,T=0;T<c.length;T++){var S=c[T];g(S.value,{componentStack:S.stack})}}finally{$.T=s,st.p=d}}(Sr&3)!==0&&Of(),Xi(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===dg?Gu++:(Gu=0,dg=r):Gu=0,Ku(0)}}function FE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Iu(s)))}function Of(){return BE(),zE(),jE(),qE()}function qE(){if(He!==5)return!1;var r=us,s=hg;hg=0;var o=ar(Sr),c=$.T,d=st.p;try{st.p=32>o?32:o,$.T=null,o=fg,fg=null;var g=us,T=Sr;if(He=0,jo=us=null,Sr=0,(Qt&6)!==0)throw Error(i(331));var S=Qt;if(Qt|=4,wE(g.current),EE(g,g.current,T,o),Qt=S,Ku(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(oi,g)}catch{}return!0}finally{st.p=d,$.T=c,FE(r,s)}}function HE(r,s,o){s=Xn(o,s),s=Gp(r.stateNode,s,2),r=ns(r,s,2),r!==null&&(Js(r,2),Xi(r))}function $t(r,s,o){if(r.tag===3)HE(r,r,o);else for(;s!==null;){if(s.tag===3){HE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ls===null||!ls.has(c))){r=Xn(o,r),o=GT(2),c=ns(s,o,2),c!==null&&(KT(o,c,s,r),Js(c,2),Xi(c));break}}s=s.return}}function gg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new n2;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(lg=!0,d.add(o),r=o2.bind(null,r,s,o),s.then(r,r))}function o2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,oe===r&&(Lt&o)===o&&(Ee===4||Ee===3&&(Lt&62914560)===Lt&&300>gn()-Cf?(Qt&2)===0&&Fo(r,0):ug|=o,zo===Lt&&(zo=0)),Xi(r)}function GE(r,s){s===0&&(s=xh()),r=da(r,s),r!==null&&(Js(r,s),Xi(r))}function l2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),GE(r,o)}function u2(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),GE(r,o)}function c2(r,s){return qe(r,s)}var Nf=null,Ho=null,yg=!1,kf=!1,_g=!1,hs=0;function Xi(r){r!==Ho&&r.next===null&&(Ho===null?Nf=Ho=r:Ho=Ho.next=r),kf=!0,yg||(yg=!0,f2())}function Ku(r,s){if(!_g&&kf){_g=!0;do for(var o=!1,c=Nf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,S=c.pingedLanes;g=(1<<31-Se(42|r)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,XE(c,g))}else g=Lt,g=Vi(c,c===oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||li(c,g)||(o=!0,XE(c,g));c=c.next}while(o);_g=!1}}function h2(){KE()}function KE(){kf=yg=!1;var r=0;hs!==0&&b2()&&(r=hs);for(var s=gn(),o=null,c=Nf;c!==null;){var d=c.next,g=YE(c,s);g===0?(c.next=null,o===null?Nf=d:o.next=d,d===null&&(Ho=o)):(o=c,(r!==0||(g&3)!==0)&&(kf=!0)),c=d}He!==0&&He!==5||Ku(r),hs!==0&&(hs=0)}function YE(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-Se(g),S=1<<T,V=d[T];V===-1?((S&o)===0||(S&c)!==0)&&(d[T]=Ym(S,s)):V<=s&&(r.expiredLanes|=S),g&=~S}if(s=oe,o=Lt,o=Vi(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Br(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||li(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Br(c),ar(o)){case 2:case 8:o=nu;break;case 32:o=zr;break;case 268435456:o=wh;break;default:o=zr}return c=QE.bind(null,r),o=qe(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Br(c),r.callbackPriority=2,r.callbackNode=null,2}function QE(r,s){if(He!==0&&He!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Of()&&r.callbackNode!==o)return null;var c=Lt;return c=Vi(r,r===oe?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(xE(r,c,s),YE(r,gn()),r.callbackNode!=null&&r.callbackNode===o?QE.bind(null,r):null)}function XE(r,s){if(Of())return null;xE(r,s,!0)}function f2(){w2(function(){(Qt&6)!==0?qe(eu,h2):KE()})}function vg(){if(hs===0){var r=xo;r===0&&(r=xi,xi<<=1,(xi&261888)===0&&(xi=256)),hs=r}return hs}function WE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:mo(""+r)}function $E(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function d2(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=WE((d[Qe]||null).action),T=c.submitter;T&&(s=(s=T[Qe]||null)?WE(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var S=new Fi("action","action",null,c,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(hs!==0){var V=T?$E(d,T):new FormData(d);Bp(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(S.preventDefault(),V=T?$E(d,T):new FormData(d),Bp(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var Tg=0;Tg<np.length;Tg++){var Eg=np[Tg],m2=Eg.toLowerCase(),p2=Eg[0].toUpperCase()+Eg.slice(1);gi(m2,"on"+p2)}gi(C0,"onAnimationEnd"),gi(x0,"onAnimationIteration"),gi(D0,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(VD,"onTransitionRun"),gi(MD,"onTransitionStart"),gi(PD,"onTransitionCancel"),gi(V0,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),g2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function ZE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;t:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var S=c[T],V=S.instance,q=S.currentTarget;if(S=S.listener,V!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=q;try{g(d)}catch(W){Wh(W)}d.currentTarget=null,g=V}else for(T=0;T<c.length;T++){if(S=c[T],V=S.instance,q=S.currentTarget,S=S.listener,V!==g&&d.isPropagationStopped())break t;g=S,d.currentTarget=q;try{g(d)}catch(W){Wh(W)}d.currentTarget=null,g=V}}}}function Nt(r,s){var o=s[lo];o===void 0&&(o=s[lo]=new Set);var c=r+"__bubble";o.has(c)||(JE(s,r,2,!1),o.add(c))}function bg(r,s,o){var c=0;s&&(c|=4),JE(o,r,c,s)}var Lf="_reactListening"+Math.random().toString(36).slice(2);function Sg(r){if(!r[Lf]){r[Lf]=!0,su.forEach(function(o){o!=="selectionchange"&&(g2.has(o)||bg(o,!1,r),bg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Lf]||(s[Lf]=!0,bg("selectionchange",!1,s))}}function JE(r,s,o,c){switch(Cb(s)){case 2:var d=H2;break;case 8:d=G2;break;default:d=Ug}o=d.bind(null,s,o,r),d=void 0,!sa||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function wg(r,s,o,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Ni(S),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=g=T;continue t}S=S.parentNode}}c=c.return}Kr(function(){var q=g,W=Gn(o),tt=[];t:{var H=M0.get(r);if(H!==void 0){var K=Fi,gt=r;switch(r){case"keypress":if(oa(o)===0)break t;case"keydown":case"keyup":K=Yh;break;case"focusin":gt="focus",K=ua;break;case"focusout":gt="blur",K=ua;break;case"beforeblur":case"afterblur":K=ua;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Uh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case C0:case x0:case D0:K=zh;break;case V0:K=w;break;case"scroll":case"scrollend":K=yu;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ur;break;case"toggle":case"beforetoggle":K=Ct}var bt=(s&4)!==0,se=!bt&&(r==="scroll"||r==="scrollend"),k=bt?H!==null?H+"Capture":null:H;bt=[];for(var O=q,F;O!==null;){var J=O;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||k===null||(J=fi(O,k),J!=null&&bt.push(Qu(O,J,F))),se)break;O=O.return}0<bt.length&&(H=new K(H,gt,null,o,W),tt.push({event:H,listeners:bt}))}}if((s&7)===0){t:{if(H=r==="mouseover"||r==="pointerover",K=r==="mouseout"||r==="pointerout",H&&o!==mu&&(gt=o.relatedTarget||o.fromElement)&&(Ni(gt)||gt[Pi]))break t;if((K||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,K?(gt=o.relatedTarget||o.toElement,K=q,gt=gt?Ni(gt):null,gt!==null&&(se=l(gt),bt=gt.tag,gt!==se||bt!==5&&bt!==27&&bt!==6)&&(gt=null)):(K=null,gt=q),K!==gt)){if(bt=_u,J="onMouseLeave",k="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(bt=ur,J="onPointerLeave",k="onPointerEnter",O="pointer"),se=K==null?H:Dn(K),F=gt==null?H:Dn(gt),H=new bt(J,O+"leave",K,o,W),H.target=se,H.relatedTarget=F,J=null,Ni(W)===q&&(bt=new bt(k,O+"enter",gt,o,W),bt.target=F,bt.relatedTarget=se,J=bt),se=J,K&&gt)e:{for(bt=y2,k=K,O=gt,F=0,J=k;J;J=bt(J))F++;J=0;for(var Et=O;Et;Et=bt(Et))J++;for(;0<F-J;)k=bt(k),F--;for(;0<J-F;)O=bt(O),J--;for(;F--;){if(k===O||O!==null&&k===O.alternate){bt=k;break e}k=bt(k),O=bt(O)}bt=null}else bt=null;K!==null&&tb(tt,H,K,bt,!1),gt!==null&&se!==null&&tb(tt,se,gt,bt,!0)}}t:{if(H=q?Dn(q):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Gt=y0;else if(p0(H))if(_0)Gt=CD;else{Gt=ID;var vt=AD}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&fo(q.elementType)&&(Gt=y0):Gt=RD;if(Gt&&(Gt=Gt(r,q))){g0(tt,Gt,o,W);break t}vt&&vt(r,H,q),r==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&hu(H,"number",H.value)}switch(vt=q?Dn(q):window,r){case"focusin":(p0(vt)||vt.contentEditable==="true")&&(Eo=vt,Jm=q,Su=null);break;case"focusout":Su=Jm=Eo=null;break;case"mousedown":tp=!0;break;case"contextmenu":case"mouseup":case"dragend":tp=!1,I0(tt,o,W);break;case"selectionchange":if(DD)break;case"keydown":case"keyup":I0(tt,o,W)}var Mt;if(Yt)t:{switch(r){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else To?ca(r,o)&&(Ut="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Gi&&o.locale!=="ko"&&(To||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&To&&(Mt=gu()):(ji=W,pu="value"in ji?ji.value:ji.textContent,To=!0)),vt=Uf(q,Ut),0<vt.length&&(Ut=new Hi(Ut,r,null,o,W),tt.push({event:Ut,listeners:vt}),Mt?Ut.data=Mt:(Mt=vo(o),Mt!==null&&(Ut.data=Mt)))),(Mt=Yn?ED(r,o):bD(r,o))&&(Ut=Uf(q,"onBeforeInput"),0<Ut.length&&(vt=new Hi("onBeforeInput","beforeinput",null,o,W),tt.push({event:vt,listeners:Ut}),vt.data=Mt)),d2(tt,r,q,o,W)}ZE(tt,s)})}function Qu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Uf(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=fi(r,o),d!=null&&c.unshift(Qu(r,d,g)),d=fi(r,s),d!=null&&c.push(Qu(r,d,g))),r.tag===3)return c;r=r.return}return[]}function y2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function tb(r,s,o,c,d){for(var g=s._reactName,T=[];o!==null&&o!==c;){var S=o,V=S.alternate,q=S.stateNode;if(S=S.tag,V!==null&&V===c)break;S!==5&&S!==26&&S!==27||q===null||(V=q,d?(q=fi(o,g),q!=null&&T.unshift(Qu(o,q,V))):d||(q=fi(o,g),q!=null&&T.push(Qu(o,q,V)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var _2=/\r\n?/g,v2=/\u0000|\uFFFD/g;function eb(r){return(typeof r=="string"?r:""+r).replace(_2,`
`).replace(v2,"")}function nb(r,s){return s=eb(s),eb(r)===s}function re(r,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Sn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Sn(r,""+c);break;case"className":Vn(r,"class",c);break;case"tabIndex":Vn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vn(r,o,c);break;case"style":du(r,c,g);break;case"data":if(s!=="object"){Vn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=mo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&re(r,s,"name",d.name,d,null),re(r,s,"formEncType",d.formEncType,d,null),re(r,s,"formMethod",d.formMethod,d,null),re(r,s,"formTarget",d.formTarget,d,null)):(re(r,s,"encType",d.encType,d,null),re(r,s,"method",d.method,d,null),re(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=mo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=hi);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=mo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Nt("beforetoggle",r),Nt("toggle",r),co(r,"popover",c);break;case"xlinkActuate":Ve(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ve(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ve(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ve(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ve(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ve(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ve(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ve(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ve(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":co(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Lh.get(o)||o,co(r,o,c))}}function Ag(r,s,o,c,d,g){switch(o){case"style":du(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Sn(r,c):(typeof c=="number"||typeof c=="bigint")&&Sn(r,""+c);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!au.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[Qe]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break t}o in r?r[o]=c:c===!0?r.setAttribute(o,""):co(r,o,c)}}}function an(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",r),Nt("load",r);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:re(r,s,g,T,o,null)}}d&&re(r,s,"srcSet",o.srcSet,o,null),c&&re(r,s,"src",o.src,o,null);return;case"input":Nt("invalid",r);var S=g=T=d=null,V=null,q=null;for(c in o)if(o.hasOwnProperty(c)){var W=o[c];if(W!=null)switch(c){case"name":d=W;break;case"type":T=W;break;case"checked":V=W;break;case"defaultChecked":q=W;break;case"value":g=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,s));break;default:re(r,s,c,W,o,null)}}Oh(r,g,S,V,q,T,d,!1);return;case"select":Nt("invalid",r),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:re(r,s,d,S,o,null)}s=g,o=T,r.multiple=!!c,s!=null?Fr(r,!!c,s,!1):o!=null&&Fr(r,!!c,o,!0);return;case"textarea":Nt("invalid",r),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:re(r,s,T,S,o,null)}qr(r,c,d,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":re(r,s,V,c,o,null));return;case"dialog":Nt("beforetoggle",r),Nt("toggle",r),Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":Nt("load",r);break;case"video":case"audio":for(c=0;c<Yu.length;c++)Nt(Yu[c],r);break;case"image":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"embed":case"source":case"link":Nt("error",r),Nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:re(r,s,q,c,o,null)}return;default:if(fo(s)){for(W in o)o.hasOwnProperty(W)&&(c=o[W],c!==void 0&&Ag(r,s,W,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&re(r,s,S,c,o,null))}function T2(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,V=null,q=null,W=null;for(K in o){var tt=o[K];if(o.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":V=tt;default:c.hasOwnProperty(K)||re(r,s,K,null,c,tt)}}for(var H in c){var K=c[H];if(tt=o[H],c.hasOwnProperty(H)&&(K!=null||tt!=null))switch(H){case"type":g=K;break;case"name":d=K;break;case"checked":q=K;break;case"defaultChecked":W=K;break;case"value":T=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==tt&&re(r,s,H,K,c,tt)}}ho(r,T,S,V,q,W,g,d);return;case"select":K=T=S=H=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":K=V;default:c.hasOwnProperty(g)||re(r,s,g,null,c,V)}for(d in c)if(g=c[d],V=o[d],c.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":H=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==V&&re(r,s,d,g,c,V)}s=S,o=T,c=K,H!=null?Fr(r,!!o,H,!1):!!c!=!!o&&(s!=null?Fr(r,!!o,s,!0):Fr(r,!!o,o?[]:"",!1));return;case"textarea":K=H=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(r,s,S,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":H=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&re(r,s,T,d,c,g)}Nh(r,H,K);return;case"option":for(var gt in o)H=o[gt],o.hasOwnProperty(gt)&&H!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?r.selected=!1:re(r,s,gt,null,c,H));for(V in c)H=c[V],K=o[V],c.hasOwnProperty(V)&&H!==K&&(H!=null||K!=null)&&(V==="selected"?r.selected=H&&typeof H!="function"&&typeof H!="symbol":re(r,s,V,H,c,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)H=o[bt],o.hasOwnProperty(bt)&&H!=null&&!c.hasOwnProperty(bt)&&re(r,s,bt,null,c,H);for(q in c)if(H=c[q],K=o[q],c.hasOwnProperty(q)&&H!==K&&(H!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:re(r,s,q,H,c,K)}return;default:if(fo(s)){for(var se in o)H=o[se],o.hasOwnProperty(se)&&H!==void 0&&!c.hasOwnProperty(se)&&Ag(r,s,se,void 0,c,H);for(W in c)H=c[W],K=o[W],!c.hasOwnProperty(W)||H===K||H===void 0&&K===void 0||Ag(r,s,W,H,c,K);return}}for(var k in o)H=o[k],o.hasOwnProperty(k)&&H!=null&&!c.hasOwnProperty(k)&&re(r,s,k,null,c,H);for(tt in c)H=c[tt],K=o[tt],!c.hasOwnProperty(tt)||H===K||H==null&&K==null||re(r,s,tt,H,c,K)}function ib(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function E2(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,S=d.duration;if(g&&S&&ib(T)){for(T=0,S=d.responseEnd,c+=1;c<o.length;c++){var V=o[c],q=V.startTime;if(q>S)break;var W=V.transferSize,tt=V.initiatorType;W&&ib(tt)&&(V=V.responseEnd,T+=W*(V<S?1:(S-q)/(V-q)))}if(--c,s+=8*(g+T)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ig=null,Rg=null;function Bf(r){return r.nodeType===9?r:r.ownerDocument}function rb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Cg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xg=null;function b2(){var r=window.event;return r&&r.type==="popstate"?r===xg?!1:(xg=r,!0):(xg=null,!1)}var ab=typeof setTimeout=="function"?setTimeout:void 0,S2=typeof clearTimeout=="function"?clearTimeout:void 0,ob=typeof Promise=="function"?Promise:void 0,w2=typeof queueMicrotask=="function"?queueMicrotask:typeof ob<"u"?function(r){return ob.resolve(null).then(r).catch(A2)}:ab;function A2(r){setTimeout(function(){throw r})}function fs(r){return r==="head"}function lb(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(d),Qo(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Xu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Xu(o);for(var g=o.firstChild;g;){var T=g.nextSibling,S=g.nodeName;g[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&Xu(r.ownerDocument.body);o=d}while(o);Qo(s)}function ub(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function Dg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Dg(o),uo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function I2(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Oi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=ti(r.nextSibling),r===null)break}return null}function R2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=ti(r.nextSibling),r===null))return null;return r}function cb(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=ti(r.nextSibling),r===null))return null;return r}function Vg(r){return r.data==="$?"||r.data==="$~"}function Mg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function C2(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function ti(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Pg=null;function hb(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return ti(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function fb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function db(r,s,o){switch(s=Bf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Xu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);uo(r)}var ei=new Map,mb=new Set;function zf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wr=st.d;st.d={f:x2,r:D2,D:V2,C:M2,L:P2,m:O2,X:k2,S:N2,M:L2};function x2(){var r=wr.f(),s=Vf();return r||s}function D2(r){var s=Hn(r);s!==null&&s.tag===5&&s.type==="form"?VT(s):wr.r(r)}var Go=typeof document>"u"?null:document;function pb(r,s,o){var c=Go;if(c&&typeof s=="string"&&s){var d=bn(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),mb.has(d)||(mb.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),an(s,"link",r),De(s),c.head.appendChild(s)))}}function V2(r){wr.D(r),pb("dns-prefetch",r,null)}function M2(r,s){wr.C(r,s),pb("preconnect",r,s)}function P2(r,s,o){wr.L(r,s,o);var c=Go;if(c&&r&&s){var d='link[rel="preload"][as="'+bn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+bn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+bn(o.imageSizes)+'"]')):d+='[href="'+bn(r)+'"]';var g=d;switch(s){case"style":g=Ko(r);break;case"script":g=Yo(r)}ei.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),ei.set(g,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Wu(g))||s==="script"&&c.querySelector($u(g))||(s=c.createElement("link"),an(s,"link",r),De(s),c.head.appendChild(s)))}}function O2(r,s){wr.m(r,s);var o=Go;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+bn(c)+'"][href="'+bn(r)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Yo(r)}if(!ei.has(g)&&(r=v({rel:"modulepreload",href:r},s),ei.set(g,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector($u(g)))return}c=o.createElement("link"),an(c,"link",r),De(c),o.head.appendChild(c)}}}function N2(r,s,o){wr.S(r,s,o);var c=Go;if(c&&r){var d=ki(c).hoistableStyles,g=Ko(r);s=s||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Wu(g)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=ei.get(g))&&Og(r,o);var V=T=c.createElement("link");De(V),an(V,"link",r),V._p=new Promise(function(q,W){V.onload=q,V.onerror=W}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,jf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function k2(r,s){wr.X(r,s);var o=Go;if(o&&r){var c=ki(o).hoistableScripts,d=Yo(r),g=c.get(d);g||(g=o.querySelector($u(d)),g||(r=v({src:r,async:!0},s),(s=ei.get(d))&&Ng(r,s),g=o.createElement("script"),De(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function L2(r,s){wr.M(r,s);var o=Go;if(o&&r){var c=ki(o).hoistableScripts,d=Yo(r),g=c.get(d);g||(g=o.querySelector($u(d)),g||(r=v({src:r,async:!0,type:"module"},s),(s=ei.get(d))&&Ng(r,s),g=o.createElement("script"),De(g),an(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function gb(r,s,o,c){var d=(d=Vt.current)?zf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ko(o.href),o=ki(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ko(o.href);var g=ki(d).hoistableStyles,T=g.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=d.querySelector(Wu(r)))&&!g._p&&(T.instance=g,T.state.loading=5),ei.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},ei.set(r,o),g||U2(d,r,o,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yo(o),o=ki(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Ko(r){return'href="'+bn(r)+'"'}function Wu(r){return'link[rel="stylesheet"]['+r+"]"}function yb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function U2(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),an(s,"link",o),De(s),r.head.appendChild(s))}function Yo(r){return'[src="'+bn(r)+'"]'}function $u(r){return"script[async]"+r}function _b(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+bn(o.href)+'"]');if(c)return s.instance=c,De(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),De(c),an(c,"style",d),jf(c,o.precedence,r),s.instance=c;case"stylesheet":d=Ko(o.href);var g=r.querySelector(Wu(d));if(g)return s.state.loading|=4,s.instance=g,De(g),g;c=yb(o),(d=ei.get(d))&&Og(c,d),g=(r.ownerDocument||r).createElement("link"),De(g);var T=g;return T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),an(g,"link",c),s.state.loading|=4,jf(g,o.precedence,r),s.instance=g;case"script":return g=Yo(o.src),(d=r.querySelector($u(g)))?(s.instance=d,De(d),d):(c=o,(d=ei.get(g))&&(c=v({},o),Ng(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),De(d),an(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,jf(c,o.precedence,r));return s.instance}function jf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===s)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Og(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Ng(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Ff=null;function vb(r,s,o){if(Ff===null){var c=new Map,d=Ff=new Map;d.set(o,c)}else d=Ff,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[Oi]||g[xe]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var S=c.get(T);S?S.push(g):c.set(T,[g])}}return c}function Tb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function B2(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Eb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function z2(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Ko(c.href),g=s.querySelector(Wu(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=qf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=g,De(g);return}g=s.ownerDocument||s,c=yb(c),(d=ei.get(d))&&Og(c,d),g=g.createElement("link"),De(g);var T=g;T._p=new Promise(function(S,V){T.onload=S,T.onerror=V}),an(g,"link",c),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=qf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var kg=0;function j2(r,s){return r.stylesheets&&r.count===0&&Gf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&Gf(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&kg===0&&(kg=62500*E2());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Gf(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>kg?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function qf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Hf=null;function Gf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Hf=new Map,s.forEach(F2,r),Hf=null,qf.call(r))}function F2(r,s){if(!(s.state.loading&4)){var o=Hf.get(r);if(o)var c=o.get(null);else{o=new Map,Hf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=qf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Zu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function q2(r,s,o,c,d,g,T,S,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function bb(r,s,o,c,d,g,T,S,V,q,W,tt){return r=new q2(r,s,o,T,V,q,W,tt,S),s=1,g===!0&&(s|=24),g=Pn(3,null,null,s),r.current=g,g.stateNode=r,s=pp(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},vp(g),r}function Sb(r){return r?(r=wo,r):wo}function wb(r,s,o,c,d,g){d=Sb(d),c.context===null?c.context=d:c.pendingContext=d,c=es(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ns(r,c,s),o!==null&&(Cn(o,r,s),Du(o,r,s))}function Ab(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Lg(r,s){Ab(r,s),(r=r.alternate)&&Ab(r,s)}function Ib(r){if(r.tag===13||r.tag===31){var s=da(r,67108864);s!==null&&Cn(s,r,67108864),Lg(r,67108864)}}function Rb(r){if(r.tag===13||r.tag===31){var s=Un();s=ea(s);var o=da(r,s);o!==null&&Cn(o,r,s),Lg(r,s)}}var Kf=!0;function H2(r,s,o,c){var d=$.T;$.T=null;var g=st.p;try{st.p=2,Ug(r,s,o,c)}finally{st.p=g,$.T=d}}function G2(r,s,o,c){var d=$.T;$.T=null;var g=st.p;try{st.p=8,Ug(r,s,o,c)}finally{st.p=g,$.T=d}}function Ug(r,s,o,c){if(Kf){var d=Bg(c);if(d===null)wg(r,s,c,Yf,o),xb(r,c);else if(Y2(d,r,s,o,c))c.stopPropagation();else if(xb(r,c),s&4&&-1<K2.indexOf(r)){for(;d!==null;){var g=Hn(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=Di(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var V=1<<31-Se(T);S.entanglements[1]|=V,T&=~V}Xi(g),(Qt&6)===0&&(xf=gn()+500,Ku(0))}}break;case 31:case 13:S=da(g,2),S!==null&&Cn(S,g,2),Vf(),Lg(g,2)}if(g=Bg(c),g===null&&wg(r,s,c,Yf,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else wg(r,s,c,null,o)}}function Bg(r){return r=Gn(r),zg(r)}var Yf=null;function zg(r){if(Yf=null,r=Ni(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Yf=r,null}function Cb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($s()){case eu:return 2;case nu:return 8;case zr:case Km:return 32;case wh:return 268435456;default:return 32}default:return 32}}var jg=!1,ds=null,ms=null,ps=null,Ju=new Map,tc=new Map,gs=[],K2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xb(r,s){switch(r){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":ms=null;break;case"mouseover":case"mouseout":ps=null;break;case"pointerover":case"pointerout":Ju.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(s.pointerId)}}function ec(r,s,o,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Hn(s),s!==null&&Ib(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Y2(r,s,o,c,d){switch(s){case"focusin":return ds=ec(ds,r,s,o,c,d),!0;case"dragenter":return ms=ec(ms,r,s,o,c,d),!0;case"mouseover":return ps=ec(ps,r,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return Ju.set(g,ec(Ju.get(g)||null,r,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,tc.set(g,ec(tc.get(g)||null,r,s,o,c,d)),!0}return!1}function Db(r){var s=Ni(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,ui(r.priority,function(){Rb(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,ui(r.priority,function(){Rb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qf(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Bg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);mu=c,o.target.dispatchEvent(c),mu=null}else return s=Hn(o),s!==null&&Ib(s),r.blockedOn=o,!1;s.shift()}return!0}function Vb(r,s,o){Qf(r)&&o.delete(s)}function Q2(){jg=!1,ds!==null&&Qf(ds)&&(ds=null),ms!==null&&Qf(ms)&&(ms=null),ps!==null&&Qf(ps)&&(ps=null),Ju.forEach(Vb),tc.forEach(Vb)}function Xf(r,s){r.blockedOn===s&&(r.blockedOn=null,jg||(jg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Q2)))}var Wf=null;function Mb(r){Wf!==r&&(Wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wf===r&&(Wf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(zg(c||o)===null)continue;break}var g=Hn(o);g!==null&&(r.splice(s,3),s-=3,Bp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function Qo(r){function s(V){return Xf(V,r)}ds!==null&&Xf(ds,r),ms!==null&&Xf(ms,r),ps!==null&&Xf(ps,r),Ju.forEach(s),tc.forEach(s);for(var o=0;o<gs.length;o++){var c=gs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<gs.length&&(o=gs[0],o.blockedOn===null);)Db(o),o.blockedOn===null&&gs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[Qe]||null;if(typeof g=="function")T||Mb(o);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[Qe]||null)S=T.formAction;else if(zg(d)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),Mb(o)}}}function Pb(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Fg(r){this._internalRoot=r}$f.prototype.render=Fg.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Un();wb(o,c,r,s,null,null)},$f.prototype.unmount=Fg.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;wb(r.current,2,null,r,null,null),Vf(),s[Pi]=null}};function $f(r){this._internalRoot=r}$f.prototype.unstable_scheduleHydration=function(r){if(r){var s=Dh();r={blockedOn:null,target:r,priority:s};for(var o=0;o<gs.length&&s!==0&&s<gs[o].priority;o++);gs.splice(o,0,r),o===0&&Db(r)}};var Ob=t.version;if(Ob!=="19.2.4")throw Error(i(527,Ob,"19.2.4"));st.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var X2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{oi=Zf.inject(X2),tn=Zf}catch{}}return ic.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=jT,g=FT,T=qT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=bb(r,1,!1,null,null,o,c,null,d,g,T,Pb),r[Pi]=s.current,Sg(r),new Fg(s)},ic.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",g=jT,T=FT,S=qT,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=bb(r,1,!0,s,o??null,c,d,V,g,T,S,Pb),s.context=Sb(null),o=s.current,c=Un(),c=ea(c),d=es(c),d.callback=null,ns(o,d,c),o=c,s.current.lanes=o,Js(s,o),Xi(s),r[Pi]=s.current,Sg(r),new $f(s)},ic.version="19.2.4",ic}var Hb;function aV(){if(Hb)return Gg.exports;Hb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gg.exports=sV(),Gg.exports}var oV=aV();const y1=6048e5,lV=864e5,Gb=Symbol.for("constructDateFrom");function Us(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&Gb in n?n[Gb](t):n instanceof Date?new n.constructor(t):new Date(t)}function Ii(n,t){return Us(t||n,n)}let uV={};function pm(){return uV}function Oc(n,t){const e=pm(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=Ii(n,t?.in),l=a.getDay(),u=(l<i?7:0)+l-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Od(n,t){return Oc(n,{...t,weekStartsOn:1})}function _1(n,t){const e=Ii(n,t?.in),i=e.getFullYear(),a=Us(e,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=Od(a),u=Us(e,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const f=Od(u);return e.getTime()>=l.getTime()?i+1:e.getTime()>=f.getTime()?i:i-1}function Kb(n){const t=Ii(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function cV(n,...t){const e=Us.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function Yb(n,t){const e=Ii(n,t?.in);return e.setHours(0,0,0,0),e}function hV(n,t,e){const[i,a]=cV(e?.in,n,t),l=Yb(i),u=Yb(a),f=+l-Kb(l),m=+u-Kb(u);return Math.round((f-m)/lV)}function fV(n,t){const e=_1(n,t),i=Us(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Od(i)}function dV(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function mV(n){return!(!dV(n)&&typeof n!="number"||isNaN(+Ii(n)))}function pV(n,t){const e=Ii(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const gV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yV=(n,t,e)=>{let i;const a=gV[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Xg(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const _V={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},TV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},EV={date:Xg({formats:_V,defaultWidth:"full"}),time:Xg({formats:vV,defaultWidth:"full"}),dateTime:Xg({formats:TV,defaultWidth:"full"})},bV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},SV=(n,t,e,i)=>bV[n];function rc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,f=e?.width?String(e.width):u;a=n.formattingValues[f]||n.formattingValues[u]}else{const u=n.defaultWidth,f=e?.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(t):t;return a[l]}}const wV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},AV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},IV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},RV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},CV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},DV=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},VV={ordinalNumber:DV,era:rc({values:wV,defaultWidth:"wide"}),quarter:rc({values:AV,defaultWidth:"wide",argumentCallback:n=>n-1}),month:rc({values:IV,defaultWidth:"wide"}),day:rc({values:RV,defaultWidth:"wide"}),dayPeriod:rc({values:CV,defaultWidth:"wide",formattingValues:xV,defaultFormattingWidth:"wide"})};function sc(n){return(t,e={})=>{const i=e.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;const u=l[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(f)?PV(f,v=>v.test(u)):MV(f,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(m):m,p=e.valueCallback?e.valueCallback(p):p;const y=t.slice(u.length);return{value:p,rest:y}}}function MV(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function PV(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function OV(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const a=i[0],l=t.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=e.valueCallback?e.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}const NV=/^(\d+)(th|st|nd|rd)?/i,kV=/\d+/i,LV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},UV={any:[/^b/i,/^(a|c)/i]},BV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zV={any:[/1/i,/2/i,/3/i,/4/i]},jV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},qV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},GV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},KV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},YV={ordinalNumber:OV({matchPattern:NV,parsePattern:kV,valueCallback:n=>parseInt(n,10)}),era:sc({matchPatterns:LV,defaultMatchWidth:"wide",parsePatterns:UV,defaultParseWidth:"any"}),quarter:sc({matchPatterns:BV,defaultMatchWidth:"wide",parsePatterns:zV,defaultParseWidth:"any",valueCallback:n=>n+1}),month:sc({matchPatterns:jV,defaultMatchWidth:"wide",parsePatterns:FV,defaultParseWidth:"any"}),day:sc({matchPatterns:qV,defaultMatchWidth:"wide",parsePatterns:HV,defaultParseWidth:"any"}),dayPeriod:sc({matchPatterns:GV,defaultMatchWidth:"any",parsePatterns:KV,defaultParseWidth:"any"})},QV={code:"en-US",formatDistance:yV,formatLong:EV,formatRelative:SV,localize:VV,match:YV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function XV(n,t){const e=Ii(n,t?.in);return hV(e,pV(e))+1}function WV(n,t){const e=Ii(n,t?.in),i=+Od(e)-+fV(e);return Math.round(i/y1)+1}function v1(n,t){const e=Ii(n,t?.in),i=e.getFullYear(),a=pm(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=Us(t?.in||n,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const f=Oc(u,t),m=Us(t?.in||n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const p=Oc(m,t);return+e>=+f?i+1:+e>=+p?i:i-1}function $V(n,t){const e=pm(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,a=v1(n,t),l=Us(t?.in||n,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Oc(l,t)}function ZV(n,t){const e=Ii(n,t?.in),i=+Oc(e,t)-+$V(e,t);return Math.round(i/y1)+1}function Zt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const _s={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Zt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Zt(e+1,2)},d(n,t){return Zt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Zt(n.getHours()%12||12,t.length)},H(n,t){return Zt(n.getHours(),t.length)},m(n,t){return Zt(n.getMinutes(),t.length)},s(n,t){return Zt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),a=Math.trunc(i*Math.pow(10,e-3));return Zt(a,t.length)}},Xo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Qb={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),a=i>0?i:1-i;return e.ordinalNumber(a,{unit:"year"})}return _s.y(n,t)},Y:function(n,t,e,i){const a=v1(n,i),l=a>0?a:1-a;if(t==="YY"){const u=l%100;return Zt(u,2)}return t==="Yo"?e.ordinalNumber(l,{unit:"year"}):Zt(l,t.length)},R:function(n,t){const e=_1(n);return Zt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Zt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Zt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Zt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return _s.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Zt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const a=ZV(n,i);return t==="wo"?e.ordinalNumber(a,{unit:"week"}):Zt(a,t.length)},I:function(n,t,e){const i=WV(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Zt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):_s.d(n,t)},D:function(n,t,e){const i=XV(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Zt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Zt(l,2);case"eo":return e.ordinalNumber(l,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Zt(l,t.length);case"co":return e.ordinalNumber(l,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Zt(a,t.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const a=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let a;switch(i===12?a=Xo.noon:i===0?a=Xo.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let a;switch(i>=17?a=Xo.evening:i>=12?a=Xo.afternoon:i>=4?a=Xo.morning:a=Xo.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return _s.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):_s.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):_s.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):_s.s(n,t)},S:function(n,t){return _s.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Wb(i);case"XXXX":case"XX":return Ca(i);default:return Ca(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return Wb(i);case"xxxx":case"xx":return Ca(i);default:return Ca(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Xb(i,":");default:return"GMT"+Ca(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Xb(i,":");default:return"GMT"+Ca(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Zt(i,t.length)},T:function(n,t,e){return Zt(+n,t.length)}};function Xb(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Math.trunc(i/60),l=i%60;return l===0?e+String(a):e+String(a)+t+Zt(l,2)}function Wb(n,t){return n%60===0?(n>0?"-":"+")+Zt(Math.abs(n)/60,2):Ca(n,t)}function Ca(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Zt(Math.trunc(i/60),2),l=Zt(i%60,2);return e+a+t+l}const $b=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},T1=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},JV=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],a=e[2];if(!a)return $b(n,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",$b(i,t)).replace("{{time}}",T1(a,t))},tM={p:T1,P:JV},eM=/^D+$/,nM=/^Y+$/,iM=["D","DD","YY","YYYY"];function rM(n){return eM.test(n)}function sM(n){return nM.test(n)}function aM(n,t,e){const i=oM(n,t,e);if(console.warn(i),iM.includes(n))throw new RangeError(i)}function oM(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,uM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cM=/^'([^]*?)'?$/,hM=/''/g,fM=/[a-zA-Z]/;function Ry(n,t,e){const i=pm(),a=i.locale??QV,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Ii(n,e?.in);if(!mV(f))throw new RangeError("Invalid time value");let m=t.match(uM).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=tM[v];return b(y,a.formatLong)}return y}).join("").match(lM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:dM(y)};if(Qb[v])return{isToken:!0,value:y};if(v.match(fM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const v=y.value;(sM(v)||rM(v))&&aM(v,t,String(n));const b=Qb[v[0]];return b(f,v,a.localize,p)}).join("")}function dM(n){const t=n.match(cM);return t?t[1].replace(hM,"'"):n}var E1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Zb=ja.createContext&&ja.createContext(E1),mM=["attr","size","title"];function pM(n,t){if(n==null)return{};var e=gM(n,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function gM(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Nd(){return Nd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Nd.apply(this,arguments)}function Jb(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,i)}return e}function kd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Jb(Object(e),!0).forEach(function(i){yM(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Jb(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function yM(n,t,e){return t=_M(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function _M(n){var t=vM(n,"string");return typeof t=="symbol"?t:t+""}function vM(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function b1(n){return n&&n.map((t,e)=>ja.createElement(t.tag,kd({key:e},t.attr),b1(t.child)))}function Ri(n){return t=>ja.createElement(TM,Nd({attr:kd({},n.attr)},t),b1(n.child))}function TM(n){var t=e=>{var{attr:i,size:a,title:l}=n,u=pM(n,mM),f=a||e.size||"1em",m;return e.className&&(m=e.className),n.className&&(m=(m?m+" ":"")+n.className),ja.createElement("svg",Nd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:m,style:kd(kd({color:n.color||e.color},e.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&ja.createElement("title",null,l),n.children)};return Zb!==void 0?ja.createElement(Zb.Consumer,null,e=>t(e)):t(E1)}function EM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96zm0 0v288"},child:[]}]})(n)}function bM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(n)}function SM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(n)}function wM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function AM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(n)}function IM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m473.16 221.48-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 0 1-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z"},child:[]}]})(n)}function RM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}function CM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z"},child:[]}]})(n)}function xM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(n)}function DM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48v48m0 320v48m147.08-355.08-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48m-320 0H48m355.08 147.08-33.94-33.94M142.86 142.86l-33.94-33.94"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(n)}function VM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"},child:[]}]})(n)}const Cy={"Block E":["E101","E102","E103","E104","E201","E202","E203","E204","E301","E302","E303","E304"],"Block F":["F102","F103","F104","F201","F202","F301","F302","F303","F304","F403","F404"]},MM=["07:00 - 09:00","09:00 - 11:00","11:00 - 13:00","13:00 - 15:00","15:00 - 17:00","17:00 - 19:00"];Ry(new Date,"yyyy-MM-dd");const PM=()=>{};var tS={};const S1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},OM=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],f=n[e++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},w1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let b=(f&15)<<2|p>>6,I=p&63;m||(I=64,u||(b=64)),i.push(e[y],e[v],e[b],e[I])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(S1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):OM(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||v==null)throw new NM;const b=l<<2|f>>4;if(i.push(b),p!==64){const I=f<<4&240|p>>2;if(i.push(I),v!==64){const D=p<<6&192|v;i.push(D)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class NM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kM=function(n){const t=S1(n);return w1.encodeByteArray(t,!0)},Ld=function(n){return kM(n).replace(/\./g,"")},A1=function(n){try{return w1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function I1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const LM=()=>I1().__FIREBASE_DEFAULTS__,UM=()=>{if(typeof process>"u"||typeof tS>"u")return;const n=tS.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&A1(n[1]);return t&&JSON.parse(t)},gm=()=>{try{return PM()||LM()||UM()||BM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},R1=n=>gm()?.emulatorHosts?.[n],zM=n=>{const t=R1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},C1=()=>gm()?.config,x1=n=>gm()?.[`_${n}`];class jM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function jl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function D1(n){return(await fetch(n,{credentials:"include"})).ok}function FM(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Ld(JSON.stringify(e)),Ld(JSON.stringify(u)),""].join(".")}const Tc={};function qM(){const n={prod:[],emulator:[]};for(const t of Object.keys(Tc))Tc[t]?n.emulator.push(t):n.prod.push(t);return n}function HM(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let eS=!1;function V1(n,t){if(typeof window>"u"||typeof document>"u"||!jl(window.location.host)||Tc[n]===t||Tc[n]||eS)return;Tc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=qM().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,I){b.setAttribute("width","24"),b.setAttribute("id",I),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function p(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{eS=!0,u()},b}function y(b,I){b.setAttribute("id",I),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=HM(i),I=e("text"),D=document.getElementById(I)||document.createElement("span"),U=e("learnmore"),B=document.getElementById(U)||document.createElement("a"),Q=e("preprendIcon"),Z=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;f(Y),y(B,U);const it=p();m(Z,Q),Y.append(Z,D,B,it),document.body.appendChild(Y)}l?(D.innerText="Preview backend disconnected.",Z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,D.innerText="Preview backend running in this workspace."),D.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function M1(){const n=gm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function KM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function YM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function QM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XM(){const n=Ke();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function P1(){return!M1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O1(){return!M1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function N1(){try{return typeof indexedDB=="object"}catch{return!1}}function WM(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const $M="FirebaseError";class kr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=$M,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nh.prototype.create)}}class nh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?ZM(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new kr(a,f,i)}}function ZM(n,t){return n.replace(JM,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const JM=/\{\$([^}]+)}/g;function tP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ka(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if(nS(l)&&nS(u)){if(!Ka(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function nS(n){return n!==null&&typeof n=="object"}function ih(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function eP(n,t){const e=new nP(n,t);return e.subscribe.bind(e)}class nP{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");iP(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Wg),a.error===void 0&&(a.error=Wg),a.complete===void 0&&(a.complete=Wg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function iP(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Wg(){}function ze(n){return n&&n._delegate?n._delegate:n}class Ya{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const xa="[DEFAULT]";class rP{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new jM;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(aP(t))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=xa){return this.instances.has(t)}getOptions(t=xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sP(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=xa){return this.component?this.component.multipleInstances?t:xa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sP(n){return n===xa?void 0:n}function aP(n){return n.instantiationMode==="EAGER"}class oP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new rP(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const lP={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},uP=Bt.INFO,cP={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},hP=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=cP[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class M_{constructor(t){this.name=t,this._logLevel=uP,this._logHandler=hP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?lP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const fP=(n,t)=>t.some(e=>n instanceof e);let iS,rS;function dP(){return iS||(iS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mP(){return rS||(rS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const k1=new WeakMap,xy=new WeakMap,L1=new WeakMap,$g=new WeakMap,P_=new WeakMap;function pP(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(Ds(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&k1.set(e,n)}).catch(()=>{}),P_.set(t,n),t}function gP(n){if(xy.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});xy.set(n,t)}let Dy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return xy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||L1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ds(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function yP(n){Dy=n(Dy)}function _P(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Zg(this),t,...e);return L1.set(i,t.sort?t.sort():[t]),Ds(i)}:mP().includes(n)?function(...t){return n.apply(Zg(this),t),Ds(k1.get(this))}:function(...t){return Ds(n.apply(Zg(this),t))}}function vP(n){return typeof n=="function"?_P(n):(n instanceof IDBTransaction&&gP(n),fP(n,dP())?new Proxy(n,Dy):n)}function Ds(n){if(n instanceof IDBRequest)return pP(n);if($g.has(n))return $g.get(n);const t=vP(n);return t!==n&&($g.set(n,t),P_.set(t,n)),t}const Zg=n=>P_.get(n);function TP(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),f=Ds(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Ds(u.result),m.oldVersion,m.newVersion,Ds(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const EP=["get","getKey","getAll","getAllKeys","count"],bP=["put","add","delete","clear"],Jg=new Map;function sS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Jg.get(t))return Jg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=bP.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||EP.includes(e)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[e](...f),a&&m.done]))[0]};return Jg.set(t,l),l}yP(n=>({...n,get:(t,e,i)=>sS(t,e)||n.get(t,e,i),has:(t,e)=>!!sS(t,e)||n.has(t,e)}));class SP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(wP(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function wP(n){return n.getComponent()?.type==="VERSION"}const Vy="@firebase/app",aS="0.14.8";const Vr=new M_("@firebase/app"),AP="@firebase/app-compat",IP="@firebase/analytics-compat",RP="@firebase/analytics",CP="@firebase/app-check-compat",xP="@firebase/app-check",DP="@firebase/auth",VP="@firebase/auth-compat",MP="@firebase/database",PP="@firebase/data-connect",OP="@firebase/database-compat",NP="@firebase/functions",kP="@firebase/functions-compat",LP="@firebase/installations",UP="@firebase/installations-compat",BP="@firebase/messaging",zP="@firebase/messaging-compat",jP="@firebase/performance",FP="@firebase/performance-compat",qP="@firebase/remote-config",HP="@firebase/remote-config-compat",GP="@firebase/storage",KP="@firebase/storage-compat",YP="@firebase/firestore",QP="@firebase/ai",XP="@firebase/firestore-compat",WP="firebase",$P="12.9.0";const My="[DEFAULT]",ZP={[Vy]:"fire-core",[AP]:"fire-core-compat",[RP]:"fire-analytics",[IP]:"fire-analytics-compat",[xP]:"fire-app-check",[CP]:"fire-app-check-compat",[DP]:"fire-auth",[VP]:"fire-auth-compat",[MP]:"fire-rtdb",[PP]:"fire-data-connect",[OP]:"fire-rtdb-compat",[NP]:"fire-fn",[kP]:"fire-fn-compat",[LP]:"fire-iid",[UP]:"fire-iid-compat",[BP]:"fire-fcm",[zP]:"fire-fcm-compat",[jP]:"fire-perf",[FP]:"fire-perf-compat",[qP]:"fire-rc",[HP]:"fire-rc-compat",[GP]:"fire-gcs",[KP]:"fire-gcs-compat",[YP]:"fire-fst",[XP]:"fire-fst-compat",[QP]:"fire-vertex","fire-js":"fire-js",[WP]:"fire-js-all"};const Ud=new Map,JP=new Map,Py=new Map;function oS(n,t){try{n.container.addComponent(t)}catch(e){Vr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function bl(n){const t=n.name;if(Py.has(t))return Vr.debug(`There were multiple attempts to register component ${t}.`),!1;Py.set(t,n);for(const e of Ud.values())oS(e,n);for(const e of JP.values())oS(e,n);return!0}function O_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ni(n){return n==null?!1:n.settings!==void 0}const tO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new nh("app","Firebase",tO);class eO{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}const Fl=$P;function U1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:My,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Vs.create("bad-app-name",{appName:String(a)});if(e||(e=C1()),!e)throw Vs.create("no-options");const l=Ud.get(a);if(l){if(Ka(e,l.options)&&Ka(i,l.config))return l;throw Vs.create("duplicate-app",{appName:a})}const u=new oP(a);for(const m of Py.values())u.addComponent(m);const f=new eO(e,i,u);return Ud.set(a,f),f}function B1(n=My){const t=Ud.get(n);if(!t&&n===My&&C1())return U1();if(!t)throw Vs.create("no-app",{appName:n});return t}function Ms(n,t,e){let i=ZP[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vr.warn(u.join(" "));return}bl(new Ya(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const nO="firebase-heartbeat-database",iO=1,Nc="firebase-heartbeat-store";let ty=null;function z1(){return ty||(ty=TP(nO,iO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Nc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Vs.create("idb-open",{originalErrorMessage:n.message})})),ty}async function rO(n){try{const e=(await z1()).transaction(Nc),i=await e.objectStore(Nc).get(j1(n));return await e.done,i}catch(t){if(t instanceof kr)Vr.warn(t.message);else{const e=Vs.create("idb-get",{originalErrorMessage:t?.message});Vr.warn(e.message)}}}async function lS(n,t){try{const i=(await z1()).transaction(Nc,"readwrite");await i.objectStore(Nc).put(t,j1(n)),await i.done}catch(e){if(e instanceof kr)Vr.warn(e.message);else{const i=Vs.create("idb-set",{originalErrorMessage:e?.message});Vr.warn(i.message)}}}function j1(n){return`${n.name}!${n.options.appId}`}const sO=1024,aO=30;class oO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new uO(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=uS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>aO){const a=cO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Vr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uS(),{heartbeatsToSend:e,unsentEntries:i}=lO(this._heartbeatsCache.heartbeats),a=Ld(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Vr.warn(t),""}}}function uS(){return new Date().toISOString().substring(0,10)}function lO(n,t=sO){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),cS(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),cS(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class uO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N1()?WM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await rO(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return lS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return lS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function cS(n){return Ld(JSON.stringify({version:2,heartbeats:n})).length}function cO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function hO(n){bl(new Ya("platform-logger",t=>new SP(t),"PRIVATE")),bl(new Ya("heartbeat",t=>new oO(t),"PRIVATE")),Ms(Vy,aS,n),Ms(Vy,aS,"esm2020"),Ms("fire-js","")}hO("");function F1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fO=F1,q1=new nh("auth","Firebase",F1());const Bd=new M_("@firebase/auth");function dO(n,...t){Bd.logLevel<=Bt.WARN&&Bd.warn(`Auth (${Fl}): ${n}`,...t)}function hd(n,...t){Bd.logLevel<=Bt.ERROR&&Bd.error(`Auth (${Fl}): ${n}`,...t)}function ir(n,...t){throw k_(n,...t)}function Si(n,...t){return k_(n,...t)}function N_(n,t,e){const i={...fO(),[t]:e};return new nh("auth","Firebase",i).create(t,{appName:n.name})}function Ps(n){return N_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function H1(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ir(n,"argument-error"),N_(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function k_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return q1.create(n,...t)}function St(n,t,...e){if(!n)throw k_(t,...e)}function Ir(n){const t="INTERNAL ASSERTION FAILED: "+n;throw hd(t),new Error(t)}function Mr(n,t){n||Ir(t)}function Oy(){return typeof self<"u"&&self.location?.href||""}function mO(){return hS()==="http:"||hS()==="https:"}function hS(){return typeof self<"u"&&self.location?.protocol||null}function pO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mO()||YM()||"connection"in navigator)?navigator.onLine:!0}function gO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class rh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Mr(e>t,"Short delay should be less than long delay!"),this.isMobile=GM()||QM()}get(){return pO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L_(n,t){Mr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class G1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const yO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const _O=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vO=new rh(3e4,6e4);function U_(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function ql(n,t,e,i,a={}){return K1(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const f=ih({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:m,...l};return KM()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&jl(n.emulatorConfig.host)&&(p.credentials="include"),G1.fetch()(await Y1(n,n.config.apiHost,e,f),p)})}async function K1(n,t,e){n._canInitEmulator=!1;const i={...yO,...t};try{const a=new EO(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Jf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Jf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Jf(n,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw N_(n,y,p);ir(n,y)}}catch(a){if(a instanceof kr)throw a;ir(n,"network-request-failed",{message:String(a)})}}async function TO(n,t,e,i,a={}){const l=await ql(n,t,e,i,a);return"mfaPendingCredential"in l&&ir(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function Y1(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?L_(n.config,a):`${n.config.apiScheme}://${a}`;return _O.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class EO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Si(this.auth,"network-request-failed")),vO.get())})}}function Jf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Si(n,t,i);return a.customData._tokenResponse=e,a}async function bO(n,t){return ql(n,"POST","/v1/accounts:delete",t)}async function zd(n,t){return ql(n,"POST","/v1/accounts:lookup",t)}function Ec(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function SO(n,t=!1){const e=ze(n),i=await e.getIdToken(t),a=B_(i);St(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Ec(ey(a.auth_time)),issuedAtTime:Ec(ey(a.iat)),expirationTime:Ec(ey(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function ey(n){return Number(n)*1e3}function B_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return hd("JWT malformed, contained fewer than 3 sections"),null;try{const a=A1(e);return a?JSON.parse(a):(hd("Failed to decode base64 JWT payload"),null)}catch(a){return hd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function fS(n){const t=B_(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof kr&&wO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function wO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class AO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ny{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ec(this.lastLoginAt),this.creationTime=Ec(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function jd(n){const t=n.auth,e=await n.getIdToken(),i=await kc(n,zd(t,{idToken:e}));St(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?Q1(a.providerUserInfo):[],u=RO(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ny(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function IO(n){const t=ze(n);await jd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function RO(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function Q1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function CO(n,t){const e=await K1(n,{},async()=>{const i=ih({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await Y1(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&jl(n.emulatorConfig.host)&&(m.credentials="include"),G1.fetch()(u,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function xO(n,t){return ql(n,"POST","/v2/accounts:revokeToken",U_(n,t))}class pl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=fS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await CO(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new pl;return i&&(St(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(St(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new pl,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function vs(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class bi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new AO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ny(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await kc(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return SO(this,t)}reload(){return IO(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new bi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(Ps(this.auth));const t=await this.getIdToken();return await kc(this,bO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,f=e.tenantId??void 0,m=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:I,providerData:D,stsTokenManager:U}=e;St(v&&U,t,"internal-error");const B=pl.fromJSON(this.name,U);St(typeof v=="string",t,"internal-error"),vs(i,t.name),vs(a,t.name),St(typeof b=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),vs(l,t.name),vs(u,t.name),vs(f,t.name),vs(m,t.name),vs(p,t.name),vs(y,t.name);const Q=new bi({uid:v,auth:t,email:a,emailVerified:b,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:B,createdAt:p,lastLoginAt:y});return D&&Array.isArray(D)&&(Q.providerData=D.map(Z=>({...Z}))),m&&(Q._redirectEventId=m),Q}static async _fromIdTokenResponse(t,e,i=!1){const a=new pl;a.updateFromServerResponse(e);const l=new bi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await jd(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?Q1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new pl;f.updateFromIdToken(i);const m=new bi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ny(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const dS=new Map;function Rr(n){Mr(n instanceof Function,"Expected a class definition");let t=dS.get(n);return t?(Mr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,dS.set(n,t),t)}class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}X1.type="NONE";const mS=X1;function fd(n,t,e){return`firebase:${n}:${t}:${e}`}class gl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=fd(this.userKey,a.apiKey,l),this.fullPersistenceKey=fd("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await zd(this.auth,{idToken:t}).catch(()=>{});return e?bi._fromGetAccountInfoResponse(this.auth,e,t):null}return bi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new gl(Rr(mS),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Rr(mS);const u=fd(i,t.config.apiKey,t.name);let f=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const b=await zd(t,{idToken:y}).catch(()=>{});if(!b)break;v=await bi._fromGetAccountInfoResponse(t,b,y)}else v=bi._fromJSON(t,y);p!==l&&(f=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new gl(l,t,i):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new gl(l,t,i))}}function pS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(J1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(W1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eI(t))return"Blackberry";if(nI(t))return"Webos";if($1(t))return"Safari";if((t.includes("chrome/")||Z1(t))&&!t.includes("edge/"))return"Chrome";if(tI(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function W1(n=Ke()){return/firefox\//i.test(n)}function $1(n=Ke()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Z1(n=Ke()){return/crios\//i.test(n)}function J1(n=Ke()){return/iemobile/i.test(n)}function tI(n=Ke()){return/android/i.test(n)}function eI(n=Ke()){return/blackberry/i.test(n)}function nI(n=Ke()){return/webos/i.test(n)}function z_(n=Ke()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function DO(n=Ke()){return z_(n)&&!!window.navigator?.standalone}function VO(){return XM()&&document.documentMode===10}function iI(n=Ke()){return z_(n)||tI(n)||nI(n)||eI(n)||/windows phone/i.test(n)||J1(n)}function rI(n,t=[]){let e;switch(n){case"Browser":e=pS(Ke());break;case"Worker":e=`${pS(Ke())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Fl}/${i}`}class MO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,f)=>{try{const m=t(l);u(m)}catch(m){f(m)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function PO(n,t={}){return ql(n,"GET","/v2/passwordPolicy",U_(n,t))}const OO=6;class NO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??OO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class kO{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gS(this),this.idTokenSubscription=new gS(this),this.beforeStateQueue=new MO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Rr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await gl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await zd(this,{idToken:t}),i=await bi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ni(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await jd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=gO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ni(this.app))return Promise.reject(Ps(this));const e=t?ze(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ni(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PO(this),e=new NO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await xO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Rr(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await gl.create(this,[Rr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,i,a);return()=>{u=!0,m()}}else{const m=t.addObserver(e);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=rI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&dO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Hl(n){return ze(n)}class gS{constructor(t){this.auth=t,this.observer=null,this.addObserver=eP(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let j_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LO(n){j_=n}function UO(n){return j_.loadJS(n)}function BO(){return j_.gapiScript}function zO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function jO(n,t){const e=O_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Ka(l,t??{}))return a;ir(a,"already-initialized")}return e.initialize({options:t})}function FO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Rr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function qO(n,t,e){const i=Hl(n);St(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=sI(t),{host:u,port:f}=HO(t),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){St(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),St(Ka(p,i.config.emulator)&&Ka(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,jl(u)?(D1(`${l}//${u}${m}`),V1("Auth",!0)):GO()}function sI(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function HO(n){const t=sI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:yS(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:yS(u)}}}function yS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function GO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class aI{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ir("not implemented")}_getIdTokenResponse(t){return Ir("not implemented")}_linkToIdToken(t,e){return Ir("not implemented")}_getReauthenticationResolver(t){return Ir("not implemented")}}async function yl(n,t){return TO(n,"POST","/v1/accounts:signInWithIdp",U_(n,t))}const KO="http://localhost";class Qa extends aI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ir("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new Qa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return yl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,yl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,yl(t,e)}buildRequest(){const t={requestUri:KO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=ih(e)}return t}}class ym{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class sh extends ym{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class ws extends sh{constructor(){super("facebook.com")}static credential(t){return Qa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";ws.PROVIDER_ID="facebook.com";class Ar extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Qa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ar.credential(e,i)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";class As extends sh{constructor(){super("github.com")}static credential(t){return Qa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return As.credential(t.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";class Is extends sh{constructor(){super("twitter.com")}static credential(t,e){return Qa._fromParams({providerId:Is.PROVIDER_ID,signInMethod:Is.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Is.credentialFromTaggedObject(t)}static credentialFromError(t){return Is.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Is.credential(e,i)}catch{return null}}}Is.TWITTER_SIGN_IN_METHOD="twitter.com";Is.PROVIDER_ID="twitter.com";class Sl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await bi._fromIdTokenResponse(t,i,a),u=_S(i);return new Sl({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=_S(i);return new Sl({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function _S(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Fd extends kr{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Fd(t,e,i,a)}}function oI(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(n,l,t,i):l})}async function YO(n,t,e=!1){const i=await kc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Sl._forOperation(n,"link",i)}async function QO(n,t,e=!1){const{auth:i}=n;if(ni(i.app))return Promise.reject(Ps(i));const a="reauthenticate";try{const l=await kc(n,oI(i,a,t,n),e);St(l.idToken,i,"internal-error");const u=B_(l.idToken);St(u,i,"internal-error");const{sub:f}=u;return St(n.uid===f,i,"user-mismatch"),Sl._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ir(i,"user-mismatch"),l}}async function XO(n,t,e=!1){if(ni(n.app))return Promise.reject(Ps(n));const i="signIn",a=await oI(n,i,t),l=await Sl._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function WO(n,t){return ze(n).setPersistence(t)}function $O(n,t,e,i){return ze(n).onIdTokenChanged(t,e,i)}function ZO(n,t,e){return ze(n).beforeAuthStateChanged(t,e)}function JO(n,t,e,i){return ze(n).onAuthStateChanged(t,e,i)}function tN(n){return ze(n).signOut()}const qd="__sak";class lI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(qd,"1"),this.storage.removeItem(qd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const eN=1e3,nN=10;class uI extends lI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);VO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,nN):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}uI.type="LOCAL";const cI=uI;class hI extends lI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}hI.type="SESSION";const fI=hI;function iN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class _m{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new _m(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async p=>p(e.origin,l)),m=await iN(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];function F_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class rN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=F_("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===p)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function tr(){return window}function sN(n){tr().location.href=n}function dI(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function aN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oN(){return navigator?.serviceWorker?.controller||null}function lN(){return dI()?self:null}const mI="firebaseLocalStorageDb",uN=1,Hd="firebaseLocalStorage",pI="fbase_key";class ah{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function vm(n,t){return n.transaction([Hd],t?"readwrite":"readonly").objectStore(Hd)}function cN(){const n=indexedDB.deleteDatabase(mI);return new ah(n).toPromise()}function ky(){const n=indexedDB.open(mI,uN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Hd,{keyPath:pI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Hd)?t(i):(i.close(),await cN(),t(await ky()))})})}async function vS(n,t,e){const i=vm(n,!0).put({[pI]:t,value:e});return new ah(i).toPromise()}async function hN(n,t){const e=vm(n,!1).get(t),i=await new ah(e).toPromise();return i===void 0?null:i.value}function TS(n,t){const e=vm(n,!0).delete(t);return new ah(e).toPromise()}const fN=800,dN=3;class gI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ky(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>dN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(lN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await aN(),!this.activeServiceWorker)return;this.sender=new rN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||oN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ky();return await vS(t,qd,"1"),await TS(t,qd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>vS(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>hN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>TS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=vm(a,!1).getAll();return new ah(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),fN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}gI.type="LOCAL";const mN=gI;new rh(3e4,6e4);function q_(n,t){return t?Rr(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class H_ extends aI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return yl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return yl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return yl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function pN(n){return XO(n.auth,new H_(n),n.bypassAuthState)}function gN(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),QO(e,new H_(n),n.bypassAuthState)}async function yN(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),YO(e,new H_(n),n.bypassAuthState)}class yI{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pN;case"linkViaPopup":case"linkViaRedirect":return yN;case"reauthViaPopup":case"reauthViaRedirect":return gN;default:ir(this.auth,"internal-error")}}resolve(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const _N=new rh(2e3,1e4);async function vN(n,t,e){if(ni(n.app))return Promise.reject(Si(n,"operation-not-supported-in-this-environment"));const i=Hl(n);H1(n,t,ym);const a=q_(i,e);return new La(i,"signInViaPopup",t,a).executeNotNull()}class La extends yI{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const t=F_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,_N.get())};t()}}La.currentPopupAction=null;const TN="pendingRedirect",dd=new Map;class EN extends yI{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=dd.get(this.auth._key());if(!t){try{const i=await bN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}dd.set(this.auth._key(),t)}return this.bypassAuthState||dd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bN(n,t){const e=vI(t),i=_I(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}async function SN(n,t){return _I(n)._set(vI(t),"true")}function wN(n,t){dd.set(n._key(),t)}function _I(n){return Rr(n._redirectPersistence)}function vI(n){return fd(TN,n.config.apiKey,n.name)}function AN(n,t,e){return IN(n,t,e)}async function IN(n,t,e){if(ni(n.app))return Promise.reject(Ps(n));const i=Hl(n);H1(n,t,ym),await i._initializationPromise;const a=q_(i,e);return await SN(a,i),a._openRedirect(i,t,"signInViaRedirect")}async function RN(n,t){return await Hl(n)._initializationPromise,TI(n,t,!1)}async function TI(n,t,e=!1){if(ni(n.app))return Promise.reject(Ps(n));const i=Hl(n),a=q_(i,t),u=await new EN(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const CN=600*1e3;class xN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!DN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!EI(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Si(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=CN&&this.cachedEventUids.clear(),this.cachedEventUids.has(ES(t))}saveEventToCache(t){this.cachedEventUids.add(ES(t)),this.lastProcessedEventTime=Date.now()}}function ES(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function EI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function DN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EI(n);default:return!1}}async function VN(n,t={}){return ql(n,"GET","/v1/projects",t)}const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PN=/^https?/;async function ON(n){if(n.config.emulator)return;const{authorizedDomains:t}=await VN(n);for(const e of t)try{if(NN(e))return}catch{}ir(n,"unauthorized-domain")}function NN(n){const t=Oy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!PN.test(e))return!1;if(MN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const kN=new rh(3e4,6e4);function bS(){const n=tr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function LN(n){return new Promise((t,e)=>{function i(){bS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bS(),e(Si(n,"network-request-failed"))},timeout:kN.get()})}if(tr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(tr().gapi?.load)i();else{const a=zO("iframefcb");return tr()[a]=()=>{gapi.load?i():e(Si(n,"network-request-failed"))},UO(`${BO()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw md=null,t})}let md=null;function UN(n){return md=md||LN(n),md}const BN=new rh(5e3,15e3),zN="__/auth/iframe",jN="emulator/auth/iframe",FN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HN(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?L_(t,jN):`https://${n.config.authDomain}/${zN}`,i={apiKey:t.apiKey,appName:n.name,v:Fl},a=qN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${ih(i).slice(1)}`}async function GN(n){const t=await UN(n),e=tr().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:HN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Si(n,"network-request-failed"),f=tr().setTimeout(()=>{l(u)},BN.get());function m(){tr().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const KN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YN=500,QN=600,XN="_blank",WN="http://localhost";class SS{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $N(n,t,e,i=YN,a=QN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...KN,width:i.toString(),height:a.toString(),top:l,left:u},p=Ke().toLowerCase();e&&(f=Z1(p)?XN:e),W1(p)&&(t=t||WN,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[I,D])=>`${b}${I}=${D},`,"");if(DO(p)&&f!=="_self")return ZN(t||"",f),new SS(null);const v=window.open(t||"",f,y);St(v,n,"popup-blocked");try{v.focus()}catch{}return new SS(v)}function ZN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const JN="__/auth/handler",tk="emulator/auth/handler",ek=encodeURIComponent("fac");async function wS(n,t,e,i,a,l){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Fl,eventId:a};if(t instanceof ym){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",tP(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof sh){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),p=m?`#${ek}=${encodeURIComponent(m)}`:"";return`${nk(n)}?${ih(f).slice(1)}${p}`}function nk({config:n}){return n.emulator?L_(n,tk):`https://${n.authDomain}/${JN}`}const ny="webStorageSupport";class ik{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fI,this._completeRedirectFn=TI,this._overrideRedirectResult=wN}async _openPopup(t,e,i,a){Mr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await wS(t,e,i,Oy(),a);return $N(t,l,F_())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await wS(t,e,i,Oy(),a);return sN(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Mr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await GN(t),i=new xN(t);return e.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ny,{type:ny},a=>{const l=a?.[0]?.[ny];l!==void 0&&e(!!l),ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=ON(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return iI()||$1()||z_()}}const rk=ik;var AS="@firebase/auth",IS="1.12.0";class sk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ak(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ok(n){bl(new Ya("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;St(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rI(n)},p=new kO(i,a,l,m);return FO(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),bl(new Ya("auth-internal",t=>{const e=Hl(t.getProvider("auth").getImmediate());return(i=>new sk(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ms(AS,IS,ak(n)),Ms(AS,IS,"esm2020")}const lk=300,uk=x1("authIdTokenMaxAge")||lk;let RS=null;const ck=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>uk)return;const a=e?.token;RS!==a&&(RS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function hk(n=B1()){const t=O_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=jO(n,{popupRedirectResolver:rk,persistence:[mN,cI,fI]}),i=x1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=ck(l.toString());ZO(e,u,()=>u(e.currentUser)),$O(e,f=>u(f))}}const a=R1("auth");return a&&qO(e,`http://${a}`),e}function fk(){return document.getElementsByTagName("head")?.[0]??document}LO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=Si("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",fk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ok("Browser");var dk="firebase",mk="12.9.0";Ms(dk,mk,"app");var CS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Os,bI;(function(){var n;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(P,M,L){for(var x=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)x[ae-2]=arguments[ae];return A.prototype[M].apply(P,x)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,R){R||(R=0);const P=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)P[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)P[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let L=C.g[3],x;x=A+(L^R&(M^L))+P[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[1]+3905402710&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[2]+606105819&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[3]+3250441966&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(L^R&(M^L))+P[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[5]+1200080426&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[6]+2821735955&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[7]+4249261313&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(L^R&(M^L))+P[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[9]+2336552879&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[10]+4294925233&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[11]+2304563134&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(L^R&(M^L))+P[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[13]+4254626195&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[14]+2792965006&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[15]+1236535329&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(M^L&(R^M))+P[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[6]+3225465664&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[11]+643717713&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[0]+3921069994&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(M^L&(R^M))+P[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[10]+38016083&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[15]+3634488961&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[4]+3889429448&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(M^L&(R^M))+P[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[14]+3275163606&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[3]+4107603335&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[8]+1163531501&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(M^L&(R^M))+P[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[2]+4243563512&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[7]+1735328473&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[12]+2368359562&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(R^M^L)+P[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[8]+2272392833&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[11]+1839030562&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[14]+4259657740&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(R^M^L)+P[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[4]+1272893353&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[7]+4139469664&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[10]+3200236656&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(R^M^L)+P[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[0]+3936430074&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[3]+3572445317&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[6]+76029189&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(R^M^L)+P[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[12]+3873151461&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[15]+530742520&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[2]+3299628645&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(M^(R|~L))+P[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[7]+1126891415&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[14]+2878612391&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[5]+4237533241&4294967295,R=M+(x<<21&4294967295|x>>>11),x=A+(M^(R|~L))+P[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[3]+2399980690&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[10]+4293915773&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[1]+2240044497&4294967295,R=M+(x<<21&4294967295|x>>>11),x=A+(M^(R|~L))+P[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[15]+4264355552&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[6]+2734768916&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[13]+1309151649&4294967295,R=M+(x<<21&4294967295|x>>>11),x=A+(M^(R|~L))+P[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[11]+3174756917&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[2]+718787259&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}i.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,P=this.C;let M=this.h,L=0;for(;L<A;){if(M==0)for(;L<=R;)a(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(P[M++]=C.charCodeAt(L++),M==this.blockSize){a(this,P),M=0;break}}else for(;L<A;)if(P[M++]=C[L++],M==this.blockSize){a(this,P),M=0;break}}this.h=M,this.o+=A},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)C[A++]=this.g[R]>>>P&255;return C};function l(C,A){var R=f;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function u(C,A){this.h=A;const R=[];let P=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;P&&L==A||(R[M]=L,P=!1)}this.g=R}var f={};function m(C){return-128<=C&&C<128?l(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function p(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return B(p(-C));const A=[];let R=1;for(let P=0;C>=R;P++)A[P]=C/R|0,R*=4294967296;return new u(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return B(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let P=v;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+M),A);M<8?(M=p(Math.pow(A,M)),P=P.j(M).add(p(x))):(P=P.j(R),P=P.add(p(x)))}return P}var v=m(0),b=m(1),I=m(16777216);n=u.prototype,n.m=function(){if(U(this))return-B(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(D(this))return"0";if(U(this))return"-"+B(this).toString(C);const A=p(Math.pow(C,6));var R=this;let P="";for(;;){const M=it(R,A).g;R=Q(R,M.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,D(R))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function D(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function U(C){return C.h==-1}n.l=function(C){return C=Q(this,C),U(C)?-1:D(C)?0:1};function B(C){const A=C.g.length,R=[];for(let P=0;P<A;P++)R[P]=~C.g[P];return new u(R,~C.h).add(b)}n.abs=function(){return U(this)?B(this):this},n.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let P=0;for(let M=0;M<=A;M++){let L=P+(this.i(M)&65535)+(C.i(M)&65535),x=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=x>>>16,L&=65535,x&=65535,R[M]=x<<16|L}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Q(C,A){return C.add(B(A))}n.j=function(C){if(D(this)||D(C))return v;if(U(this))return U(C)?B(this).j(B(C)):B(B(this).j(C));if(U(C))return B(this.j(B(C)));if(this.l(I)<0&&C.l(I)<0)return p(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var P=0;P<2*A;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<C.g.length;M++){const L=this.i(P)>>>16,x=this.i(P)&65535,ae=C.i(M)>>>16,ve=C.i(M)&65535;R[2*P+2*M]+=x*ve,Z(R,2*P+2*M),R[2*P+2*M+1]+=L*ve,Z(R,2*P+2*M+1),R[2*P+2*M+1]+=x*ae,Z(R,2*P+2*M+1),R[2*P+2*M+2]+=L*ae,Z(R,2*P+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new u(R,0)};function Z(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Y(C,A){this.g=C,this.h=A}function it(C,A){if(D(A))throw Error("division by zero");if(D(C))return new Y(v,v);if(U(C))return A=it(B(C),A),new Y(B(A.g),B(A.h));if(U(A))return A=it(C,B(A)),new Y(B(A.g),A.h);if(C.g.length>30){if(U(C)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,P=A;P.l(C)<=0;)R=rt(R),P=rt(P);var M=ct(R,1),L=ct(P,1);for(P=ct(P,2),R=ct(R,2);!D(P);){var x=L.add(P);x.l(C)<=0&&(M=M.add(R),L=x),P=ct(P,1),R=ct(R,1)}return A=Q(C,M.j(A)),new Y(M,A)}for(M=v;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=p(R),x=L.j(A);U(x)||x.l(C)>0;)R-=P,L=p(R),x=L.j(A);D(L)&&(L=b),M=M.add(L),C=Q(C,x)}return new Y(M,C)}n.B=function(C){return it(this,C).h},n.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)&C.i(P);return new u(R,this.h&C.h)},n.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)|C.i(P);return new u(R,this.h|C.h)},n.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)^C.i(P);return new u(R,this.h^C.h)};function rt(C){const A=C.g.length+1,R=[];for(let P=0;P<A;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(R,C.h)}function ct(C,A){const R=A>>5;A%=32;const P=C.g.length-R,M=[];for(let L=0;L<P;L++)M[L]=A>0?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new u(M,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,bI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Os=u}).apply(typeof CS<"u"?CS:typeof self<"u"?self:typeof window<"u"?window:{});var td=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var SI,dc,wI,pd,Ly,AI,II,RI;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof td=="object"&&td];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(h,_){if(_)t:{var E=i;h=h.split(".");for(var w=0;w<h.length-1;w++){var j=h[w];if(!(j in E))break t;E=E[j]}h=h[h.length-1],w=E[h],_=_(w),_!=w&&_!=null&&t(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&E.push([w,_[w]]);return E}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function p(h,_,E){return p=m,p.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,j,G){for(var ut=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)ut[Ct-2]=arguments[Ct];return _.prototype[j].apply(w,ut)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const _=h.length;if(_>0){const E=Array(_);for(let w=0;w<_;w++)E[w]=h[w];return E}return[]}function D(h,_){for(let w=1;w<arguments.length;w++){const j=arguments[w];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=h.length||0;const G=j.length||0;h.length=E+G;for(let ut=0;ut<G;ut++)h[E+ut]=j[ut]}else h.push(j)}}class U{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function B(h){u.setTimeout(()=>{throw h},0)}function Q(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class Z{constructor(){this.h=this.g=null}add(_,E){const w=Y.get();w.set(_,E),this.h?this.h.next=w:this.g=w,this.h=w}}var Y=new U(()=>new it,h=>h.reset());class it{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ct=!1,C=new Z,A=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(R)}};function R(){for(var h;h=Q();){try{h.h.call(h.g)}catch(E){B(E)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ct=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function ae(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(ae,M),ae.prototype.init=function(h,_){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ve="closure_listenable_"+(Math.random()*1e6|0),$=0;function st(h,_,E,w,j){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!w,this.ha=j,this.key=++$,this.da=this.fa=!1}function pt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h,_,E){for(const w in h)_.call(E,h[w],w,h)}function kt(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function N(h){const _={};for(const E in h)_[E]=h[E];return _}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(h,_){let E,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(E in w)h[E]=w[E];for(let G=0;G<et.length;G++)E=et[G],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function mt(h){this.src=h,this.g={},this.h=0}mt.prototype.add=function(h,_,E,w,j){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const ut=Vt(h,_,w,j);return ut>-1?(_=h[ut],E||(_.fa=!1)):(_=new st(_,this.src,G,!!w,j),_.fa=E,h.push(_)),_};function At(h,_){const E=_.type;if(E in h.g){var w=h.g[E],j=Array.prototype.indexOf.call(w,_,void 0),G;(G=j>=0)&&Array.prototype.splice.call(w,j,1),G&&(pt(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Vt(h,_,E,w){for(let j=0;j<h.length;++j){const G=h[j];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==w)return j}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Fe={};function he(h,_,E,w,j){if(Array.isArray(_)){for(let G=0;G<_.length;G++)he(h,_[G],E,w,j);return null}return E=tu(E),h&&h[ve]?h.J(_,E,f(w)?!!w.capture:!1,j):Xs(h,_,E,!1,w,j)}function Xs(h,_,E,w,j,G){if(!_)throw Error("Invalid event type");const ut=f(j)?!!j.capture:!!j;let Ct=Ws(h);if(Ct||(h[Ft]=Ct=new mt(h)),E=Ct.add(_,E,w,ut,G),E.proxy)return E;if(w=ro(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)L||(j=ut),j===void 0&&(j=!1),h.addEventListener(_.toString(),w,j);else if(h.attachEvent)h.attachEvent(Ci(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ro(){function h(E){return _.call(h.src,h.listener,E)}const _=Zl;return h}function so(h,_,E,w,j){if(Array.isArray(_))for(var G=0;G<_.length;G++)so(h,_[G],E,w,j);else w=f(w)?!!w.capture:!!w,E=tu(E),h&&h[ve]?(h=h.i,G=String(_).toString(),G in h.g&&(_=h.g[G],E=Vt(_,E,w,j),E>-1&&(pt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[G],h.h--)))):h&&(h=Ws(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Vt(_,E,w,j)),(E=h>-1?_[h]:null)&&ao(E))}function ao(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[ve])At(_.i,h);else{var E=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(E,w,h.capture):_.detachEvent?_.detachEvent(Ci(E),w):_.addListener&&_.removeListener&&_.removeListener(w),(E=Ws(_))?(At(E,h),E.h==0&&(E.src=null,_[Ft]=null)):pt(h)}}}function Ci(h){return h in Fe?Fe[h]:Fe[h]="on"+h}function Zl(h,_){if(h.da)h=!0;else{_=new ae(_,this);const E=h.listener,w=h.ha||h.src;h.fa&&ao(h),h=E.call(w,_)}return h}function Ws(h){return h=h[Ft],h instanceof mt?h:null}var Jl="__closure_events_fn_"+(Math.random()*1e9>>>0);function tu(h){return typeof h=="function"?h:(h[Jl]||(h[Jl]=function(_){return h.handleEvent(_)}),h[Jl])}function Re(){P.call(this),this.i=new mt(this),this.M=this,this.G=null}v(Re,P),Re.prototype[ve]=!0,Re.prototype.removeEventListener=function(h,_,E,w){so(this,h,_,E,w)};function qe(h,_){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var j=_;_=new M(w,h),ft(_,j)}j=!0;let G,ut;if(E)for(ut=E.length-1;ut>=0;ut--)G=_.g=E[ut],j=Br(G,w,!0,_)&&j;if(G=_.g=h,j=Br(G,w,!0,_)&&j,j=Br(G,w,!1,_)&&j,E)for(ut=0;ut<E.length;ut++)G=_.g=E[ut],j=Br(G,w,!1,_)&&j}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let w=0;w<E.length;w++)pt(E[w]);delete h.g[_],h.h--}}this.G=null},Re.prototype.J=function(h,_,E,w){return this.i.add(String(h),_,!1,E,w)},Re.prototype.K=function(h,_,E,w){return this.i.add(String(h),_,!0,E,w)};function Br(h,_,E,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let j=!0;for(let G=0;G<_.length;++G){const ut=_[G];if(ut&&!ut.da&&ut.capture==E){const Ct=ut.listener,we=ut.ha||ut.src;ut.fa&&At(h.i,ut),j=Ct.call(we,w)!==!1&&j}}return j&&!w.defaultPrevented}function Gm(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Sh(h){h.g=Gm(()=>{h.g=null,h.i&&(h.i=!1,Sh(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class gn extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Sh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $s(h){P.call(this),this.h=h,this.g={}}v($s,P);var eu=[];function nu(h){Dt(h.g,function(_,E){this.g.hasOwnProperty(E)&&ao(_)},h),h.g={}}$s.prototype.N=function(){$s.Z.N.call(this),nu(this)},$s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zr=u.JSON.stringify,Km=u.JSON.parse,wh=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Ah(){}function Ih(){}var oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function tn(){M.call(this,"d")}v(tn,M);function qn(){M.call(this,"c")}v(qn,M);var Se={},Rh=null;function oo(){return Rh=Rh||new Re}Se.Ia="serverreachability";function Ch(h){M.call(this,Se.Ia,h)}v(Ch,M);function xi(h){const _=oo();qe(_,new Ch(_))}Se.STAT_EVENT="statevent";function Zs(h,_){M.call(this,Se.STAT_EVENT,h),this.stat=_}v(Zs,M);function Ce(h){const _=oo();qe(_,new Zs(_,h))}Se.Ja="timingevent";function Di(h,_){M.call(this,Se.Ja,h),this.size=_}v(Di,M);function Vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function Ym(h,_,E,w,j,G){h.info(function(){if(h.g)if(G){var ut="",Ct=G.split("&");for(let Yt=0;Yt<Ct.length;Yt++){var we=Ct[Yt].split("=");if(we.length>1){const fe=we[0];we=we[1];const Yn=fe.split("_");ut=Yn.length>=2&&Yn[1]=="type"?ut+(fe+"="+we+"&"):ut+(fe+"=redacted&")}}}else ut=null;else ut=G;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+_+`
`+E+`
`+ut})}function xh(h,_,E,w,j,G,ut){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+_+`
`+E+`
`+G+" "+ut})}function Mi(h,_,E,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Qm(h,E)+(w?" "+w:"")})}function Js(h,_){h.info(function(){return"TIMEOUT: "+_})}li.prototype.info=function(){};function Qm(h,_){if(!h.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var E=G[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let ut=1;ut<w.length;ut++)w[ut]=""}}}}return zr(G)}catch{return _}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},iu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ru;function ea(){}v(ea,Ah),ea.prototype.g=function(){return new XMLHttpRequest},ru=new ea;function ar(h){return encodeURIComponent(String(h))}function Dh(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function ui(h,_,E,w){this.j=h,this.i=_,this.l=E,this.S=w||1,this.V=new $s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var xe={},Qe={};function Pi(h,_,E){h.M=1,h.A=na(Ve(_)),h.u=E,h.R=!0,lo(h,null)}function lo(h,_){h.F=Date.now(),Oi(h),h.B=Ve(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),fo(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ci,h.g=Gh(h.j,E?_:null,!h.u),h.P>0&&(h.O=new gn(p(h.Y,h,h.g),h.P)),_=h.V,E=h.g,w=h.ba;var j="readystatechange";Array.isArray(j)||(j&&(eu[0]=j.toString()),j=eu);for(let G=0;G<j.length;G++){const ut=he(E,j[G],w||_.handleEvent,!1,_.h||_);if(!ut)break;_.g[ut.key]=ut}_=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),xi(),Ym(h.i,h.v,h.B,h.l,h.S,h.u)}ui.prototype.ba=function(h){h=h.target;const _=this.O;_&&di(h)==3?_.j():this.Y(h)},ui.prototype.Y=function(h){try{if(h==this.g)t:{const Ct=di(this.g),we=this.g.ya(),Yt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||en(this.g)))){this.K||Ct!=4||we==7||(we==8||Yt<=0?xi(3):xi(2)),Ni(this);var _=this.g.ca();this.X=_;var E=Xm(this);if(this.o=_==200,xh(this.i,this.v,this.B,this.l,this.S,Ct,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var G=w;break e}}G=null}if(h=G)Mi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,h);else{this.o=!1,this.m=3,Ce(12),Dn(this),Hn(this);break t}}if(this.R){h=!0;let fe;for(;!this.K&&this.C<E.length;)if(fe=Mh(this,E),fe==Qe){Ct==4&&(this.m=4,Ce(14),h=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==xe){this.m=4,Ce(15),Mi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Mi(this.i,this.l,fe,null),ki(this,fe);if(Vh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,Ce(16),h=!1),this.o=this.o&&h,!h)Mi(this.i,this.l,E,"[Invalid Chunked Response]"),Dn(this),Hn(this);else if(E.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),vu(ut),ut.P=!0,Ce(11))}}else Mi(this.i,this.l,E,null),ki(this,E);Ct==4&&Dn(this),this.o&&!this.K&&(Ct==4?jh(this.j,this):(this.o=!1,Oi(this)))}else lr(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),Dn(this),Hn(this)}}}catch{}};function Xm(h){if(!Vh(h))return h.g.la();const _=en(h.g);if(_==="")return"";let E="";const w=_.length,j=di(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Dn(h),Hn(h),"";h.h.i=new u.TextDecoder}for(let G=0;G<w;G++)h.h.h=!0,E+=h.h.i.decode(_[G],{stream:!(j&&G==w-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Vh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Mh(h,_){var E=h.C,w=_.indexOf(`
`,E);return w==-1?Qe:(E=Number(_.substring(E,w)),isNaN(E)?xe:(w+=1,w+E>_.length?Qe:(_=_.slice(w,w+E),h.C=w+E,_)))}ui.prototype.cancel=function(){this.K=!0,Dn(this)};function Oi(h){h.T=Date.now()+h.H,uo(h,h.H)}function uo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Vi(p(h.aa,h),_)}function Ni(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ui.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Js(this.i,this.B),this.M!=2&&(xi(),Ce(17)),Dn(this),this.m=2,Hn(this)):uo(this,this.T-h)};function Hn(h){h.j.I==0||h.K||jh(h.j,h)}function Dn(h){Ni(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,nu(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ki(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Ui(E.h,h))){if(!h.L&&Ui(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)_o(E),Qr(E);else break t;ua(E),Ce(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Vi(p(E.Va,E),6e3));Li(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hi(E,11)}else if((h.L||E.g==h)&&_o(E),!x(_))for(j=E.Ba.g.parse(_),_=0;_<j.length;_++){let Yt=j[_];const fe=Yt[0];if(!(fe<=E.K))if(E.K=fe,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const Yn=Yt[3];Yn!=null&&(E.ka=Yn,E.j.info("VER="+E.ka));const Gi=Yt[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const mi=Yt[5];mi!=null&&typeof mi=="number"&&mi>0&&(w=1.5*mi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const pi=h.g;if(pi){const ca=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ca){var G=w.h;G.g||ca.indexOf("spdy")==-1&&ca.indexOf("quic")==-1&&ca.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ou(G,G.h),G.h=null))}if(w.G){const vo=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(w.wa=vo,Xt(w.J,w.G,vo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var ut=h;if(w.na=Hh(w,w.L?w.ba:null,w.W),ut.L){lu(w.h,ut);var Ct=ut,we=w.O;we&&(Ct.H=we),Ct.D&&(Ni(Ct),Oi(Ct)),w.g=ut}else Bh(w);E.i.length>0&&qi(E)}else Yt[0]!="stop"&&Yt[0]!="close"||Hi(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Hi(E,7):yu(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}xi(4)}catch{}}var De=class{constructor(h,_){this.g=h,this.map=_}};function su(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function au(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Li(h){return h.h?1:h.g?h.g.size:0}function Ui(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function ou(h,_){h.g?h.g.add(_):h.h=_}function lu(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}su.prototype.cancel=function(){if(this.i=uu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function uu(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return I(h.i)}var Ph=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let j,G=null;w>=0?(j=h[E].substring(0,w),G=h[E].substring(w+1)):j=h[E],_(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Vn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Vn?(this.l=h.l,Xe(this,h.j),this.o=h.o,this.g=h.g,jr(this,h.u),this.h=h.h,cu(this,Lh(h.i)),this.m=h.m):h&&(_=String(h).match(Ph))?(this.l=!1,Xe(this,_[1]||"",!0),this.o=Bi(_[2]||""),this.g=Bi(_[3]||"",!0),jr(this,_[4]),this.h=Bi(_[5]||"",!0),cu(this,_[6]||"",!0),this.m=Bi(_[7]||"")):(this.l=!1,this.i=new qr(null,this.l))}Vn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ia(_,ho,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ia(_,ho,!0),"@"),h.push(ar(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ia(E,E.charAt(0)=="/"?hu:Oh,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ia(E,Nh)),h.join("")},Vn.prototype.resolve=function(h){const _=Ve(this);let E=!!h.j;E?Xe(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var w=h.h;if(E)jr(_,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=_.h.lastIndexOf("/");j!=-1&&(w=_.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let ut=0;ut<j.length;){const Ct=j[ut++];Ct=="."?w&&ut==j.length&&G.push(""):Ct==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&ut==j.length&&G.push("")):(G.push(Ct),w=!0)}w=G.join("/")}else w=j}return E?_.h=w:E=h.i.toString()!=="",E?cu(_,Lh(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ve(h){return new Vn(h)}function Xe(h,_,E){h.j=E?Bi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function jr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function cu(h,_,E){_ instanceof qr?(h.i=_,mo(h.i,h.l)):(E||(_=ia(_,Fr)),h.i=new qr(_,h.l))}function Xt(h,_,E){h.i.set(_,E)}function na(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ia(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,bn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var ho=/[#\/\?@]/g,Oh=/[#\?:]/g,hu=/[#\?]/g,Fr=/[#\?@]/g,Nh=/#/g;function qr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Sn(h){h.g||(h.g=new Map,h.h=0,h.i&&co(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=qr.prototype,n.add=function(h,_){Sn(this),this.i=null,h=Hr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function kh(h,_){Sn(h),_=Hr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function fu(h,_){return Sn(h),_=Hr(h,_),h.g.has(_)}n.forEach=function(h,_){Sn(this),this.g.forEach(function(E,w){E.forEach(function(j){h.call(_,j,w,this)},this)},this)};function du(h,_){Sn(h);let E=[];if(typeof _=="string")fu(h,_)&&(E=E.concat(h.g.get(Hr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}n.set=function(h,_){return Sn(this),this.i=null,h=Hr(this,h),fu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=du(this,h),h.length>0?String(h[0]):_):_};function fo(h,_,E){kh(h,_),E.length>0&&(h.i=null,h.g.set(Hr(h,_),I(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var E=_[w];const j=ar(E);E=du(this,E);for(let G=0;G<E.length;G++){let ut=j;E[G]!==""&&(ut+="="+ar(E[G])),h.push(ut)}}return this.i=h.join("&")};function Lh(h){const _=new qr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Hr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function mo(h,_){_&&!h.j&&(Sn(h),h.i=null,h.g.forEach(function(E,w){const j=w.toLowerCase();w!=j&&(kh(this,w),fo(this,j,E))},h)),h.j=_}function hi(h,_){const E=new li;if(u.Image){const w=new Image;w.onload=y(Gn,E,"TestLoadImage: loaded",!0,_,w),w.onerror=y(Gn,E,"TestLoadImage: error",!1,_,w),w.onabort=y(Gn,E,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(Gn,E,"TestLoadImage: timeout",!1,_,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function mu(h,_){const E=new li,w=new AbortController,j=setTimeout(()=>{w.abort(),Gn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(G=>{clearTimeout(j),G.ok?Gn(E,"TestPingServer: ok",!0,_):Gn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),Gn(E,"TestPingServer: error",!1,_)})}function Gn(h,_,E,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(E)}catch{}}function Gr(){this.g=new wh}function zi(h){this.i=h.Sb||null,this.h=h.ab||!1}v(zi,Ah),zi.prototype.g=function(){return new ra(this.i,this.h)};function ra(h,_){Re.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(ra,Re),n=ra.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,fi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Kr(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;po(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function po(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Kr(this):fi(this),this.readyState==3&&po(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Kr(this))},n.Na=function(h){this.g&&(this.response=h,Kr(this))},n.ga=function(){this.g&&Kr(this)};function Kr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,fi(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(ra.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Kn(h){let _="";return Dt(h,function(E,w){_+=w,_+=":",_+=E,_+=`\r
`}),_}function sa(h,_,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Kn(E),typeof h=="string"?E!=null&&ar(E):Xt(h,_,E))}function ne(h){Re.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ne,Re);var ji=/^https?$/i,pu=["POST","PUT"];n=ne.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ru.g(),this.g.onreadystatechange=b(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(G){aa(this,G);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)E.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())E.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),j=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(pu,_,void 0)>=0)||w||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ut]of E)this.g.setRequestHeader(G,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){aa(this,G)}};function aa(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,gu(h),or(h)}function gu(h){h.A||(h.A=!0,qe(h,"complete"),qe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,qe(this,"complete"),qe(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},n.Xa=function(){oa(this)};function oa(h){if(h.h&&typeof l<"u"){if(h.v&&di(h)==4)setTimeout(h.Ca.bind(h),0);else if(qe(h,"readystatechange"),di(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var w;if(w=G===0){let ut=String(h.D).match(Ph)[1]||null;!ut&&u.self&&u.self.location&&(ut=u.self.location.protocol.slice(0,-1)),w=!ji.test(ut?ut.toLowerCase():"")}E=w}if(E)qe(h,"complete"),qe(h,"success");else{h.o=6;try{var j=di(h)>2?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.ca()+"]",gu(h)}}finally{or(h)}}}}function or(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||qe(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function di(h){return h.g?h.g.readyState:0}n.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Km(_)}};function en(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(h){const _={};h=(h.g&&di(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(x(h[w]))continue;var E=Dh(h[w]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[j]||[];_[j]=G,G.push(E)}kt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Yr(h){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new su(h&&h.concurrentRequestLimit),this.Ba=new Gr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Yr.prototype,n.ka=8,n.I=1,n.connect=function(h,_,E,w){Ce(0),this.W=h,this.H=_||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Hh(this,null,this.W),qi(this)};function yu(h){if(go(h),h.I==3){var _=h.V++,E=Ve(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),la(h,E),_=new ui(h,h.j,_),_.M=2,_.A=na(Ve(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Gh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oi(_)}qh(h)}function Qr(h){h.g&&(vu(h),h.g.cancel(),h.g=null)}function go(h){Qr(h),h.v&&(u.clearTimeout(h.v),h.v=null),_o(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function qi(h){if(!au(h.h)&&!h.m){h.m=!0;var _=h.Ea;rt||A(),ct||(rt(),ct=!0),C.add(_,h),h.D=0}}function yo(h,_){return Li(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Vi(p(h.Ea,h,_),Fh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const j=new ui(this,this.j,h);let G=this.o;if(this.U&&(G?(G=N(G),ft(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Uh(this,j,_),E=Ve(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),la(this,E),G&&(this.R?_="headers="+ar(Kn(G))+"&"+_:this.u&&sa(E,this.u,G)),ou(this.h,j),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",_),Xt(E,"SID","null"),j.U=!0,Pi(j,E,null)):Pi(j,E,_),this.I=2}}else this.I==3&&(h?_u(this,h):this.i.length==0||au(this.h)||_u(this))};function _u(h,_){var E;_?E=_.l:E=h.V++;const w=Ve(h.J);Xt(w,"SID",h.M),Xt(w,"RID",E),Xt(w,"AID",h.K),la(h,w),h.u&&h.o&&sa(w,h.u,h.o),E=new ui(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Uh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ou(h.h,E),Pi(E,w,_)}function la(h,_){h.H&&Dt(h.H,function(E,w){Xt(_,w,E)}),h.l&&Dt({},function(E,w){Xt(_,w,E)})}function Uh(h,_,E){E=Math.min(h.i.length,E);const w=h.l?p(h.l.Ka,h.l,h):null;t:{var j=h.i;let Ct=-1;for(;;){const we=["count="+E];Ct==-1?E>0?(Ct=j[0].g,we.push("ofs="+Ct)):Ct=0:we.push("ofs="+Ct);let Yt=!0;for(let fe=0;fe<E;fe++){var G=j[fe].g;const Yn=j[fe].map;if(G-=Ct,G<0)Ct=Math.max(0,j[fe].g-100),Yt=!1;else try{G="req"+G+"_"||"";try{var ut=Yn instanceof Map?Yn:Object.entries(Yn);for(const[Gi,mi]of ut){let pi=mi;f(mi)&&(pi=zr(mi)),we.push(G+Gi+"="+encodeURIComponent(pi))}}catch(Gi){throw we.push(G+"type="+encodeURIComponent("_badmap")),Gi}}catch{w&&w(Yn)}}if(Yt){ut=we.join("&");break t}}ut=void 0}return h=h.i.splice(0,E),_.G=h,ut}function Bh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;rt||A(),ct||(rt(),ct=!0),C.add(_,h),h.A=0}}function ua(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Vi(p(h.Da,h),Fh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,zh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Vi(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Qr(this),zh(this))};function vu(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function zh(h){h.g=new ui(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ve(h.na);Xt(_,"RID","rpc"),Xt(_,"SID",h.M),Xt(_,"AID",h.K),Xt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(_,"TO",h.ia),Xt(_,"TYPE","xmlhttp"),la(h,_),h.u&&h.o&&sa(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=na(Ve(_)),E.u=null,E.R=!0,lo(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Qr(this),ua(this),Ce(19))};function _o(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function jh(h,_){var E=null;if(h.g==_){_o(h),vu(h),h.g=null;var w=2}else if(Ui(h.h,_))E=_.G,lu(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var j=h.D;w=oo(),qe(w,new Di(w,E)),qi(h)}else Bh(h);else if(j=_.m,j==3||j==0&&_.X>0||!(w==1&&yo(h,_)||w==2&&ua(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),j){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function Fh(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function Hi(h,_){if(h.j.info("Error code "+_),_==2){var E=p(h.bb,h),w=h.Ua;const j=!w;w=new Vn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Xe(w,"https"),na(w),j?hi(w.toString(),E):mu(w.toString(),E)}else Ce(2);h.I=0,h.l&&h.l.pa(_),qh(h),go(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function qh(h){if(h.I=0,h.ja=[],h.l){const _=uu(h.h);(_.length!=0||h.i.length!=0)&&(D(h.ja,_),D(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Hh(h,_,E){var w=E instanceof Vn?Ve(E):new Vn(E);if(w.g!="")_&&(w.g=_+"."+w.g),jr(w,w.u);else{var j=u.location;w=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;const G=new Vn(null);w&&Xe(G,w),_&&(G.g=_),j&&jr(G,j),E&&(G.h=E),w=G}return E=h.G,_=h.wa,E&&_&&Xt(w,E,_),Xt(w,"VER",h.ka),la(h,w),w}function Gh(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ne(new zi({ab:E})):new ne(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kh(){}n=Kh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Xr(){}Xr.prototype.g=function(h,_){return new yn(h,_)};function yn(h,_){Re.call(this),this.g=new Yr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!x(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ur(this)}v(yn,Re),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){yu(this.g)},yn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=zr(h),h=E);_.i.push(new De(_.Ya++,h)),_.I==3&&qi(_)},yn.prototype.N=function(){this.g.l=null,delete this.j,yu(this.g),delete this.g,yn.Z.N.call(this)};function Yh(h){tn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const E in _){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(Yh,tn);function Qh(){qn.call(this),this.status=1}v(Qh,qn);function ur(h){this.g=h}v(ur,Kh),ur.prototype.ra=function(){qe(this.g,"a")},ur.prototype.qa=function(h){qe(this.g,new Yh(h))},ur.prototype.pa=function(h){qe(this.g,new Qh)},ur.prototype.oa=function(){qe(this.g,"b")},Xr.prototype.createWebChannel=Xr.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,RI=function(){return new Xr},II=function(){return oo()},AI=Se,Ly={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,pd=ta,iu.COMPLETE="complete",wI=iu,Ih.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Re.prototype.listen=Re.prototype.J,dc=Ih,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,SI=ne}).apply(typeof td<"u"?td:typeof self<"u"?self:typeof window<"u"?window:{});class ln{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");let Gl="12.9.0";function pk(n){Gl=n}const Xa=new M_("@firebase/firestore");function il(){return Xa.logLevel}function at(n,...t){if(Xa.logLevel<=Bt.DEBUG){const e=t.map(G_);Xa.debug(`Firestore (${Gl}): ${n}`,...e)}}function vn(n,...t){if(Xa.logLevel<=Bt.ERROR){const e=t.map(G_);Xa.error(`Firestore (${Gl}): ${n}`,...e)}}function Bs(n,...t){if(Xa.logLevel<=Bt.WARN){const e=t.map(G_);Xa.warn(`Firestore (${Gl}): ${n}`,...e)}}function G_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function dt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,CI(n,i,e)}function CI(n,t,e){let i=`FIRESTORE (${Gl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw vn(i),new Error(i)}function _t(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||CI(t,a,i)}function wt(n,t){return n}const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends kr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class xI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class gk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(ln.UNAUTHENTICATED)))}shutdown(){}}class yk{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class _k{constructor(t){this.t=t,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_t(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new xI(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new ln(t)}}class vk{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Tk{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new vk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(ln.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class xS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ek{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_t(this.o===void 0,3512);const i=l=>{l.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,at("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new xS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new xS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class K_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=bk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function It(n,t){return n<t?-1:n>t?1:0}function Uy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return iy(a)===iy(l)?It(a,l):iy(a)?1:-1}return It(n.length,t.length)}const Sk=55296,wk=57343;function iy(n){const t=n.charCodeAt(0);return t>=Sk&&t<=wk}function wl(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function DI(n){return n+"\0"}const DS="__name__";class $i{constructor(t,e,i){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&dt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=$i.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const i=$i.isNumericId(t),a=$i.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?$i.extractNumericId(t).compare($i.extractNumericId(e)):Uy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Os.fromString(t.substring(4,t.length-2))}}class Ht extends $i{construct(t,e,i){return new Ht(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new lt(X.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const Ak=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ye extends $i{construct(t,e,i){return new ye(t,e,i)}static isValidIdentifier(t){return Ak.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DS}static keyField(){return new ye([DS])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new lt(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new lt(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new lt(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ye(e)}static emptyPath(){return new ye([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Ht.fromString(t))}static fromName(t){return new ht(Ht.fromString(t).popFirst(5))}static empty(){return new ht(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Ht(t.slice()))}}function VI(n,t,e){if(!e)throw new lt(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Ik(n,t,e,i){if(t===!0&&i===!0)throw new lt(X.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function VS(n){if(!ht.isDocumentKey(n))throw new lt(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function MS(n){if(ht.isDocumentKey(n))throw new lt(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Tm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":dt(12329,{type:typeof n})}function Fa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new lt(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Tm(n);throw new lt(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ue(n,t){const e={typeString:n};return t&&(e.value=t),e}function oh(n,t){if(!MI(n))throw new lt(X.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new lt(X.INVALID_ARGUMENT,e);return!0}const PS=-62135596800,OS=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*OS);return new Jt(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lt(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<PS)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/OS}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(oh(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-PS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ue("string",Jt._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new Jt(0,0))}static max(){return new Tt(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Lc=-1;class Gd{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function By(n){return n.fields.find((t=>t.kind===2))}function Da(n){return n.fields.filter((t=>t.kind!==2))}Gd.UNKNOWN_ID=-1;class gd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Uc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Uc(0,Fn.min())}}function Rk(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(i===1e9?new Jt(e+1,0):new Jt(e,i));return new Fn(a,ht.empty(),t)}function PI(n){return new Fn(n.readTime,n.key,Lc)}class Fn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Fn(Tt.min(),ht.empty(),Lc)}static max(){return new Fn(Tt.max(),ht.empty(),Lc)}}function Y_(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const OI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function no(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==OI)throw n;at("LocalStore","Unexpectedly lost primary lease")}class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new z(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof z?e:z.resolve(e)}catch(e){return z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):z.reject(e)}static resolve(t){return new z(((e,i)=>{e(t)}))}static reject(t){return new z(((e,i)=>{i(t)}))}static waitFor(t){return new z(((e,i)=>{let a=0,l=0,u=!1;t.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&e()}),(m=>i(m)))})),u=!0,l===a&&e()}))}static or(t){let e=z.resolve(!1);for(const i of t)e=e.next((a=>a?z.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new z(((i,a)=>{const l=t.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next((y=>{u[p]=y,++f,f===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new z(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}const Bn="SimpleDb";class Em{static open(t,e,i,a){try{return new Em(e,t.transaction(a,i))}catch(l){throw new bc(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new xr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new bc(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=Q_(i.target.error);this.S.reject(new bc(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(at(Bn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new xk(e)}}class Ns{static delete(t){return at(Bn,"Removing database:",t),Pa(I1().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!N1())return!1;if(Ns.F())return!0;const t=Ke(),e=Ns.M(t),i=0<e&&e<10,a=kI(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,Ns.M(Ke())===12.2&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(at(Bn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new bc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new lt(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new lt(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new bc(t,u))},a.onupgradeneeded=l=>{at(Bn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{at(Bn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const f=Em.open(this.db,t,l?"readonly":"readwrite",i),m=a(f).next((p=>(f.C(),p))).catch((p=>(f.abort(p),z.reject(p)))).toPromise();return m.catch((()=>{})),await f.D,m}catch(f){const m=f,p=m.name!=="FirebaseError"&&u<3;if(at(Bn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function kI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class Ck{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return Pa(this.U.delete())}}class bc extends lt{constructor(t,e){super(X.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Ks(n){return n.name==="IndexedDbTransactionError"}class xk{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(at(Bn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(at(Bn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Pa(i)}add(t){return at(Bn,"ADD",this.store.name,t,t),Pa(this.store.add(t))}get(t){return Pa(this.store.get(t)).next((e=>(e===void 0&&(e=null),at(Bn,"GET",this.store.name,t,e),e)))}delete(t){return at(Bn,"DELETE",this.store.name,t),Pa(this.store.delete(t))}count(){return at(Bn,"COUNT",this.store.name),Pa(this.store.count())}H(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new z(((u,f)=>{l.onerror=m=>{f(m.target.error)},l.onsuccess=m=>{u(m.target.result)}}))}{const l=this.cursor(i),u=[];return this.J(l,((f,m)=>{u.push(m)})).next((()=>u))}}Z(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new z(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(t,e){at(Bn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const a=this.cursor(i);return this.J(a,((l,u,f)=>f.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.J(a,e)}te(t){const e=this.cursor({});return new z(((i,a)=>{e.onerror=l=>{const u=Q_(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((f=>{f?u.continue():i()})):i()}}))}J(t,e){const i=[];return new z(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void a();const m=new Ck(f),p=e(f.primaryKey,f.value,m);if(p instanceof z){const y=p.catch((v=>(m.done(),z.reject(v))));i.push(y)}m.isDone?a():m.G===null?f.continue():f.continue(m.G)}})).next((()=>z.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Pa(n){return new z(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=Q_(i.target.error);e(a)}}))}let NS=!1;function Q_(n){const t=Ns.M(Ke());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return NS||(NS=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Sc="IndexBackfiller";class Dk{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){at(Sc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();at(Sc,`Documents written: ${e}`)}catch(e){Ks(e)?at(Sc,"Ignoring IndexedDB error during index backfill: ",e):await no(e)}await this.re(6e4)}))}}class Vk{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return z.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return at(Sc,`Processing collection: ${u}`),this.oe(t,u,a).next((f=>{a-=f,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((f=>(at(Sc,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=PI(l);Y_(u,i)>0&&(i=u)})),new Fn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ii{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ii.ce=-1;const qa=-1;function lh(n){return n==null}function Bc(n){return n===0&&1/n==-1/0}function Mk(n){return typeof n=="number"&&Number.isInteger(n)&&!Bc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Kd="";function pn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kS(t)),t=Pk(n.get(e),t);return kS(t)}function Pk(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case Kd:e+="";break;default:e+=l}}return e}function kS(n){return n+Kd+""}function Zi(n){const t=n.length;if(_t(t>=2,64408,{path:n}),t===2)return _t(n.charAt(0)===Kd&&n.charAt(1)==="",56145,{path:n}),Ht.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(Kd,l);switch((u<0||u>e)&&dt(50515,{path:n}),n.charAt(u+1)){case"":const f=n.substring(l,u);let m;a.length===0?m=f:(a+=f,m=a,a=""),i.push(m);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:dt(61167,{path:n})}l=u+2}return new Ht(i)}const Va="remoteDocuments",uh="owner",Wo="owner",zc="mutationQueues",Ok="userId",Ei="mutations",LS="batchId",Ua="userMutationsIndex",US=["userId","batchId"];function yd(n,t){return[n,pn(t)]}function LI(n,t,e){return[n,pn(t),e]}const Nk={},Al="documentMutations",Yd="remoteDocumentsV14",kk=["prefixPath","collectionGroup","readTime","documentId"],_d="documentKeyIndex",Lk=["prefixPath","collectionGroup","documentId"],UI="collectionGroupIndex",Uk=["collectionGroup","readTime","prefixPath","documentId"],jc="remoteDocumentGlobal",zy="remoteDocumentGlobalKey",Il="targets",BI="queryTargetsIndex",Bk=["canonicalId","targetId"],Rl="targetDocuments",zk=["targetId","path"],X_="documentTargetsIndex",jk=["path","targetId"],Qd="targetGlobalKey",Ha="targetGlobal",Fc="collectionParents",Fk=["collectionId","parent"],Cl="clientMetadata",qk="clientId",bm="bundles",Hk="bundleId",Sm="namedQueries",Gk="name",W_="indexConfiguration",Kk="indexId",jy="collectionGroupIndex",Yk="collectionGroup",wc="indexState",Qk=["indexId","uid"],zI="sequenceNumberIndex",Xk=["uid","sequenceNumber"],Ac="indexEntries",Wk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jI="documentKeyIndex",$k=["indexId","uid","orderedDocumentKey"],wm="documentOverlays",Zk=["userId","collectionPath","documentId"],Fy="collectionPathOverlayIndex",Jk=["userId","collectionPath","largestBatchId"],FI="collectionGroupOverlayIndex",t4=["userId","collectionGroup","largestBatchId"],$_="globals",e4="name",qI=[zc,Ei,Al,Va,Il,uh,Ha,Rl,Cl,jc,Fc,bm,Sm],n4=[...qI,wm],HI=[zc,Ei,Al,Yd,Il,uh,Ha,Rl,Cl,jc,Fc,bm,Sm,wm],GI=HI,Z_=[...GI,W_,wc,Ac],i4=Z_,KI=[...Z_,$_],r4=KI;class qy extends NI{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Ye(n,t){const e=wt(n);return Ns.O(e.le,t)}function BS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Ys(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function YI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||un.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,un.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,un.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ed(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ed(this.root,t,this.comparator,!1)}getReverseIterator(){return new ed(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ed(this.root,t,this.comparator,!0)}}class ed{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class un{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??un.RED,this.left=a??un.EMPTY,this.right=l??un.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new un(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return un.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return un.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,un.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,un.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}un.EMPTY=null,un.RED=!0,un.BLACK=!1;un.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new un(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ee{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new zS(this.data.getIterator())}getIteratorFrom(t){return new zS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof ee)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ee(this.comparator);return e.data=t,e}}class zS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $o(n){return n.hasNext()?n.getNext():void 0}class xn{constructor(t){this.fields=t,t.sort(ye.comparator)}static empty(){return new xn([])}unionWith(t){let e=new ee(ye.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new xn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return wl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class QI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class je{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new QI("Invalid base64 string: "+l):l}})(t);return new je(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new je(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const s4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(n){if(_t(!!n,39018),typeof n=="string"){let t=0;const e=s4.exec(n);if(_t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:me(n.seconds),nanos:me(n.nanos)}}function me(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?je.fromBase64String(n):je.fromUint8Array(n)}const XI="server_timestamp",WI="__type__",$I="__previous_value__",ZI="__local_write_time__";function J_(n){return(n?.mapValue?.fields||{})[WI]?.stringValue===XI}function Am(n){const t=n.mapValue.fields[$I];return J_(t)?Am(t):t}function qc(n){const t=Pr(n.mapValue.fields[ZI].timestampValue);return new Jt(t.seconds,t.nanos)}class a4{constructor(t,e,i,a,l,u,f,m,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const Xd="(default)";class Wa{constructor(t,e){this.projectId=t,this.database=e||Xd}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===Xd}isEqual(t){return t instanceof Wa&&t.projectId===this.projectId&&t.database===this.database}}function o4(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new lt(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(n.options.projectId,t)}const tv="__type__",JI="__max__",Cs={mapValue:{fields:{__type__:{stringValue:JI}}}},ev="__vector__",xl="value",vd={nullValue:"NULL_VALUE"};function zs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?J_(n)?4:tR(n)?9007199254740991:Im(n)?10:11:dt(28295,{value:n})}function rr(n,t){if(n===t)return!0;const e=zs(n);if(e!==zs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qc(n).isEqual(qc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Pr(a.timestampValue),f=Pr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Or(a.bytesValue).isEqual(Or(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return me(a.geoPointValue.latitude)===me(l.geoPointValue.latitude)&&me(a.geoPointValue.longitude)===me(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return me(a.integerValue)===me(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=me(a.doubleValue),f=me(l.doubleValue);return u===f?Bc(u)===Bc(f):isNaN(u)&&isNaN(f)}return!1})(n,t);case 9:return wl(n.arrayValue.values||[],t.arrayValue.values||[],rr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(BS(u)!==BS(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!rr(u[m],f[m])))return!1;return!0})(n,t);default:return dt(52216,{left:n})}}function Hc(n,t){return(n.values||[]).find((e=>rr(e,t)))!==void 0}function js(n,t){if(n===t)return 0;const e=zs(n),i=zs(t);if(e!==i)return It(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const f=me(l.integerValue||l.doubleValue),m=me(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,t);case 3:return jS(n.timestampValue,t.timestampValue);case 4:return jS(qc(n),qc(t));case 5:return Uy(n.stringValue,t.stringValue);case 6:return(function(l,u){const f=Or(l),m=Or(u);return f.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=It(f[p],m[p]);if(y!==0)return y}return It(f.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const f=It(me(l.latitude),me(u.latitude));return f!==0?f:It(me(l.longitude),me(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return FS(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[xl]?.arrayValue,y=m[xl]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:FS(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===Cs.mapValue&&u===Cs.mapValue)return 0;if(l===Cs.mapValue)return 1;if(u===Cs.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const b=Uy(m[v],y[v]);if(b!==0)return b;const I=js(f[m[v]],p[y[v]]);if(I!==0)return I}return It(m.length,y.length)})(n.mapValue,t.mapValue);default:throw dt(23264,{he:e})}}function jS(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=Pr(n),i=Pr(t),a=It(e.seconds,i.seconds);return a!==0?a:It(e.nanos,i.nanos)}function FS(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=js(e[a],i[a]);if(l)return l}return It(e.length,i.length)}function Dl(n){return Hy(n)}function Hy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Pr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Or(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=Hy(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Hy(e.fields[u])}`;return a+"}"})(n.mapValue):dt(61005,{value:n})}function Td(n){switch(zs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Am(n);return t?16+Td(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Td(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Ys(i.fields,((l,u)=>{a+=l.length+Td(u)})),a})(n.mapValue);default:throw dt(13486,{value:n})}}function Gc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Gy(n){return!!n&&"integerValue"in n}function Kc(n){return!!n&&"arrayValue"in n}function qS(n){return!!n&&"nullValue"in n}function HS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ed(n){return!!n&&"mapValue"in n}function Im(n){return(n?.mapValue?.fields||{})[tv]?.stringValue===ev}function Ic(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Ys(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Ic(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ic(n.arrayValue.values[e]);return t}return{...n}}function tR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JI}const eR={mapValue:{fields:{[tv]:{stringValue:ev},[xl]:{arrayValue:{}}}}};function l4(n){return"nullValue"in n?vd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Gc(Wa.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Im(n)?eR:{mapValue:{}}:dt(35942,{value:n})}function u4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Gc(Wa.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?eR:"mapValue"in n?Im(n)?{mapValue:{}}:Cs:dt(61959,{value:n})}function GS(n,t){const e=js(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function KS(n,t){const e=js(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Ed(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ic(e)}setAll(t){let e=ye.emptyPath(),i={},a=[];t.forEach(((u,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,i,a),i={},a=[],e=f.popLast()}u?i[f.lastSegment()]=Ic(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Ed(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Ed(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Ys(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new cn(Ic(this.value))}}function nR(n){const t=[];return Ys(n.fields,((e,i)=>{const a=new ye([e]);if(Ed(i)){const l=nR(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new xn(t)}class pe{constructor(t,e,i,a,l,u,f){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(t){return new pe(t,0,Tt.min(),Tt.min(),Tt.min(),cn.empty(),0)}static newFoundDocument(t,e,i,a){return new pe(t,1,e,Tt.min(),i,a,0)}static newNoDocument(t,e){return new pe(t,2,e,Tt.min(),Tt.min(),cn.empty(),0)}static newUnknownDocument(t,e){return new pe(t,3,e,Tt.min(),Tt.min(),cn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof pe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new pe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vl{constructor(t,e){this.position=t,this.inclusive=e}}function YS(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(u.referenceValue),e.key):i=js(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function QS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rr(n.position[e],t.position[e]))return!1;return!0}class Wd{constructor(t,e="asc"){this.field=t,this.dir=e}}function c4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class iR{}class zt extends iR{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new h4(t,e,i):e==="array-contains"?new m4(t,i):e==="in"?new uR(t,i):e==="not-in"?new p4(t,i):e==="array-contains-any"?new g4(t,i):new zt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new f4(t,i):new d4(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(js(e,this.value)):e!==null&&zs(this.value)===zs(e)&&this.matchesComparison(js(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class te extends iR{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new te(t,e)}matches(t){return Ml(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ml(n){return n.op==="and"}function Ky(n){return n.op==="or"}function nv(n){return rR(n)&&Ml(n)}function rR(n){for(const t of n.filters)if(t instanceof te)return!1;return!0}function Yy(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Dl(n.value);if(nv(n))return n.filters.map((t=>Yy(t))).join(",");{const t=n.filters.map((e=>Yy(e))).join(",");return`${n.op}(${t})`}}function sR(n,t){return n instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&rr(i.value,a.value)})(n,t):n instanceof te?(function(i,a){return a instanceof te&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&sR(u,a.filters[f])),!0):!1})(n,t):void dt(19439)}function aR(n,t){const e=n.filters.concat(t);return te.create(e,n.op)}function oR(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Dl(e.value)}`})(n):n instanceof te?(function(e){return e.op.toString()+" {"+e.getFilters().map(oR).join(" ,")+"}"})(n):"Filter"}class h4 extends zt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class f4 extends zt{constructor(t,e){super(t,"in",e),this.keys=lR("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class d4 extends zt{constructor(t,e){super(t,"not-in",e),this.keys=lR("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function lR(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class m4 extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Kc(e)&&Hc(e.arrayValue,this.value)}}class uR extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Hc(this.value.arrayValue,e)}}class p4 extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Hc(this.value.arrayValue,e)}}class g4 extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Kc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Hc(this.value.arrayValue,i)))}}class y4{constructor(t,e=null,i=[],a=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Qy(n,t=null,e=[],i=[],a=null,l=null,u=null){return new y4(n,t,e,i,a,l,u)}function $a(n){const t=wt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Yy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),lh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Dl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Dl(i))).join(",")),t.Te=e}return t.Te}function ch(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!c4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!sR(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!QS(n.startAt,t.startAt)&&QS(n.endAt,t.endAt)}function $d(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Zd(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function XS(n,t,e){let i=vd,a=!0;for(const l of Zd(n,t)){let u=vd,f=!0;switch(l.op){case"<":case"<=":u=l4(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=vd}GS({value:i,inclusive:a},{value:u,inclusive:f})<0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];GS({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function WS(n,t,e){let i=Cs,a=!0;for(const l of Zd(n,t)){let u=Cs,f=!0;switch(l.op){case">=":case">":u=u4(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=Cs}KS({value:i,inclusive:a},{value:u,inclusive:f})>0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];KS({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}class hh{constructor(t,e=null,i=[],a=[],l=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function _4(n,t,e,i,a,l,u,f){return new hh(n,t,e,i,a,l,u,f)}function Rm(n){return new hh(n)}function $S(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function v4(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function cR(n){return n.collectionGroup!==null}function Rc(n){const t=wt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ee(ye.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Wd(l,i))})),e.has(ye.keyField().canonicalString())||t.Ie.push(new Wd(ye.keyField(),i))}return t.Ie}function si(n){const t=wt(n);return t.Ee||(t.Ee=T4(t,Rc(n))),t.Ee}function T4(n,t){if(n.limitType==="F")return Qy(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wd(a.field,l)}));const e=n.endAt?new Vl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Vl(n.startAt.position,n.startAt.inclusive):null;return Qy(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Xy(n,t){const e=n.filters.concat([t]);return new hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Wy(n,t,e){return new hh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cm(n,t){return ch(si(n),si(t))&&n.limitType===t.limitType}function hR(n){return`${$a(si(n))}|lt:${n.limitType}`}function rl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>oR(a))).join(", ")}]`),lh(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Dl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Dl(a))).join(",")),`Target(${i})`})(si(n))}; limitType=${n.limitType})`}function fh(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Rc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,f,m){const p=YS(u,f,m);return u.inclusive?p<=0:p<0})(i.startAt,Rc(i),a)||i.endAt&&!(function(u,f,m){const p=YS(u,f,m);return u.inclusive?p>=0:p>0})(i.endAt,Rc(i),a))})(n,t)}function E4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function fR(n){return(t,e)=>{let i=!1;for(const a of Rc(n)){const l=b4(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function b4(n,t,e){const i=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?js(m,p):dt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:n.dir})}}class Lr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Ys(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return YI(this.inner)}size(){return this.innerSize}}const S4=new ge(ht.comparator);function jn(){return S4}const dR=new ge(ht.comparator);function mc(...n){let t=dR;for(const e of n)t=t.insert(e.key,e);return t}function mR(n){let t=dR;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ji(){return Cc()}function pR(){return Cc()}function Cc(){return new Lr((n=>n.toString()),((n,t)=>n.isEqual(t)))}const w4=new ge(ht.comparator),A4=new ee(ht.comparator);function Pt(...n){let t=A4;for(const e of n)t=t.add(e);return t}const I4=new ee(It);function R4(){return I4}function iv(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function gR(n){return{integerValue:""+n}}function C4(n,t){return Mk(t)?gR(t):iv(n,t)}class xm{constructor(){this._=void 0}}function x4(n,t,e){return n instanceof Pl?(function(a,l){const u={fields:{[WI]:{stringValue:XI},[ZI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&J_(l)&&(l=Am(l)),l&&(u.fields[$I]=l),{mapValue:u}})(e,t):n instanceof Ol?_R(n,t):n instanceof Nl?vR(n,t):(function(a,l){const u=yR(a,l),f=ZS(u)+ZS(a.Ae);return Gy(u)&&Gy(a.Ae)?gR(f):iv(a.serializer,f)})(n,t)}function D4(n,t,e){return n instanceof Ol?_R(n,t):n instanceof Nl?vR(n,t):e}function yR(n,t){return n instanceof Yc?(function(i){return Gy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Pl extends xm{}class Ol extends xm{constructor(t){super(),this.elements=t}}function _R(n,t){const e=TR(t);for(const i of n.elements)e.some((a=>rr(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Nl extends xm{constructor(t){super(),this.elements=t}}function vR(n,t){let e=TR(t);for(const i of n.elements)e=e.filter((a=>!rr(a,i)));return{arrayValue:{values:e}}}class Yc extends xm{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function ZS(n){return me(n.integerValue||n.doubleValue)}function TR(n){return Kc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ER{constructor(t,e){this.field=t,this.transform=e}}function V4(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Ol&&a instanceof Ol||i instanceof Nl&&a instanceof Nl?wl(i.elements,a.elements,rr):i instanceof Yc&&a instanceof Yc?rr(i.Ae,a.Ae):i instanceof Pl&&a instanceof Pl})(n.transform,t.transform)}class M4{constructor(t,e){this.version=t,this.transformResults=e}}class Ze{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ze}static exists(t){return new Ze(void 0,t)}static updateTime(t){return new Ze(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function bd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Dm{}function bR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new dh(n.key,Ze.none()):new Kl(n.key,n.data,Ze.none());{const e=n.data,i=cn.empty();let a=new ee(ye.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Ur(n.key,i,new xn(a.toArray()),Ze.none())}}function P4(n,t,e){n instanceof Kl?(function(a,l,u){const f=a.value.clone(),m=tw(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):n instanceof Ur?(function(a,l,u){if(!bd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=tw(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(SR(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function xc(n,t,e,i){return n instanceof Kl?(function(l,u,f,m){if(!bd(l.precondition,u))return f;const p=l.value.clone(),y=ew(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Ur?(function(l,u,f,m){if(!bd(l.precondition,u))return f;const p=ew(l.fieldTransforms,m,u),y=u.data;return y.setAll(SR(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,u,f){return bd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,t,e)}function O4(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=yR(i.transform,a||null);l!=null&&(e===null&&(e=cn.empty()),e.set(i.field,l))}return e||null}function JS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&wl(i,a,((l,u)=>V4(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Kl extends Dm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ur extends Dm{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function SR(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function tw(n,t,e){const i=new Map;_t(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,f=t.data.field(l.field);i.set(l.field,D4(u,f,e[a]))}return i}function ew(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,x4(l,u,t))}return i}class dh extends Dm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rv extends Dm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sv{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&P4(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=xc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=xc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=pR();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=e.has(a.key)?null:f;const m=bR(u,f);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Tt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,((e,i)=>JS(e,i)))&&wl(this.baseMutations,t.baseMutations,((e,i)=>JS(e,i)))}}class av{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){_t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return w4})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new av(t,e,i,a)}}class ov{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class N4{constructor(t,e){this.count=t,this.unchangedNames=e}}var ke,qt;function wR(n){switch(n){case X.OK:return dt(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return dt(15467,{code:n})}}function AR(n){if(n===void 0)return vn("GRPC error has no .code"),X.UNKNOWN;switch(n){case ke.OK:return X.OK;case ke.CANCELLED:return X.CANCELLED;case ke.UNKNOWN:return X.UNKNOWN;case ke.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ke.INTERNAL:return X.INTERNAL;case ke.UNAVAILABLE:return X.UNAVAILABLE;case ke.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ke.NOT_FOUND:return X.NOT_FOUND;case ke.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ke.ABORTED:return X.ABORTED;case ke.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ke.DATA_LOSS:return X.DATA_LOSS;default:return dt(39323,{code:n})}}(qt=ke||(ke={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function k4(){return new TextEncoder}const L4=new Os([4294967295,4294967295],0);function nw(n){const t=k4().encode(n),e=new bI;return e.update(t),new Uint8Array(e.digest())}function iw(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Os([e,i],0),new Os([a,l],0)]}class lv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pc(`Invalid padding: ${e}`);if(i<0)throw new pc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new pc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new pc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Os.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(Os.fromNumber(i)));return a.compare(L4)===1&&(a=new Os([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=nw(t),[i,a]=iw(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new lv(l,a,e);return i.forEach((f=>u.insert(f))),u}insert(t){if(this.ge===0)return;const e=nw(t),[i,a]=iw(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Vm{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,mh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Vm(Tt.min(),a,new ge(It),jn(),Pt())}}class mh{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new mh(i,e,Pt(),Pt(),Pt())}}class Sd{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class IR{constructor(t,e){this.targetId=t,this.Ce=e}}class RR{constructor(t,e,i=je.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class rw{constructor(){this.ve=0,this.Fe=sw(),this.Me=je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),i=Pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:l})}})),new mh(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=sw()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class U4{constructor(t){this.Ge=t,this.ze=new Map,this.je=jn(),this.He=nd(),this.Je=nd(),this.Ze=new ge(It)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if($d(l))if(i===0){const u=new ht(l.path);this.et(e,u,pe.newNoDocument(u,Tt.min()))}else _t(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const f=this.ut(t),m=f?this.ct(f,t,u):1;if(m!==0){this.it(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,f;try{u=Or(i).toUint8Array()}catch(m){if(m instanceof QI)return Bs("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new lv(u,a,l)}catch(m){return Bs(m instanceof pc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&$d(f.target)){const m=new ht(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,pe.newNoDocument(m,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let i=Pt();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new Vm(t,e,this.Ze,this.je,i);return this.je=jn(),this.He=nd(),this.Je=nd(),this.Ze=new ge(It),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new rw,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ee(It),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ee(It),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new rw),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function nd(){return new ge(ht.comparator)}function sw(){return new ge(ht.comparator)}const B4={asc:"ASCENDING",desc:"DESCENDING"},z4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j4={and:"AND",or:"OR"};class F4{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function $y(n,t){return n.useProto3Json||lh(t)?t:{value:t}}function kl(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function CR(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function q4(n,t){return kl(n,t.toTimestamp())}function Je(n){return _t(!!n,49232),Tt.fromTimestamp((function(e){const i=Pr(e);return new Jt(i.seconds,i.nanos)})(n))}function uv(n,t){return Zy(n,t).canonicalString()}function Zy(n,t){const e=(function(a){return new Ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function xR(n){const t=Ht.fromString(n);return _t(UR(t),10190,{key:t.toString()}),t}function Qc(n,t){return uv(n.databaseId,t.path)}function Dr(n,t){const e=xR(t);if(e.get(1)!==n.databaseId.projectId)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new lt(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(MR(e))}function DR(n,t){return uv(n.databaseId,t)}function VR(n){const t=xR(n);return t.length===4?Ht.emptyPath():MR(t)}function Jy(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MR(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function aw(n,t,e){return{name:Qc(n,t),fields:e.value.mapValue.fields}}function H4(n,t,e){const i=Dr(n,t.name),a=Je(t.updateTime),l=t.createTime?Je(t.createTime):Tt.min(),u=new cn({mapValue:{fields:t.fields}}),f=pe.newFoundDocument(i,a,l,u);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function G4(n,t){return"found"in t?(function(i,a){_t(!!a.found,43571),a.found.name,a.found.updateTime;const l=Dr(i,a.found.name),u=Je(a.found.updateTime),f=a.found.createTime?Je(a.found.createTime):Tt.min(),m=new cn({mapValue:{fields:a.found.fields}});return pe.newFoundDocument(l,u,f,m)})(n,t):"missing"in t?(function(i,a){_t(!!a.missing,3894),_t(!!a.readTime,22933);const l=Dr(i,a.missing),u=Je(a.readTime);return pe.newNoDocument(l,u)})(n,t):dt(7234,{result:t})}function K4(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(_t(y===void 0||typeof y=="string",58123),je.fromBase64String(y||"")):(_t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),je.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?X.UNKNOWN:AR(p.code);return new lt(y,p.message||"")})(u);e=new RR(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Dr(n,i.document.name),l=Je(i.document.updateTime),u=i.document.createTime?Je(i.document.createTime):Tt.min(),f=new cn({mapValue:{fields:i.document.fields}}),m=pe.newFoundDocument(a,l,u,f),p=i.targetIds||[],y=i.removedTargetIds||[];e=new Sd(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Dr(n,i.document),l=i.readTime?Je(i.readTime):Tt.min(),u=pe.newNoDocument(a,l),f=i.removedTargetIds||[];e=new Sd([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Dr(n,i.document),l=i.removedTargetIds||[];e=new Sd([],l,a,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new N4(a,l),f=i.targetId;e=new IR(f,u)}}return e}function Xc(n,t){let e;if(t instanceof Kl)e={update:aw(n,t.key,t.value)};else if(t instanceof dh)e={delete:Qc(n,t.key)};else if(t instanceof Ur)e={update:aw(n,t.key,t.data),updateMask:Z4(t.fieldMask)};else{if(!(t instanceof rv))return dt(16599,{dt:t.type});e={verify:Qc(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Pl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ol)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Nl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Yc)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw dt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:q4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:dt(27497)})(n,t.precondition)),e}function t_(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?Ze.updateTime(Je(l.updateTime)):l.exists!==void 0?Ze.exists(l.exists):Ze.none()})(t.currentDocument):Ze.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,f){let m=null;if("setToServerValue"in f)_t(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),m=new Pl;else if("appendMissingElements"in f){const y=f.appendMissingElements.values||[];m=new Ol(y)}else if("removeAllFromArray"in f){const y=f.removeAllFromArray.values||[];m=new Nl(y)}else"increment"in f?m=new Yc(u,f.increment):dt(16584,{proto:f});const p=ye.fromServerFormat(f.fieldPath);return new ER(p,m)})(n,a))):[];if(t.update){t.update.name;const a=Dr(n,t.update.name),l=new cn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(m){const p=m.fieldPaths||[];return new xn(p.map((y=>ye.fromServerFormat(y))))})(t.updateMask);return new Ur(a,l,u,e,i)}return new Kl(a,l,e,i)}if(t.delete){const a=Dr(n,t.delete);return new dh(a,e)}if(t.verify){const a=Dr(n,t.verify);return new rv(a,e)}return dt(1463,{proto:t})}function Y4(n,t){return n&&n.length>0?(_t(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?Je(a.updateTime):Je(l);return u.isEqual(Tt.min())&&(u=Je(l)),new M4(u,a.transformResults||[])})(e,t)))):[]}function PR(n,t){return{documents:[DR(n,t.path)]}}function OR(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=DR(n,a);const l=(function(p){if(p.length!==0)return LR(te.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(b){return{field:sl(b.field),direction:X4(b.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const f=$y(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function NR(n){let t=VR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){_t(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const b=kR(v);return b instanceof te&&nv(b)?b.getFilters():[b]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((b=>(function(D){return new Wd(al(D.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(D.direction))})(b)))})(e.orderBy));let f=null;e.limit&&(f=(function(v){let b;return b=typeof v=="object"?v.value:v,lh(b)?null:b})(e.limit));let m=null;e.startAt&&(m=(function(v){const b=!!v.before,I=v.values||[];return new Vl(I,b)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const b=!v.before,I=v.values||[];return new Vl(I,b)})(e.endAt)),_4(t,a,u,l,f,"F",m,p)}function Q4(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function kR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=al(e.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=al(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=al(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=al(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(al(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return te.create(e.compositeFilter.filters.map((i=>kR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(e.compositeFilter.op))})(n):dt(30097,{filter:n})}function X4(n){return B4[n]}function W4(n){return z4[n]}function $4(n){return j4[n]}function sl(n){return{fieldPath:n.canonicalString()}}function al(n){return ye.fromServerFormat(n.fieldPath)}function LR(n){return n instanceof zt?(function(e){if(e.op==="=="){if(HS(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NAN"}};if(qS(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(HS(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NOT_NAN"}};if(qS(e.value))return{unaryFilter:{field:sl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(e.field),op:W4(e.op),value:e.value}}})(n):n instanceof te?(function(e){const i=e.getFilters().map((a=>LR(a)));return i.length===1?i[0]:{compositeFilter:{op:$4(e.op),filters:i}}})(n):dt(54877,{filter:n})}function Z4(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function UR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function BR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Cr{constructor(t,e,i,a,l=Tt.min(),u=Tt.min(),f=je.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new Cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zR{constructor(t){this.yt=t}}function J4(n,t){let e;if(t.document)e=H4(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),a=Ja(t.noDocument.readTime);e=pe.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const i=ht.fromSegments(t.unknownDocument.path),a=Ja(t.unknownDocument.version);e=pe.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new Jt(a[0],a[1]);return Tt.fromTimestamp(l)})(t.readTime)),e}function ow(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Jd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:Qc(l,u.key),fields:u.data.value.mapValue.fields,updateTime:kl(l,u.version.toTimestamp()),createTime:kl(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Za(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:Za(t.version)}}return i}function Jd(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Za(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ja(n){const t=new Jt(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function Oa(n,t){const e=(t.baseMutations||[]).map((l=>t_(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const f=t.mutations[l+1];u.updateTransforms=f.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>t_(n.yt,l))),a=Jt.fromMillis(t.localWriteTimeMs);return new sv(t.batchId,a,e,i)}function gc(n){const t=Ja(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?Ja(n.lastLimboFreeSnapshotVersion):Tt.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return _t(u===1,1966,{count:u}),si(Rm(VR(l.documents[0])))})(n.query):(function(l){return si(NR(l))})(n.query),new Cr(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,je.fromBase64String(n.resumeToken))}function jR(n,t){const e=Za(t.snapshotVersion),i=Za(t.lastLimboFreeSnapshotVersion);let a;a=$d(t.target)?PR(n.yt,t.target):OR(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$a(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function FR(n){const t=NR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Wy(t,t.limit,"L"):t}function ry(n,t){return new ov(t.largestBatchId,t_(n.yt,t.overlayMutation))}function lw(n,t){const e=t.path.lastSegment();return[n,pn(t.path.popLast()),e]}function uw(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:Za(i.readTime),documentKey:pn(i.documentKey.path),largestBatchId:i.largestBatchId}}class t3{getBundleMetadata(t,e){return cw(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:Ja(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return cw(t).put((function(a){return{bundleId:a.id,createTime:Za(Je(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return hw(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:FR(l.bundledQuery),readTime:Ja(l.readTime)}})(i)}))}saveNamedQuery(t,e){return hw(t).put((function(a){return{name:a.name,readTime:Za(Je(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function cw(n){return Ye(n,bm)}function hw(n){return Ye(n,Sm)}class Mm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new Mm(t,i)}getOverlay(t,e){return ac(t).get(lw(this.userId,e)).next((i=>i?ry(this.serializer,i):null))}getOverlays(t,e){const i=Ji();return z.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const f=new ov(e,u);a.push(this.bt(t,f))})),z.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(pn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(ac(t).X(Fy,f))})),z.waitFor(l)}getOverlaysForCollection(t,e,i){const a=Ji(),l=pn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return ac(t).H(Fy,u).next((f=>{for(const m of f){const p=ry(this.serializer,m);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=Ji();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return ac(t).ee({index:FI,range:f},((m,p,y)=>{const v=ry(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return ac(t).put((function(a,l,u){const[f,m,p]=lw(l,u.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Xc(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function ac(n){return Ye(n,wm)}class e3{St(t){return Ye(t,$_)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const i=e?.value;return i?je.fromUint8Array(i):je.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Na{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(me(t.integerValue));else if("doubleValue"in t){const i=me(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),Bc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=Pr(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Or(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?tR(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Im(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):dt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=xl,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(me(l)),this.Ot(a,e),this.Ct(i[a],e)}qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.$t(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Na.Wt=new Na;const Zo=255;function n3(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function fw(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=n3(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class i3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ht(i.value),i=e.next();this.Jt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),i=fw(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=fw(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(Zo),this.sn(255)}_n(){this.an(Zo),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===Zo?(this.sn(Zo),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===Zo?(this.an(Zo),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class r3{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class s3{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class oc{constructor(){this.cn=new i3,this.ascending=new r3(this.cn),this.descending=new s3(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class ka{constructor(t,e,i,a){this.hn=t,this.Pn=e,this.Tn=i,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.In,0),e!==t?i.set([0],this.In.length):++i[i.length-1],new ka(this.hn,this.Pn,this.Tn,i)}Rn(t,e,i){return{indexId:this.hn,uid:t,arrayValue:wd(this.Tn),directionalValue:wd(this.In),orderedDocumentKey:wd(e),documentKey:i.path.toArray()}}An(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Ts(n,t){let e=n.hn-t.hn;return e!==0?e:(e=dw(n.Tn,t.Tn),e!==0?e:(e=dw(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function dw(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function wd(n){return O1()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function mw(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class pw{constructor(t){this.Vn=new ee(((e,i)=>ye.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=By(t);if(e!==void 0&&!this.pn(e))return!1;const i=Da(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.pn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const f=this.Vn.getIterator().getNext();if(!a.has(f.field.canonicalString())){const m=i[l];if(!this.yn(f,m)||!this.wn(this.dn[u++],m))return!1}++l}for(;l<i.length;++l){const f=i[l];if(u>=this.dn.length||!this.wn(this.dn[u++],f))return!1}return!0}bn(){if(this.fn)return null;let t=new ee(ye.comparator);const e=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new gd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new gd(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new gd(i.field,i.dir==="asc"?0:1)));return new Gd(Gd.UNKNOWN_ID,this.collectionId,e,Uc.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function qR(n){if(_t(n instanceof zt||n instanceof te,20012),n instanceof zt){if(n instanceof uR){const e=n.value.arrayValue?.values?.map((i=>zt.create(n.field,"==",i)))||[];return te.create(e,"or")}return n}const t=n.filters.map((e=>qR(e)));return te.create(t,n.op)}function a3(n){if(n.getFilters().length===0)return[];const t=i_(qR(n));return _t(HR(t),7391),e_(t)||n_(t)?[t]:t.getFilters()}function e_(n){return n instanceof zt}function n_(n){return n instanceof te&&nv(n)}function HR(n){return e_(n)||n_(n)||(function(e){if(e instanceof te&&Ky(e)){for(const i of e.getFilters())if(!e_(i)&&!n_(i))return!1;return!0}return!1})(n)}function i_(n){if(_t(n instanceof zt||n instanceof te,34018),n instanceof zt)return n;if(n.filters.length===1)return i_(n.filters[0]);const t=n.filters.map((i=>i_(i)));let e=te.create(t,n.op);return e=tm(e),HR(e)?e:(_t(e instanceof te,64498),_t(Ml(e),40251),_t(e.filters.length>1,57927),e.filters.reduce(((i,a)=>cv(i,a))))}function cv(n,t){let e;return _t(n instanceof zt||n instanceof te,38388),_t(t instanceof zt||t instanceof te,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return te.create([a,l],"and")})(n,t):gw(n,t):t instanceof zt?gw(t,n):(function(a,l){if(_t(a.filters.length>0&&l.filters.length>0,48005),Ml(a)&&Ml(l))return aR(a,l.getFilters());const u=Ky(a)?a:l,f=Ky(a)?l:a,m=u.filters.map((p=>cv(p,f)));return te.create(m,"or")})(n,t),tm(e)}function gw(n,t){if(Ml(t))return aR(t,n.getFilters());{const e=t.filters.map((i=>cv(n,i)));return te.create(e,"or")}}function tm(n){if(_t(n instanceof zt||n instanceof te,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return tm(t[0]);if(rR(n))return n;const e=t.map((a=>tm(a))),i=[];return e.forEach((a=>{a instanceof zt?i.push(a):a instanceof te&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:te.create(i,n.op)}class o3{constructor(){this.Sn=new hv}addToCollectionParentIndex(t,e){return this.Sn.add(e),z.resolve()}getCollectionParents(t,e){return z.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return z.resolve()}deleteFieldIndex(t,e){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,e){return z.resolve()}getDocumentsMatchingTarget(t,e){return z.resolve(null)}getIndexType(t,e){return z.resolve(0)}getFieldIndexes(t,e){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,e){return z.resolve(Fn.min())}getMinOffsetFromCollectionGroup(t,e){return z.resolve(Fn.min())}updateCollectionGroup(t,e,i){return z.resolve()}updateIndexEntries(t,e){return z.resolve()}}class hv{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ee(Ht.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ee(Ht.comparator)).toArray()}}const yw="IndexedDbIndexManager",id=new Uint8Array(0);class l3{constructor(t,e){this.databaseId=e,this.Dn=new hv,this.Cn=new Lr((i=>$a(i)),((i,a)=>ch(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:i,parent:pn(a)};return _w(t).put(l)}return z.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[DI(e),""],!1,!0);return _w(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Zi(u.parent))}return i}))}addFieldIndex(t,e){const i=lc(t),a=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=tl(t);return l.next((f=>{u.put(uw(f,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=lc(t),a=tl(t),l=Jo(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=lc(t),i=Jo(t),a=tl(t);return e.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(t,e){return z.forEach(this.vn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new pw(i).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=Jo(t);let a=!0;const l=new Map;return z.forEach(this.vn(e),(u=>this.Fn(t,u).next((f=>{a&&(a=!!f),l.set(u,f)})))).next((()=>{if(a){let u=Pt();const f=[];return z.forEach(l,((m,p)=>{at(yw,`Using index ${(function(Y){return`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map((it=>`${it.fieldPath}:${it.kind}`)).join(",")}`})(m)} to execute ${$a(e)}`);const y=(function(Y,it){const rt=By(it);if(rt===void 0)return null;for(const ct of Zd(Y,rt.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null})(p,m),v=(function(Y,it){const rt=new Map;for(const ct of Da(it))for(const C of Zd(Y,ct.fieldPath))switch(C.op){case"==":case"in":rt.set(ct.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return rt.set(ct.fieldPath.canonicalString(),C.value),Array.from(rt.values())}return null})(p,m),b=(function(Y,it){const rt=[];let ct=!0;for(const C of Da(it)){const A=C.kind===0?XS(Y,C.fieldPath,Y.startAt):WS(Y,C.fieldPath,Y.startAt);rt.push(A.value),ct&&(ct=A.inclusive)}return new Vl(rt,ct)})(p,m),I=(function(Y,it){const rt=[];let ct=!0;for(const C of Da(it)){const A=C.kind===0?WS(Y,C.fieldPath,Y.endAt):XS(Y,C.fieldPath,Y.endAt);rt.push(A.value),ct&&(ct=A.inclusive)}return new Vl(rt,ct)})(p,m),D=this.Mn(m,p,b),U=this.Mn(m,p,I),B=this.xn(m,p,v),Q=this.On(m.indexId,y,D,b.inclusive,U,I.inclusive,B);return z.forEach(Q,(Z=>i.Z(Z,e.limit).next((Y=>{Y.forEach((it=>{const rt=ht.fromSegments(it.documentKey);u.has(rt)||(u=u.add(rt),f.push(rt))}))}))))})).next((()=>f))}return z.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=a3(te.create(t.filters,"and")).map((i=>Qy(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,i,a,l,u,f){const m=(e!=null?e.length:1)*Math.max(i.length,l.length),p=m/(e!=null?e.length:1),y=[];for(let v=0;v<m;++v){const b=e?this.Nn(e[v/p]):id,I=this.Bn(t,b,i[v%p],a),D=this.Ln(t,b,l[v%p],u),U=f.map((B=>this.Bn(t,b,B,!0)));y.push(...this.createRange(I,D,U))}return y}Bn(t,e,i,a){const l=new ka(t,ht.empty(),e,i);return a?l:l.En()}Ln(t,e,i,a){const l=new ka(t,ht.empty(),e,i);return a?l.En():l}Fn(t,e){const i=new pw(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const f of l)i.gn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u}))}getIndexType(t,e){let i=2;const a=this.vn(e);return z.forEach(a,(l=>this.Fn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(m){let p=new ee(ye.comparator),y=!1;for(const v of m.filters)for(const b of v.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?y=!0:p=p.add(b.field));for(const v of m.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}kn(t,e){const i=new oc;for(const a of Da(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.ln(a.kind);Na.Wt.Dt(l,u)}return i.un()}Nn(t){const e=new oc;return Na.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const i=new oc;return Na.Wt.Dt(Gc(this.databaseId,e),i.ln((function(l){const u=Da(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}xn(t,e,i){if(i===null)return[];let a=[];a.push(new oc);let l=0;for(const u of Da(t)){const f=i[l++];for(const m of a)if(this.qn(e,u.fieldPath)&&Kc(f))a=this.Un(a,u,f);else{const p=m.ln(u.kind);Na.Wt.Dt(f,p)}}return this.$n(a)}Mn(t,e,i){return this.xn(t,e,i.position)}$n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Un(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const f of a){const m=new oc;m.seed(f.un()),Na.Wt.Dt(u,m.ln(e.kind)),l.push(m)}return l}qn(t,e){return!!t.filters.find((i=>i instanceof zt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=lc(t),a=tl(t);return(e?i.H(jy,IDBKeyRange.bound(e,e)):i.H()).next((l=>{const u=[];return z.forEach(l,(f=>a.get([f.indexId,this.uid]).next((m=>{u.push((function(y,v){const b=v?new Uc(v.sequenceNumber,new Fn(Ja(v.readTime),new ht(Zi(v.documentKey)),v.largestBatchId)):Uc.empty(),I=y.fields.map((([D,U])=>new gd(ye.fromServerFormat(D),U)));return new Gd(y.indexId,y.collectionGroup,I,b)})(f,m))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=lc(t),l=tl(t);return this.Wn(t).next((u=>a.H(jy,IDBKeyRange.bound(e,e)).next((f=>z.forEach(f,(m=>l.put(uw(m.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return z.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?z.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((f=>(i.set(a.collectionGroup,f),z.forEach(f,(m=>this.Qn(t,a,m).next((p=>{const y=this.Gn(l,m);return p.isEqual(y)?z.resolve():this.zn(t,l,m,p,y)})))))))}))}jn(t,e,i,a){return Jo(t).put(a.Rn(this.uid,this.Kn(i,e.key),e.key))}Hn(t,e,i,a){return Jo(t).delete(a.An(this.uid,this.Kn(i,e.key),e.key))}Qn(t,e,i){const a=Jo(t);let l=new ee(Ts);return a.ee({index:jI,range:IDBKeyRange.only([i.indexId,this.uid,wd(this.Kn(i,e))])},((u,f)=>{l=l.add(new ka(i.indexId,e,mw(f.arrayValue),mw(f.directionalValue)))})).next((()=>l))}Gn(t,e){let i=new ee(Ts);const a=this.kn(e,t);if(a==null)return i;const l=By(e);if(l!=null){const u=t.data.field(l.fieldPath);if(Kc(u))for(const f of u.arrayValue.values||[])i=i.add(new ka(e.indexId,t.key,this.Nn(f),a))}else i=i.add(new ka(e.indexId,t.key,id,a));return i}zn(t,e,i,a,l){at(yw,"Updating index entries for document '%s'",e.key);const u=[];return(function(m,p,y,v,b){const I=m.getIterator(),D=p.getIterator();let U=$o(I),B=$o(D);for(;U||B;){let Q=!1,Z=!1;if(U&&B){const Y=y(U,B);Y<0?Z=!0:Y>0&&(Q=!0)}else U!=null?Z=!0:Q=!0;Q?(v(B),B=$o(D)):Z?(b(U),U=$o(I)):(U=$o(I),B=$o(D))}})(a,l,Ts,(f=>{u.push(this.jn(t,e,i,f))}),(f=>{u.push(this.Hn(t,e,i,f))})),z.waitFor(u)}Wn(t){let e=1;return tl(t).ee({index:zI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,f)=>Ts(u,f))).filter(((u,f,m)=>!f||Ts(u,m[f-1])!==0));const a=[];a.push(t);for(const u of i){const f=Ts(u,t),m=Ts(u,e);if(f===0)a[0]=t.En();else if(f>0&&m<0)a.push(u),a.push(u.En());else if(m>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const f=a[u].An(this.uid,id,ht.empty()),m=a[u+1].An(this.uid,id,ht.empty());l.push(IDBKeyRange.bound(f,m))}return l}Jn(t,e){return Ts(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(vw)}getMinOffset(t,e){return z.mapArray(this.vn(e),(i=>this.Fn(t,i).next((a=>a||dt(44426))))).next(vw)}}function _w(n){return Ye(n,Fc)}function Jo(n){return Ye(n,Ac)}function lc(n){return Ye(n,W_)}function tl(n){return Ye(n,wc)}function vw(n){_t(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;Y_(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Fn(t.readTime,t.documentKey,e)}const Tw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GR=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}function KR(n,t,e){const i=n.store(Ei),a=n.store(Al),l=[],u=IDBKeyRange.only(e.batchId);let f=0;const m=i.ee({range:u},((y,v,b)=>(f++,b.delete())));l.push(m.next((()=>{_t(f===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=LI(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return z.waitFor(l).next((()=>p))}function em(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw dt(14731);t=n.noDocument}return JSON.stringify(t).length}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(GR,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class Pm{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(t,e,i,a){_t(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Pm(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Es(t).ee({index:Ua,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=ol(t),u=Es(t);return u.add({}).next((f=>{_t(typeof f=="number",49019);const m=new sv(f,e,i,a),p=(function(I,D,U){const B=U.baseMutations.map((Z=>Xc(I.yt,Z))),Q=U.mutations.map((Z=>Xc(I.yt,Z)));return{userId:D,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:B,mutations:Q}})(this.serializer,this.userId,m),y=[];let v=new ee(((b,I)=>It(b.canonicalString(),I.canonicalString())));for(const b of a){const I=LI(this.userId,b.key.path,f);v=v.add(b.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,Nk))}return v.forEach((b=>{y.push(this.indexManager.addToCollectionParentIndex(t,b))})),t.addOnCommittedListener((()=>{this.Zn[f]=m.keys()})),z.waitFor(y).next((()=>m))}))}lookupMutationBatch(t,e){return Es(t).get(e).next((i=>i?(_t(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Oa(this.serializer,i)):null))}Xn(t,e){return this.Zn[e]?z.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Es(t).ee({index:Ua,range:a},((u,f,m)=>{f.userId===this.userId&&(_t(f.batchId>=i,47524,{Yn:i}),l=Oa(this.serializer,f)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=qa;return Es(t).ee({index:Ua,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,qa],[this.userId,Number.POSITIVE_INFINITY]);return Es(t).H(Ua,e).next((i=>i.map((a=>Oa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=yd(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return ol(t).ee({range:a},((u,f,m)=>{const[p,y,v]=u,b=Zi(y);if(p===this.userId&&e.path.isEqual(b))return Es(t).get(v).next((I=>{if(!I)throw dt(61480,{er:u,batchId:v});_t(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(Oa(this.serializer,I))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ee(It);const a=[];return e.forEach((l=>{const u=yd(this.userId,l.path),f=IDBKeyRange.lowerBound(u),m=ol(t).ee({range:f},((p,y,v)=>{const[b,I,D]=p,U=Zi(I);b===this.userId&&l.path.isEqual(U)?i=i.add(D):v.done()}));a.push(m)})),z.waitFor(a).next((()=>this.tr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=yd(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new ee(It);return ol(t).ee({range:u},((m,p,y)=>{const[v,b,I]=m,D=Zi(b);v===this.userId&&i.isPrefixOf(D)?D.length===a&&(f=f.add(I)):y.done()})).next((()=>this.tr(t,f)))}tr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(Es(t).get(l).next((u=>{if(u===null)throw dt(35274,{batchId:l});_t(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(Oa(this.serializer,u))})))})),z.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return KR(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),z.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return z.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return ol(t).ee({range:i},((l,u,f)=>{if(l[0]===this.userId){const m=Zi(l[1]);a.push(m)}else f.done()})).next((()=>{_t(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return YR(t,this.userId,e)}ir(t){return QR(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:qa,lastStreamToken:""}))}}function YR(n,t,e){const i=yd(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return ol(n).ee({range:l,Y:!0},((f,m,p)=>{const[y,v,b]=f;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function Es(n){return Ye(n,Ei)}function ol(n){return Ye(n,Al)}function QR(n){return Ye(n,zc)}class to{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new to(0)}static ar(){return new to(-1)}}class u3{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const i=new to(e.highestTargetId);return e.highestTargetId=i.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Tt.fromTimestamp(new Jt(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((i=>(i.targetCount+=1,this.hr(e,i),this.cr(t,i))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>el(t).delete(e.targetId))).next((()=>this.ur(t))).next((i=>(_t(i.targetCount>0,8065),i.targetCount-=1,this.cr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return el(t).ee(((u,f)=>{const m=gc(f);m.sequenceNumber<=e&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))})).next((()=>z.waitFor(l))).next((()=>a))}forEachTarget(t,e){return el(t).ee(((i,a)=>{const l=gc(a);e(l)}))}ur(t){return Ew(t).get(Qd).next((e=>(_t(e!==null,2888),e)))}cr(t,e){return Ew(t).put(Qd,e)}lr(t,e){return el(t).put(jR(this.serializer,e))}hr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const i=$a(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return el(t).ee({range:a,index:BI},((u,f,m)=>{const p=gc(f);ch(e,p.target)&&(l=p,m.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=Rs(t);return e.forEach((u=>{const f=pn(u.path);a.push(l.put({targetId:i,path:f})),a.push(this.referenceDelegate.addReference(t,i,u))})),z.waitFor(a)}removeMatchingKeys(t,e,i){const a=Rs(t);return z.forEach(e,(l=>{const u=pn(l.path);return z.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=Rs(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Rs(t);let l=Pt();return a.ee({range:i,Y:!0},((u,f,m)=>{const p=Zi(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=pn(e.path),a=IDBKeyRange.bound([i],[DI(i)],!1,!0);let l=0;return Rs(t).ee({index:X_,Y:!0,range:a},(([u,f],m,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return el(t).get(e).next((i=>i?gc(i):null))}}function el(n){return Ye(n,Il)}function Ew(n){return Ye(n,Ha)}function Rs(n){return Ye(n,Rl)}const bw="LruGarbageCollector",c3=1048576;function Sw([n,t],[e,i]){const a=It(n,e);return a===0?It(t,i):a}class h3{constructor(t){this.Pr=t,this.buffer=new ee(Sw),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Sw(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class XR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(bw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ks(e)?at(bw,"Ignoring IndexedDB error during garbage collection: ",e):await no(e)}await this.Ar(3e5)}))}}class f3{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return z.resolve(ii.ce);const i=new h3(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Tw)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tw):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,f=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),il()<=Bt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function WR(n,t){return new f3(n,t)}class d3{constructor(t,e){this.db=t,this.garbageCollector=WR(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((i,a)=>e(a)))}addReference(t,e,i){return rd(t,i)}removeReference(t,e,i){return rd(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return rd(t,e)}wr(t,e){return(function(a,l){let u=!1;return QR(a).te((f=>YR(a,f,l).next((m=>(m&&(u=!0),z.resolve(!m)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,f)=>{if(f<=e){const m=this.wr(t,u).next((p=>{if(!p)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,Tt.min()),Rs(t).delete((function(v){return[0,pn(v.path)]})(u)))))}));a.push(m)}})).next((()=>z.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return rd(t,e)}yr(t,e){const i=Rs(t);let a,l=ii.ce;return i.ee({index:X_},(([u,f],{path:m,sequenceNumber:p})=>{u===0?(l!==ii.ce&&e(new ht(Zi(a)),l),l=p,a=m):l=ii.ce})).next((()=>{l!==ii.ce&&e(new ht(Zi(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function rd(n,t){return Rs(n).put((function(i,a){return{targetId:0,path:pn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class $R{constructor(){this.changes=new Lr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,pe.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?z.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class m3{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ia(t).put(i)}removeEntry(t,e,i){return Ia(t).delete((function(l,u){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Jd(u),f[f.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.br(t,i))))}getEntry(t,e){let i=pe.newInvalidDocument(e);return Ia(t).ee({index:_d,range:IDBKeyRange.only(uc(e))},((a,l)=>{i=this.Sr(e,l)})).next((()=>i))}Dr(t,e){let i={size:0,document:pe.newInvalidDocument(e)};return Ia(t).ee({index:_d,range:IDBKeyRange.only(uc(e))},((a,l)=>{i={document:this.Sr(e,l),size:em(l)}})).next((()=>i))}getEntries(t,e){let i=jn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);i=i.insert(a,u)})).next((()=>i))}vr(t,e){let i=jn(),a=new ge(ht.comparator);return this.Cr(t,e,((l,u)=>{const f=this.Sr(l,u);i=i.insert(l,f),a=a.insert(l,em(u))})).next((()=>({documents:i,Fr:a})))}Cr(t,e,i){if(e.isEmpty())return z.resolve();let a=new ee(Iw);e.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(uc(a.first()),uc(a.last())),u=a.getIterator();let f=u.getNext();return Ia(t).ee({index:_d,range:l},((m,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;f&&Iw(f,v)<0;)i(f,null),f=u.getNext();f&&f.isEqual(v)&&(i(f,p),f=u.hasNext()?u.getNext():null),f?y.j(uc(f)):y.done()})).next((()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,f=[u.popLast().toArray(),u.lastSegment(),Jd(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ia(t).H(IDBKeyRange.bound(f,m,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=jn();for(const v of p){const b=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);b.isFoundDocument()&&(fh(e,b)||a.has(b.key))&&(y=y.insert(b.key,b))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=jn();const u=Aw(e,i),f=Aw(e,Fn.max());return Ia(t).ee({index:UI,range:IDBKeyRange.bound(u,f,!0)},((m,p,y)=>{const v=this.Sr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new p3(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return ww(t).get(zy).next((e=>(_t(!!e,20021),e)))}br(t,e){return ww(t).put(zy,e)}Sr(t,e){if(e){const i=J4(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Tt.min())))return i}return pe.newInvalidDocument(t)}}function ZR(n){return new m3(n)}class p3 extends $R{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new Lr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new ee(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const f=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,f.readTime)),u.isValidDocument()){const m=ow(this.Mr.serializer,u);a=a.add(l.path.popLast());const p=em(m);i+=p-f.size,e.push(this.Mr.addEntry(t,l,m))}else if(i-=f.size,this.trackRemovals){const m=ow(this.Mr.serializer,u.convertToNoDocument(Tt.min()));e.push(this.Mr.addEntry(t,l,m))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,i)),z.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((i=>(this.Or.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:i,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function ww(n){return Ye(n,jc)}function Ia(n){return Ye(n,Yd)}function uc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Aw(n,t){const e=t.documentKey.path.toArray();return[n,Jd(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Iw(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=It(e[l],i[l]),a)return a;return a=It(e.length,i.length),a||(a=It(e[e.length-2],i[i.length-2]),a||It(e[e.length-1],i[i.length-1]))}class g3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class JR{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&xc(i.mutation,a,xn.empty(),Jt.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Pt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Pt()){const a=Ji();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=mc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=Ji();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Pt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,f)=>{e.set(u,f)}))}))}computeViews(t,e,i,a){let l=jn();const u=Cc(),f=(function(){return Cc()})();return e.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Ur)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),xc(y.mutation,p,y.mutation.getFieldMask(),Jt.now())):u.set(p.key,xn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>f.set(p,new g3(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(t,e){const i=Cc();let a=new ge(((u,f)=>u-f)),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let y=i.get(m)||xn.empty();y=f.applyToLocalView(p,y),i.set(m,y);const v=(a.get(f.batchId)||Pt()).add(m);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,v=pR();y.forEach((b=>{if(!l.has(b)){const I=bR(e.get(b),i.get(b));I!==null&&v.set(b,I),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return z.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return v4(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):cR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):z.resolve(Ji());let f=Lc,m=l;return u.next((p=>z.forEach(p,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?z.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Pt()))).next((y=>({batchId:f,changes:mR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let a=mc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=mc();return this.indexManager.getCollectionParents(t,l).next((f=>z.forEach(f,(m=>{const p=(function(v,b){return new hh(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,pe.newInvalidDocument(y)))}));let f=mc();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&xc(y.mutation,p,xn.empty(),Jt.now()),fh(e,p)&&(f=f.insert(m,p))})),f}))}}class y3{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return z.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Je(a.createTime)}})(e)),z.resolve()}getNamedQuery(t,e){return z.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:FR(a.bundledQuery),readTime:Je(a.readTime)}})(e)),z.resolve()}}class _3{constructor(){this.overlays=new ge(ht.comparator),this.Lr=new Map}getOverlay(t,e){return z.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ji();return z.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.bt(t,e,l)})),z.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),z.resolve()}getOverlaysForCollection(t,e,i){const a=Ji(),l=e.length+1,u=new ht(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return z.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new ge(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=Ji(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=Ji(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return z.resolve(f)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new ov(e,i));let l=this.Lr.get(e);l===void 0&&(l=Pt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(i.key))}}class v3{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,z.resolve()}}class fv{constructor(){this.kr=new ee($e.Kr),this.qr=new ee($e.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new $e(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new $e(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new ht(new Ht([])),i=new $e(e,t),a=new $e(e,t+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Ht([])),i=new $e(e,t),a=new $e(e,t+1);let l=Pt();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new $e(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class $e{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||It(t.Hr,e.Hr)}static Ur(t,e){return It(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class T3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ee($e.Kr)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new sv(l,e,i,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new $e(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return z.resolve(u)}lookupMutationBatch(t,e){return z.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),l=a<0?0:a;return z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?qa:this.Yn-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $e(e,0),a=new $e(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ee(It);return e.forEach((a=>{const l=new $e(a,0),u=new $e(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{i=i.add(f.Hr)}))})),z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const u=new $e(new ht(l),0);let f=new ee(It);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),z.resolve(this.Yr(f))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){_t(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return z.forEach(e.mutations,(a=>{const l=new $e(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new $e(e,0),a=this.Jr.firstAfterOrEqual(i);return z.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class E3{constructor(t){this.ti=t,this.docs=(function(){return new ge(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return z.resolve(i?i.document.mutableCopy():pe.newInvalidDocument(e))}getEntries(t,e){let i=jn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():pe.newInvalidDocument(a))})),z.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=jn();const u=e.path,f=new ht(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||Y_(PI(y),i)<=0||(a.has(y.key)||fh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return z.resolve(l)}getAllFromCollectionGroup(t,e,i,a){dt(9500)}ni(t,e){return z.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new b3(this)}getSize(t){return z.resolve(this.size)}}class b3 extends $R{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),z.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class S3{constructor(t){this.persistence=t,this.ri=new Lr((e=>$a(e)),ch),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new fv,this.targetCount=0,this.oi=to._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),z.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new to(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,z.resolve()}updateTargetData(t,e){return this.lr(e),z.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),z.waitFor(l).next((()=>a))}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return z.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),z.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),z.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),z.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return z.resolve(i)}containsKey(t,e){return z.resolve(this.si.containsKey(e))}}class dv{constructor(t,e){this._i={},this.overlays={},this.ai=new ii(0),this.ui=!1,this.ui=!0,this.ci=new v3,this.referenceDelegate=t(this),this.li=new S3(this),this.indexManager=new o3,this.remoteDocumentCache=(function(a){return new E3(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new zR(e),this.Pi=new y3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new _3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new T3(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const a=new w3(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return z.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class w3 extends NI{constructor(t){super(),this.currentSequenceNumber=t}}class Om{constructor(t){this.persistence=t,this.Ri=new fv,this.Ai=null}static Vi(t){return new Om(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),z.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),z.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),z.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,(i=>{const a=ht.fromPath(i);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return z.or([()=>z.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class nm{constructor(t,e){this.persistence=t,this.fi=new Lr((i=>pn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=WR(this,e)}static Vi(t,e){return new nm(t,e)}Ti(){}Ii(t){return z.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return z.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((l=>l?z.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((f=>{f||(i++,l.removeEntry(u,Tt.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),z.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),z.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),z.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Td(t.data.value)),e}wr(t,e,i){return z.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return z.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class A3{constructor(t){this.serializer=t}k(t,e,i,a){const l=new Em("createOrUpgrade",e);i<1&&a>=1&&((function(m){m.createObjectStore(uh)})(t),(function(m){m.createObjectStore(zc,{keyPath:Ok}),m.createObjectStore(Ei,{keyPath:LS,autoIncrement:!0}).createIndex(Ua,US,{unique:!0}),m.createObjectStore(Al)})(t),Rw(t),(function(m){m.createObjectStore(Va)})(t));let u=z.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(Rl),m.deleteObjectStore(Il),m.deleteObjectStore(Ha)})(t),Rw(t)),u=u.next((()=>(function(m){const p=m.store(Ha),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return p.put(Qd,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(m,p){return p.store(Ei).H().next((v=>{m.deleteObjectStore(Ei),m.createObjectStore(Ei,{keyPath:LS,autoIncrement:!0}).createIndex(Ua,US,{unique:!0});const b=p.store(Ei),I=v.map((D=>b.put(D)));return z.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(m){m.createObjectStore(Cl,{keyPath:qk})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(m){m.createObjectStore(jc)})(t),this.pi(l))))),i<7&&a>=7&&(u=u.next((()=>this.yi(l)))),i<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(m){m.createObjectStore(bm,{keyPath:Hk})})(t),(function(m){m.createObjectStore(Sm,{keyPath:Gk})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(m){const p=m.createObjectStore(wm,{keyPath:Zk});p.createIndex(Fy,Jk,{unique:!1}),p.createIndex(FI,t4,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(m){const p=m.createObjectStore(Yd,{keyPath:kk});p.createIndex(_d,Lk),p.createIndex(UI,Uk)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(Va)))),i<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(m){m.createObjectStore(W_,{keyPath:Kk,autoIncrement:!0}).createIndex(jy,Yk,{unique:!1}),m.createObjectStore(wc,{keyPath:Qk}).createIndex(zI,Xk,{unique:!1}),m.createObjectStore(Ac,{keyPath:Wk}).createIndex(jI,$k,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(wc).clear()})).next((()=>{e.objectStore(Ac).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(m){m.createObjectStore($_,{keyPath:e4})})(t)}))),i<18&&a>=18&&O1()&&(u=u.next((()=>{e.objectStore(wc).clear()})).next((()=>{e.objectStore(Ac).clear()}))),u}pi(t){let e=0;return t.store(Va).ee(((i,a)=>{e+=em(a)})).next((()=>{const i={byteSize:e};return t.store(jc).put(zy,i)}))}gi(t){const e=t.store(zc),i=t.store(Ei);return e.H().next((a=>z.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,qa],[l.userId,l.lastAcknowledgedBatchId]);return i.H(Ua,u).next((f=>z.forEach(f,(m=>{_t(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=Oa(this.serializer,m);return KR(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const e=t.store(Rl),i=t.store(Va);return t.store(Ha).get(Qd).next((a=>{const l=[];return i.ee(((u,f)=>{const m=new Ht(u),p=(function(v){return[0,pn(v)]})(m);l.push(e.get(p).next((y=>y?z.resolve():(v=>e.put({targetId:0,path:pn(v),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>z.waitFor(l)))}))}wi(t,e){t.createObjectStore(Fc,{keyPath:Fk});const i=e.store(Fc),a=new hv,l=u=>{if(a.add(u)){const f=u.lastSegment(),m=u.popLast();return i.put({collectionId:f,parent:pn(m)})}};return e.store(Va).ee({Y:!0},((u,f)=>{const m=new Ht(u);return l(m.popLast())})).next((()=>e.store(Al).ee({Y:!0},(([u,f,m],p)=>{const y=Zi(f);return l(y.popLast())}))))}bi(t){const e=t.store(Il);return e.ee(((i,a)=>{const l=gc(a),u=jR(this.serializer,l);return e.put(u)}))}Si(t,e){const i=e.store(Va),a=[];return i.ee(((l,u)=>{const f=e.store(Yd),m=(function(v){return v.document?new ht(Ht.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):dt(36783)})(u).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(f.put(p))})).next((()=>z.waitFor(a)))}Di(t,e){const i=e.store(Ei),a=ZR(this.serializer),l=new dv(Om.Vi,this.serializer.yt);return i.H().next((u=>{const f=new Map;return u.forEach((m=>{let p=f.get(m.userId)??Pt();Oa(this.serializer,m).keys().forEach((y=>p=p.add(y))),f.set(m.userId,p)})),z.forEach(f,((m,p)=>{const y=new ln(p),v=Mm.wt(this.serializer,y),b=l.getIndexManager(y),I=Pm.wt(y,this.serializer,b,l.referenceDelegate);return new JR(a,I,v,b).recalculateAndSaveOverlaysForDocumentKeys(new qy(e,ii.ce),m).next()}))}))}}function Rw(n){n.createObjectStore(Rl,{keyPath:zk}).createIndex(X_,jk,{unique:!0}),n.createObjectStore(Il,{keyPath:"targetId"}).createIndex(BI,Bk,{unique:!0}),n.createObjectStore(Ha)}const bs="IndexedDbPersistence",sy=18e5,ay=5e3,oy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",I3="main";class mv{constructor(t,e,i,a,l,u,f,m,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ci=l,this.window=u,this.document=f,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=b=>Promise.resolve(),!mv.v())throw new lt(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new d3(this,a),this.Ki=e+I3,this.serializer=new zR(m),this.qi=new Ns(this.Ki,this.xi,new A3(this.serializer)),this.ci=new e3,this.li=new u3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ZR(this.serializer),this.Pi=new t3,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&vn(bs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(X.FAILED_PRECONDITION,oy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new ii(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>sd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(Ks(t))return at(bs,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at(bs,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return cc(t).get(Wo).next((e=>z.resolve(this.Xi(e))))}Yi(t){return sd(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,sy)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Ye(e,Cl);return i.H().next((a=>{const l=this.ns(a,sy),u=a.filter((f=>l.indexOf(f)===-1));return z.forEach(u,(f=>i.delete(f.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?z.resolve(!0):cc(t).get(Wo).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,ay)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new lt(X.FAILED_PRECONDITION,oy);return!1}}return!(!this.networkEnabled||!this.inForeground)||sd(t).H().next((i=>this.ns(i,ay).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,f=this.networkEnabled===a.networkEnabled;if(l||u&&f)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&at(bs,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[uh,Cl],(t=>{const e=new qy(t,ii.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((i=>this.ts(i.updateTimeMs,e)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>sd(t).H().next((e=>this.ns(e,sy).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Pm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new l3(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return Mm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,i){at(bs,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?r4:m===17?KI:m===16?i4:m===15?Z_:m===14?GI:m===13?HI:m===12?n4:m===11?qI:void dt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(f=>(u=new qy(f,this.ai?this.ai.next():ii.ce),e==="readwrite-primary"?this.ji(u).next((m=>!!m||this.Hi(u))).next((m=>{if(!m)throw vn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new lt(X.FAILED_PRECONDITION,OI);return i(u)})).next((m=>this.Zi(u).next((()=>m)))):this.Ps(u).next((()=>i(u)))))).then((f=>(u.raiseOnCommittedEvent(),f)))}Ps(t){return cc(t).get(Wo).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,ay)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new lt(X.FAILED_PRECONDITION,oy)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return cc(t).put(Wo,e)}static v(){return Ns.v()}Ji(t){const e=cc(t);return e.get(Wo).next((i=>this.Xi(i)?(at(bs,"Releasing primary lease."),e.delete(Wo)):z.resolve()))}ts(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(vn(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;P1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return at(bs,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return vn(bs,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){vn("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function cc(n){return Ye(n,uh)}function sd(n){return Ye(n,Cl)}function R3(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class pv{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Pt(),a=Pt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new pv(t,e.fromCache,i,a)}}class C3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class tC{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return P1()?8:kI(Ke())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new C3;return this.ys(t,e,u).next((f=>{if(l.result=f,this.As)return this.ws(t,e,u,f.size)}))})).next((()=>l.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(il()<=Bt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",rl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(il()<=Bt.DEBUG&&at("QueryEngine","Query:",rl(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(il()<=Bt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",rl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(e))):z.resolve())}gs(t,e){if($S(e))return z.resolve(null);let i=si(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Wy(e,null,"F"),i=si(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Pt(...l);return this.fs.getDocuments(t,u).next((f=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.bs(e,f);return this.Ss(e,p,u,m.readTime)?this.gs(t,Wy(e,null,"F")):this.Ds(t,p,e,m)}))))})))))}ps(t,e,i,a){return $S(e)||a.isEqual(Tt.min())?z.resolve(null):this.fs.getDocuments(t,i).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,i,a)?z.resolve(null):(il()<=Bt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),rl(e)),this.Ds(t,u,e,Rk(a,Lc)).next((f=>f)))}))}bs(t,e){let i=new ee(fR(t));return e.forEach(((a,l)=>{fh(t,l)&&(i=i.add(l))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,i){return il()<=Bt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",rl(e)),this.fs.getDocumentsMatchingQuery(t,e,Fn.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const gv="LocalStore",x3=3e8;class D3{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new ge(It),this.Fs=new Lr((l=>$a(l)),ch),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new JR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function eC(n,t,e,i){return new D3(n,t,e,i)}async function nC(n,t){const e=wt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let m=Pt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function V3(n,t){const e=wt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const v=p.batch,b=v.keys();let I=z.resolve();return b.forEach((D=>{I=I.next((()=>y.getEntry(m,D))).next((U=>{const B=p.docVersions.get(D);_t(B!==null,48541),U.version.compareTo(B)<0&&(v.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))}))})),I.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Pt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function iC(n){const t=wt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function M3(n,t){const e=wt(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const f=[];t.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;f.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let I=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(je.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(v,I),(function(U,B,Q){return U.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=x3?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(b,I,y)&&f.push(e.li.updateTargetData(l,I))}));let m=jn(),p=Pt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(P3(l,u,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!i.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return z.waitFor(f).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(e.vs=a,l)))}function P3(n,t,e){let i=Pt(),a=Pt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=jn();return e.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(t.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),u=u.insert(f,m)):at(gv,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function O3(n,t){const e=wt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=qa),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function N3(n,t){const e=wt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((l=>l?(a=l,z.resolve(a)):e.li.allocateTargetId(i).next((u=>(a=new Cr(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function r_(n,t,e){const i=wt(n),a=i.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Ks(u))throw u;at(gv,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function Cw(n,t,e){const i=wt(n);let a=Tt.min(),l=Pt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=wt(m),b=v.Fs.get(y);return b!==void 0?z.resolve(v.vs.get(b)):v.li.getTargetData(p,y)})(i,u,si(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,e?a:Tt.min(),e?l:Pt()))).next((f=>(k3(i,E4(t),f),{documents:f,ks:l})))))}function k3(n,t,e){let i=n.Ms.get(t)||Tt.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(t,i)}class xw{constructor(){this.activeTargetIds=R4()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class rC{constructor(){this.vo=new xw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new xw,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class L3{Mo(t){}shutdown(){}}const Dw="ConnectivityMonitor";class Vw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Dw,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Dw,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let ad=null;function s_(){return ad===null?ad=(function(){return 268435456+Math.round(2147483648*Math.random())})():ad++,"0x"+ad.toString(16)}const ly="RestConnection",U3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class B3{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===Xd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,l){const u=s_(),f=this.Qo(t,e.toUriEncodedString());at(ly,`Sending RPC '${t}' ${u}:`,f,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=jl(p);return this.zo(t,f,m,i,y).then((v=>(at(ly,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Bs(ly,`RPC '${t}' ${u} failed with error: `,v,"url: ",f,"request:",i),v}))}jo(t,e,i,a,l,u){return this.Wo(t,e,i,a,l)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Gl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const i=U3[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class z3{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const fn="WebChannelConnection",hc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class _l extends B3{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!_l.c_){const t=II();hc(t,AI.STAT_EVENT,(e=>{e.stat===Ly.PROXY?at(fn,"STAT_EVENT: detected buffering proxy"):e.stat===Ly.NOPROXY&&at(fn,"STAT_EVENT: detected no buffering proxy")})),_l.c_=!0}}zo(t,e,i,a,l){const u=s_();return new Promise(((f,m)=>{const p=new SI;p.setWithCredentials(!0),p.listenOnce(wI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case pd.NO_ERROR:const v=p.getResponseJson();at(fn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),f(v);break;case pd.TIMEOUT:at(fn,`RPC '${t}' ${u} timed out`),m(new lt(X.DEADLINE_EXCEEDED,"Request time out"));break;case pd.HTTP_ERROR:const b=p.getStatus();if(at(fn,`RPC '${t}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I?.error;if(D&&D.status&&D.message){const U=(function(Q){const Z=Q.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Z)>=0?Z:X.UNKNOWN})(D.status);m(new lt(U,D.message))}else m(new lt(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new lt(X.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{at(fn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);at(fn,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=s_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const p=l.join("");at(fn,`Creating RPC '${t}' stream ${a}: ${p}`,f);const y=u.createWebChannel(p,f);this.I_(y);let v=!1,b=!1;const I=new z3({Ho:D=>{b?at(fn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(v||(at(fn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),at(fn,`RPC '${t}' stream ${a} sending:`,D),y.send(D))},Jo:()=>y.close()});return hc(y,dc.EventType.OPEN,(()=>{b||(at(fn,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),hc(y,dc.EventType.CLOSE,(()=>{b||(b=!0,at(fn,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),hc(y,dc.EventType.ERROR,(D=>{b||(b=!0,Bs(fn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),I.o_(new lt(X.UNAVAILABLE,"The operation could not be completed")))})),hc(y,dc.EventType.MESSAGE,(D=>{if(!b){const U=D.data[0];_t(!!U,16349);const B=U,Q=B?.error||B[0]?.error;if(Q){at(fn,`RPC '${t}' stream ${a} received error:`,Q);const Z=Q.status;let Y=(function(ct){const C=ke[ct];if(C!==void 0)return AR(C)})(Z),it=Q.message;Z==="NOT_FOUND"&&it.includes("database")&&it.includes("does not exist")&&it.includes(this.databaseId.database)&&Bs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=X.INTERNAL,it="Unknown error status: "+Z+" with message "+Q.message),b=!0,I.o_(new lt(Y,it)),y.close()}else at(fn,`RPC '${t}' stream ${a} received:`,U),I.__(U)}})),_l.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return RI()}}function j3(n){return new _l(n)}function F3(){return typeof window<"u"?window:null}function Ad(){return typeof document<"u"?document:null}function Nm(n){return new F4(n,!0)}_l.c_=!1;class yv{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&at("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Mw="PersistentStream";class sC{constructor(t,e,i,a,l,u,f,m){this.Ci=t,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yv(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===X.RESOURCE_EXHAUSTED?(vn(e.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new lt(X.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Mw,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(at(Mw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class q3 extends sC{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=K4(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Tt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?Je(u.readTime):Tt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=Jy(this.serializer),e.addTarget=(function(l,u){let f;const m=u.target;if(f=$d(m)?{documents:PR(l,m)}:{query:OR(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=CR(l,u.resumeToken);const p=$y(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Tt.min())>0){f.readTime=kl(l,u.snapshotVersion.toTimestamp());const p=$y(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const i=Q4(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=Jy(this.serializer),e.removeTarget=t,this.K_(e)}}class H3 extends sC{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Y4(t.writeResults,t.commitTime),i=Je(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Jy(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Xc(this.serializer,i)))};this.K_(e)}}class G3{}class K3 extends G3{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,Zy(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new lt(X.UNKNOWN,l.toString())}))}jo(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(t,Zy(e,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(X.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Y3(n,t,e,i){return new K3(n,t,e,i)}class Q3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vn(e),this.aa=!1):at("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class X3{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{io(this)&&(at(eo,"Restarting streams for network reachability change."),await(async function(m){const p=wt(m);p.Ea.add(4),await ph(p),p.Va.set("Unknown"),p.Ea.delete(4),await km(p)})(this))}))})),this.Va=new Q3(i,a)}}async function km(n){if(io(n))for(const t of n.Ra)await t(!0)}async function ph(n){for(const t of n.Ra)await t(!1)}function aC(n,t){const e=wt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Ev(e)?Tv(e):Yl(e).O_()&&vv(e,t))}function _v(n,t){const e=wt(n),i=Yl(e);e.Ia.delete(t),i.O_()&&oC(e,t),e.Ia.size===0&&(i.O_()?i.L_():io(e)&&e.Va.set("Unknown"))}function vv(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Yl(n).Z_(t)}function oC(n,t){n.da.$e(t),Yl(n).X_(t)}function Tv(n){n.da=new U4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Yl(n).start(),n.Va.ua()}function Ev(n){return io(n)&&!Yl(n).x_()&&n.Ia.size>0}function io(n){return wt(n).Ea.size===0}function lC(n){n.da=void 0}async function W3(n){n.Va.set("Online")}async function $3(n){n.Ia.forEach(((t,e)=>{vv(n,t)}))}async function Z3(n,t){lC(n),Ev(n)?(n.Va.ha(t),Tv(n)):n.Va.set("Unknown")}async function J3(n,t,e){if(n.Va.set("Online"),t instanceof RR&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(n,t)}catch(i){at(eo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await im(n,i)}else if(t instanceof Sd?n.da.Xe(t):t instanceof IR?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const i=await iC(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(je.EMPTY_BYTE_STRING,y.snapshotVersion)),oC(l,m);const v=new Cr(y.target,m,p,y.sequenceNumber);vv(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(n,e)}catch(i){at(eo,"Failed to raise snapshot:",i),await im(n,i)}}async function im(n,t,e){if(!Ks(t))throw t;n.Ea.add(1),await ph(n),n.Va.set("Offline"),e||(e=()=>iC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{at(eo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await km(n)}))}function uC(n,t){return t().catch((e=>im(n,e,t)))}async function gh(n){const t=wt(n),e=Fs(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qa;for(;t6(t);)try{const a=await O3(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,e6(t,a)}catch(a){await im(t,a)}cC(t)&&hC(t)}function t6(n){return io(n)&&n.Ta.length<10}function e6(n,t){n.Ta.push(t);const e=Fs(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function cC(n){return io(n)&&!Fs(n).x_()&&n.Ta.length>0}function hC(n){Fs(n).start()}async function n6(n){Fs(n).ra()}async function i6(n){const t=Fs(n);for(const e of n.Ta)t.ea(e.mutations)}async function r6(n,t,e){const i=n.Ta.shift(),a=av.from(i,t,e);await uC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await gh(n)}async function s6(n,t){t&&Fs(n).Y_&&await(async function(i,a){if((function(u){return wR(u)&&u!==X.ABORTED})(a.code)){const l=i.Ta.shift();Fs(i).B_(),await uC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await gh(i)}})(n,t),cC(n)&&hC(n)}async function Pw(n,t){const e=wt(n);e.asyncQueue.verifyOperationInProgress(),at(eo,"RemoteStore received new credentials");const i=io(e);e.Ea.add(3),await ph(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await km(e)}async function a6(n,t){const e=wt(n);t?(e.Ea.delete(2),await km(e)):t||(e.Ea.add(2),await ph(e),e.Va.set("Unknown"))}function Yl(n){return n.ma||(n.ma=(function(e,i,a){const l=wt(e);return l.sa(),new q3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:W3.bind(null,n),Yo:$3.bind(null,n),t_:Z3.bind(null,n),J_:J3.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),Ev(n)?Tv(n):n.Va.set("Unknown")):(await n.ma.stop(),lC(n))}))),n.ma}function Fs(n){return n.fa||(n.fa=(function(e,i,a){const l=wt(e);return l.sa(),new H3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:n6.bind(null,n),t_:s6.bind(null,n),ta:i6.bind(null,n),na:r6.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await gh(n)):(await n.fa.stop(),n.Ta.length>0&&(at(eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class bv{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,f=new bv(t,e,u,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sv(n,t){if(vn("AsyncQueue",`${t}: ${n}`),Ks(n))return new lt(X.UNAVAILABLE,`${t}: ${n}`);throw n}class vl{static emptySet(t){return new vl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=mc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new vl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Ow{constructor(){this.ga=new ge(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Ll{constructor(t,e,i,a,l,u,f,m,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((f=>{u.push({type:0,doc:f})})),new Ll(t,e,vl.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class o6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class l6{constructor(){this.queries=Nw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=wt(e),l=a.queries;a.queries=Nw(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(i)}))})(this,new lt(X.ABORTED,"Firestore shutting down"))}}function Nw(){return new Lr((n=>hR(n)),Cm)}async function u6(n,t){const e=wt(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(i=2):(l=new o6,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const f=Sv(u,`Initialization of query '${rl(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&wv(e)}async function c6(n,t){const e=wt(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function h6(n,t){const e=wt(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(i=!0);u.wa=a}}i&&wv(e)}function f6(n,t,e){const i=wt(n),a=i.queries.get(t);if(a)for(const l of a.ba)l.onError(e);i.queries.delete(t)}function wv(n){n.Ca.forEach((t=>{t.next()}))}var a_,kw;(kw=a_||(a_={})).Ma="default",kw.Cache="cache";class d6{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Ll(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ll.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==a_.Cache}}class fC{constructor(t){this.key=t}}class dC{constructor(t){this.key=t}}class m6{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=fR(t),this.tu=new vl(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new Ow,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const b=a.get(y),I=fh(this.query,v)?v:null,D=!!b&&this.mutatedKeys.has(b.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let B=!1;b&&I?b.data.isEqual(I.data)?D!==U&&(i.track({type:3,doc:I}),B=!0):this.su(b,I)||(i.track({type:2,doc:I}),B=!0,(m&&this.eu(I,m)>0||p&&this.eu(I,p)<0)&&(f=!0)):!b&&I?(i.track({type:0,doc:I}),B=!0):b&&!I&&(i.track({type:1,doc:b}),B=!0,(m||p)&&(f=!0)),B&&(I?(u=u.add(I),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:f,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,D){const U=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:B})}};return U(I)-U(D)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const f=e&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Ll(this.query,t.tu,l,u,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ow,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new dC(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new fC(i))})),e}cu(t){this.Za=t.ks,this.Ya=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ll.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Av="SyncEngine";class p6{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class g6{constructor(t){this.key=t,this.hu=!1}}class y6{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Lr((f=>hR(f)),Cm),this.Iu=new Map,this.Eu=new Set,this.Ru=new ge(ht.comparator),this.Au=new Map,this.Vu=new fv,this.du={},this.mu=new Map,this.fu=to.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _6(n,t,e=!0){const i=vC(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await mC(i,t,e,!0),a}async function v6(n,t){const e=vC(n);await mC(e,t,!0,!1)}async function mC(n,t,e,i){const a=await N3(n.localStore,si(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let f;return i&&(f=await T6(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&aC(n.remoteStore,a),f}async function T6(n,t,e,i,a){n.pu=(v,b,I)=>(async function(U,B,Q,Z){let Y=B.view.ru(Q);Y.Ss&&(Y=await Cw(U.localStore,B.query,!1).then((({documents:C})=>B.view.ru(C,Y))));const it=Z&&Z.targetChanges.get(B.targetId),rt=Z&&Z.targetMismatches.get(B.targetId)!=null,ct=B.view.applyChanges(Y,U.isPrimaryClient,it,rt);return Uw(U,B.targetId,ct.au),ct.snapshot})(n,v,b,I);const l=await Cw(n.localStore,t,!0),u=new m6(t,l.ks),f=u.ru(l.documents),m=mh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=u.applyChanges(f,n.isPrimaryClient,m);Uw(n,e,p.au);const y=new p6(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function E6(n,t,e){const i=wt(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Cm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await r_(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&_v(i.remoteStore,a.targetId),o_(i,a.targetId)})).catch(no)):(o_(i,a.targetId),await r_(i.localStore,a.targetId,!0))}async function b6(n,t){const e=wt(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),_v(e.remoteStore,i.targetId))}async function S6(n,t,e){const i=TC(n);try{const a=await(function(u,f){const m=wt(u),p=Jt.now(),y=f.reduce(((I,D)=>I.add(D.key)),Pt());let v,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let D=jn(),U=Pt();return m.xs.getEntries(I,y).next((B=>{D=B,D.forEach(((Q,Z)=>{Z.isValidDocument()||(U=U.add(Q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,D))).next((B=>{v=B;const Q=[];for(const Z of f){const Y=O4(Z,v.get(Z.key).overlayedDocument);Y!=null&&Q.push(new Ur(Z.key,Y,nR(Y.value.mapValue),Ze.exists(!0)))}return m.mutationQueue.addMutationBatch(I,p,Q,f)})).next((B=>{b=B;const Q=B.applyToLocalDocumentSet(v,U);return m.documentOverlayCache.saveOverlays(I,B.batchId,Q)}))})).then((()=>({batchId:b.batchId,changes:mR(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new ge(It)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(i,a.batchId,e),await yh(i,a.changes),await gh(i.remoteStore)}catch(a){const l=Sv(a,"Failed to persist write");e.reject(l)}}async function pC(n,t){const e=wt(n);try{const i=await M3(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await yh(e,i,t)}catch(i){await no(i)}}function Lw(n,t,e){const i=wt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=wt(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,v)=>{for(const b of v.ba)b.va(f)&&(p=!0)})),p&&wv(m)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function w6(n,t,e){const i=wt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new ge(ht.comparator);u=u.insert(l,pe.newNoDocument(l,Tt.min()));const f=Pt().add(l),m=new Vm(Tt.min(),new Map,new ge(It),u,f);await pC(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(t),Iv(i)}else await r_(i.localStore,t,!1).then((()=>o_(i,t,e))).catch(no)}async function A6(n,t){const e=wt(n),i=t.batch.batchId;try{const a=await V3(e.localStore,t);yC(e,i,null),gC(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await yh(e,a)}catch(a){await no(a)}}async function I6(n,t,e){const i=wt(n);try{const a=await(function(u,f){const m=wt(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((v=>(_t(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);yC(i,t,e),gC(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await yh(i,a)}catch(a){await no(a)}}function gC(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function yC(n,t,e){const i=wt(n);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function o_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||_C(n,i)}))}function _C(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(_v(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),Iv(n))}function Uw(n,t,e){for(const i of e)i instanceof fC?(n.Vu.addReference(i.key,t),R6(n,i)):i instanceof dC?(at(Av,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||_C(n,i.key)):dt(19791,{wu:i})}function R6(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(at(Av,"New document in limbo: "+e),n.Eu.add(i),Iv(n))}function Iv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Ht.fromString(t)),i=n.fu.next();n.Au.set(i,new g6(e)),n.Ru=n.Ru.insert(e,i),aC(n.remoteStore,new Cr(si(Rm(e.path)),i,"TargetPurposeLimboResolution",ii.ce))}}async function yh(n,t,e){const i=wt(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{u.push(i.pu(m,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=pv.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,p){const y=wt(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>z.forEach(p,(b=>z.forEach(b.Ts,(I=>y.persistence.referenceDelegate.addReference(v,b.targetId,I))).next((()=>z.forEach(b.Is,(I=>y.persistence.referenceDelegate.removeReference(v,b.targetId,I)))))))))}catch(v){if(!Ks(v))throw v;at(gv,"Failed to update sequence numbers: "+v)}for(const v of p){const b=v.targetId;if(!v.fromCache){const I=y.vs.get(b),D=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(D);y.vs=y.vs.insert(b,U)}}})(i.localStore,l))}async function C6(n,t){const e=wt(n);if(!e.currentUser.isEqual(t)){at(Av,"User change. New user:",t.toKey());const i=await nC(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new lt(X.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await yh(e,i.Ns)}}function x6(n,t){const e=wt(n),i=e.Au.get(t);if(i&&i.hu)return Pt().add(i.key);{let a=Pt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const f=e.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function vC(n){const t=wt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=pC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=x6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=w6.bind(null,t),t.Pu.J_=h6.bind(null,t.eventManager),t.Pu.yu=f6.bind(null,t.eventManager),t}function TC(n){const t=wt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=A6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=I6.bind(null,t),t}class Wc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return eC(this.persistence,new tC,t.initialUser,this.serializer)}Cu(t){return new dv(Om.Vi,this.serializer)}Du(t){return new rC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wc.provider={build:()=>new Wc};class D6 extends Wc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_t(this.persistence.referenceDelegate instanceof nm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new XR(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new dv((i=>nm.Vi(i,e)),this.serializer)}}class V6 extends Wc{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await TC(this.xu.syncEngine),await gh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return eC(this.persistence,new tC,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new XR(i,t.asyncQueue,e)}Mu(t,e){const i=new Vk(e,this.persistence);return new Dk(t.asyncQueue,i)}Cu(t){const e=R3(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new mv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,F3(),Ad(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new rC}}class rm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Lw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=C6.bind(null,this.syncEngine),await a6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new l6})()}createDatastore(t){const e=Nm(t.databaseInfo.databaseId),i=j3(t.databaseInfo);return Y3(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,f){return new X3(i,a,l,u,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>Lw(this.syncEngine,e,0)),(function(){return Vw.v()?new Vw:new L3})())}createSyncEngine(t,e){return(function(a,l,u,f,m,p,y){const v=new y6(a,l,u,f,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=wt(e);at(eo,"RemoteStore shutting down."),i.Ea.add(5),await ph(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rm.provider={build:()=>new rm};class M6{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let P6=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(X.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const u=wt(a),f={documents:l.map((v=>Qc(u.serializer,v)))},m=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ht.emptyPath(),f,l.length),p=new Map;m.forEach((v=>{const b=G4(u.serializer,v);p.set(b.key.toString(),b)}));const y=[];return l.forEach((v=>{const b=p.get(v.toString());_t(!!b,55234,{key:v}),y.push(b)})),y})(this.datastore,t);return e.forEach((i=>this.recordVersion(i))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new dh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,i)=>{const a=ht.fromPath(i);this.mutations.push(new rv(a,this.precondition(a)))})),await(async function(i,a){const l=wt(i),u={writes:a.map((f=>Xc(l.serializer,f)))};await l.Wo("Commit",l.serializer.databaseId,Ht.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt(50498,{Gu:t.constructor.name});e=Tt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new lt(X.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?Ze.exists(!1):Ze.updateTime(e):Ze.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new lt(X.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(e)}return Ze.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class O6{constructor(t,e,i,a,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new yv(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new P6(this.datastore),e=this.Ju(t);e&&e.then((i=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Zu(a)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(t){try{const e=this.updateFunction(t);return!lh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!wR(e)}return!1}}const qs="FirestoreClient";class N6{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=ln.UNAUTHENTICATED,this.clientId=K_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{at(qs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(at(qs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Sv(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function uy(n,t){n.asyncQueue.verifyOperationInProgress(),at(qs,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await nC(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Bw(n,t){n.asyncQueue.verifyOperationInProgress();const e=await k6(n);at(qs,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Pw(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>Pw(t.remoteStore,a))),n._onlineComponents=t}async function k6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at(qs,"Using user provided OfflineComponentProvider");try{await uy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Bs("Error using user provided cache. Falling back to memory cache: "+e),await uy(n,new Wc)}}else at(qs,"Using default OfflineComponentProvider"),await uy(n,new D6(void 0));return n._offlineComponents}async function Rv(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at(qs,"Using user provided OnlineComponentProvider"),await Bw(n,n._uninitializedComponentsProvider._online)):(at(qs,"Using default OnlineComponentProvider"),await Bw(n,new rm))),n._onlineComponents}function L6(n){return Rv(n).then((t=>t.syncEngine))}function U6(n){return Rv(n).then((t=>t.datastore))}async function zw(n){const t=await Rv(n),e=t.eventManager;return e.onListen=_6.bind(null,t.syncEngine),e.onUnlisten=E6.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=v6.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=b6.bind(null,t.syncEngine),e}function B6(n,t,e,i){const a=new M6(i),l=new d6(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>u6(await zw(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>c6(await zw(n),l)))}}function z6(n,t){const e=new xr;return n.asyncQueue.enqueueAndForget((async()=>S6(await L6(n),t,e))),e.promise}function j6(n,t,e){const i=new xr;return n.asyncQueue.enqueueAndForget((async()=>{const a=await U6(n);new O6(n.asyncQueue,a,e,t,i).ju()})),i.promise}function EC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const F6="ComponentProvider",jw=new Map;function q6(n,t,e,i,a){return new a4(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,EC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const bC="firestore.googleapis.com",Fw=!0;class qw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bC,this.ssl=Fw}else this.host=t.host,this.ssl=t.ssl??Fw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<c3)throw new lt(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ik("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=EC(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new lt(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lm{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new gk;switch(i.type){case"firstParty":return new Tk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new lt(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=jw.get(e);i&&(at(F6,"Removing Datastore"),jw.delete(e),i.terminate())})(this),Promise.resolve()}}function H6(n,t,e,i={}){n=Fa(n,Lm);const a=jl(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},f=`${t}:${e}`;a&&(D1(`https://${f}`),V1("Firestore",!0)),l.host!==bC&&l.host!==f&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!Ka(m,u)&&(n._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=ln.MOCK_USER;else{p=FM(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new lt(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new ln(v)}n._authCredentials=new yk(new xI(p,y))}}class Ql{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ql(this.firestore,t,this._query)}}class Be{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(oh(e,Be._jsonSchema))return new Be(t,i||null,new ht(Ht.fromString(e.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Ue("string",Be._jsonSchemaVersion),referencePath:Ue("string")};class ks extends Ql{constructor(t,e,i){super(t,e,Rm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new ht(t))}withConverter(t){return new ks(this.firestore,t,this._path)}}function G6(n,t,...e){if(n=ze(n),VI("collection","path",t),n instanceof Lm){const i=Ht.fromString(t,...e);return MS(i),new ks(n,null,i)}{if(!(n instanceof Be||n instanceof ks))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return MS(i),new ks(n.firestore,null,i)}}function Hw(n,t,...e){if(n=ze(n),arguments.length===1&&(t=K_.newId()),VI("doc","path",t),n instanceof Lm){const i=Ht.fromString(t,...e);return VS(i),new Be(n,null,new ht(i))}{if(!(n instanceof Be||n instanceof ks))throw new lt(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return VS(i),new Be(n.firestore,n instanceof ks?n.converter:null,new ht(i))}}const Gw="AsyncQueue";class Kw{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yv(this,"async_queue_retry"),this._c=()=>{const i=Ad();i&&at(Gw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Ad();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ad();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Ks(t))throw t;at(Gw,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,vn("INTERNAL UNHANDLED ERROR: ",Yw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=bv.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&dt(47125,{Pc:Yw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Yw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Ul extends Lm{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new Kw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kw(t),this._firestoreClient=void 0,await t}}}function K6(n,t){const e=typeof n=="object"?n:B1(),i=typeof n=="string"?n:Xd,a=O_(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=zM("firestore");l&&H6(a,...l)}return a}function Cv(n){if(n._terminated)throw new lt(X.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SC(n),n._firestoreClient}function SC(n){const t=n._freezeSettings(),e=q6(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new N6(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}function Y6(n,t){Bs("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return Q6(n,rm.provider,{build:i=>new V6(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function Q6(n,t,e){if((n=Fa(n,Ul))._firestoreClient||n._terminated)throw new lt(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new lt(X.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},SC(n)}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(je.fromBase64String(t))}catch(e){throw new lt(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new zn(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(oh(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ue("string",zn._jsonSchemaVersion),bytes:Ue("string")};class xv{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new lt(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Um{constructor(t){this._methodName=t}}class er{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new lt(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lt(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:er._jsonSchemaVersion}}static fromJSON(t){if(oh(t,er._jsonSchema))return new er(t.latitude,t.longitude)}}er._jsonSchemaVersion="firestore/geoPoint/1.0",er._jsonSchema={type:Ue("string",er._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class wi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(oh(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new wi(t.vectorValues);throw new lt(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ue("string",wi._jsonSchemaVersion),vectorValues:Ue("object")};const X6=/^__.*__$/;class W6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Ur(t,this.data,this.fieldMask,e,this.fieldTransforms):new Kl(t,this.data,e,this.fieldTransforms)}}class wC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ur(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function AC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:n})}}class Dv{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Dv({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return sm(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(AC(this.dataSource)&&X6.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class $6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Nm(t)}createContext(t,e,i,a=!1){return new Dv({dataSource:t,methodName:e,targetDoc:i,path:ye.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IC(n){const t=n._freezeSettings(),e=Nm(n._databaseId);return new $6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Z6(n,t,e,i,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);Mv("Data must be an object, but it was:",u,i);const f=RC(i,u);let m,p;if(l.merge)m=new xn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=Bl(t,v,e);if(!u.contains(b))throw new lt(X.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);DC(y,b)||y.push(b)}m=new xn(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new W6(new cn(f),m,p)}class Bm extends Um{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bm}}class Vv extends Um{_toFieldTransform(t){return new ER(t.path,new Pl)}isEqual(t){return t instanceof Vv}}function J6(n,t,e,i){const a=n.createContext(1,t,e);Mv("Data must be an object, but it was:",a,i);const l=[],u=cn.empty();Ys(i,((m,p)=>{const y=xC(t,m,e);p=ze(p);const v=a.childContextForFieldPath(y);if(p instanceof Bm)l.push(y);else{const b=_h(p,v);b!=null&&(l.push(y),u.set(y,b))}}));const f=new xn(l);return new wC(u,f,a.fieldTransforms)}function tL(n,t,e,i,a,l){const u=n.createContext(1,t,e),f=[Bl(t,i,e)],m=[a];if(l.length%2!=0)throw new lt(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let b=0;b<l.length;b+=2)f.push(Bl(t,l[b])),m.push(l[b+1]);const p=[],y=cn.empty();for(let b=f.length-1;b>=0;--b)if(!DC(p,f[b])){const I=f[b];let D=m[b];D=ze(D);const U=u.childContextForFieldPath(I);if(D instanceof Bm)p.push(I);else{const B=_h(D,U);B!=null&&(p.push(I),y.set(I,B))}}const v=new xn(p);return new wC(y,v,u.fieldTransforms)}function eL(n,t,e,i=!1){return _h(e,n.createContext(i?4:3,t))}function _h(n,t){if(CC(n=ze(n)))return Mv("Unsupported field value:",t,n),RC(n,t);if(n instanceof Um)return(function(i,a){if(!AC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let m=_h(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=ze(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return C4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Jt.fromDate(i);return{timestampValue:kl(a.serializer,l)}}if(i instanceof Jt){const l=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:kl(a.serializer,l)}}if(i instanceof er)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof zn)return{bytesValue:CR(a.serializer,i._byteString)};if(i instanceof Be){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:uv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof wi)return(function(u,f){const m=u instanceof wi?u.toArray():u;return{mapValue:{fields:{[tv]:{stringValue:ev},[xl]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return iv(f.serializer,y)}))}}}}}})(i,a);if(BR(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Tm(i)}`)})(n,t)}function RC(n,t){const e={};return YI(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ys(n,((i,a)=>{const l=_h(a,t.childContextForField(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function CC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof er||n instanceof zn||n instanceof Be||n instanceof Um||n instanceof wi||BR(n))}function Mv(n,t,e){if(!CC(e)||!MI(e)){const i=Tm(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function Bl(n,t,e){if((t=ze(t))instanceof xv)return t._internalPath;if(typeof t=="string")return xC(n,t);throw sm("Field path arguments must be of type string or ",n,!1,void 0,e)}const nL=new RegExp("[~\\*/\\[\\]]");function xC(n,t,e){if(t.search(nL)>=0)throw sm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new xv(...t.split("."))._internalPath}catch{throw sm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function sm(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new lt(X.INVALID_ARGUMENT,f+n+m)}function DC(n,t){return n.some((e=>e.isEqual(t)))}class VC{convertValue(t,e="none"){switch(zs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Ys(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[xl].arrayValue?.values?.map((i=>me(i.doubleValue)));return new wi(e)}convertGeoPoint(t){return new er(me(t.latitude),me(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Am(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(qc(t));default:return null}}convertTimestamp(t){const e=Pr(t);return new Jt(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ht.fromString(t);_t(UR(i),9688,{name:t});const a=new Wa(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return a.isEqual(e)||vn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class Pv extends VC{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}function iL(){return new Vv("serverTimestamp")}const Qw="@firebase/firestore",Xw="4.11.0";function Ww(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class am{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Bl("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class rL extends am{data(){return super.data()}}function sL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ov{}class aL extends Ov{}function oL(n,t,...e){let i=[];t instanceof Ov&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((m=>m instanceof Nv)).length,f=l.filter((m=>m instanceof zm)).length;if(u>1||u>0&&f>0)throw new lt(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class zm extends aL{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new zm(t,e,i)}_apply(t){const e=this._parse(t);return MC(t._query,e),new Ql(t.firestore,t.converter,Xy(t._query,e))}_parse(t){const e=IC(t.firestore);return(function(l,u,f,m,p,y,v){let b;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new lt(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Jw(v,y);const D=[];for(const U of v)D.push(Zw(m,l,U));b={arrayValue:{values:D}}}else b=Zw(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Jw(v,y),b=eL(f,u,v,y==="in"||y==="not-in");return zt.create(p,y,b)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function $w(n,t,e){const i=t,a=Bl("where",n);return zm._create(a,i,e)}class Nv extends Ov{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Nv(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:te.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)MC(u,m),u=Xy(u,m)})(t._query,e),new Ql(t.firestore,t.converter,Xy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Zw(n,t,e){if(typeof(e=ze(e))=="string"){if(e==="")throw new lt(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cR(t)&&e.indexOf("/")!==-1)throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ht.fromString(e));if(!ht.isDocumentKey(i))throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gc(n,new ht(i))}if(e instanceof Be)return Gc(n,e._key);throw new lt(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(e)}.`)}function Jw(n,t){if(!Array.isArray(n)||n.length===0)throw new lt(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MC(n,t){const e=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new lt(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function lL(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class uL extends VC{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,e)}}class ul{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ls extends am{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Bl("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Ls._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Ls._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ls._jsonSchema={type:Ue("string",Ls._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Id extends Ls{data(t={}){return super.data(t)}}class Tl{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new ul(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Id(this._firestore,this._userDataWriter,i.key,i,new ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lt(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Id(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ul(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Id(a._firestore,a._userDataWriter,f.doc.key,f.doc,new ul(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:cL(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Tl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=K_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function cL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:n})}}Tl._jsonSchemaVersion="firestore/querySnapshot/1.0",Tl._jsonSchema={type:Ue("string",Tl._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};const hL={maxAttempts:5};function yc(n,t){if((n=ze(n)).firestore!==t)throw new lt(X.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class fL{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=IC(t)}get(t){const e=yc(t,this._firestore),i=new uL(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return dt(24041);const l=a[0];if(l.isFoundDocument())return new am(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new am(this._firestore,i,e._key,null,e.converter);throw dt(18433,{doc:l})}))}set(t,e,i){const a=yc(t,this._firestore),l=lL(a.converter,e,i),u=Z6(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,u),this}update(t,e,i,...a){const l=yc(t,this._firestore);let u;return u=typeof(e=ze(e))=="string"||e instanceof xv?tL(this._dataReader,"Transaction.update",l._key,e,i,a):J6(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=yc(t,this._firestore);return this._transaction.delete(e._key),this}}class dL extends fL{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=yc(t,this._firestore),i=new Pv(this._firestore);return super.get(t).then((a=>new Ls(this._firestore,i,e._key,a._document,new ul(!1,!1),e.converter)))}}function mL(n,t,e){n=Fa(n,Ul);const i={...hL,...e};(function(u){if(u.maxAttempts<1)throw new lt(X.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const a=Cv(n);return j6(a,(l=>t(new dL(n,l))),i)}function pL(n){return yL(Fa(n.firestore,Ul),[new dh(n._key,Ze.none())])}function gL(n,...t){n=ze(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||Ww(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(Ww(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let l,u,f;if(n instanceof Be)u=Fa(n.firestore,Ul),f=Rm(n._key.path),l={next:p=>{t[i]&&t[i](_L(u,n,p))},error:t[i+1],complete:t[i+2]};else{const p=Fa(n,Ql);u=Fa(p.firestore,Ul),f=p._query;const y=new Pv(u);l={next:v=>{t[i]&&t[i](new Tl(u,y,p,v))},error:t[i+1],complete:t[i+2]},sL(n._query)}const m=Cv(u);return B6(m,f,a,l)}function yL(n,t){const e=Cv(n);return z6(e,t)}function _L(n,t,e){const i=e.docs.get(t._key),a=new Pv(n);return new Ls(n,a,t._key,i,new ul(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){pk(Fl),bl(new Ya("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Ul(new _k(i.getProvider("auth-internal")),new Ek(u,i.getProvider("app-check-internal")),o4(u,a),u);return l={useFetchStreams:e,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ms(Qw,Xw,t),Ms(Qw,Xw,"esm2020")})();const vL={apiKey:"AIzaSyAUo9Hw0KKEfu-sGYC-YAIazVb4BH34YXQ",authDomain:"class-claim.firebaseapp.com",projectId:"class-claim",storageBucket:"class-claim.firebasestorage.app",messagingSenderId:"997912799584",appId:"1:997912799584:web:3dce64fcb94d3926cd9605",measurementId:"G-VXYPG7JFP5"},PC=U1(vL),_c=K6(PC);Y6(_c).catch(n=>{n.code=="failed-precondition"?console.warn("Firestore persistence failed: multiple tabs open"):n.code=="unimplemented"&&console.warn("Firestore persistence not supported in this browser")});const nl=hk(PC),tA=new Ar,OC=ot.createContext(),kv=()=>ot.useContext(OC),TL=({children:n})=>{const[t,e]=ot.useState(null),[i,a]=ot.useState(!0),l=async()=>{try{await WO(nl,cI);const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&!m?await AN(nl,tA):await vN(nl,tA)}catch(m){throw console.error("Login failed:",m),m}},u=()=>tN(nl);ot.useEffect(()=>{RN(nl).catch(p=>{console.error("Redirect login failed:",p)});const m=JO(nl,p=>{e(p),a(!1)});return()=>m()},[]);const f={user:t,login:l,logout:u,loading:i};return nt.jsx(OC.Provider,{value:f,children:!i&&n})},NC=ot.createContext(),EL=()=>ot.useContext(NC),bL=({children:n})=>{const[t,e]=ot.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});ot.useEffect(()=>{const a=window.document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{e(a=>a==="light"?"dark":"light")};return nt.jsx(NC.Provider,{value:{theme:t,toggleTheme:i},children:n})},SL=({selectedRoom:n,onSelectRoom:t,className:e=""})=>{const[i,a]=ot.useState("Block E"),{user:l,login:u,logout:f}=kv(),{theme:m,toggleTheme:p}=EL(),y=async()=>{try{await u()}catch(b){console.error("Login failed:",b)}},v=async()=>{try{await f()}catch(b){console.error("Logout failed:",b)}};return nt.jsxs("div",{className:`flex flex-col h-full bg-white dark:bg-gray-800 border-r border-gray-100 dark:border-gray-700 transition-colors duration-200 ${e}`,children:[nt.jsxs("div",{className:"p-6",children:[nt.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent flex items-center gap-2",children:[nt.jsx("img",{src:"/Class-Claim/logo.png",alt:"ClassClaim Logo",className:"h-8 w-auto"}),"ClassClaim"]}),nt.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Central University"})]}),nt.jsx("div",{className:"flex p-4 gap-2 border-b border-gray-50 dark:border-gray-700",children:Object.keys(Cy).map(b=>nt.jsx("button",{onClick:()=>a(b),className:`
              flex-1 py-2 px-3 rounded-xl text-sm font-medium transition-all
              ${i===b?"bg-red-50 text-red-700 shadow-sm dark:bg-red-900/20 dark:text-red-400":"text-gray-500 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-700"}
            `,children:b},b))}),nt.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[nt.jsxs("h3",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3 px-2",children:[i," Rooms"]}),Cy[i].map(b=>nt.jsxs("button",{onClick:()=>t(b),className:`
              w-full flex items-center justify-between p-3 rounded-xl text-sm font-medium transition-all
              ${n===b?"bg-gray-900 text-white shadow-lg shadow-gray-200 dark:bg-black dark:shadow-gray-900":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}
            `,children:[b,n===b&&nt.jsx(SM,{})]},b))]}),nt.jsxs("div",{className:"p-4 border-t border-gray-50 dark:border-gray-700 space-y-3",children:[nt.jsxs("button",{onClick:p,className:"w-full flex items-center justify-between p-2 rounded-lg text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[nt.jsxs("span",{className:"flex items-center gap-2",children:[m==="dark"?nt.jsx(CM,{}):nt.jsx(DM,{}),m==="dark"?"Dark Mode":"Light Mode"]}),nt.jsx("div",{className:`
            w-10 h-5 rounded-full relative transition-colors duration-200
            ${m==="dark"?"bg-red-600":"bg-gray-200"}
          `,children:nt.jsx("div",{className:`
              absolute top-1 left-1 w-3 h-3 rounded-full bg-white transition-transform duration-200
              ${m==="dark"?"translate-x-5":"translate-x-0"}
            `})})]}),l?nt.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-50 dark:border-gray-700",children:[nt.jsx("img",{src:l.photoURL,alt:l.displayName,className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-600"}),nt.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[nt.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:l.displayName}),nt.jsxs("button",{onClick:v,className:"text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1",children:[nt.jsx(AM,{})," Sign Out"]})]})]}):nt.jsxs("button",{onClick:y,className:"w-full py-2.5 px-4 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-white rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[nt.jsx(IM,{className:"text-red-600 text-lg"}),"Sign in with Google"]})]})]})},Lv=ot.createContext({});function Uv(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const kC=typeof window<"u",LC=kC?ot.useLayoutEffect:ot.useEffect,jm=ot.createContext(null);function Bv(n,t){n.indexOf(t)===-1&&n.push(t)}function om(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const sr=(n,t,e)=>e>t?t:e<n?n:e;let zv=()=>{};const Nr={},UC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function BC(n){return typeof n=="object"&&n!==null}const zC=n=>/^0[^.\s]+$/u.test(n);function jv(n){let t;return()=>(t===void 0&&(t=n()),t)}const ai=n=>n,wL=(n,t)=>e=>t(n(e)),vh=(...n)=>n.reduce(wL),$c=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class Fv{constructor(){this.subscriptions=[]}add(t){return Bv(this.subscriptions,t),()=>om(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=n=>n*1e3,ri=n=>n/1e3;function jC(n,t){return t?n*(1e3/t):0}const FC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,AL=1e-7,IL=12;function RL(n,t,e,i,a){let l,u,f=0;do u=t+(e-t)/2,l=FC(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>AL&&++f<IL);return u}function Th(n,t,e,i){if(n===t&&e===i)return ai;const a=l=>RL(l,0,1,n,e);return l=>l===0||l===1?l:FC(a(l),t,i)}const qC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,HC=n=>t=>1-n(1-t),GC=Th(.33,1.53,.69,.99),qv=HC(GC),KC=qC(qv),YC=n=>(n*=2)<1?.5*qv(n):.5*(2-Math.pow(2,-10*(n-1))),Hv=n=>1-Math.sin(Math.acos(n)),QC=HC(Hv),XC=qC(Hv),CL=Th(.42,0,1,1),xL=Th(0,0,.58,1),WC=Th(.42,0,.58,1),DL=n=>Array.isArray(n)&&typeof n[0]!="number",$C=n=>Array.isArray(n)&&typeof n[0]=="number",VL={linear:ai,easeIn:CL,easeInOut:WC,easeOut:xL,circIn:Hv,circInOut:XC,circOut:QC,backIn:qv,backInOut:KC,backOut:GC,anticipate:YC},ML=n=>typeof n=="string",eA=n=>{if($C(n)){zv(n.length===4);const[t,e,i,a]=n;return Th(t,e,i,a)}else if(ML(n))return VL[n];return n},od=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function PL(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),n()),y(f)}const p={schedule:(y,v=!1,b=!1)=>{const D=b&&a?e:i;return v&&u.add(y),D.has(y)||D.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const OL=40;function ZC(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=od.reduce((Y,it)=>(Y[it]=PL(l),Y),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:b,render:I,postRender:D}=u,U=()=>{const Y=Nr.useManualTiming?a.timestamp:performance.now();e=!1,Nr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(Y-a.timestamp,OL),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),v.process(a),b.process(a),I.process(a),D.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(U))},B=()=>{e=!0,i=!0,a.isProcessing||n(U)};return{schedule:od.reduce((Y,it)=>{const rt=u[it];return Y[it]=(ct,C=!1,A=!1)=>(e||B(),rt.schedule(ct,C,A)),Y},{}),cancel:Y=>{for(let it=0;it<od.length;it++)u[od[it]].cancel(Y)},state:a,steps:u}}const{schedule:le,cancel:Hs,state:on,steps:cy}=ZC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let Rd;function NL(){Rd=void 0}const Tn={now:()=>(Rd===void 0&&Tn.set(on.isProcessing||Nr.useManualTiming?on.timestamp:performance.now()),Rd),set:n=>{Rd=n,queueMicrotask(NL)}},JC=n=>t=>typeof t=="string"&&t.startsWith(n),tx=JC("--"),kL=JC("var(--"),Gv=n=>kL(n)?LL.test(n.split("/*")[0].trim()):!1,LL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function nA(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Xl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Zc={...Xl,transform:n=>sr(0,1,n)},ld={...Xl,default:1},Dc=n=>Math.round(n*1e5)/1e5,Kv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UL(n){return n==null}const BL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Yv=(n,t)=>e=>!!(typeof e=="string"&&BL.test(e)&&e.startsWith(n)||t&&!UL(e)&&Object.prototype.hasOwnProperty.call(e,t)),ex=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(Kv);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},zL=n=>sr(0,255,n),hy={...Xl,transform:n=>Math.round(zL(n))},Ba={test:Yv("rgb","red"),parse:ex("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+hy.transform(n)+", "+hy.transform(t)+", "+hy.transform(e)+", "+Dc(Zc.transform(i))+")"};function jL(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const l_={test:Yv("#"),parse:jL,transform:Ba.transform},Eh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Ss=Eh("deg"),nr=Eh("%"),yt=Eh("px"),FL=Eh("vh"),qL=Eh("vw"),iA={...nr,parse:n=>nr.parse(n)/100,transform:n=>nr.transform(n*100)},cl={test:Yv("hsl","hue"),parse:ex("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+nr.transform(Dc(t))+", "+nr.transform(Dc(e))+", "+Dc(Zc.transform(i))+")"},Le={test:n=>Ba.test(n)||l_.test(n)||cl.test(n),parse:n=>Ba.test(n)?Ba.parse(n):cl.test(n)?cl.parse(n):l_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ba.transform(n):cl.transform(n),getAnimatableNone:n=>{const t=Le.parse(n);return t.alpha=0,Le.transform(t)}},HL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GL(n){return isNaN(n)&&typeof n=="string"&&(n.match(Kv)?.length||0)+(n.match(HL)?.length||0)>0}const nx="number",ix="color",KL="var",YL="var(",rA="${}",QL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jc(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(QL,m=>(Le.test(m)?(i.color.push(l),a.push(ix),e.push(Le.parse(m))):m.startsWith(YL)?(i.var.push(l),a.push(KL),e.push(m)):(i.number.push(l),a.push(nx),e.push(parseFloat(m))),++l,rA)).split(rA);return{values:e,split:f,indexes:i,types:a}}function rx(n){return Jc(n).values}function sx(n){const{split:t,types:e}=Jc(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const f=e[u];f===nx?l+=Dc(a[u]):f===ix?l+=Le.transform(a[u]):l+=a[u]}return l}}const XL=n=>typeof n=="number"?0:Le.test(n)?Le.getAnimatableNone(n):n;function WL(n){const t=rx(n);return sx(n)(t.map(XL))}const Gs={test:GL,parse:rx,createTransformer:sx,getAnimatableNone:WL};function fy(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function $L({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const f=e<.5?e*(1+t):e+t-e*t,m=2*e-f;a=fy(m,f,n+1/3),l=fy(m,f,n),u=fy(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function lm(n,t){return e=>e>0?t:n}const _e=(n,t,e)=>n+(t-n)*e,dy=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},ZL=[l_,Ba,cl],JL=n=>ZL.find(t=>t.test(n));function sA(n){const t=JL(n);if(!t)return!1;let e=t.parse(n);return t===cl&&(e=$L(e)),e}const aA=(n,t)=>{const e=sA(n),i=sA(t);if(!e||!i)return lm(n,t);const a={...e};return l=>(a.red=dy(e.red,i.red,l),a.green=dy(e.green,i.green,l),a.blue=dy(e.blue,i.blue,l),a.alpha=_e(e.alpha,i.alpha,l),Ba.transform(a))},u_=new Set(["none","hidden"]);function t5(n,t){return u_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function e5(n,t){return e=>_e(n,t,e)}function Qv(n){return typeof n=="number"?e5:typeof n=="string"?Gv(n)?lm:Le.test(n)?aA:r5:Array.isArray(n)?ax:typeof n=="object"?Le.test(n)?aA:n5:lm}function ax(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>Qv(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function n5(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=Qv(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function i5(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],f=n.values[u]??0;e[a]=f,i[l]++}return e}const r5=(n,t)=>{const e=Gs.createTransformer(t),i=Jc(n),a=Jc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?u_.has(n)&&!a.values.length||u_.has(t)&&!i.values.length?t5(n,t):vh(ax(i5(i,a),a.values),e):lm(n,t)};function ox(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?_e(n,t,e):Qv(n)(n,t)}const s5=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>le.update(t,e),stop:()=>Hs(t),now:()=>on.isProcessing?on.timestamp:Tn.now()}},lx=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},um=2e4;function Xv(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<um;)t+=e,i=n.next(t);return t>=um?1/0:t}function a5(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(Xv(i),um);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:ri(a)}}const o5=5;function ux(n,t,e){const i=Math.max(t-o5,0);return jC(e-n(i),t-i)}const be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},my=.001;function l5({duration:n=be.duration,bounce:t=be.bounce,velocity:e=be.velocity,mass:i=be.mass}){let a,l,u=1-t;u=sr(be.minDamping,be.maxDamping,u),n=sr(be.minDuration,be.maxDuration,ri(n)),u<1?(a=p=>{const y=p*u,v=y*n,b=y-e,I=c_(p,u),D=Math.exp(-v);return my-b/I*D},l=p=>{const v=p*u*n,b=v*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,D=Math.exp(-v),U=c_(Math.pow(p,2),u);return(-a(p)+my>0?-1:1)*((b-I)*D)/U}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-my+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const f=5/n,m=c5(a,l,f);if(n=Ai(n),isNaN(m))return{stiffness:be.stiffness,damping:be.damping,duration:n};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const u5=12;function c5(n,t,e){let i=e;for(let a=1;a<u5;a++)i=i-n(i)/t(i);return i}function c_(n,t){return n*Math.sqrt(1-t*t)}const h5=["duration","bounce"],f5=["stiffness","damping","mass"];function oA(n,t){return t.some(e=>n[e]!==void 0)}function d5(n){let t={velocity:be.velocity,stiffness:be.stiffness,damping:be.damping,mass:be.mass,isResolvedFromDuration:!1,...n};if(!oA(n,f5)&&oA(n,h5))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*sr(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:be.mass,stiffness:a,damping:l}}else{const e=l5(n);t={...t,...e,mass:be.mass},t.isResolvedFromDuration=!0}return t}function cm(n=be.visualDuration,t=be.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:b,isResolvedFromDuration:I}=d5({...e,velocity:-ri(e.velocity||0)}),D=b||0,U=p/(2*Math.sqrt(m*y)),B=u-l,Q=ri(Math.sqrt(m/y)),Z=Math.abs(B)<5;i||(i=Z?be.restSpeed.granular:be.restSpeed.default),a||(a=Z?be.restDelta.granular:be.restDelta.default);let Y;if(U<1){const rt=c_(Q,U);Y=ct=>{const C=Math.exp(-U*Q*ct);return u-C*((D+U*Q*B)/rt*Math.sin(rt*ct)+B*Math.cos(rt*ct))}}else if(U===1)Y=rt=>u-Math.exp(-Q*rt)*(B+(D+Q*B)*rt);else{const rt=Q*Math.sqrt(U*U-1);Y=ct=>{const C=Math.exp(-U*Q*ct),A=Math.min(rt*ct,300);return u-C*((D+U*Q*B)*Math.sinh(A)+rt*B*Math.cosh(A))/rt}}const it={calculatedDuration:I&&v||null,next:rt=>{const ct=Y(rt);if(I)f.done=rt>=v;else{let C=rt===0?D:0;U<1&&(C=rt===0?Ai(D):ux(Y,rt,ct));const A=Math.abs(C)<=i,R=Math.abs(u-ct)<=a;f.done=A&&R}return f.value=f.done?u:ct,f},toString:()=>{const rt=Math.min(Xv(it),um),ct=lx(C=>it.next(rt*C).value,rt,30);return rt+"ms "+ct},toTransition:()=>{}};return it}cm.applyToOptions=n=>{const t=a5(n,100,cm);return n.ease=t.ease,n.duration=Ai(t.duration),n.type="keyframes",n};function h_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const v=n[0],b={done:!1,value:v},I=A=>f!==void 0&&A<f||m!==void 0&&A>m,D=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let U=e*t;const B=v+U,Q=u===void 0?B:u(B);Q!==B&&(U=Q-v);const Z=A=>-U*Math.exp(-A/i),Y=A=>Q+Z(A),it=A=>{const R=Z(A),P=Y(A);b.done=Math.abs(R)<=p,b.value=b.done?Q:P};let rt,ct;const C=A=>{I(b.value)&&(rt=A,ct=cm({keyframes:[b.value,D(b.value)],velocity:ux(Y,A,b.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let R=!1;return!ct&&rt===void 0&&(R=!0,it(A),C(A)),rt!==void 0&&A>=rt?ct.next(A-rt):(!R&&it(A),b)}}}function m5(n,t,e){const i=[],a=e||Nr.mix||ox,l=n.length-1;for(let u=0;u<l;u++){let f=a(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||ai:t;f=vh(m,f)}i.push(f)}return i}function p5(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(zv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=m5(t,i,a),m=f.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const b=$c(n[v],n[v+1],y);return f[v](b)};return e?y=>p(sr(n[0],n[l-1],y)):p}function g5(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=$c(0,t,i);n.push(_e(e,1,a))}}function y5(n){const t=[0];return g5(t,n.length-1),t}function _5(n,t){return n.map(e=>e*t)}function v5(n,t){return n.map(()=>t||WC).splice(0,n.length-1)}function Vc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=DL(i)?i.map(eA):eA(i),l={done:!1,value:t[0]},u=_5(e&&e.length===t.length?e:y5(t),n),f=p5(u,t,{ease:Array.isArray(a)?a:v5(t,a)});return{calculatedDuration:n,next:m=>(l.value=f(m),l.done=m>=n,l)}}const T5=n=>n!==null;function Wv(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(T5),f=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const E5={decay:h_,inertia:h_,tween:Vc,keyframes:Vc,spring:cm};function cx(n){typeof n.type=="string"&&(n.type=E5[n.type])}class $v{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const b5=n=>n/100;class Zv extends $v{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==Tn.now()&&this.tick(Tn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cx(t);const{type:e=Vc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=e||Vc;m!==Vc&&typeof f[0]!="number"&&(this.mixKeyframes=vh(b5,ox(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Xv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:I,type:D,onUpdate:U,finalKeyframe:B}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-p*(this.playbackSpeed>=0?1:-1),Z=this.playbackSpeed>=0?Q<0:Q>a;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,it=i;if(v){const A=Math.min(this.currentTime,a)/f;let R=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&R--,R=Math.min(R,v+1),R%2&&(b==="reverse"?(P=1-P,I&&(P-=I/f)):b==="mirror"&&(it=u)),Y=sr(0,1,P)*f}const rt=Z?{done:!1,value:y[0]}:it.next(Y);l&&(rt.value=l(rt.value));let{done:ct}=rt;!Z&&m!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return C&&D!==h_&&(rt.value=Wv(y,this.options,B,this.speed)),U&&U(rt.value),C&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(this.currentTime)}set time(t){t=Ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Tn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=s5,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Tn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function S5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const za=n=>n*180/Math.PI,f_=n=>{const t=za(Math.atan2(n[1],n[0]));return d_(t)},w5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:f_,rotateZ:f_,skewX:n=>za(Math.atan(n[1])),skewY:n=>za(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},d_=n=>(n=n%360,n<0&&(n+=360),n),lA=f_,uA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),cA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),A5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uA,scaleY:cA,scale:n=>(uA(n)+cA(n))/2,rotateX:n=>d_(za(Math.atan2(n[6],n[5]))),rotateY:n=>d_(za(Math.atan2(-n[2],n[0]))),rotateZ:lA,rotate:lA,skewX:n=>za(Math.atan(n[4])),skewY:n=>za(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function m_(n){return n.includes("scale")?1:0}function p_(n,t){if(!n||n==="none")return m_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=A5,a=e;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=w5,a=f}if(!a)return m_(t);const l=i[t],u=a[1].split(",").map(R5);return typeof l=="function"?l(u):u[l]}const I5=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return p_(e,t)};function R5(n){return parseFloat(n.trim())}const Wl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$l=new Set(Wl),hA=n=>n===Xl||n===yt,C5=new Set(["x","y","z"]),x5=Wl.filter(n=>!C5.has(n));function D5(n){const t=[];return x5.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const xs={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>p_(t,"x"),y:(n,{transform:t})=>p_(t,"y")};xs.translateX=xs.x;xs.translateY=xs.y;const Ga=new Set;let g_=!1,y_=!1,__=!1;function hx(){if(y_){const n=Array.from(Ga).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=D5(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}y_=!1,g_=!1,Ga.forEach(n=>n.complete(__)),Ga.clear()}function fx(){Ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(y_=!0)})}function V5(){__=!0,fx(),hx(),__=!1}class Jv{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ga.add(this),g_||(g_=!0,le.read(fx),le.resolveKeyframes(hx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const f=i.readValue(e,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}S5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ga.delete(this)}cancel(){this.state==="scheduled"&&(Ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const M5=n=>n.startsWith("--");function P5(n,t,e){M5(t)?n.style.setProperty(t,e):n.style[t]=e}const O5=jv(()=>window.ScrollTimeline!==void 0),N5={};function k5(n,t){const e=jv(n);return()=>N5[t]??e()}const dx=k5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),vc=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,fA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vc([0,.65,.55,1]),circOut:vc([.55,0,1,.45]),backIn:vc([.31,.01,.66,-.59]),backOut:vc([.33,1.53,.69,.99])};function mx(n,t){if(n)return typeof n=="function"?dx()?lx(n,t):"ease-out":$C(n)?vc(n):Array.isArray(n)?n.map(e=>mx(e,t)||fA.easeOut):fA[n]}function L5(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:e};m&&(y.offset=m);const v=mx(f,a);Array.isArray(v)&&(y.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(b.pseudoElement=p),n.animate(y,b)}function px(n){return typeof n=="function"&&"applyToOptions"in n}function U5({type:n,...t}){return px(n)&&dx()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class gx extends $v{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,zv(typeof t.type!="string");const p=U5(t);this.animation=L5(e,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Wv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):P5(e,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&O5()?(this.animation.timeline=t,ai):e(this)}}const yx={anticipate:YC,backInOut:KC,circInOut:XC};function B5(n){return n in yx}function z5(n){typeof n.ease=="string"&&B5(n.ease)&&(n.ease=yx[n.ease])}const py=10;class j5 extends gx{constructor(t){z5(t),cx(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const f=new Zv({...u,autoplay:!1}),m=Math.max(py,Tn.now()-this.startTime),p=sr(0,py,m-py);e.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const dA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Gs.test(n)||n==="0")&&!n.startsWith("url("));function F5(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function q5(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=dA(a,t),f=dA(l,t);return!u||!f?!1:F5(n)||(e==="spring"||px(e))&&i}function v_(n){n.duration=0,n.type="keyframes"}const H5=new Set(["opacity","clipPath","filter","transform"]),G5=jv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K5(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return G5()&&e&&H5.has(e)&&(e!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const Y5=40;class Q5 extends $v{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Tn.now();const b={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...v},I=y?.KeyframeResolver||Jv;this.keyframeResolver=new I(f,(D,U,B)=>this.onKeyframesResolved(D,U,b,!B),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=Tn.now(),q5(t,l,u,f)||((Nr.instantAnimations||!m)&&y?.(Wv(t,i,e)),t[0]=t[t.length-1],v_(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Y5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},I=!p&&K5(b),D=b.motionValue?.owner?.current,U=I?new j5({...b,element:D}):new Zv(b);U.finished.then(()=>{this.notifyFinished()}).catch(ai),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),V5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function _x(n,t,e,i=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,f=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:f-l*i}const X5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function W5(n){const t=X5.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function vx(n,t,e=1){const[i,a]=W5(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return UC(u)?parseFloat(u):u}return Gv(a)?vx(a,t,e+1):a}const $5={type:"spring",stiffness:500,damping:25,restSpeed:10},Z5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),J5={type:"keyframes",duration:.8},t9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},e9=(n,{keyframes:t})=>t.length>2?J5:$l.has(n)?n.startsWith("scale")?Z5(t[1]):$5:t9,n9=n=>n!==null;function i9(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(n9),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function Tx(n,t){if(n?.inherit&&t){const{inherit:e,...i}=n;return{...t,...i}}return n}function t0(n,t){const e=n?.[t]??n?.default??n;return e!==n?Tx(e,n):e}function r9({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const e0=(n,t,e,i={},a,l)=>u=>{const f=t0(i,n)||{},m=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ai(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:l?void 0:a};r9(f)||Object.assign(y,e9(n,y)),y.duration&&(y.duration=Ai(y.duration)),y.repeatDelay&&(y.repeatDelay=Ai(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(v_(y),y.delay===0&&(v=!0)),(Nr.instantAnimations||Nr.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,v_(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&t.get()!==void 0){const b=i9(y.keyframes,f);if(b!==void 0){le.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new Zv(y):new Q5(y)};function mA(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function n0(n,t,e,i){if(typeof t=="function"){const[a,l]=mA(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=mA(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function El(n,t,e){const i=n.getProps();return n0(i,t,e!==void 0?e:i.custom,n)}const Ex=new Set(["width","height","top","left","right","bottom",...Wl]),pA=30,s9=n=>!isNaN(parseFloat(n));class a9{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=Tn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Tn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=s9(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Fv);const i=this.events[t].add(e);return t==="change"?()=>{i(),le.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Tn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,pA);return jC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zl(n,t){return new a9(n,t)}const T_=n=>Array.isArray(n);function o9(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,zl(e))}function l9(n){return T_(n)?n[n.length-1]||0:n}function u9(n,t){const e=El(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const f=l9(l[u]);o9(n,u,f)}}const mn=n=>!!(n&&n.getVelocity);function c9(n){return!!(mn(n)&&n.add)}function E_(n,t){const e=n.getValue("willChange");if(c9(e))return e.add(t);if(!e&&Nr.WillChange){const i=new Nr.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function i0(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const h9="framerAppearId",bx="data-"+i0(h9);function Sx(n){return n.props[bx]}function f9({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function wx(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...f}=t;const m=n.getDefaultTransition();l=l?Tx(l,m):m;const p=l?.reduceMotion;i&&(l=i);const y=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const b in f){const I=n.getValue(b,n.latestValues[b]??null),D=f[b];if(D===void 0||v&&f9(v,b))continue;const U={delay:e,...t0(l||{},b)},B=I.get();if(B!==void 0&&!I.isAnimating&&!Array.isArray(D)&&D===B&&!U.velocity)continue;let Q=!1;if(window.MotionHandoffAnimation){const it=Sx(n);if(it){const rt=window.MotionHandoffAnimation(it,b,le);rt!==null&&(U.startTime=rt,Q=!0)}}E_(n,b);const Z=p??n.shouldReduceMotion;I.start(e0(b,I,D,Z&&Ex.has(b)?{type:!1}:U,n,Q));const Y=I.animation;Y&&y.push(Y)}if(u){const b=()=>le.update(()=>{u&&u9(n,u)});y.length?Promise.all(y).then(b):b()}return y}function b_(n,t,e={}){const i=El(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(wx(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return d9(n,t,m,p,y,v,e)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function d9(n,t,e=0,i=0,a=0,l=1,u){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(b_(m,t,{...u,delay:e+(typeof i=="function"?0:i)+_x(n.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function m9(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>b_(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=b_(n,t,e);else{const a=typeof t=="function"?El(n,t,e.custom):t;i=Promise.all(wx(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const p9={test:n=>n==="auto",parse:n=>n},Ax=n=>t=>t.test(n),Ix=[Xl,yt,nr,Ss,qL,FL,p9],gA=n=>Ix.find(Ax(n));function g9(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||zC(n):!0}const y9=new Set(["brightness","contrast","saturate","opacity"]);function _9(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(Kv)||[];if(!i)return n;const a=e.replace(i,"");let l=y9.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const v9=/\b([a-z-]*)\(.*?\)/gu,S_={...Gs,getAnimatableNone:n=>{const t=n.match(v9);return t?t.map(_9).join(" "):n}},yA={...Xl,transform:Math.round},T9={rotate:Ss,rotateX:Ss,rotateY:Ss,rotateZ:Ss,scale:ld,scaleX:ld,scaleY:ld,scaleZ:ld,skew:Ss,skewX:Ss,skewY:Ss,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:Zc,originX:iA,originY:iA,originZ:yt},r0={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...T9,zIndex:yA,fillOpacity:Zc,strokeOpacity:Zc,numOctaves:yA},E9={...r0,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:S_,WebkitFilter:S_},Rx=n=>E9[n];function Cx(n,t){let e=Rx(n);return e!==S_&&(e=Gs),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const b9=new Set(["auto","none","0"]);function S9(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!b9.has(l)&&Jc(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=Cx(e,a)}class w9 extends Jv{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),Gv(v))){const b=vx(v,e.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!Ex.has(i)||t.length!==2)return;const[a,l]=t,u=gA(a),f=gA(l),m=nA(a),p=nA(l);if(m!==p&&xs[i]){this.needsMeasurement=!0;return}if(u!==f)if(hA(u)&&hA(f))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else xs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||g9(t[a]))&&i.push(a);i.length&&S9(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=xs[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const A9=new Set(["opacity","clipPath","filter","transform"]);function xx(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const Dx=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function w_(n){return BC(n)&&"offsetHeight"in n}const{schedule:s0}=ZC(queueMicrotask,!1),Ti={x:!1,y:!1};function Vx(){return Ti.x||Ti.y}function I9(n){return n==="x"||n==="y"?Ti[n]?null:(Ti[n]=!0,()=>{Ti[n]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function Mx(n,t){const e=xx(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function R9(n){return!(n.pointerType==="touch"||Vx())}function C9(n,t,e={}){const[i,a,l]=Mx(n,e);return i.forEach(u=>{let f=!1,m=!1,p;const y=()=>{u.removeEventListener("pointerleave",D)},v=B=>{p&&(p(B),p=void 0),y()},b=B=>{f=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),m&&(m=!1,v(B))},I=()=>{f=!0,window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",b,a)},D=B=>{if(B.pointerType!=="touch"){if(f){m=!0;return}v(B)}},U=B=>{if(!R9(B))return;m=!1;const Q=t(u,B);typeof Q=="function"&&(p=Q,u.addEventListener("pointerleave",D,a))};u.addEventListener("pointerenter",U,a),u.addEventListener("pointerdown",I,a)}),l}const Px=(n,t)=>t?n===t?!0:Px(n,t.parentElement):!1,a0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,x9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function D9(n){return x9.has(n.tagName)||n.isContentEditable===!0}const V9=new Set(["INPUT","SELECT","TEXTAREA"]);function M9(n){return V9.has(n.tagName)||n.isContentEditable===!0}const Cd=new WeakSet;function _A(n){return t=>{t.key==="Enter"&&n(t)}}function gy(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const P9=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=_A(()=>{if(Cd.has(e))return;gy(e,"down");const a=_A(()=>{gy(e,"up")}),l=()=>gy(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function vA(n){return a0(n)&&!Vx()}const TA=new WeakSet;function O9(n,t,e={}){const[i,a,l]=Mx(n,e),u=f=>{const m=f.currentTarget;if(!vA(f)||TA.has(f))return;Cd.add(m),e.stopPropagation&&TA.add(f);const p=t(m,f),y=(I,D)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),Cd.has(m)&&Cd.delete(m),vA(I)&&typeof p=="function"&&p(I,{success:D})},v=I=>{y(I,m===window||m===document||e.useGlobalTarget||Px(m,I.target))},b=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(f=>{(e.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),w_(f)&&(f.addEventListener("focus",p=>P9(p,a)),!D9(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function o0(n){return BC(n)&&"ownerSVGElement"in n}const xd=new WeakMap;let Dd;const Ox=(n,t,e)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:o0(i)&&"getBBox"in i?i.getBBox()[t]:i[e],N9=Ox("inline","width","offsetWidth"),k9=Ox("block","height","offsetHeight");function L9({target:n,borderBoxSize:t}){xd.get(n)?.forEach(e=>{e(n,{get width(){return N9(n,t)},get height(){return k9(n,t)}})})}function U9(n){n.forEach(L9)}function B9(){typeof ResizeObserver>"u"||(Dd=new ResizeObserver(U9))}function z9(n,t){Dd||B9();const e=xx(n);return e.forEach(i=>{let a=xd.get(i);a||(a=new Set,xd.set(i,a)),a.add(t),Dd?.observe(i)}),()=>{e.forEach(i=>{const a=xd.get(i);a?.delete(t),a?.size||Dd?.unobserve(i)})}}const Vd=new Set;let hl;function j9(){hl=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Vd.forEach(t=>t(n))},window.addEventListener("resize",hl)}function F9(n){return Vd.add(n),hl||j9(),()=>{Vd.delete(n),!Vd.size&&typeof hl=="function"&&(window.removeEventListener("resize",hl),hl=void 0)}}function EA(n,t){return typeof n=="function"?F9(n):z9(n,t)}function q9(n){return o0(n)&&n.tagName==="svg"}const H9=[...Ix,Le,Gs],G9=n=>H9.find(Ax(n)),bA=()=>({translate:0,scale:1,origin:0,originPoint:0}),fl=()=>({x:bA(),y:bA()}),SA=()=>({min:0,max:0}),Ge=()=>({x:SA(),y:SA()}),K9=new WeakMap;function Fm(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function th(n){return typeof n=="string"||Array.isArray(n)}const l0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],u0=["initial",...l0];function qm(n){return Fm(n.animate)||u0.some(t=>th(n[t]))}function Nx(n){return!!(qm(n)||n.variants)}function Y9(n,t,e){for(const i in t){const a=t[i],l=e[i];if(mn(a))n.addValue(i,a);else if(mn(l))n.addValue(i,zl(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,zl(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const A_={current:null},kx={current:!1},Q9=typeof window<"u";function X9(){if(kx.current=!0,!!Q9)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>A_.current=n.matches;n.addEventListener("change",t),t()}else A_.current=!1}const wA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let hm={};function Lx(n){hm=n}function W9(){return hm}class $9{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Jv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=Tn.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,le.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=qm(e),this.isVariantNode=Nx(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const I in b){const D=b[I];p[I]!==void 0&&mn(D)&&D.set(p[I])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,K9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(kx.current||X9(),this.shouldReduceMotion=A_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&A9.has(t)&&this.current instanceof HTMLElement){const{factory:u,keyframes:f,times:m,ease:p,duration:y}=e.accelerate,v=new gx({element:this.current,name:t,keyframes:f,times:m,ease:p,duration:Ai(y)}),b=u(v);this.valueSubscriptions.set(t,()=>{b(),v.cancel()});return}const i=$l.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&le.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in hm){const e=hm[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<wA.length;i++){const a=wA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=Y9(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=zl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(UC(i)||zC(i))?i=parseFloat(i):!G9(i)&&Gs.test(e)&&(i=Cx(t,e)),this.setBaseTarget(t,mn(i)?i.get():i)),mn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=n0(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!mn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Fv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){s0.render(this.render)}}class Ux extends $9{constructor(){super(...arguments),this.KeyframeResolver=w9}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Bx({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function Z9({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function J9(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function yy(n){return n===void 0||n===1}function I_({scale:n,scaleX:t,scaleY:e}){return!yy(n)||!yy(t)||!yy(e)}function Ma(n){return I_(n)||zx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function zx(n){return AA(n.x)||AA(n.y)}function AA(n){return n&&n!=="0%"}function fm(n,t,e){const i=n-e,a=t*i;return e+a}function IA(n,t,e,i,a){return a!==void 0&&(n=fm(n,a,i)),fm(n,e,i)+t}function R_(n,t=0,e=1,i,a){n.min=IA(n.min,t,e,i,a),n.max=IA(n.max,t,e,i,a)}function jx(n,{x:t,y:e}){R_(n.x,t.translate,t.scale,t.originPoint),R_(n.y,e.translate,e.scale,e.originPoint)}const RA=.999999999999,CA=1.0000000000001;function tU(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let f=0;f<a;f++){l=e[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ml(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,jx(n,u)),i&&Ma(l.latestValues)&&ml(n,l.latestValues))}t.x<CA&&t.x>RA&&(t.x=1),t.y<CA&&t.y>RA&&(t.y=1)}function dl(n,t){n.min=n.min+t,n.max=n.max+t}function xA(n,t,e,i,a=.5){const l=_e(n.min,n.max,a);R_(n,t,e,l,i)}function ml(n,t){xA(n.x,t.x,t.scaleX,t.scale,t.originX),xA(n.y,t.y,t.scaleY,t.scale,t.originY)}function Fx(n,t){return Bx(J9(n.getBoundingClientRect(),t))}function eU(n,t,e){const i=Fx(n,e),{scroll:a}=t;return a&&(dl(i.x,a.offset.x),dl(i.y,a.offset.y)),i}const nU={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iU=Wl.length;function rU(n,t,e){let i="",a=!0;for(let l=0;l<iU;l++){const u=Wl[l],f=n[u];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(u.startsWith("scale")?1:0);else{const p=parseFloat(f);m=u.startsWith("scale")?p===1:p===0}if(!m||e){const p=Dx(f,r0[u]);if(!m){a=!1;const y=nU[u]||u;i+=`${y}(${p}) `}e&&(t[u]=p)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function c0(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,f=!1;for(const m in t){const p=t[m];if($l.has(m)){u=!0;continue}else if(tx(m)){a[m]=p;continue}else{const y=Dx(p,r0[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(t.transform||(u||e?i.transform=rU(t,n.transform,e):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}function qx(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function DA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const fc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=DA(n,t.target.x),i=DA(n,t.target.y);return`${e}% ${i}%`}},sU={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=Gs.parse(n);if(a.length>5)return i;const l=Gs.createTransformer(n),u=typeof a[0]!="number"?1:0,f=e.x.scale*t.x,m=e.y.scale*t.y;a[0+u]/=f,a[1+u]/=m;const p=_e(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},C_={borderRadius:{...fc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:fc,borderTopRightRadius:fc,borderBottomLeftRadius:fc,borderBottomRightRadius:fc,boxShadow:sU};function Hx(n,{layout:t,layoutId:e}){return $l.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!C_[n]||n==="opacity")}function h0(n,t,e){const i=n.style,a=t?.style,l={};if(!i)return l;for(const u in i)(mn(i[u])||a&&mn(a[u])||Hx(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function aU(n){return window.getComputedStyle(n)}class oU extends Ux{constructor(){super(...arguments),this.type="html",this.renderInstance=qx}readValueFromInstance(t,e){if($l.has(e))return this.projection?.isProjecting?m_(e):I5(t,e);{const i=aU(t),a=(tx(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return Fx(t,e)}build(t,e,i){c0(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return h0(t,e,i)}}const lU={offset:"stroke-dashoffset",array:"stroke-dasharray"},uU={offset:"strokeDashoffset",array:"strokeDasharray"};function cU(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?lU:uU;n[l.offset]=`${-i}`,n[l.array]=`${t} ${e}`}const hU=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Gx(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(c0(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of hU)v[I]!==void 0&&(b[I]=v[I],delete v[I]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),a!==void 0&&cU(v,a,l,u,!1)}const Kx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Yx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function fU(n,t,e,i){qx(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(Kx.has(a)?a:i0(a),t.attrs[a])}function Qx(n,t,e){const i=h0(n,t,e);for(const a in n)if(mn(n[a])||mn(t[a])){const l=Wl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}class dU extends Ux{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if($l.has(e)){const i=Rx(e);return i&&i.default||0}return e=Kx.has(e)?e:i0(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return Qx(t,e,i)}build(t,e,i){Gx(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){fU(t,e,i,a)}mount(t){this.isSVGTag=Yx(t.tagName),super.mount(t)}}const mU=u0.length;function Xx(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Xx(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<mU;e++){const i=u0[e],a=n.props[i];(th(a)||a===!1)&&(t[i]=a)}return t}function Wx(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const pU=[...l0].reverse(),gU=l0.length;function yU(n){return t=>Promise.all(t.map(({animation:e,options:i})=>m9(n,e,i)))}function _U(n){let t=yU(n),e=VA(),i=!0;const a=m=>(p,y)=>{const v=El(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:I,...D}=v;p={...p,...D,...I}}return p};function l(m){t=m(n)}function u(m){const{props:p}=n,y=Xx(n.parent)||{},v=[],b=new Set;let I={},D=1/0;for(let B=0;B<gU;B++){const Q=pU[B],Z=e[Q],Y=p[Q]!==void 0?p[Q]:y[Q],it=th(Y),rt=Q===m?Z.isActive:null;rt===!1&&(D=B);let ct=Y===y[Q]&&Y!==p[Q]&&it;if(ct&&i&&n.manuallyAnimateOnMount&&(ct=!1),Z.protectedKeys={...I},!Z.isActive&&rt===null||!Y&&!Z.prevProp||Fm(Y)||typeof Y=="boolean")continue;if(Q==="exit"&&Z.isActive&&rt!==!0){Z.prevResolvedValues&&(I={...I,...Z.prevResolvedValues});continue}const C=vU(Z.prevProp,Y);let A=C||Q===m&&Z.isActive&&!ct&&it||B>D&&it,R=!1;const P=Array.isArray(Y)?Y:[Y];let M=P.reduce(a(Q),{});rt===!1&&(M={});const{prevResolvedValues:L={}}=Z,x={...L,...M},ae=st=>{A=!0,b.has(st)&&(R=!0,b.delete(st)),Z.needsAnimating[st]=!0;const pt=n.getValue(st);pt&&(pt.liveStyle=!1)};for(const st in x){const pt=M[st],Dt=L[st];if(I.hasOwnProperty(st))continue;let kt=!1;T_(pt)&&T_(Dt)?kt=!Wx(pt,Dt):kt=pt!==Dt,kt?pt!=null?ae(st):b.add(st):pt!==void 0&&b.has(st)?ae(st):Z.protectedKeys[st]=!0}Z.prevProp=Y,Z.prevResolvedValues=M,Z.isActive&&(I={...I,...M}),i&&n.blockInitialAnimation&&(A=!1);const ve=ct&&C;A&&(!ve||R)&&v.push(...P.map(st=>{const pt={type:Q};if(typeof st=="string"&&i&&!ve&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=El(Dt,st);if(Dt.enteringChildren&&kt){const{delayChildren:N}=kt.transition||{};pt.delay=_x(Dt.enteringChildren,n,N)}}return{animation:st,options:pt}}))}if(b.size){const B={};if(typeof p.initial!="boolean"){const Q=El(n,Array.isArray(p.initial)?p.initial[0]:p.initial);Q&&Q.transition&&(B.transition=Q.transition)}b.forEach(Q=>{const Z=n.getBaseTarget(Q),Y=n.getValue(Q);Y&&(Y.liveStyle=!0),B[Q]=Z??null}),v.push({animation:B})}let U=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(U=!1),i=!1,U?t(v):Promise.resolve()}function f(m,p){if(e[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),e[m].isActive=p;const y=u(m);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>e,reset:()=>{e=VA()}}}function vU(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!Wx(t,n):!1}function Ra(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VA(){return{animate:Ra(!0),whileInView:Ra(),whileHover:Ra(),whileTap:Ra(),whileDrag:Ra(),whileFocus:Ra(),exit:Ra()}}function MA(n,t){n.min=t.min,n.max=t.max}function vi(n,t){MA(n.x,t.x),MA(n.y,t.y)}function PA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const $x=1e-4,TU=1-$x,EU=1+$x,Zx=.01,bU=0-Zx,SU=0+Zx;function En(n){return n.max-n.min}function wU(n,t,e){return Math.abs(n-t)<=e}function OA(n,t,e,i=.5){n.origin=i,n.originPoint=_e(t.min,t.max,n.origin),n.scale=En(e)/En(t),n.translate=_e(e.min,e.max,n.origin)-n.originPoint,(n.scale>=TU&&n.scale<=EU||isNaN(n.scale))&&(n.scale=1),(n.translate>=bU&&n.translate<=SU||isNaN(n.translate))&&(n.translate=0)}function Mc(n,t,e,i){OA(n.x,t.x,e.x,i?i.originX:void 0),OA(n.y,t.y,e.y,i?i.originY:void 0)}function NA(n,t,e){n.min=e.min+t.min,n.max=n.min+En(t)}function AU(n,t,e){NA(n.x,t.x,e.x),NA(n.y,t.y,e.y)}function kA(n,t,e){n.min=t.min-e.min,n.max=n.min+En(t)}function dm(n,t,e){kA(n.x,t.x,e.x),kA(n.y,t.y,e.y)}function LA(n,t,e,i,a){return n-=t,n=fm(n,1/e,i),a!==void 0&&(n=fm(n,1/a,i)),n}function IU(n,t=0,e=1,i=.5,a,l=n,u=n){if(nr.test(t)&&(t=parseFloat(t),t=_e(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=_e(l.min,l.max,i);n===l&&(f-=t),n.min=LA(n.min,t,e,f,a),n.max=LA(n.max,t,e,f,a)}function UA(n,t,[e,i,a],l,u){IU(n,t[e],t[i],t[a],t.scale,l,u)}const RU=["x","scaleX","originX"],CU=["y","scaleY","originY"];function BA(n,t,e,i){UA(n.x,t,RU,e?e.x:void 0,i?i.x:void 0),UA(n.y,t,CU,e?e.y:void 0,i?i.y:void 0)}function zA(n){return n.translate===0&&n.scale===1}function Jx(n){return zA(n.x)&&zA(n.y)}function jA(n,t){return n.min===t.min&&n.max===t.max}function xU(n,t){return jA(n.x,t.x)&&jA(n.y,t.y)}function FA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function tD(n,t){return FA(n.x,t.x)&&FA(n.y,t.y)}function qA(n){return En(n.x)/En(n.y)}function HA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Wi(n){return[n("x"),n("y")]}function DU(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:b,skewX:I,skewY:D}=e;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),I&&(i+=`skewX(${I}deg) `),D&&(i+=`skewY(${D}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const eD=["TopLeft","TopRight","BottomLeft","BottomRight"],VU=eD.length,GA=n=>typeof n=="string"?parseFloat(n):n,KA=n=>typeof n=="number"||yt.test(n);function MU(n,t,e,i,a,l){a?(n.opacity=_e(0,e.opacity??1,PU(i)),n.opacityExit=_e(t.opacity??1,0,OU(i))):l&&(n.opacity=_e(t.opacity??1,e.opacity??1,i));for(let u=0;u<VU;u++){const f=`border${eD[u]}Radius`;let m=YA(t,f),p=YA(e,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||KA(m)===KA(p)?(n[f]=Math.max(_e(GA(m),GA(p),i),0),(nr.test(p)||nr.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||e.rotate)&&(n.rotate=_e(t.rotate||0,e.rotate||0,i))}function YA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const PU=nD(0,.5,QC),OU=nD(.5,.95,ai);function nD(n,t,e){return i=>i<n?0:i>t?1:e($c(n,t,i))}function NU(n,t,e){const i=mn(n)?n:zl(n);return i.start(e0("",i,t,e)),i.animation}function eh(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const kU=(n,t)=>n.depth-t.depth;class LU{constructor(){this.children=[],this.isDirty=!1}add(t){Bv(this.children,t),this.isDirty=!0}remove(t){om(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kU),this.isDirty=!1,this.children.forEach(t)}}function UU(n,t){const e=Tn.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(Hs(i),n(l-t))};return le.setup(i,!0),()=>Hs(i)}function Md(n){return mn(n)?n.get():n}class BU{constructor(){this.members=[]}add(t){Bv(this.members,t);for(let e=this.members.length-1;e>=0;e--){const i=this.members[e];if(i===t||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&om(this.members,i)}t.scheduleRender()}remove(t){if(om(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const a=i.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:f}=t.options;f===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Pd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},_y=["","X","Y","Z"],zU=1e3;let jU=0;function vy(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function iD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=Sx(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",le,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&iD(i)}function rD({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=t?.()){this.id=jU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HU),this.nodes.forEach(QU),this.nodes.forEach(XU),this.nodes.forEach(GU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new LU)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Fv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=o0(u)&&!q9(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;le.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=UU(b,250),Pd.hasAnimatedSinceResize&&(Pd.hasAnimatedSinceResize=!1,this.nodes.forEach(WA)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const D=this.options.transition||p.getDefaultTransition()||tB,{onLayoutAnimationStart:U,onLayoutAnimationComplete:B}=p.getProps(),Q=!this.targetLayout||!tD(this.targetLayout,I),Z=!v&&b;if(this.options.layoutRoot||this.resumeFrom||Z||v&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...t0(D,"layout"),onPlay:U,onComplete:B};(p.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,Z)}else v||WA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(WU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&iD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(QA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(YU),this.nodes.forEach(FU),this.nodes.forEach(qU)):this.nodes.forEach(XA),this.clearAllSnapshots();const f=Tn.now();on.delta=sr(0,1e3/60,f-on.timestamp),on.timestamp=f,on.isProcessing=!0,cy.update.process(on),cy.preRender.process(on),cy.render.process(on),on.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(KU),this.sharedNodes.forEach($U)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Jx(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||Ma(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),eB(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return Ge();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(nB))){const{scroll:p}=this.root;p&&(dl(f.x,p.offset.x),dl(f.y,p.offset.y))}return f}removeElementScroll(u){const f=Ge();if(vi(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&vi(f,u),dl(f.x,y.offset.x),dl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=Ge();vi(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ml(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Ma(y.latestValues)&&ml(m,y.latestValues)}return Ma(this.latestValues)&&ml(m,this.latestValues),m}removeTransform(u){const f=Ge();vi(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!Ma(p.latestValues))continue;I_(p.latestValues)&&p.updateSnapshot();const y=Ge(),v=p.measurePageBox();vi(y,v),BA(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return Ma(this.latestValues)&&BA(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==on.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=on.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),AU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),jx(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||I_(this.parent.latestValues)||zx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),dm(this.relativeTargetOrigin,f,m),vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===on.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;vi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;tU(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ge());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(PA(this.prevProjectionDelta.x,this.projectionDelta.x),PA(this.prevProjectionDelta.y,this.projectionDelta.y)),Mc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!HA(this.projectionDelta.x,this.prevProjectionDelta.x)||!HA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fl(),this.projectionDelta=fl(),this.projectionDeltaWithTransform=fl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=fl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=Ge(),I=m?m.source:void 0,D=this.layout?this.layout.source:void 0,U=I!==D,B=this.getStack(),Q=!B||B.members.length<=1,Z=!!(U&&!Q&&this.options.crossfade===!0&&!this.path.some(JU));this.animationProgress=0;let Y;this.mixTargetDelta=it=>{const rt=it/1e3;$A(v.x,u.x,rt),$A(v.y,u.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dm(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZU(this.relativeTarget,this.relativeTargetOrigin,b,rt),Y&&xU(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=Ge()),vi(Y,this.relativeTarget)),U&&(this.animationValues=y,MU(y,p,this.latestValues,rt,Z,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{Pd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zl(0)),this.currentAnimation=NU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&sD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||Ge();const v=En(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const b=En(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}vi(f,m),ml(f,y),Mc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new BU),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&vy("z",u,p,this.animationValues);for(let y=0;y<_y.length;y++)vy(`rotate${_y[y]}`,u,p,this.animationValues),vy(`skew${_y[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Md(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Md(f?.pointerEvents)||""),this.hasProjected&&!Ma(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=DU(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:b,y:I}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const D in C_){if(y[D]===void 0)continue;const{correct:U,applyTo:B,isCSSVariable:Q}=C_[D],Z=v==="none"?y[D]:U(y[D],p);if(B){const Y=B.length;for(let it=0;it<Y;it++)u[B[it]]=Z}else Q?this.options.visualElement.renderState.vars[D]=Z:u[D]=Z}this.options.layoutId&&(u.pointerEvents=p===this?Md(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(QA),this.root.sharedNodes.clear()}}}function FU(n){n.updateLayout()}function qU(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Wi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],b=En(v);v.min=e[y].min,v.max=v.min+b}):sD(a,t.layoutBox,e)&&Wi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],b=En(e[y]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const u=fl();Mc(u,e,t.layoutBox);const f=fl();l?Mc(f,n.applyTransform(i,!0),t.measuredBox):Mc(f,e,t.layoutBox);const m=!Jx(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const I=Ge();dm(I,t.layoutBox,v.layoutBox);const D=Ge();dm(D,e,b.layoutBox),tD(I,D)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=D,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function HU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function GU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function KU(n){n.clearSnapshot()}function QA(n){n.clearMeasurements()}function XA(n){n.isLayoutDirty=!1}function YU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function WA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function QU(n){n.resolveTargetDelta()}function XU(n){n.calcProjection()}function WU(n){n.resetSkewAndRotation()}function $U(n){n.removeLeadSnapshot()}function $A(n,t,e){n.translate=_e(t.translate,0,e),n.scale=_e(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function ZA(n,t,e,i){n.min=_e(t.min,e.min,i),n.max=_e(t.max,e.max,i)}function ZU(n,t,e,i){ZA(n.x,t.x,e.x,i),ZA(n.y,t.y,e.y,i)}function JU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const tB={duration:.45,ease:[.4,0,.1,1]},JA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),t1=JA("applewebkit/")&&!JA("chrome/")?Math.round:ai;function e1(n){n.min=t1(n.min),n.max=t1(n.max)}function eB(n){e1(n.x),e1(n.y)}function sD(n,t,e){return n==="position"||n==="preserve-aspect"&&!wU(qA(t),qA(e),.2)}function nB(n){return n!==n.root&&n.scroll?.wasRoot}const iB=rD({attachResizeListener:(n,t)=>eh(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Ty={current:void 0},aD=rD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Ty.current){const n=new iB({});n.mount(window),n.setOptions({layoutScroll:!0}),Ty.current=n}return Ty.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),f0=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function n1(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function rB(...n){return t=>{let e=!1;const i=n.map(a=>{const l=n1(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():n1(n[a],null)}}}}function sB(...n){return ot.useCallback(rB(...n),n)}class aB extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=e.offsetParent,a=w_(i)&&i.offsetWidth||0,l=w_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function oB({children:n,isPresent:t,anchorX:e,anchorY:i,root:a,pop:l}){const u=ot.useId(),f=ot.useRef(null),m=ot.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=ot.useContext(f0),y=n.props?.ref??n?.ref,v=sB(f,y);return ot.useInsertionEffect(()=>{const{width:b,height:I,top:D,left:U,right:B,bottom:Q}=m.current;if(t||l===!1||!f.current||!b||!I)return;const Z=e==="left"?`left: ${U}`:`right: ${B}`,Y=i==="bottom"?`bottom: ${Q}`:`top: ${D}`;f.current.dataset.motionPopId=u;const it=document.createElement("style");p&&(it.nonce=p);const rt=a??document.head;return rt.appendChild(it),it.sheet&&it.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${I}px !important;
            ${Z}px !important;
            ${Y}px !important;
          }
        `),()=>{rt.contains(it)&&rt.removeChild(it)}},[t]),nt.jsx(aB,{isPresent:t,childRef:f,sizeRef:m,pop:l,children:l===!1?n:ot.cloneElement(n,{ref:v})})}const lB=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:m,root:p})=>{const y=Uv(uB),v=ot.useId();let b=!0,I=ot.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:D=>{y.set(D,!0);for(const U of y.values())if(!U)return;i&&i()},register:D=>(y.set(D,!1),()=>y.delete(D))}),[e,y,i]);return l&&b&&(I={...I}),ot.useMemo(()=>{y.forEach((D,U)=>y.set(U,!1))},[e]),ot.useEffect(()=>{!e&&!y.size&&i&&i()},[e]),n=nt.jsx(oB,{pop:u==="popLayout",isPresent:e,anchorX:f,anchorY:m,root:p,children:n}),nt.jsx(jm.Provider,{value:I,children:n})};function uB(){return new Map}function oD(n=!0){const t=ot.useContext(jm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=ot.useId();ot.useEffect(()=>{if(n)return a(l)},[n]);const u=ot.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const ud=n=>n.key||"";function i1(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const cB=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[y,v]=oD(u),b=ot.useMemo(()=>i1(n),[n]),I=u&&!y?[]:b.map(ud),D=ot.useRef(!0),U=ot.useRef(b),B=Uv(()=>new Map),Q=ot.useRef(new Set),[Z,Y]=ot.useState(b),[it,rt]=ot.useState(b);LC(()=>{D.current=!1,U.current=b;for(let A=0;A<it.length;A++){const R=ud(it[A]);I.includes(R)?(B.delete(R),Q.current.delete(R)):B.get(R)!==!0&&B.set(R,!1)}},[it,I.length,I.join("-")]);const ct=[];if(b!==Z){let A=[...b];for(let R=0;R<it.length;R++){const P=it[R],M=ud(P);I.includes(M)||(A.splice(R,0,P),ct.push(P))}return l==="wait"&&ct.length&&(A=ct),rt(i1(A)),Y(b),null}const{forceRender:C}=ot.useContext(Lv);return nt.jsx(nt.Fragment,{children:it.map(A=>{const R=ud(A),P=u&&!y?!1:b===it||I.includes(R),M=()=>{if(Q.current.has(R))return;if(Q.current.add(R),B.has(R))B.set(R,!0);else return;let L=!0;B.forEach(x=>{x||(L=!1)}),L&&(C?.(),rt(U.current),u&&v?.(),i&&i())};return nt.jsx(lB,{isPresent:P,initial:!D.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:P?void 0:M,anchorX:f,anchorY:m,children:A},R)})})},lD=ot.createContext({strict:!1}),r1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let s1=!1;function hB(){if(s1)return;const n={};for(const t in r1)n[t]={isEnabled:e=>r1[t].some(i=>!!e[i])};Lx(n),s1=!0}function uD(){return hB(),W9()}function fB(n){const t=uD();for(const e in n)t[e]={...t[e],...n[e]};Lx(t)}const dB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function mm(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||dB.has(n)}let cD=n=>!mm(n);function mB(n){typeof n=="function"&&(cD=t=>t.startsWith("on")?!mm(t):n(t))}try{mB(require("@emotion/is-prop-valid").default)}catch{}function pB(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(cD(a)||e===!0&&mm(a)||!t&&!mm(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Hm=ot.createContext({});function gB(n,t){if(qm(n)){const{initial:e,animate:i}=n;return{initial:e===!1||th(e)?e:void 0,animate:th(i)?i:void 0}}return n.inherit!==!1?t:{}}function yB(n){const{initial:t,animate:e}=gB(n,ot.useContext(Hm));return ot.useMemo(()=>({initial:t,animate:e}),[a1(t),a1(e)])}function a1(n){return Array.isArray(n)?n.join(" "):n}const d0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function hD(n,t,e){for(const i in t)!mn(t[i])&&!Hx(i,e)&&(n[i]=t[i])}function _B({transformTemplate:n},t){return ot.useMemo(()=>{const e=d0();return c0(e,t,n),Object.assign({},e.vars,e.style)},[t])}function vB(n,t){const e=n.style||{},i={};return hD(i,e,n),Object.assign(i,_B(n,t)),i}function TB(n,t){const e={},i=vB(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const fD=()=>({...d0(),attrs:{}});function EB(n,t,e,i){const a=ot.useMemo(()=>{const l=fD();return Gx(l,t,Yx(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};hD(l,n.style,n),a.style={...l,...a.style}}return a}const bB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function m0(n){return typeof n!="string"||n.includes("-")?!1:!!(bB.indexOf(n)>-1||/[A-Z]/u.test(n))}function SB(n,t,e,{latestValues:i},a,l=!1,u){const m=(u??m0(n)?EB:TB)(t,i,a,n),p=pB(t,typeof n=="string",l),y=n!==ot.Fragment?{...p,...m,ref:e}:{},{children:v}=t,b=ot.useMemo(()=>mn(v)?v.get():v,[v]);return ot.createElement(n,{...y,children:b})}function wB({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:AB(e,i,a,n),renderState:t()}}function AB(n,t,e,i){const a={},l=i(n,{});for(const b in l)a[b]=Md(l[b]);let{initial:u,animate:f}=n;const m=qm(n),p=Nx(n);t&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!Fm(v)){const b=Array.isArray(v)?v:[v];for(let I=0;I<b.length;I++){const D=n0(n,b[I]);if(D){const{transitionEnd:U,transition:B,...Q}=D;for(const Z in Q){let Y=Q[Z];if(Array.isArray(Y)){const it=y?Y.length-1:0;Y=Y[it]}Y!==null&&(a[Z]=Y)}for(const Z in U)a[Z]=U[Z]}}}return a}const dD=n=>(t,e)=>{const i=ot.useContext(Hm),a=ot.useContext(jm),l=()=>wB(n,t,i,a);return e?l():Uv(l)},IB=dD({scrapeMotionValuesFromProps:h0,createRenderState:d0}),RB=dD({scrapeMotionValuesFromProps:Qx,createRenderState:fD}),CB=Symbol.for("motionComponentSymbol");function xB(n,t,e){const i=ot.useRef(e);ot.useInsertionEffect(()=>{i.current=e});const a=ot.useRef(null);return ot.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=i.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const mD=ot.createContext({});function ll(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function DB(n,t,e,i,a,l){const{visualElement:u}=ot.useContext(Hm),f=ot.useContext(lD),m=ot.useContext(jm),p=ot.useContext(f0),y=p.reducedMotion,v=p.skipAnimations,b=ot.useRef(null),I=ot.useRef(!1);i=i||f.renderer,!b.current&&i&&(b.current=i(n,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:l}),I.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const D=b.current,U=ot.useContext(mD);D&&!D.projection&&a&&(D.type==="html"||D.type==="svg")&&VB(b.current,e,a,U);const B=ot.useRef(!1);ot.useInsertionEffect(()=>{D&&B.current&&D.update(e,m)});const Q=e[bx],Z=ot.useRef(!!Q&&!window.MotionHandoffIsComplete?.(Q)&&window.MotionHasOptimisedAnimation?.(Q));return LC(()=>{I.current=!0,D&&(B.current=!0,window.MotionIsMounted=!0,D.updateFeatures(),D.scheduleRenderMicrotask(),Z.current&&D.animationState&&D.animationState.animateChanges())}),ot.useEffect(()=>{D&&(!Z.current&&D.animationState&&D.animationState.animateChanges(),Z.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(Q)}),Z.current=!1),D.enteringChildren=void 0)}),D}function VB(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:pD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&ll(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function pD(n){if(n)return n.options.allowProjection!==!1?n.projection:pD(n.parent)}function Ey(n,{forwardMotionProps:t=!1,type:e}={},i,a){i&&fB(i);const l=e?e==="svg":m0(n),u=l?RB:IB;function f(p,y){let v;const b={...ot.useContext(f0),...p,layoutId:MB(p)},{isStatic:I}=b,D=yB(p),U=u(p,I);if(!I&&kC){PB();const B=OB(b);v=B.MeasureLayout,D.visualElement=DB(n,U,b,a,B.ProjectionNode,l)}return nt.jsxs(Hm.Provider,{value:D,children:[v&&D.visualElement?nt.jsx(v,{visualElement:D.visualElement,...b}):null,SB(n,p,xB(U,D.visualElement,y),U,I,t,l)]})}f.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=ot.forwardRef(f);return m[CB]=n,m}function MB({layoutId:n}){const t=ot.useContext(Lv).id;return t&&n!==void 0?t+"-"+n:n}function PB(n,t){ot.useContext(lD).strict}function OB(n){const t=uD(),{drag:e,layout:i}=t;if(!e&&!i)return{};const a={...e,...i};return{MeasureLayout:e?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function NB(n,t){if(typeof Proxy>"u")return Ey;const e=new Map,i=(l,u)=>Ey(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,Ey(u,void 0,n,t)),e.get(u))})}const kB=(n,t)=>t.isSVG??m0(n)?new dU(t):new oU(t,{allowProjection:n!==ot.Fragment});class LB extends Qs{constructor(t){super(t),t.animationState||(t.animationState=_U(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Fm(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let UB=0;class BB extends Qs{constructor(){super(...arguments),this.id=UB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const zB={animation:{Feature:LB},exit:{Feature:BB}};function bh(n){return{point:{x:n.pageX,y:n.pageY}}}const jB=n=>t=>a0(t)&&n(t,bh(t));function Pc(n,t,e,i){return eh(n,t,jB(e),i)}const gD=({current:n})=>n?n.ownerDocument.defaultView:null,o1=(n,t)=>Math.abs(n-t);function FB(n,t){const e=o1(n.x,t.x),i=o1(n.y,t.y);return Math.sqrt(e**2+i**2)}const l1=new Set(["auto","scroll"]);class yD{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Sy(this.lastMoveEventInfo,this.history),D=this.startEvent!==null,U=FB(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!D&&!U)return;const{point:B}=I,{timestamp:Q}=on;this.history.push({...B,timestamp:Q});const{onStart:Z,onMove:Y}=this.handlers;D||(Z&&Z(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,I)},this.handlePointerMove=(I,D)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=by(D,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(I,D)=>{this.end();const{onEnd:U,onSessionEnd:B,resumeAnimation:Q}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Q&&Q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Z=Sy(I.type==="pointercancel"?this.lastMoveEventInfo:by(D,this.transformPagePoint),this.history);this.startEvent&&U&&U(I,Z),B&&B(I,Z)},!a0(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=bh(t),p=by(m,this.transformPagePoint),{point:y}=p,{timestamp:v}=on;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=e;b&&b(t,Sy(p,this.history)),this.removeListeners=vh(Pc(this.contextWindow,"pointermove",this.handlePointerMove),Pc(this.contextWindow,"pointerup",this.handlePointerUp),Pc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(l1.has(i.overflowX)||l1.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),le.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Hs(this.updatePoint)}}function by(n,t){return t?{point:t(n.point)}:n}function u1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Sy({point:n},t){return{point:n,delta:u1(n,_D(t)),offset:u1(n,qB(t)),velocity:HB(t,.1)}}function qB(n){return n[0]}function _D(n){return n[n.length-1]}function HB(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=_D(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Ai(t)));)e--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&a.timestamp-i.timestamp>Ai(t)*2&&(i=n[1]);const l=ri(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function GB(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?_e(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?_e(e,n,i.max):Math.min(n,e)),n}function c1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function KB(n,{top:t,left:e,bottom:i,right:a}){return{x:c1(n.x,e,a),y:c1(n.y,t,i)}}function h1(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function YB(n,t){return{x:h1(n.x,t.x),y:h1(n.y,t.y)}}function QB(n,t){let e=.5;const i=En(n),a=En(t);return a>i?e=$c(t.min,t.max-i,n.min):i>a&&(e=$c(n.min,n.max-a,t.min)),sr(0,1,e)}function XB(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const x_=.35;function WB(n=x_){return n===!1?n=0:n===!0&&(n=x_),{x:f1(n,"left","right"),y:f1(n,"top","bottom")}}function f1(n,t,e){return{min:d1(n,t),max:d1(n,e)}}function d1(n,t){return typeof n=="number"?n:n[t]||0}const $B=new WeakMap;class ZB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e&&this.snapToCursor(bh(v).point),this.stopAnimation()},u=(v,b)=>{const{drag:I,dragPropagation:D,onDragStart:U}=this.getProps();if(I&&!D&&(this.openDragLock&&this.openDragLock(),this.openDragLock=I9(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wi(Q=>{let Z=this.getAxisMotionValue(Q).get()||0;if(nr.test(Z)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const it=Y.layout.layoutBox[Q];it&&(Z=En(it)*(parseFloat(Z)/100))}}this.originPoint[Q]=Z}),U&&le.update(()=>U(v,b),!1,!0),E_(this.visualElement,"transform");const{animationState:B}=this.visualElement;B&&B.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:I,dragDirectionLock:D,onDirectionLock:U,onDrag:B}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:Q}=b;if(D&&this.currentDirection===null){this.currentDirection=tz(Q),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",b.point,Q),this.updateAxis("y",b.point,Q),this.visualElement.render(),B&&le.update(()=>B(v,b),!1,!0)},m=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new yD(t,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:gD(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&le.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!cd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=GB(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&ll(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=KB(i.layoutBox,t):this.constraints=!1,this.elastic=WB(e),a!==this.constraints&&!ll(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Wi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=XB(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!ll(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=eU(i,a.root,this.visualElement.getTransformPagePoint());let u=YB(a.layout.layoutBox,l);if(e){const f=e(Z9(u));this.hasMutatedConstraints=!!f,f&&(u=Bx(f))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=Wi(y=>{if(!cd(y,e,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const b=a?200:1e6,I=a?40:1e7,D={type:"inertia",velocity:i?t[y]:0,bounceStiffness:b,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,D)});return Promise.all(p).then(f)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return E_(this.visualElement,t),i.start(e0(t,i,0,e,this.visualElement,!1))}stopAnimation(){Wi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Wi(e=>{const{drag:i}=this.getProps();if(!cd(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[e],m=l.get()||0;l.set(t[e]-_e(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!ll(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=QB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Wi(u=>{if(!cd(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(_e(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;$B.set(this.visualElement,this);const t=this.visualElement.current,e=Pc(t,"pointerdown",p=>{const{drag:y,dragListener:v=!0}=this.getProps(),b=p.target,I=b!==t&&M9(b);y&&v&&!I&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();ll(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=JB(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),le.read(a);const f=eh(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(Wi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=p[v].translate,b.set(b.get()+p[v].translate))}),this.visualElement.render())}));return()=>{f(),e(),u(),m&&m(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=x_,dragMomentum:f=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function m1(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function JB(n,t,e){const i=EA(n,m1(e)),a=EA(t,m1(e));return()=>{i(),a()}}function cd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function tz(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class ez extends Qs{constructor(t){super(t),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new ZB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const wy=n=>(t,e)=>{n&&le.update(()=>n(t,e),!1,!0)};class nz extends Qs{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(t){this.session=new yD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:wy(t),onStart:wy(e),onMove:wy(i),onEnd:(l,u)=>{delete this.session,a&&le.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Pc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Ay=!1;class iz extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),Ay&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Pd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),Ay=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||le.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),s0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;Ay=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vD(n){const[t,e]=oD(),i=ot.useContext(Lv);return nt.jsx(iz,{...n,layoutGroup:i,switchLayoutGroup:ot.useContext(mD),isPresent:t,safeToRemove:e})}const rz={pan:{Feature:nz},drag:{Feature:ez,ProjectionNode:aD,MeasureLayout:vD}};function p1(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&le.postRender(()=>l(t,bh(t)))}class sz extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=C9(t,(e,i)=>(p1(this.node,i,"Start"),a=>p1(this.node,a,"End"))))}unmount(){}}class az extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=vh(eh(this.node.current,"focus",()=>this.onFocus()),eh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g1(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&le.postRender(()=>l(t,bh(t)))}class oz extends Qs{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:i}=this.node.props;this.unmount=O9(t,(a,l)=>(g1(this.node,l,"Start"),(u,{success:f})=>g1(this.node,u,f?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:i?.tap===!1})}unmount(){}}const D_=new WeakMap,Iy=new WeakMap,lz=n=>{const t=D_.get(n.target);t&&t(n)},uz=n=>{n.forEach(lz)};function cz({root:n,...t}){const e=n||document;Iy.has(e)||Iy.set(e,{});const i=Iy.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(uz,{root:n,...t})),i[a]}function hz(n,t,e){const i=cz(t);return D_.set(n,e),i.observe(n),()=>{D_.delete(n),i.unobserve(n)}}const fz={some:0,all:1};class dz extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:fz[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=p?y:v;b&&b(m)};return hz(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(mz(t,e))&&this.startObserver()}unmount(){}}function mz({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const pz={inView:{Feature:dz},tap:{Feature:oz},focus:{Feature:az},hover:{Feature:sz}},gz={layout:{ProjectionNode:aD,MeasureLayout:vD}},yz={...zB,...pz,...rz,...gz},TD=NB(yz,kB),_z=({room:n,bookings:t,onBook:e,onCancel:i,currentUser:a})=>{const l=u=>t.find(f=>f.slot===u);return nt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:MM.map((u,f)=>{const m=l(u),p=!!m,y=p&&a&&m.userId===a.uid;return nt.jsxs(TD.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.05},className:`
              relative p-4 rounded-2xl border transition-all duration-200
              ${p?"bg-red-50/50 border-red-100 dark:bg-red-900/10 dark:border-red-900/30":"bg-white border-gray-100 hover:shadow-md hover:border-red-200 cursor-pointer group dark:bg-gray-800 dark:border-gray-700 dark:hover:border-red-500/30"}
            `,onClick:()=>!p&&e(u),children:[nt.jsxs("div",{className:"flex justify-between items-start mb-3",children:[nt.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",children:[nt.jsx(VM,{className:"mr-1"}),u]}),!p&&nt.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-200 dark:bg-gray-600"})]}),p?nt.jsxs("div",{className:"space-y-2",children:[nt.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[nt.jsx(EM,{className:"text-red-400"}),m.courseCode]}),nt.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[nt.jsx(xM,{}),nt.jsx("span",{children:m.bookedBy})]}),m.notes&&nt.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic mt-2 pl-2 border-l-2 border-red-100 dark:border-red-900/30",children:['"',m.notes,'"']}),y&&nt.jsx("button",{onClick:v=>{v.stopPropagation(),i(m.id)},className:"mt-3 w-full py-1.5 px-3 bg-white border border-red-100 text-red-500 text-xs font-medium rounded-lg hover:bg-red-50 transition-colors dark:bg-gray-700 dark:border-red-900/30 dark:hover:bg-red-900/20",children:"Cancel Booking"})]}):nt.jsx("div",{className:"py-4 text-center",children:nt.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-gray-50 text-xs font-medium text-gray-400 group-hover:bg-red-50 group-hover:text-red-500 transition-colors dark:bg-gray-700 dark:text-gray-500 dark:group-hover:bg-red-900/20 dark:group-hover:text-red-400",children:a?"Available":"Sign in to book"})})]},u)})})},vz=({isOpen:n,onClose:t,onConfirm:e,slot:i,room:a,date:l})=>{const{user:u}=kv(),[f,m]=ot.useState(""),[p,y]=ot.useState(""),[v,b]=ot.useState("");ot.useEffect(()=>{n&&u&&y(u.displayName||"")},[n,u]);const I=D=>{D.preventDefault(),e({courseCode:f,bookedBy:p,notes:v}),m(""),y(""),b("")};return n?nt.jsx(cB,{children:nt.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:nt.jsxs(TD.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-white/20 dark:border-gray-700",children:[nt.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-gray-700",children:[nt.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Book Room"}),nt.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-500 dark:text-gray-400",children:nt.jsx(wM,{size:20})})]}),nt.jsxs("div",{className:"p-6 bg-gray-50/50 dark:bg-gray-900/50",children:[nt.jsxs("div",{className:"mb-6 text-sm text-gray-600 dark:text-gray-300",children:[nt.jsxs("p",{children:[nt.jsx("strong",{children:"Room:"})," ",a]}),nt.jsxs("p",{children:[nt.jsx("strong",{children:"Date:"})," ",l]}),nt.jsxs("p",{children:[nt.jsx("strong",{children:"Time:"})," ",i]})]}),nt.jsxs("form",{onSubmit:I,className:"space-y-4",children:[nt.jsxs("div",{children:[nt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course Code"}),nt.jsx("input",{type:"text",required:!0,value:f,onChange:D=>m(D.target.value),placeholder:"e.g. COMM 101",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),nt.jsxs("div",{children:[nt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Name / Initials"}),nt.jsx("input",{type:"text",required:!0,value:p,onChange:D=>y(D.target.value),placeholder:"e.g. JD - Course Rep",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),nt.jsxs("div",{children:[nt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes (Optional)"}),nt.jsx("textarea",{value:v,onChange:D=>b(D.target.value),placeholder:"Any additional info...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none h-24"})]}),nt.jsxs("div",{className:"pt-4 flex gap-3",children:[nt.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),nt.jsx("button",{type:"submit",className:"flex-1 py-2.5 px-4 rounded-xl bg-red-600 text-white font-medium hover:bg-red-700 shadow-lg shadow-red-200 dark:shadow-red-900/20 transition-all",children:"Confirm Booking"})]})]})]})]})})}):null},Tz=(n,t)=>{const[e,i]=ot.useState([]),[a,l]=ot.useState(!0),[u,f]=ot.useState(null);return ot.useEffect(()=>{l(!0);const y=oL(G6(_c,"bookings"),$w("date","==",n),$w("room","==",t)),v=gL(y,b=>{const I=[];b.forEach(D=>{I.push({id:D.id,...D.data()})}),i(I),l(!1)},b=>{b.code==="failed-precondition"||b.code==="unavailable"?console.log("Firestore offline/unavailable:",b.message):(console.error("Error fetching bookings:",b),f(b)),l(!1)});return()=>v()},[n,t]),{bookings:e,loading:a,error:u,addBooking:async y=>{const v=y.slot.replace(/[\/\s:]/g,"_"),b=`${y.date}_${y.room}_${v}`,I=Hw(_c,"bookings",b);try{return await mL(_c,async D=>{if((await D.get(I)).exists())throw new Error("This slot has just been booked by someone else!");D.set(I,{...y,createdAt:iL()})}),!0}catch(D){throw console.error("Error adding booking:",D),D}},cancelBooking:async y=>{try{return await pL(Hw(_c,"bookings",y)),!0}catch(v){throw console.error("Error cancelling booking:",v),v}}}};function Ez(){const[n,t]=ot.useState(!1),[e,i]=ot.useState(Cy["Block E"][0]),[a,l]=ot.useState(Ry(new Date,"yyyy-MM-dd")),[u,f]=ot.useState(!1),[m,p]=ot.useState(null),{user:y,login:v}=kv(),{bookings:b,loading:I,addBooking:D,cancelBooking:U}=Tz(a,e),B=6-b.length,Q=async it=>{if(!y){try{await v()}catch(rt){console.error("Login failed:",rt)}return}p(it),f(!0)},Z=async it=>{try{await D({room:e,date:a,slot:m,userId:y.uid,...it}),f(!1)}catch(rt){alert(rt.message)}},Y=async it=>{if(!y){alert("Please sign in to cancel a booking.");return}if(confirm("Are you sure you want to cancel this booking?"))try{await U(it)}catch{alert("Failed to cancel booking")}};return nt.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden font-sans text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[n&&nt.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden backdrop-blur-sm",onClick:()=>t(!1)}),nt.jsx("div",{className:`
        fixed inset-y-0 left-0 z-30 w-72 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:nt.jsx(SL,{selectedRoom:e,onSelectRoom:it=>{i(it),t(!1)}})}),nt.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[nt.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 p-4 flex items-center justify-between z-10 transition-colors duration-200",children:[nt.jsxs("div",{className:"flex items-center gap-3",children:[nt.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:nt.jsx(RM,{size:24})}),nt.jsxs("div",{className:"flex flex-col",children:[nt.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[nt.jsx("span",{className:"hidden sm:inline text-gray-400 dark:text-gray-500 font-normal",children:"Room"}),e]}),nt.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium flex items-center gap-1",children:[nt.jsx("span",{className:`w-2 h-2 rounded-full ${B>0?"bg-green-500":"bg-red-500"}`}),I?"Loading...":`${B} slots available`]})]})]}),nt.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-700 p-1.5 rounded-xl border border-gray-100 dark:border-gray-600 transition-colors duration-200",children:[nt.jsxs("div",{className:"relative",children:[nt.jsx(bM,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),nt.jsx("input",{type:"date",value:a,onChange:it=>l(it.target.value),className:"pl-9 pr-3 py-1.5 bg-transparent text-sm font-medium outline-none text-gray-700 dark:text-gray-200"})]}),nt.jsx("button",{onClick:()=>l(Ry(new Date,"yyyy-MM-dd")),className:"px-3 py-1.5 bg-white dark:bg-gray-600 shadow-sm rounded-lg text-xs font-semibold text-gray-700 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-500 transition-all",children:"Today"})]})]}),nt.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:nt.jsx("div",{className:"max-w-5xl mx-auto",children:nt.jsx(_z,{room:e,bookings:b,onBook:Q,onCancel:Y,currentUser:y})})})]}),nt.jsx(vz,{isOpen:u,onClose:()=>f(!1),room:e,date:a,slot:m,onConfirm:Z})]})}oV.createRoot(document.getElementById("root")).render(nt.jsx(ot.StrictMode,{children:nt.jsx(bL,{children:nt.jsx(TL,{children:nt.jsx(Ez,{})})})}));
