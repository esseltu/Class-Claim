(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function TV(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Zg={exports:{}},fc={};var Wb;function EV(){if(Wb)return fc;Wb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return fc.Fragment=t,fc.jsx=e,fc.jsxs=e,fc}var $b;function bV(){return $b||($b=1,Zg.exports=EV()),Zg.exports}var tt=bV(),Jg={exports:{}},xt={};var Zb;function wV(){if(Zb)return xt;Zb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),E=Symbol.iterator;function I(k){return k===null||typeof k!="object"?null:(k=E&&k[E]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,P={};function j(k,it,ft){this.props=k,this.context=it,this.refs=P,this.updater=ft||C}j.prototype.isReactComponent={},j.prototype.setState=function(k,it){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,it,"setState")},j.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function X(){}X.prototype=j.prototype;function K(k,it,ft){this.props=k,this.context=it,this.refs=P,this.updater=ft||C}var J=K.prototype=new X;J.constructor=K,U(J,j.prototype),J.isPureReactComponent=!0;var rt=Array.isArray;function ct(){}var R={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function x(k,it,ft){var mt=ft.ref;return{$$typeof:n,type:k,key:it,ref:mt!==void 0?mt:null,props:ft}}function O(k,it){return x(k.type,it,k.props)}function M(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function B(k){var it={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ft){return it[ft]})}var D=/\/+/g;function oe(k,it){return typeof k=="object"&&k!==null&&k.key!=null?B(""+k.key):it.toString(36)}function Ee(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(ct,ct):(k.status="pending",k.then(function(it){k.status==="pending"&&(k.status="fulfilled",k.value=it)},function(it){k.status==="pending"&&(k.status="rejected",k.reason=it)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Z(k,it,ft,mt,St){var Vt=typeof k;(Vt==="undefined"||Vt==="boolean")&&(k=null);var Ft=!1;if(k===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(k.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=k._init,Z(Ft(k._payload),it,ft,mt,St)}}if(Ft)return St=St(k),Ft=mt===""?"."+oe(k,0):mt,rt(St)?(ft="",Ft!=null&&(ft=Ft.replace(D,"$&/")+"/"),Z(St,it,ft,"",function(ia){return ia})):St!=null&&(M(St)&&(St=O(St,ft+(St.key==null||k&&k.key===St.key?"":(""+St.key).replace(D,"$&/")+"/")+Ft)),it.push(St)),1;Ft=0;var Qe=mt===""?".":mt+":";if(rt(k))for(var fe=0;fe<k.length;fe++)mt=k[fe],Vt=Qe+oe(mt,fe),Ft+=Z(mt,it,ft,Vt,St);else if(fe=I(k),typeof fe=="function")for(k=fe.call(k),fe=0;!(mt=k.next()).done;)mt=mt.value,Vt=Qe+oe(mt,fe++),Ft+=Z(mt,it,ft,Vt,St);else if(Vt==="object"){if(typeof k.then=="function")return Z(Ee(k),it,ft,mt,St);throw it=String(k),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function st(k,it,ft){if(k==null)return k;var mt=[],St=0;return Z(k,mt,"","",function(Vt){return it.call(ft,Vt,St++)}),mt}function pt(k){if(k._status===-1){var it=k._result;it=it(),it.then(function(ft){(k._status===0||k._status===-1)&&(k._status=1,k._result=ft)},function(ft){(k._status===0||k._status===-1)&&(k._status=2,k._result=ft)}),k._status===-1&&(k._status=0,k._result=it)}if(k._status===1)return k._result.default;throw k._result}var Dt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},kt={map:st,forEach:function(k,it,ft){st(k,function(){it.apply(this,arguments)},ft)},count:function(k){var it=0;return st(k,function(){it++}),it},toArray:function(k){return st(k,function(it){return it})||[]},only:function(k){if(!M(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return xt.Activity=v,xt.Children=kt,xt.Component=j,xt.Fragment=e,xt.Profiler=a,xt.PureComponent=K,xt.StrictMode=i,xt.Suspense=m,xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,xt.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},xt.cache=function(k){return function(){return k.apply(null,arguments)}},xt.cacheSignal=function(){return null},xt.cloneElement=function(k,it,ft){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var mt=U({},k.props),St=k.key;if(it!=null)for(Vt in it.key!==void 0&&(St=""+it.key),it)!S.call(it,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&it.ref===void 0||(mt[Vt]=it[Vt]);var Vt=arguments.length-2;if(Vt===1)mt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),Qe=0;Qe<Vt;Qe++)Ft[Qe]=arguments[Qe+2];mt.children=Ft}return x(k.type,St,mt)},xt.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},xt.createElement=function(k,it,ft){var mt,St={},Vt=null;if(it!=null)for(mt in it.key!==void 0&&(Vt=""+it.key),it)S.call(it,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(St[mt]=it[mt]);var Ft=arguments.length-2;if(Ft===1)St.children=ft;else if(1<Ft){for(var Qe=Array(Ft),fe=0;fe<Ft;fe++)Qe[fe]=arguments[fe+2];St.children=Qe}if(k&&k.defaultProps)for(mt in Ft=k.defaultProps,Ft)St[mt]===void 0&&(St[mt]=Ft[mt]);return x(k,Vt,St)},xt.createRef=function(){return{current:null}},xt.forwardRef=function(k){return{$$typeof:f,render:k}},xt.isValidElement=M,xt.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:pt}},xt.memo=function(k,it){return{$$typeof:p,type:k,compare:it===void 0?null:it}},xt.startTransition=function(k){var it=R.T,ft={};R.T=ft;try{var mt=k(),St=R.S;St!==null&&St(ft,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(ct,Dt)}catch(Vt){Dt(Vt)}finally{it!==null&&ft.types!==null&&(it.types=ft.types),R.T=it}},xt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},xt.use=function(k){return R.H.use(k)},xt.useActionState=function(k,it,ft){return R.H.useActionState(k,it,ft)},xt.useCallback=function(k,it){return R.H.useCallback(k,it)},xt.useContext=function(k){return R.H.useContext(k)},xt.useDebugValue=function(){},xt.useDeferredValue=function(k,it){return R.H.useDeferredValue(k,it)},xt.useEffect=function(k,it){return R.H.useEffect(k,it)},xt.useEffectEvent=function(k){return R.H.useEffectEvent(k)},xt.useId=function(){return R.H.useId()},xt.useImperativeHandle=function(k,it,ft){return R.H.useImperativeHandle(k,it,ft)},xt.useInsertionEffect=function(k,it){return R.H.useInsertionEffect(k,it)},xt.useLayoutEffect=function(k,it){return R.H.useLayoutEffect(k,it)},xt.useMemo=function(k,it){return R.H.useMemo(k,it)},xt.useOptimistic=function(k,it){return R.H.useOptimistic(k,it)},xt.useReducer=function(k,it,ft){return R.H.useReducer(k,it,ft)},xt.useRef=function(k){return R.H.useRef(k)},xt.useState=function(k){return R.H.useState(k)},xt.useSyncExternalStore=function(k,it,ft){return R.H.useSyncExternalStore(k,it,ft)},xt.useTransition=function(){return R.H.useTransition()},xt.version="19.2.4",xt}var Jb;function q_(){return Jb||(Jb=1,Jg.exports=wV()),Jg.exports}var ot=q_();const Xa=TV(ot);var ty={exports:{}},dc={},ey={exports:{}},ny={};var tw;function AV(){return tw||(tw=1,(function(n){function t(Z,st){var pt=Z.length;Z.push(st);t:for(;0<pt;){var Dt=pt-1>>>1,kt=Z[Dt];if(0<a(kt,st))Z[Dt]=st,Z[pt]=kt,pt=Dt;else break t}}function e(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var st=Z[0],pt=Z.pop();if(pt!==st){Z[0]=pt;t:for(var Dt=0,kt=Z.length,k=kt>>>1;Dt<k;){var it=2*(Dt+1)-1,ft=Z[it],mt=it+1,St=Z[mt];if(0>a(ft,pt))mt<kt&&0>a(St,ft)?(Z[Dt]=St,Z[mt]=pt,Dt=mt):(Z[Dt]=ft,Z[it]=pt,Dt=it);else if(mt<kt&&0>a(St,pt))Z[Dt]=St,Z[mt]=pt,Dt=mt;else break t}}return st}function a(Z,st){var pt=Z.sortIndex-st.sortIndex;return pt!==0?pt:Z.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],p=[],y=1,v=null,E=3,I=!1,C=!1,U=!1,P=!1,j=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function J(Z){for(var st=e(p);st!==null;){if(st.callback===null)i(p);else if(st.startTime<=Z)i(p),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(p)}}function rt(Z){if(U=!1,J(Z),!C)if(e(m)!==null)C=!0,ct||(ct=!0,B());else{var st=e(p);st!==null&&Ee(rt,st.startTime-Z)}}var ct=!1,R=-1,S=5,x=-1;function O(){return P?!0:!(n.unstable_now()-x<S)}function M(){if(P=!1,ct){var Z=n.unstable_now();x=Z;var st=!0;try{t:{C=!1,U&&(U=!1,X(R),R=-1),I=!0;var pt=E;try{e:{for(J(Z),v=e(m);v!==null&&!(v.expirationTime>Z&&O());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,E=v.priorityLevel;var kt=Dt(v.expirationTime<=Z);if(Z=n.unstable_now(),typeof kt=="function"){v.callback=kt,J(Z),st=!0;break e}v===e(m)&&i(m),J(Z)}else i(m);v=e(m)}if(v!==null)st=!0;else{var k=e(p);k!==null&&Ee(rt,k.startTime-Z),st=!1}}break t}finally{v=null,E=pt,I=!1}st=void 0}}finally{st?B():ct=!1}}}var B;if(typeof K=="function")B=function(){K(M)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,oe=D.port2;D.port1.onmessage=M,B=function(){oe.postMessage(null)}}else B=function(){j(M,0)};function Ee(Z,st){R=j(function(){Z(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var st=3;break;default:st=E}var pt=E;E=st;try{return Z()}finally{E=pt}},n.unstable_requestPaint=function(){P=!0},n.unstable_runWithPriority=function(Z,st){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pt=E;E=Z;try{return st()}finally{E=pt}},n.unstable_scheduleCallback=function(Z,st,pt){var Dt=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Dt+pt:Dt):pt=Dt,Z){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=pt+kt,Z={id:y++,callback:st,priorityLevel:Z,startTime:pt,expirationTime:kt,sortIndex:-1},pt>Dt?(Z.sortIndex=pt,t(p,Z),e(m)===null&&Z===e(p)&&(U?(X(R),R=-1):U=!0,Ee(rt,pt-Dt))):(Z.sortIndex=kt,t(m,Z),C||I||(C=!0,ct||(ct=!0,B()))),Z},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(Z){var st=E;return function(){var pt=E;E=st;try{return Z.apply(this,arguments)}finally{E=pt}}}})(ny)),ny}var ew;function SV(){return ew||(ew=1,ey.exports=AV()),ey.exports}var iy={exports:{}},_n={};var nw;function IV(){if(nw)return _n;nw=1;var n=q_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,p,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:p,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(m,p){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(m,p,null,y)},_n.flushSync=function(m){var p=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=p,i.p=y,i.d.f()}},_n.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},_n.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},_n.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin),E=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;y==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:E,fetchPriority:I}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:E,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},_n.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var y=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},_n.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var y=p.as,v=f(y,p.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},_n.preloadModule=function(m,p){if(typeof m=="string")if(p){var y=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},_n.requestFormReset=function(m){i.d.r(m)},_n.unstable_batchedUpdates=function(m,p){return m(p)},_n.useFormState=function(m,p,y){return u.H.useFormState(m,p,y)},_n.useFormStatus=function(){return u.H.useHostTransitionStatus()},_n.version="19.2.4",_n}var iw;function xV(){if(iw)return iy.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),iy.exports=IV(),iy.exports}var rw;function RV(){if(rw)return dc;rw=1;var n=SV(),t=q_(),e=xV();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===o)return m(d),r;if(g===c)return m(d),s;g=g.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=g;else{for(var T=!1,w=d.child;w;){if(w===o){T=!0,o=d,c=g;break}if(w===c){T=!0,c=d,o=g;break}w=w.sibling}if(!T){for(w=g.child;w;){if(w===o){T=!0,o=g,c=d;break}if(w===c){T=!0,c=g,o=d;break}w=w.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var D=Symbol.for("react.client.reference");function oe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===D?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case j:return"Profiler";case P:return"StrictMode";case rt:return"Suspense";case ct:return"SuspenseList";case x:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case C:return"Portal";case K:return r.displayName||"Context";case X:return(r._context.displayName||"Context")+".Consumer";case J:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case R:return s=r.displayName||null,s!==null?s:oe(r.type)||"Memo";case S:s=r._payload,r=r._init;try{return oe(r(s))}catch{}}return null}var Ee=Array.isArray,Z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function k(r){return{current:r}}function it(r){0>kt||(r.current=Dt[kt],Dt[kt]=null,kt--)}function ft(r,s){kt++,Dt[kt]=r.current,r.current=s}var mt=k(null),St=k(null),Vt=k(null),Ft=k(null);function Qe(r,s){switch(ft(Vt,s),ft(St,r),ft(mt,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?vb(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=vb(s),r=Tb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}it(mt),ft(mt,r)}function fe(){it(mt),it(St),it(Vt)}function ia(r){r.memoizedState!==null&&ft(Ft,r);var s=mt.current,o=Tb(s,r.type);s!==o&&(ft(St,r),ft(mt,o))}function fo(r){St.current===r&&(it(mt),it(St)),Ft.current===r&&(it(Ft),lc._currentValue=pt)}var mo,po;function Oi(r){if(mo===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);mo=s&&s[1]||"",po=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+mo+r+po}var lu=!1;function ra(r,s){if(!r||lu)return"";lu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var nt=function(){throw Error()};if(Object.defineProperty(nt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(nt,[])}catch(Q){var G=Q}Reflect.construct(r,[],nt)}else{try{nt.call()}catch(Q){G=Q}r.call(nt.prototype)}}else{try{throw Error()}catch(Q){G=Q}(nt=r())&&typeof nt.catch=="function"&&nt.catch(function(){})}}catch(Q){if(Q&&G&&typeof Q.stack=="string")return[Q.stack,G.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],w=g[1];if(T&&w){var V=T.split(`
`),H=w.split(`
`);for(d=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;d<H.length&&!H[d].includes("DetermineComponentFrameRoot");)d++;if(c===V.length||d===H.length)for(c=V.length-1,d=H.length-1;1<=c&&0<=d&&V[c]!==H[d];)d--;for(;1<=c&&0<=d;c--,d--)if(V[c]!==H[d]){if(c!==1||d!==1)do if(c--,d--,0>d||V[c]!==H[d]){var $=`
`+V[c].replace(" at new "," at ");return r.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",r.displayName)),$}while(1<=c&&0<=d);break}}}finally{lu=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Oi(o):""}function uu(r,s){switch(r.tag){case 26:case 27:case 5:return Oi(r.type);case 16:return Oi("Lazy");case 13:return r.child!==s&&s!==null?Oi("Suspense Fallback"):Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 15:return ra(r.type,!1);case 11:return ra(r.type.render,!1);case 1:return ra(r.type,!0);case 31:return Oi("Activity");default:return""}}function cu(r){try{var s="",o=null;do s+=uu(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Pe=Object.prototype.hasOwnProperty,Xe=n.unstable_scheduleCallback,Yr=n.unstable_cancelCallback,tp=n.unstable_shouldYield,Mh=n.unstable_requestPaint,wn=n.unstable_now,sa=n.unstable_getCurrentPriorityLevel,hu=n.unstable_ImmediatePriority,fu=n.unstable_UserBlockingPriority,Qr=n.unstable_NormalPriority,ep=n.unstable_LowPriority,Ph=n.unstable_IdlePriority,Oh=n.log,Nh=n.unstable_setDisableYieldValue,mi=null,ln=null;function Wn(r){if(typeof Oh=="function"&&Nh(r),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(mi,r)}catch{}}var Ie=Math.clz32?Math.clz32:Lh,kh=Math.log,go=Math.LN2;function Lh(r){return r>>>=0,r===0?32:31-(kh(r)/go|0)|0}var Ni=256,aa=262144,Oe=4194304;function ki(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Li(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,g=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var w=c&134217727;return w!==0?(c=w&~g,c!==0?d=ki(c):(T&=w,T!==0?d=ki(T):o||(o=w&~r,o!==0&&(d=ki(o))))):(w=c&~g,w!==0?d=ki(w):T!==0?d=ki(T):o||(o=c&~r,o!==0&&(d=ki(o)))),d===0?0:s!==0&&s!==d&&(s&g)===0&&(g=d&-d,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:d}function pi(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function np(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uh(){var r=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),r}function Ui(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function oa(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ip(r,s,o,c,d,g){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,V=r.expirationTimes,H=r.hiddenUpdates;for(o=T&~o;0<o;){var $=31-Ie(o),nt=1<<$;w[$]=0,V[$]=-1;var G=H[$];if(G!==null)for(H[$]=null,$=0;$<G.length;$++){var Q=G[$];Q!==null&&(Q.lane&=-536870913)}o&=~nt}c!==0&&la(r,c,0),g!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=g&~(T&~s))}function la(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Ie(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function du(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Ie(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function mu(r,s){var o=s&-s;return o=(o&42)!==0?1:ua(o),(o&(r.suspendedLanes|s))!==0?0:o}function ua(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function mr(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Bh(){var r=st.p;return r!==0?r:(r=window.event,r===void 0?32:qb(r.type))}function gi(r,s){var o=st.p;try{return st.p=r,s()}finally{st.p=o}}var yi=Math.random().toString(36).slice(2),Ne="__reactFiber$"+yi,tn="__reactProps$"+yi,Bi="__reactContainer$"+yi,yo="__reactEvents$"+yi,rp="__reactListeners$"+yi,zh="__reactHandles$"+yi,jh="__reactResources$"+yi,zi="__reactMarker$"+yi;function _o(r){delete r[Ne],delete r[tn],delete r[yo],delete r[rp],delete r[zh]}function ji(r){var s=r[Ne];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Bi]||o[Ne]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=xb(r);r!==null;){if(o=r[Ne])return o;r=xb(r)}return s}r=o,o=r.parentNode}return null}function $n(r){if(r=r[Ne]||r[Bi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function Ln(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Fi(r){var s=r[jh];return s||(s=r[jh]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ke(r){r[zi]=!0}var pu=new Set,gu={};function qi(r,s){Hi(r,s),Hi(r+"Capture",s)}function Hi(r,s){for(gu[r]=s,r=0;r<s.length;r++)pu.add(s[r])}var yu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_u={},vu={};function Fh(r){return Pe.call(vu,r)?!0:Pe.call(_u,r)?!1:yu.test(r)?vu[r]=!0:(_u[r]=!0,!1)}function vo(r,s,o){if(Fh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Un(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Le(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function en(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Xr(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Tu(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,g=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,g.call(this,T)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Wt(r){if(!r._valueTracker){var s=Xr(r)?"checked":"value";r._valueTracker=Tu(r,s,""+r[s])}}function ca(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Xr(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Gi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ha=/[\n"\\]/g;function Cn(r){return r.replace(ha,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function To(r,s,o,c,d,g,T,w){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+en(s)):r.value!==""+en(s)&&(r.value=""+en(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?Eu(r,T,en(s)):o!=null?Eu(r,T,en(o)):c!=null&&r.removeAttribute("value"),d==null&&g!=null&&(r.defaultChecked=!!g),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+en(w):r.removeAttribute("name")}function qh(r,s,o,c,d,g,T,w){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null)){Wt(r);return}o=o!=null?""+en(o):"",s=s!=null?""+en(s):o,w||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=w?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),Wt(r)}function Eu(r,s,o){s==="number"&&Gi(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Wr(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+en(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function Hh(r,s,o){if(s!=null&&(s=""+en(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+en(o):""}function $r(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(Ee(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=en(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),Wt(r)}function Dn(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Gh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function wu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&bu(r,d,c)}else for(var g in s)s.hasOwnProperty(g)&&bu(r,g,s[g])}function Eo(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function bo(r){return Zr.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function _i(){}var Au=null;function Zn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Jr=null,Ki=null;function fa(r){var s=$n(r);if(s&&(r=s.stateNode)){var o=r[tn]||null;t:switch(r=s.stateNode,s.type){case"input":if(To(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Cn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[tn]||null;if(!d)throw Error(i(90));To(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&ca(c)}break t;case"textarea":Hh(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&Wr(r,!!o.multiple,s,!1)}}}var wo=!1;function ts(r,s,o){if(wo)return r(s,o);wo=!0;try{var c=r(s);return c}finally{if(wo=!1,(Jr!==null||Ki!==null)&&(zf(),Jr&&(s=Jr,r=Ki,Ki=Jr=null,fa(s),r)))for(s=0;s<r.length;s++)fa(r[s])}}function vi(r,s){var o=r.stateNode;if(o===null)return null;var c=o[tn]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),da=!1;if(Jn)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){da=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{da=!1}var Yi=null,Su=null,ma=null;function Iu(){if(ma)return ma;var r,s=Su,o=s.length,c,d="value"in Yi?Yi.value:Yi.textContent,g=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(c=1;c<=T&&s[o-c]===d[g-c];c++);return ma=d.slice(r,1<c?1-c:void 0)}function pa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function pr(){return!0}function Ti(){return!1}function un(r){function s(o,c,d,g,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(g):g[w]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?pr:Ti,this.isPropagationStopped=Ti,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var gr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qi=un(gr),es=v({},gr,{view:0,detail:0}),xu=un(es),ns,Ao,Xi,So=v({},es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:is,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xi&&(Xi&&r.type==="mousemove"?(ns=r.screenX-Xi.screenX,Ao=r.screenY-Xi.screenY):Ao=ns=0,Xi=r),ns)},movementY:function(r){return"movementY"in r?r.movementY:Ao}}),Ru=un(So),ga=v({},So,{dataTransfer:0}),Yh=un(ga),Qh=v({},es,{relatedTarget:0}),ya=un(Qh),Cu=v({},gr,{animationName:0,elapsedTime:0,pseudoElement:0}),Xh=un(Cu),Io=v({},gr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Wh=un(Io),$h=v({},gr,{data:0}),Wi=un($h),Zh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=tf[r])?!!s[r]:!1}function is(){return ef}var An=v({},es,{key:function(r){if(r.key){var s=Zh[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=pa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:is,charCode:function(r){return r.type==="keypress"?pa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?pa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),nf=un(An),rf=v({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yr=un(rf),h=v({},es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:is}),_=un(h),b=v({},gr,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=un(b),F=v({},So,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Y=un(F),ut=v({},gr,{newState:0,oldState:0}),Rt=un(ut),xe=[9,13,27,32],Yt=Jn&&"CompositionEvent"in window,de=null;Jn&&"documentMode"in document&&(de=document.documentMode);var ti=Jn&&"TextEvent"in window&&!de,$i=Jn&&(!Yt||de&&8<de&&11>=de),Ei=" ",bi=!1;function _a(r,s){switch(r){case"keyup":return xe.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ro=!1;function HD(r,s){switch(r){case"compositionend":return xo(s);case"keypress":return s.which!==32?null:(bi=!0,Ei);case"textInput":return r=s.data,r===Ei&&bi?null:r;default:return null}}function GD(r,s){if(Ro)return r==="compositionend"||!Yt&&_a(r,s)?(r=Iu(),ma=Su=Yi=null,Ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return $i&&s.locale!=="ko"?null:s.data;default:return null}}var KD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!KD[r.type]:s==="textarea"}function Vv(r,s,o,c){Jr?Ki?Ki.push(c):Ki=[c]:Jr=c,s=Yf(s,"onChange"),0<s.length&&(o=new Qi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var Du=null,Vu=null;function YD(r){db(r,0)}function sf(r){var s=Ln(r);if(ca(s))return r}function Mv(r,s){if(r==="change")return s}var Pv=!1;if(Jn){var sp;if(Jn){var ap="oninput"in document;if(!ap){var Ov=document.createElement("div");Ov.setAttribute("oninput","return;"),ap=typeof Ov.oninput=="function"}sp=ap}else sp=!1;Pv=sp&&(!document.documentMode||9<document.documentMode)}function Nv(){Du&&(Du.detachEvent("onpropertychange",kv),Vu=Du=null)}function kv(r){if(r.propertyName==="value"&&sf(Vu)){var s=[];Vv(s,Vu,r,Zn(r)),ts(YD,s)}}function QD(r,s,o){r==="focusin"?(Nv(),Du=s,Vu=o,Du.attachEvent("onpropertychange",kv)):r==="focusout"&&Nv()}function XD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return sf(Vu)}function WD(r,s){if(r==="click")return sf(s)}function $D(r,s){if(r==="input"||r==="change")return sf(s)}function ZD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Bn=typeof Object.is=="function"?Object.is:ZD;function Mu(r,s){if(Bn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Pe.call(s,d)||!Bn(r[d],s[d]))return!1}return!0}function Lv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Uv(r,s){var o=Lv(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Lv(o)}}function Bv(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Bv(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function zv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Gi(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Gi(r.document)}return s}function op(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var JD=Jn&&"documentMode"in document&&11>=document.documentMode,Co=null,lp=null,Pu=null,up=!1;function jv(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;up||Co==null||Co!==Gi(c)||(c=Co,"selectionStart"in c&&op(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pu&&Mu(Pu,c)||(Pu=c,c=Yf(lp,"onSelect"),0<c.length&&(s=new Qi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=Co)))}function va(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Do={animationend:va("Animation","AnimationEnd"),animationiteration:va("Animation","AnimationIteration"),animationstart:va("Animation","AnimationStart"),transitionrun:va("Transition","TransitionRun"),transitionstart:va("Transition","TransitionStart"),transitioncancel:va("Transition","TransitionCancel"),transitionend:va("Transition","TransitionEnd")},cp={},Fv={};Jn&&(Fv=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Ta(r){if(cp[r])return cp[r];if(!Do[r])return r;var s=Do[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in Fv)return cp[r]=s[o];return r}var qv=Ta("animationend"),Hv=Ta("animationiteration"),Gv=Ta("animationstart"),t2=Ta("transitionrun"),e2=Ta("transitionstart"),n2=Ta("transitioncancel"),Kv=Ta("transitionend"),Yv=new Map,hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hp.push("scrollEnd");function wi(r,s){Yv.set(r,s),qi(s,[r])}var af=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ei=[],Vo=0,fp=0;function of(){for(var r=Vo,s=fp=Vo=0;s<r;){var o=ei[s];ei[s++]=null;var c=ei[s];ei[s++]=null;var d=ei[s];ei[s++]=null;var g=ei[s];if(ei[s++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}g!==0&&Qv(o,d,g)}}function lf(r,s,o,c){ei[Vo++]=r,ei[Vo++]=s,ei[Vo++]=o,ei[Vo++]=c,fp|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function dp(r,s,o,c){return lf(r,s,o,c),uf(r)}function Ea(r,s){return lf(r,null,null,s),uf(r)}function Qv(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,g=r.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(d=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,d&&s!==null&&(d=31-Ie(o),r=g.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),g):null}function uf(r){if(50<ec)throw ec=0,bg=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Mo={};function i2(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(r,s,o,c){return new i2(r,s,o,c)}function mp(r){return r=r.prototype,!(!r||!r.isReactComponent)}function _r(r,s){var o=r.alternate;return o===null?(o=zn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Xv(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function cf(r,s,o,c,d,g){var T=0;if(c=r,typeof r=="function")mp(r)&&(T=1);else if(typeof r=="string")T=lV(r,o,mt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case x:return r=zn(31,o,s,d),r.elementType=x,r.lanes=g,r;case U:return ba(o.children,d,g,s);case P:T=8,d|=24;break;case j:return r=zn(12,o,s,d|2),r.elementType=j,r.lanes=g,r;case rt:return r=zn(13,o,s,d),r.elementType=rt,r.lanes=g,r;case ct:return r=zn(19,o,s,d),r.elementType=ct,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case K:T=10;break t;case X:T=9;break t;case J:T=11;break t;case R:T=14;break t;case S:T=16,c=null;break t}T=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=zn(T,o,s,d),s.elementType=r,s.type=c,s.lanes=g,s}function ba(r,s,o,c){return r=zn(7,r,c,s),r.lanes=o,r}function pp(r,s,o){return r=zn(6,r,null,s),r.lanes=o,r}function Wv(r){var s=zn(18,null,null,0);return s.stateNode=r,s}function gp(r,s,o){return s=zn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var $v=new WeakMap;function ni(r,s){if(typeof r=="object"&&r!==null){var o=$v.get(r);return o!==void 0?o:(s={value:r,source:s,stack:cu(s)},$v.set(r,s),s)}return{value:r,source:s,stack:cu(s)}}var Po=[],Oo=0,hf=null,Ou=0,ii=[],ri=0,rs=null,Zi=1,Ji="";function vr(r,s){Po[Oo++]=Ou,Po[Oo++]=hf,hf=r,Ou=s}function Zv(r,s,o){ii[ri++]=Zi,ii[ri++]=Ji,ii[ri++]=rs,rs=r;var c=Zi;r=Ji;var d=32-Ie(c)-1;c&=~(1<<d),o+=1;var g=32-Ie(s)+d;if(30<g){var T=d-d%5;g=(c&(1<<T)-1).toString(32),c>>=T,d-=T,Zi=1<<32-Ie(s)+d|o<<d|c,Ji=g+r}else Zi=1<<g|o<<d|c,Ji=r}function yp(r){r.return!==null&&(vr(r,1),Zv(r,1,0))}function _p(r){for(;r===hf;)hf=Po[--Oo],Po[Oo]=null,Ou=Po[--Oo],Po[Oo]=null;for(;r===rs;)rs=ii[--ri],ii[ri]=null,Ji=ii[--ri],ii[ri]=null,Zi=ii[--ri],ii[ri]=null}function Jv(r,s){ii[ri++]=Zi,ii[ri++]=Ji,ii[ri++]=rs,Zi=s.id,Ji=s.overflow,rs=r}var cn=null,ce=null,jt=!1,ss=null,si=!1,vp=Error(i(519));function as(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nu(ni(s,r)),vp}function tT(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Ne]=r,s[tn]=c,o){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(o=0;o<ic.length;o++)Nt(ic[o],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),qh(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),$r(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||yb(s.textContent,o)?(c.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),c.onScroll!=null&&Nt("scroll",s),c.onScrollEnd!=null&&Nt("scrollend",s),c.onClick!=null&&(s.onclick=_i),s=!0):s=!1,s||as(r,!0)}function eT(r){for(cn=r.return;cn;)switch(cn.tag){case 5:case 31:case 13:si=!1;return;case 27:case 3:si=!0;return;default:cn=cn.return}}function No(r){if(r!==cn)return!1;if(!jt)return eT(r),jt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Lg(r.type,r.memoizedProps)),o=!o),o&&ce&&as(r),eT(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ce=Ib(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ce=Ib(r)}else s===27?(s=ce,Ts(r.type)?(r=Fg,Fg=null,ce=r):ce=s):ce=cn?oi(r.stateNode.nextSibling):null;return!0}function wa(){ce=cn=null,jt=!1}function Tp(){var r=ss;return r!==null&&(On===null?On=r:On.push.apply(On,r),ss=null),r}function Nu(r){ss===null?ss=[r]:ss.push(r)}var Ep=k(null),Aa=null,Tr=null;function os(r,s,o){ft(Ep,s._currentValue),s._currentValue=o}function Er(r){r._currentValue=Ep.current,it(Ep)}function bp(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function wp(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;t:for(;g!==null;){var w=g;g=d;for(var V=0;V<s.length;V++)if(w.context===s[V]){g.lanes|=o,w=g.alternate,w!==null&&(w.lanes|=o),bp(g.return,o,r),c||(T=null);break t}g=w.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,g=T.alternate,g!==null&&(g.lanes|=o),bp(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function ko(r,s,o,c){r=null;for(var d=s,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var w=d.type;Bn(d.pendingProps.value,T.value)||(r!==null?r.push(w):r=[w])}}else if(d===Ft.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(lc):r=[lc])}d=d.return}r!==null&&wp(s,r,o,c),s.flags|=262144}function ff(r){for(r=r.firstContext;r!==null;){if(!Bn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){Aa=r,Tr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function hn(r){return nT(Aa,r)}function df(r,s){return Aa===null&&Sa(r),nT(r,s)}function nT(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Tr===null){if(r===null)throw Error(i(308));Tr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Tr=Tr.next=s;return o}var r2=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},s2=n.unstable_scheduleCallback,a2=n.unstable_NormalPriority,Ue={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ap(){return{controller:new r2,data:new Map,refCount:0}}function ku(r){r.refCount--,r.refCount===0&&s2(a2,function(){r.controller.abort()})}var Lu=null,Sp=0,Lo=0,Uo=null;function o2(r,s){if(Lu===null){var o=Lu=[];Sp=0,Lo=Rg(),Uo={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Sp++,s.then(iT,iT),s}function iT(){if(--Sp===0&&Lu!==null){Uo!==null&&(Uo.status="fulfilled");var r=Lu;Lu=null,Lo=0,Uo=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function l2(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var rT=Z.S;Z.S=function(r,s){jE=wn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&o2(r,s),rT!==null&&rT(r,s)};var Ia=k(null);function Ip(){var r=Ia.current;return r!==null?r:le.pooledCache}function mf(r,s){s===null?ft(Ia,Ia.current):ft(Ia,s.pool)}function sT(){var r=Ip();return r===null?null:{parent:Ue._currentValue,pool:r}}var Bo=Error(i(460)),xp=Error(i(474)),pf=Error(i(542)),gf={then:function(){}};function aT(r){return r=r.status,r==="fulfilled"||r==="rejected"}function oT(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(_i,_i),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uT(r),r;default:if(typeof s.status=="string")s.then(_i,_i);else{if(r=le,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,uT(r),r}throw Ra=s,Bo}}function xa(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ra=o,Bo):o}}var Ra=null;function lT(){if(Ra===null)throw Error(i(459));var r=Ra;return Ra=null,r}function uT(r){if(r===Bo||r===pf)throw Error(i(483))}var zo=null,Uu=0;function yf(r){var s=Uu;return Uu+=1,zo===null&&(zo=[]),oT(zo,r,s)}function Bu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function _f(r,s){throw s.$$typeof===E?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function cT(r){function s(L,N){if(r){var q=L.deletions;q===null?(L.deletions=[N],L.flags|=16):q.push(N)}}function o(L,N){if(!r)return null;for(;N!==null;)s(L,N),N=N.sibling;return null}function c(L){for(var N=new Map;L!==null;)L.key!==null?N.set(L.key,L):N.set(L.index,L),L=L.sibling;return N}function d(L,N){return L=_r(L,N),L.index=0,L.sibling=null,L}function g(L,N,q){return L.index=q,r?(q=L.alternate,q!==null?(q=q.index,q<N?(L.flags|=67108866,N):q):(L.flags|=67108866,N)):(L.flags|=1048576,N)}function T(L){return r&&L.alternate===null&&(L.flags|=67108866),L}function w(L,N,q,et){return N===null||N.tag!==6?(N=pp(q,L.mode,et),N.return=L,N):(N=d(N,q),N.return=L,N)}function V(L,N,q,et){var Et=q.type;return Et===U?$(L,N,q.props.children,et,q.key):N!==null&&(N.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===S&&xa(Et)===N.type)?(N=d(N,q.props),Bu(N,q),N.return=L,N):(N=cf(q.type,q.key,q.props,null,L.mode,et),Bu(N,q),N.return=L,N)}function H(L,N,q,et){return N===null||N.tag!==4||N.stateNode.containerInfo!==q.containerInfo||N.stateNode.implementation!==q.implementation?(N=gp(q,L.mode,et),N.return=L,N):(N=d(N,q.children||[]),N.return=L,N)}function $(L,N,q,et,Et){return N===null||N.tag!==7?(N=ba(q,L.mode,et,Et),N.return=L,N):(N=d(N,q),N.return=L,N)}function nt(L,N,q){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=pp(""+N,L.mode,q),N.return=L,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case I:return q=cf(N.type,N.key,N.props,null,L.mode,q),Bu(q,N),q.return=L,q;case C:return N=gp(N,L.mode,q),N.return=L,N;case S:return N=xa(N),nt(L,N,q)}if(Ee(N)||B(N))return N=ba(N,L.mode,q,null),N.return=L,N;if(typeof N.then=="function")return nt(L,yf(N),q);if(N.$$typeof===K)return nt(L,df(L,N),q);_f(L,N)}return null}function G(L,N,q,et){var Et=N!==null?N.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Et!==null?null:w(L,N,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return q.key===Et?V(L,N,q,et):null;case C:return q.key===Et?H(L,N,q,et):null;case S:return q=xa(q),G(L,N,q,et)}if(Ee(q)||B(q))return Et!==null?null:$(L,N,q,et,null);if(typeof q.then=="function")return G(L,N,yf(q),et);if(q.$$typeof===K)return G(L,N,df(L,q),et);_f(L,q)}return null}function Q(L,N,q,et,Et){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return L=L.get(q)||null,w(N,L,""+et,Et);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case I:return L=L.get(et.key===null?q:et.key)||null,V(N,L,et,Et);case C:return L=L.get(et.key===null?q:et.key)||null,H(N,L,et,Et);case S:return et=xa(et),Q(L,N,q,et,Et)}if(Ee(et)||B(et))return L=L.get(q)||null,$(N,L,et,Et,null);if(typeof et.then=="function")return Q(L,N,q,yf(et),Et);if(et.$$typeof===K)return Q(L,N,q,df(N,et),Et);_f(N,et)}return null}function gt(L,N,q,et){for(var Et=null,Gt=null,vt=N,Mt=N=0,Ut=null;vt!==null&&Mt<q.length;Mt++){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Kt=G(L,vt,q[Mt],et);if(Kt===null){vt===null&&(vt=Ut);break}r&&vt&&Kt.alternate===null&&s(L,vt),N=g(Kt,N,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt,vt=Ut}if(Mt===q.length)return o(L,vt),jt&&vr(L,Mt),Et;if(vt===null){for(;Mt<q.length;Mt++)vt=nt(L,q[Mt],et),vt!==null&&(N=g(vt,N,Mt),Gt===null?Et=vt:Gt.sibling=vt,Gt=vt);return jt&&vr(L,Mt),Et}for(vt=c(vt);Mt<q.length;Mt++)Ut=Q(vt,L,Mt,q[Mt],et),Ut!==null&&(r&&Ut.alternate!==null&&vt.delete(Ut.key===null?Mt:Ut.key),N=g(Ut,N,Mt),Gt===null?Et=Ut:Gt.sibling=Ut,Gt=Ut);return r&&vt.forEach(function(Ss){return s(L,Ss)}),jt&&vr(L,Mt),Et}function bt(L,N,q,et){if(q==null)throw Error(i(151));for(var Et=null,Gt=null,vt=N,Mt=N=0,Ut=null,Kt=q.next();vt!==null&&!Kt.done;Mt++,Kt=q.next()){vt.index>Mt?(Ut=vt,vt=null):Ut=vt.sibling;var Ss=G(L,vt,Kt.value,et);if(Ss===null){vt===null&&(vt=Ut);break}r&&vt&&Ss.alternate===null&&s(L,vt),N=g(Ss,N,Mt),Gt===null?Et=Ss:Gt.sibling=Ss,Gt=Ss,vt=Ut}if(Kt.done)return o(L,vt),jt&&vr(L,Mt),Et;if(vt===null){for(;!Kt.done;Mt++,Kt=q.next())Kt=nt(L,Kt.value,et),Kt!==null&&(N=g(Kt,N,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt);return jt&&vr(L,Mt),Et}for(vt=c(vt);!Kt.done;Mt++,Kt=q.next())Kt=Q(vt,L,Mt,Kt.value,et),Kt!==null&&(r&&Kt.alternate!==null&&vt.delete(Kt.key===null?Mt:Kt.key),N=g(Kt,N,Mt),Gt===null?Et=Kt:Gt.sibling=Kt,Gt=Kt);return r&&vt.forEach(function(vV){return s(L,vV)}),jt&&vr(L,Mt),Et}function ae(L,N,q,et){if(typeof q=="object"&&q!==null&&q.type===U&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case I:t:{for(var Et=q.key;N!==null;){if(N.key===Et){if(Et=q.type,Et===U){if(N.tag===7){o(L,N.sibling),et=d(N,q.props.children),et.return=L,L=et;break t}}else if(N.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===S&&xa(Et)===N.type){o(L,N.sibling),et=d(N,q.props),Bu(et,q),et.return=L,L=et;break t}o(L,N);break}else s(L,N);N=N.sibling}q.type===U?(et=ba(q.props.children,L.mode,et,q.key),et.return=L,L=et):(et=cf(q.type,q.key,q.props,null,L.mode,et),Bu(et,q),et.return=L,L=et)}return T(L);case C:t:{for(Et=q.key;N!==null;){if(N.key===Et)if(N.tag===4&&N.stateNode.containerInfo===q.containerInfo&&N.stateNode.implementation===q.implementation){o(L,N.sibling),et=d(N,q.children||[]),et.return=L,L=et;break t}else{o(L,N);break}else s(L,N);N=N.sibling}et=gp(q,L.mode,et),et.return=L,L=et}return T(L);case S:return q=xa(q),ae(L,N,q,et)}if(Ee(q))return gt(L,N,q,et);if(B(q)){if(Et=B(q),typeof Et!="function")throw Error(i(150));return q=Et.call(q),bt(L,N,q,et)}if(typeof q.then=="function")return ae(L,N,yf(q),et);if(q.$$typeof===K)return ae(L,N,df(L,q),et);_f(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,N!==null&&N.tag===6?(o(L,N.sibling),et=d(N,q),et.return=L,L=et):(o(L,N),et=pp(q,L.mode,et),et.return=L,L=et),T(L)):o(L,N)}return function(L,N,q,et){try{Uu=0;var Et=ae(L,N,q,et);return zo=null,Et}catch(vt){if(vt===Bo||vt===pf)throw vt;var Gt=zn(29,vt,null,L.mode);return Gt.lanes=et,Gt.return=L,Gt}}}var Ca=cT(!0),hT=cT(!1),ls=!1;function Rp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function us(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function cs(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Qt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=uf(r),Qv(r,null,o),s}return lf(r,c,s,o),uf(r)}function zu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,du(r,o)}}function Dp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,o=o.next}while(o!==null);g===null?d=g=s:g=g.next=s}else d=g=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Vp=!1;function ju(){if(Vp){var r=Uo;if(r!==null)throw r}}function Fu(r,s,o,c){Vp=!1;var d=r.updateQueue;ls=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var V=w,H=V.next;V.next=null,T===null?g=H:T.next=H,T=V;var $=r.alternate;$!==null&&($=$.updateQueue,w=$.lastBaseUpdate,w!==T&&(w===null?$.firstBaseUpdate=H:w.next=H,$.lastBaseUpdate=V))}if(g!==null){var nt=d.baseState;T=0,$=H=V=null,w=g;do{var G=w.lane&-536870913,Q=G!==w.lane;if(Q?(Lt&G)===G:(c&G)===G){G!==0&&G===Lo&&(Vp=!0),$!==null&&($=$.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var gt=r,bt=w;G=s;var ae=o;switch(bt.tag){case 1:if(gt=bt.payload,typeof gt=="function"){nt=gt.call(ae,nt,G);break t}nt=gt;break t;case 3:gt.flags=gt.flags&-65537|128;case 0:if(gt=bt.payload,G=typeof gt=="function"?gt.call(ae,nt,G):gt,G==null)break t;nt=v({},nt,G);break t;case 2:ls=!0}}G=w.callback,G!==null&&(r.flags|=64,Q&&(r.flags|=8192),Q=d.callbacks,Q===null?d.callbacks=[G]:Q.push(G))}else Q={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},$===null?(H=$=Q,V=nt):$=$.next=Q,T|=G;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,d.lastBaseUpdate=Q,d.shared.pending=null}}while(!0);$===null&&(V=nt),d.baseState=V,d.firstBaseUpdate=H,d.lastBaseUpdate=$,g===null&&(d.shared.lanes=0),ps|=T,r.lanes=T,r.memoizedState=nt}}function fT(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function dT(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)fT(o[r],s)}var jo=k(null),vf=k(0);function mT(r,s){r=Dr,ft(vf,r),ft(jo,s),Dr=r|s.baseLanes}function Mp(){ft(vf,Dr),ft(jo,jo.current)}function Pp(){Dr=vf.current,it(jo),it(vf)}var jn=k(null),ai=null;function hs(r){var s=r.alternate;ft(Re,Re.current&1),ft(jn,r),ai===null&&(s===null||jo.current!==null||s.memoizedState!==null)&&(ai=r)}function Op(r){ft(Re,Re.current),ft(jn,r),ai===null&&(ai=r)}function pT(r){r.tag===22?(ft(Re,Re.current),ft(jn,r),ai===null&&(ai=r)):fs()}function fs(){ft(Re,Re.current),ft(jn,jn.current)}function Fn(r){it(jn),ai===r&&(ai=null),it(Re)}var Re=k(0);function Tf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||zg(o)||jg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var br=0,Ct=null,re=null,Be=null,Ef=!1,Fo=!1,Da=!1,bf=0,qu=0,qo=null,u2=0;function be(){throw Error(i(321))}function Np(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Bn(r[o],s[o]))return!1;return!0}function kp(r,s,o,c,d,g){return br=g,Ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?ZT:$p,Da=!1,g=o(c,d),Da=!1,Fo&&(g=yT(s,o,c,d)),gT(r),g}function gT(r){Z.H=Ku;var s=re!==null&&re.next!==null;if(br=0,Be=re=Ct=null,Ef=!1,qu=0,qo=null,s)throw Error(i(300));r===null||ze||(r=r.dependencies,r!==null&&ff(r)&&(ze=!0))}function yT(r,s,o,c){Ct=r;var d=0;do{if(Fo&&(qo=null),qu=0,Fo=!1,25<=d)throw Error(i(301));if(d+=1,Be=re=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=JT,g=s(o,c)}while(Fo);return g}function c2(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?Hu(s):s,r=r.useState()[0],(re!==null?re.memoizedState:null)!==r&&(Ct.flags|=1024),s}function Lp(){var r=bf!==0;return bf=0,r}function Up(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Bp(r){if(Ef){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ef=!1}br=0,Be=re=Ct=null,Fo=!1,qu=bf=0,qo=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Be===null?Ct.memoizedState=Be=r:Be=Be.next=r,Be}function Ce(){if(re===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=re.next;var s=Be===null?Ct.memoizedState:Be.next;if(s!==null)Be=s,re=r;else{if(r===null)throw Ct.alternate===null?Error(i(467)):Error(i(310));re=r,r={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Be===null?Ct.memoizedState=Be=r:Be=Be.next=r}return Be}function wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Hu(r){var s=qu;return qu+=1,qo===null&&(qo=[]),r=oT(qo,r,s),s=Ct,(Be===null?s.memoizedState:Be.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?ZT:$p),r}function Af(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Hu(r);if(r.$$typeof===K)return hn(r)}throw Error(i(438,String(r)))}function zp(r){var s=null,o=Ct.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ct.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=wf(),Ct.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=O;return s.index++,o}function wr(r,s){return typeof s=="function"?s(r):s}function Sf(r){var s=Ce();return jp(s,re,r)}function jp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,g=c.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}s.baseQueue=d=g,c.pending=null}if(g=r.baseState,d===null)r.memoizedState=g;else{s=d.next;var w=T=null,V=null,H=s,$=!1;do{var nt=H.lane&-536870913;if(nt!==H.lane?(Lt&nt)===nt:(br&nt)===nt){var G=H.revertLane;if(G===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),nt===Lo&&($=!0);else if((br&G)===G){H=H.next,G===Lo&&($=!0);continue}else nt={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(w=V=nt,T=g):V=V.next=nt,Ct.lanes|=G,ps|=G;nt=H.action,Da&&o(g,nt),g=H.hasEagerState?H.eagerState:o(g,nt)}else G={lane:nt,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},V===null?(w=V=G,T=g):V=V.next=G,Ct.lanes|=nt,ps|=nt;H=H.next}while(H!==null&&H!==s);if(V===null?T=g:V.next=w,!Bn(g,r.memoizedState)&&(ze=!0,$&&(o=Uo,o!==null)))throw o;r.memoizedState=g,r.baseState=T,r.baseQueue=V,c.lastRenderedState=g}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function Fp(r){var s=Ce(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,g=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do g=r(g,T.action),T=T.next;while(T!==d);Bn(g,s.memoizedState)||(ze=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,c]}function _T(r,s,o){var c=Ct,d=Ce(),g=jt;if(g){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Bn((re||d).memoizedState,o);if(T&&(d.memoizedState=o,ze=!0),d=d.queue,Gp(ET.bind(null,c,d,r),[r]),d.getSnapshot!==s||T||Be!==null&&Be.memoizedState.tag&1){if(c.flags|=2048,Ho(9,{destroy:void 0},TT.bind(null,c,d,o,s),null),le===null)throw Error(i(349));g||(br&127)!==0||vT(c,s,o)}return o}function vT(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Ct.updateQueue,s===null?(s=wf(),Ct.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function TT(r,s,o,c){s.value=o,s.getSnapshot=c,bT(s)&&wT(r)}function ET(r,s,o){return o(function(){bT(s)&&wT(r)})}function bT(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Bn(r,o)}catch{return!0}}function wT(r){var s=Ea(r,2);s!==null&&Nn(s,r,2)}function qp(r){var s=Sn();if(typeof r=="function"){var o=r;if(r=o(),Da){Wn(!0);try{o()}finally{Wn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:r},s}function AT(r,s,o,c){return r.baseState=o,jp(r,re,typeof c=="function"?c:wr)}function h2(r,s,o,c,d){if(Rf(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Z.T!==null?o(!0):g.isTransition=!1,c(g),o=s.pending,o===null?(g.next=s.pending=g,ST(s,g)):(g.next=o.next,s.pending=o.next=g)}}function ST(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var g=Z.T,T={};Z.T=T;try{var w=o(d,c),V=Z.S;V!==null&&V(T,w),IT(r,s,w)}catch(H){Hp(r,s,H)}finally{g!==null&&T.types!==null&&(g.types=T.types),Z.T=g}}else try{g=o(d,c),IT(r,s,g)}catch(H){Hp(r,s,H)}}function IT(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){xT(r,s,c)},function(c){return Hp(r,s,c)}):xT(r,s,o)}function xT(r,s,o){s.status="fulfilled",s.value=o,RT(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,ST(r,o)))}function Hp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,RT(s),s=s.next;while(s!==c)}r.action=null}function RT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function CT(r,s){return s}function DT(r,s){if(jt){var o=le.formState;if(o!==null){t:{var c=Ct;if(jt){if(ce){e:{for(var d=ce,g=si;d.nodeType!==8;){if(!g){d=null;break e}if(d=oi(d.nextSibling),d===null){d=null;break e}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){ce=oi(d.nextSibling),c=d.data==="F!";break t}}as(c)}c=!1}c&&(s=o[0])}}return o=Sn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CT,lastRenderedState:s},o.queue=c,o=XT.bind(null,Ct,c),c.dispatch=o,c=qp(!1),g=Wp.bind(null,Ct,!1,c.queue),c=Sn(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=h2.bind(null,Ct,d,g,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function VT(r){var s=Ce();return MT(s,re,r)}function MT(r,s,o){if(s=jp(r,s,CT)[0],r=Sf(wr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Hu(s)}catch(T){throw T===Bo?pf:T}else c=s;s=Ce();var d=s.queue,g=d.dispatch;return o!==s.memoizedState&&(Ct.flags|=2048,Ho(9,{destroy:void 0},f2.bind(null,d,o),null)),[c,g,r]}function f2(r,s){r.action=s}function PT(r){var s=Ce(),o=re;if(o!==null)return MT(s,o,r);Ce(),s=s.memoizedState,o=Ce();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Ho(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Ct.updateQueue,s===null&&(s=wf(),Ct.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function OT(){return Ce().memoizedState}function If(r,s,o,c){var d=Sn();Ct.flags|=r,d.memoizedState=Ho(1|s,{destroy:void 0},o,c===void 0?null:c)}function xf(r,s,o,c){var d=Ce();c=c===void 0?null:c;var g=d.memoizedState.inst;re!==null&&c!==null&&Np(c,re.memoizedState.deps)?d.memoizedState=Ho(s,g,o,c):(Ct.flags|=r,d.memoizedState=Ho(1|s,g,o,c))}function NT(r,s){If(8390656,8,r,s)}function Gp(r,s){xf(2048,8,r,s)}function d2(r){Ct.flags|=4;var s=Ct.updateQueue;if(s===null)s=wf(),Ct.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function kT(r){var s=Ce().memoizedState;return d2({ref:s,nextImpl:r}),function(){if((Qt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function LT(r,s){return xf(4,2,r,s)}function UT(r,s){return xf(4,4,r,s)}function BT(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function zT(r,s,o){o=o!=null?o.concat([r]):null,xf(4,4,BT.bind(null,s,r),o)}function Kp(){}function jT(r,s){var o=Ce();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Np(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function FT(r,s){var o=Ce();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Np(s,c[1]))return c[0];if(c=r(),Da){Wn(!0);try{r()}finally{Wn(!1)}}return o.memoizedState=[c,s],c}function Yp(r,s,o){return o===void 0||(br&1073741824)!==0&&(Lt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=qE(),Ct.lanes|=r,ps|=r,o)}function qT(r,s,o,c){return Bn(o,s)?o:jo.current!==null?(r=Yp(r,o,c),Bn(r,s)||(ze=!0),r):(br&42)===0||(br&1073741824)!==0&&(Lt&261930)===0?(ze=!0,r.memoizedState=o):(r=qE(),Ct.lanes|=r,ps|=r,s)}function HT(r,s,o,c,d){var g=st.p;st.p=g!==0&&8>g?g:8;var T=Z.T,w={};Z.T=w,Wp(r,!1,s,o);try{var V=d(),H=Z.S;if(H!==null&&H(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var $=l2(V,c);Gu(r,s,$,Gn(r))}else Gu(r,s,c,Gn(r))}catch(nt){Gu(r,s,{then:function(){},status:"rejected",reason:nt},Gn())}finally{st.p=g,T!==null&&w.types!==null&&(T.types=w.types),Z.T=T}}function m2(){}function Qp(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=GT(r).queue;HT(r,d,s,pt,o===null?m2:function(){return KT(r),o(c)})}function GT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:pt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function KT(r){var s=GT(r);s.next===null&&(s=r.alternate.memoizedState),Gu(r,s.next.queue,{},Gn())}function Xp(){return hn(lc)}function YT(){return Ce().memoizedState}function QT(){return Ce().memoizedState}function p2(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Gn();r=us(o);var c=cs(s,r,o);c!==null&&(Nn(c,s,o),zu(c,s,o)),s={cache:Ap()},r.payload=s;return}s=s.return}}function g2(r,s,o){var c=Gn();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rf(r)?WT(s,o):(o=dp(r,s,o,c),o!==null&&(Nn(o,r,c),$T(o,s,c)))}function XT(r,s,o){var c=Gn();Gu(r,s,o,c)}function Gu(r,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rf(r))WT(s,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var T=s.lastRenderedState,w=g(T,o);if(d.hasEagerState=!0,d.eagerState=w,Bn(w,T))return lf(r,s,d,0),le===null&&of(),!1}catch{}if(o=dp(r,s,d,c),o!==null)return Nn(o,r,c),$T(o,s,c),!0}return!1}function Wp(r,s,o,c){if(c={lane:2,revertLane:Rg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Rf(r)){if(s)throw Error(i(479))}else s=dp(r,o,c,2),s!==null&&Nn(s,r,2)}function Rf(r){var s=r.alternate;return r===Ct||s!==null&&s===Ct}function WT(r,s){Fo=Ef=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function $T(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,du(r,o)}}var Ku={readContext:hn,use:Af,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useLayoutEffect:be,useInsertionEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useSyncExternalStore:be,useId:be,useHostTransitionStatus:be,useFormState:be,useActionState:be,useOptimistic:be,useMemoCache:be,useCacheRefresh:be};Ku.useEffectEvent=be;var ZT={readContext:hn,use:Af,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:hn,useEffect:NT,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,If(4194308,4,BT.bind(null,s,r),o)},useLayoutEffect:function(r,s){return If(4194308,4,r,s)},useInsertionEffect:function(r,s){If(4,2,r,s)},useMemo:function(r,s){var o=Sn();s=s===void 0?null:s;var c=r();if(Da){Wn(!0);try{r()}finally{Wn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Sn();if(o!==void 0){var d=o(s);if(Da){Wn(!0);try{o(s)}finally{Wn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=g2.bind(null,Ct,r),[c.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:function(r){r=qp(r);var s=r.queue,o=XT.bind(null,Ct,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Kp,useDeferredValue:function(r,s){var o=Sn();return Yp(o,r,s)},useTransition:function(){var r=qp(!1);return r=HT.bind(null,Ct,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Ct,d=Sn();if(jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),le===null)throw Error(i(349));(Lt&127)!==0||vT(c,s,o)}d.memoizedState=o;var g={value:o,getSnapshot:s};return d.queue=g,NT(ET.bind(null,c,g,r),[r]),c.flags|=2048,Ho(9,{destroy:void 0},TT.bind(null,c,g,o,s),null),o},useId:function(){var r=Sn(),s=le.identifierPrefix;if(jt){var o=Ji,c=Zi;o=(c&~(1<<32-Ie(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=bf++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=u2++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:Xp,useFormState:DT,useActionState:DT,useOptimistic:function(r){var s=Sn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Wp.bind(null,Ct,!0,o),o.dispatch=s,[r,s]},useMemoCache:zp,useCacheRefresh:function(){return Sn().memoizedState=p2.bind(null,Ct)},useEffectEvent:function(r){var s=Sn(),o={impl:r};return s.memoizedState=o,function(){if((Qt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},$p={readContext:hn,use:Af,useCallback:jT,useContext:hn,useEffect:Gp,useImperativeHandle:zT,useInsertionEffect:LT,useLayoutEffect:UT,useMemo:FT,useReducer:Sf,useRef:OT,useState:function(){return Sf(wr)},useDebugValue:Kp,useDeferredValue:function(r,s){var o=Ce();return qT(o,re.memoizedState,r,s)},useTransition:function(){var r=Sf(wr)[0],s=Ce().memoizedState;return[typeof r=="boolean"?r:Hu(r),s]},useSyncExternalStore:_T,useId:YT,useHostTransitionStatus:Xp,useFormState:VT,useActionState:VT,useOptimistic:function(r,s){var o=Ce();return AT(o,re,r,s)},useMemoCache:zp,useCacheRefresh:QT};$p.useEffectEvent=kT;var JT={readContext:hn,use:Af,useCallback:jT,useContext:hn,useEffect:Gp,useImperativeHandle:zT,useInsertionEffect:LT,useLayoutEffect:UT,useMemo:FT,useReducer:Fp,useRef:OT,useState:function(){return Fp(wr)},useDebugValue:Kp,useDeferredValue:function(r,s){var o=Ce();return re===null?Yp(o,r,s):qT(o,re.memoizedState,r,s)},useTransition:function(){var r=Fp(wr)[0],s=Ce().memoizedState;return[typeof r=="boolean"?r:Hu(r),s]},useSyncExternalStore:_T,useId:YT,useHostTransitionStatus:Xp,useFormState:PT,useActionState:PT,useOptimistic:function(r,s){var o=Ce();return re!==null?AT(o,re,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:zp,useCacheRefresh:QT};JT.useEffectEvent=kT;function Zp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Jp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Gn(),d=us(c);d.payload=s,o!=null&&(d.callback=o),s=cs(r,d,c),s!==null&&(Nn(s,r,c),zu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Gn(),d=us(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=cs(r,d,c),s!==null&&(Nn(s,r,c),zu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Gn(),c=us(o);c.tag=2,s!=null&&(c.callback=s),s=cs(r,c,o),s!==null&&(Nn(s,r,o),zu(s,r,o))}};function tE(r,s,o,c,d,g,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,T):s.prototype&&s.prototype.isPureReactComponent?!Mu(o,c)||!Mu(d,g):!0}function eE(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&Jp.enqueueReplaceState(s,s.state,null)}function Va(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function nE(r){af(r)}function iE(r){console.error(r)}function rE(r){af(r)}function Cf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function sE(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function tg(r,s,o){return o=us(o),o.tag=3,o.payload={element:null},o.callback=function(){Cf(r,s)},o}function aE(r){return r=us(r),r.tag=3,r}function oE(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var g=c.value;r.payload=function(){return d(g)},r.callback=function(){sE(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){sE(s,o,c),typeof d!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var w=c.stack;this.componentDidCatch(c.value,{componentStack:w!==null?w:""})})}function y2(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&ko(s,o,d,!0),o=jn.current,o!==null){switch(o.tag){case 31:case 13:return ai===null?jf():o.alternate===null&&we===0&&(we=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===gf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Sg(r,c,d)),!1;case 22:return o.flags|=65536,c===gf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Sg(r,c,d)),!1}throw Error(i(435,o.tag))}return Sg(r,c,d),jf(),!1}if(jt)return s=jn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==vp&&(r=Error(i(422),{cause:c}),Nu(ni(r,o)))):(c!==vp&&(s=Error(i(423),{cause:c}),Nu(ni(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=ni(c,o),d=tg(r.stateNode,c,d),Dp(r,d),we!==4&&(we=2)),!1;var g=Error(i(520),{cause:c});if(g=ni(g,o),tc===null?tc=[g]:tc.push(g),we!==4&&(we=2),s===null)return!0;c=ni(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=tg(o.stateNode,c,r),Dp(o,r),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(gs===null||!gs.has(g))))return o.flags|=65536,d&=-d,o.lanes|=d,d=aE(d),oE(d,r,o,c),Dp(o,d),!1}o=o.return}while(o!==null);return!1}var eg=Error(i(461)),ze=!1;function fn(r,s,o,c){s.child=r===null?hT(s,null,o,c):Ca(s,r.child,o,c)}function lE(r,s,o,c,d){o=o.render;var g=s.ref;if("ref"in c){var T={};for(var w in c)w!=="ref"&&(T[w]=c[w])}else T=c;return Sa(s),c=kp(r,s,o,T,g,d),w=Lp(),r!==null&&!ze?(Up(r,s,d),Ar(r,s,d)):(jt&&w&&yp(s),s.flags|=1,fn(r,s,c,d),s.child)}function uE(r,s,o,c,d){if(r===null){var g=o.type;return typeof g=="function"&&!mp(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,cE(r,s,g,c,d)):(r=cf(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!ug(r,d)){var T=g.memoizedProps;if(o=o.compare,o=o!==null?o:Mu,o(T,c)&&r.ref===s.ref)return Ar(r,s,d)}return s.flags|=1,r=_r(g,c),r.ref=s.ref,r.return=s,s.child=r}function cE(r,s,o,c,d){if(r!==null){var g=r.memoizedProps;if(Mu(g,c)&&r.ref===s.ref)if(ze=!1,s.pendingProps=c=g,ug(r,d))(r.flags&131072)!==0&&(ze=!0);else return s.lanes=r.lanes,Ar(r,s,d)}return ng(r,s,o,c,d)}function hE(r,s,o,c){var d=c.children,g=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,r!==null){for(c=s.child=r.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~g}else c=0,s.child=null;return fE(r,s,g,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&mf(s,g!==null?g.cachePool:null),g!==null?mT(s,g):Mp(),pT(s);else return c=s.lanes=536870912,fE(r,s,g!==null?g.baseLanes|o:o,o,c)}else g!==null?(mf(s,g.cachePool),mT(s,g),fs(),s.memoizedState=null):(r!==null&&mf(s,null),Mp(),fs());return fn(r,s,d,o),s.child}function Yu(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fE(r,s,o,c,d){var g=Ip();return g=g===null?null:{parent:Ue._currentValue,pool:g},s.memoizedState={baseLanes:o,cachePool:g},r!==null&&mf(s,null),Mp(),pT(s),r!==null&&ko(r,s,c,!0),s.childLanes=d,null}function Df(r,s){return s=Mf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function dE(r,s,o){return Ca(s,r.child,null,o),r=Df(s,s.pendingProps),r.flags|=2,Fn(s),s.memoizedState=null,r}function _2(r,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(jt){if(c.mode==="hidden")return r=Df(s,c),s.lanes=536870912,Yu(null,r);if(Op(s),(r=ce)?(r=Sb(r,si),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:rs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},o=Wv(r),o.return=s,s.child=o,cn=s,ce=null)):r=null,r===null)throw as(s);return s.lanes=536870912,null}return Df(s,c)}var g=r.memoizedState;if(g!==null){var T=g.dehydrated;if(Op(s),d)if(s.flags&256)s.flags&=-257,s=dE(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(ze||ko(r,s,o,!1),d=(o&r.childLanes)!==0,ze||d){if(c=le,c!==null&&(T=mu(c,o),T!==0&&T!==g.retryLane))throw g.retryLane=T,Ea(r,T),Nn(c,r,T),eg;jf(),s=dE(r,s,o)}else r=g.treeContext,ce=oi(T.nextSibling),cn=s,jt=!0,ss=null,si=!1,r!==null&&Jv(s,r),s=Df(s,c),s.flags|=4096;return s}return r=_r(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function Vf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function ng(r,s,o,c,d){return Sa(s),o=kp(r,s,o,c,void 0,d),c=Lp(),r!==null&&!ze?(Up(r,s,d),Ar(r,s,d)):(jt&&c&&yp(s),s.flags|=1,fn(r,s,o,d),s.child)}function mE(r,s,o,c,d,g){return Sa(s),s.updateQueue=null,o=yT(s,c,o,d),gT(r),c=Lp(),r!==null&&!ze?(Up(r,s,g),Ar(r,s,g)):(jt&&c&&yp(s),s.flags|=1,fn(r,s,o,g),s.child)}function pE(r,s,o,c,d){if(Sa(s),s.stateNode===null){var g=Mo,T=o.contextType;typeof T=="object"&&T!==null&&(g=hn(T)),g=new o(c,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Jp,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=c,g.state=s.memoizedState,g.refs={},Rp(s),T=o.contextType,g.context=typeof T=="object"&&T!==null?hn(T):Mo,g.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Zp(s,o,T,c),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Jp.enqueueReplaceState(g,g.state,null),Fu(s,c,g,d),ju(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){g=s.stateNode;var w=s.memoizedProps,V=Va(o,w);g.props=V;var H=g.context,$=o.contextType;T=Mo,typeof $=="object"&&$!==null&&(T=hn($));var nt=o.getDerivedStateFromProps;$=typeof nt=="function"||typeof g.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,$||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(w||H!==T)&&eE(s,g,c,T),ls=!1;var G=s.memoizedState;g.state=G,Fu(s,c,g,d),ju(),H=s.memoizedState,w||G!==H||ls?(typeof nt=="function"&&(Zp(s,o,nt,c),H=s.memoizedState),(V=ls||tE(s,o,V,c,G,H,T))?($||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=H),g.props=c,g.state=H,g.context=T,c=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Cp(r,s),T=s.memoizedProps,$=Va(o,T),g.props=$,nt=s.pendingProps,G=g.context,H=o.contextType,V=Mo,typeof H=="object"&&H!==null&&(V=hn(H)),w=o.getDerivedStateFromProps,(H=typeof w=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==nt||G!==V)&&eE(s,g,c,V),ls=!1,G=s.memoizedState,g.state=G,Fu(s,c,g,d),ju();var Q=s.memoizedState;T!==nt||G!==Q||ls||r!==null&&r.dependencies!==null&&ff(r.dependencies)?(typeof w=="function"&&(Zp(s,o,w,c),Q=s.memoizedState),($=ls||tE(s,o,$,c,G,Q,V)||r!==null&&r.dependencies!==null&&ff(r.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,Q,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,Q,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=Q),g.props=c,g.state=Q,g.context=V,c=$):(typeof g.componentDidUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&G===r.memoizedState||(s.flags|=1024),c=!1)}return g=c,Vf(r,s),c=(s.flags&128)!==0,g||c?(g=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&c?(s.child=Ca(s,r.child,null,d),s.child=Ca(s,null,o,d)):fn(r,s,o,d),s.memoizedState=g.state,r=s.child):r=Ar(r,s,d),r}function gE(r,s,o,c){return wa(),s.flags|=256,fn(r,s,o,c),s.child}var ig={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rg(r){return{baseLanes:r,cachePool:sT()}}function sg(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=Hn),r}function yE(r,s,o){var c=s.pendingProps,d=!1,g=(s.flags&128)!==0,T;if((T=g)||(T=r!==null&&r.memoizedState===null?!1:(Re.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(jt){if(d?hs(s):fs(),(r=ce)?(r=Sb(r,si),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:rs!==null?{id:Zi,overflow:Ji}:null,retryLane:536870912,hydrationErrors:null},o=Wv(r),o.return=s,s.child=o,cn=s,ce=null)):r=null,r===null)throw as(s);return jg(r)?s.lanes=32:s.lanes=536870912,null}var w=c.children;return c=c.fallback,d?(fs(),d=s.mode,w=Mf({mode:"hidden",children:w},d),c=ba(c,d,o,null),w.return=s,c.return=s,w.sibling=c,s.child=w,c=s.child,c.memoizedState=rg(o),c.childLanes=sg(r,T,o),s.memoizedState=ig,Yu(null,c)):(hs(s),ag(s,w))}var V=r.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(g)s.flags&256?(hs(s),s.flags&=-257,s=og(r,s,o)):s.memoizedState!==null?(fs(),s.child=r.child,s.flags|=128,s=null):(fs(),w=c.fallback,d=s.mode,c=Mf({mode:"visible",children:c.children},d),w=ba(w,d,o,null),w.flags|=2,c.return=s,w.return=s,c.sibling=w,s.child=c,Ca(s,r.child,null,o),c=s.child,c.memoizedState=rg(o),c.childLanes=sg(r,T,o),s.memoizedState=ig,s=Yu(null,c));else if(hs(s),jg(w)){if(T=w.nextSibling&&w.nextSibling.dataset,T)var H=T.dgst;T=H,c=Error(i(419)),c.stack="",c.digest=T,Nu({value:c,source:null,stack:null}),s=og(r,s,o)}else if(ze||ko(r,s,o,!1),T=(o&r.childLanes)!==0,ze||T){if(T=le,T!==null&&(c=mu(T,o),c!==0&&c!==V.retryLane))throw V.retryLane=c,Ea(r,c),Nn(T,r,c),eg;zg(w)||jf(),s=og(r,s,o)}else zg(w)?(s.flags|=192,s.child=r.child,s=null):(r=V.treeContext,ce=oi(w.nextSibling),cn=s,jt=!0,ss=null,si=!1,r!==null&&Jv(s,r),s=ag(s,c.children),s.flags|=4096);return s}return d?(fs(),w=c.fallback,d=s.mode,V=r.child,H=V.sibling,c=_r(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,H!==null?w=_r(H,w):(w=ba(w,d,o,null),w.flags|=2),w.return=s,c.return=s,c.sibling=w,s.child=c,Yu(null,c),c=s.child,w=r.child.memoizedState,w===null?w=rg(o):(d=w.cachePool,d!==null?(V=Ue._currentValue,d=d.parent!==V?{parent:V,pool:V}:d):d=sT(),w={baseLanes:w.baseLanes|o,cachePool:d}),c.memoizedState=w,c.childLanes=sg(r,T,o),s.memoizedState=ig,Yu(r.child,c)):(hs(s),o=r.child,r=o.sibling,o=_r(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function ag(r,s){return s=Mf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Mf(r,s){return r=zn(22,r,null,s),r.lanes=0,r}function og(r,s,o){return Ca(s,r.child,null,o),r=ag(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function _E(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),bp(r.return,s,o)}function lg(r,s,o,c,d,g){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:g}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=g)}function vE(r,s,o){var c=s.pendingProps,d=c.revealOrder,g=c.tail;c=c.children;var T=Re.current,w=(T&2)!==0;if(w?(T=T&1|2,s.flags|=128):T&=1,ft(Re,T),fn(r,s,c,o),c=jt?Ou:0,!w&&r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_E(r,o,s);else if(r.tag===19)_E(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&Tf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),lg(s,!1,d,o,g,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&Tf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}lg(s,!0,o,null,g,c);break;case"together":lg(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function Ar(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),ps|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ko(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=_r(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=_r(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function ug(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&ff(r)))}function v2(r,s,o){switch(s.tag){case 3:Qe(s,s.stateNode.containerInfo),os(s,Ue,r.memoizedState.cache),wa();break;case 27:case 5:ia(s);break;case 4:Qe(s,s.stateNode.containerInfo);break;case 10:os(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Op(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(hs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?yE(r,s,o):(hs(s),r=Ar(r,s,o),r!==null?r.sibling:null);hs(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(ko(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return vE(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ft(Re,Re.current),c)break;return null;case 22:return s.lanes=0,hE(r,s,o,s.pendingProps);case 24:os(s,Ue,r.memoizedState.cache)}return Ar(r,s,o)}function TE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)ze=!0;else{if(!ug(r,o)&&(s.flags&128)===0)return ze=!1,v2(r,s,o);ze=(r.flags&131072)!==0}else ze=!1,jt&&(s.flags&1048576)!==0&&Zv(s,Ou,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(r=xa(s.elementType),s.type=r,typeof r=="function")mp(r)?(c=Va(r,c),s.tag=1,s=pE(null,s,r,c,o)):(s.tag=0,s=ng(null,s,r,c,o));else{if(r!=null){var d=r.$$typeof;if(d===J){s.tag=11,s=lE(null,s,r,c,o);break t}else if(d===R){s.tag=14,s=uE(null,s,r,c,o);break t}}throw s=oe(r)||r,Error(i(306,s,""))}}return s;case 0:return ng(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Va(c,s.pendingProps),pE(r,s,c,d,o);case 3:t:{if(Qe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var g=s.memoizedState;d=g.element,Cp(r,s),Fu(s,c,null,o);var T=s.memoizedState;if(c=T.cache,os(s,Ue,c),c!==g.cache&&wp(s,[Ue],o,!0),ju(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=gE(r,s,c,o);break t}else if(c!==d){d=ni(Error(i(424)),s),Nu(d),s=gE(r,s,c,o);break t}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,ce=oi(r.firstChild),cn=s,jt=!0,ss=null,si=!0,o=hT(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(wa(),c===d){s=Ar(r,s,o);break t}fn(r,s,c,o)}s=s.child}return s;case 26:return Vf(r,s),r===null?(o=Vb(s.type,null,s.pendingProps,null))?s.memoizedState=o:jt||(o=s.type,r=s.pendingProps,c=Qf(Vt.current).createElement(o),c[Ne]=s,c[tn]=r,dn(c,o,r),ke(c),s.stateNode=c):s.memoizedState=Vb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ia(s),r===null&&jt&&(c=s.stateNode=Rb(s.type,s.pendingProps,Vt.current),cn=s,si=!0,d=ce,Ts(s.type)?(Fg=d,ce=oi(c.firstChild)):ce=d),fn(r,s,s.pendingProps.children,o),Vf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&jt&&((d=c=ce)&&(c=X2(c,s.type,s.pendingProps,si),c!==null?(s.stateNode=c,cn=s,ce=oi(c.firstChild),si=!1,d=!0):d=!1),d||as(s)),ia(s),d=s.type,g=s.pendingProps,T=r!==null?r.memoizedProps:null,c=g.children,Lg(d,g)?c=null:T!==null&&Lg(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=kp(r,s,c2,null,null,o),lc._currentValue=d),Vf(r,s),fn(r,s,c,o),s.child;case 6:return r===null&&jt&&((r=o=ce)&&(o=W2(o,s.pendingProps,si),o!==null?(s.stateNode=o,cn=s,ce=null,r=!0):r=!1),r||as(s)),null;case 13:return yE(r,s,o);case 4:return Qe(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Ca(s,null,c,o):fn(r,s,c,o),s.child;case 11:return lE(r,s,s.type,s.pendingProps,o);case 7:return fn(r,s,s.pendingProps,o),s.child;case 8:return fn(r,s,s.pendingProps.children,o),s.child;case 12:return fn(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,os(s,s.type,c.value),fn(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,Sa(s),d=hn(d),c=c(d),s.flags|=1,fn(r,s,c,o),s.child;case 14:return uE(r,s,s.type,s.pendingProps,o);case 15:return cE(r,s,s.type,s.pendingProps,o);case 19:return vE(r,s,o);case 31:return _2(r,s,o);case 22:return hE(r,s,o,s.pendingProps);case 24:return Sa(s),c=hn(Ue),r===null?(d=Ip(),d===null&&(d=le,g=Ap(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=o),d=g),s.memoizedState={parent:c,cache:d},Rp(s),os(s,Ue,d)):((r.lanes&o)!==0&&(Cp(r,s),Fu(s,null,null,o),ju()),d=r.memoizedState,g=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),os(s,Ue,c)):(c=g.cache,os(s,Ue,c),c!==d.cache&&wp(s,[Ue],o,!0))),fn(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Sr(r){r.flags|=4}function cg(r,s,o,c,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(YE())r.flags|=8192;else throw Ra=gf,xp}else r.flags&=-16777217}function EE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!kb(s))if(YE())r.flags|=8192;else throw Ra=gf,xp}function Pf(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Uh():536870912,r.lanes|=s,Qo|=s)}function Qu(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function he(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function T2(r,s,o){var c=s.pendingProps;switch(_p(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(s),null;case 1:return he(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Er(Ue),fe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(No(s)?Sr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Tp())),he(s),null;case 26:var d=s.type,g=s.memoizedState;return r===null?(Sr(s),g!==null?(he(s),EE(s,g)):(he(s),cg(s,d,null,c,o))):g?g!==r.memoizedState?(Sr(s),he(s),EE(s,g)):(he(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&Sr(s),he(s),cg(s,d,r,c,o)),null;case 27:if(fo(s),o=Vt.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return he(s),null}r=mt.current,No(s)?tT(s):(r=Rb(d,c,o),s.stateNode=r,Sr(s))}return he(s),null;case 5:if(fo(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Sr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return he(s),null}if(g=mt.current,No(s))tT(s);else{var T=Qf(Vt.current);switch(g){case 1:g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":g=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":g=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":g=T.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?g.multiple=!0:c.size&&(g.size=c.size);break;default:g=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}g[Ne]=s,g[tn]=c;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)g.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=g;t:switch(dn(g,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&Sr(s)}}return he(s),cg(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Sr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Vt.current,No(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=cn,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[Ne]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||yb(r.nodeValue,o)),r||as(s,!0)}else r=Qf(r).createTextNode(c),r[Ne]=s,s.stateNode=r}return he(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=No(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[Ne]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;he(s),r=!1}else o=Tp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(Fn(s),s):(Fn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return he(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=No(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ne]=s}else wa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;he(s),d=!1}else d=Tp(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(Fn(s),s):(Fn(s),null)}return Fn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),Pf(s,s.updateQueue),he(s),null);case 4:return fe(),r===null&&Mg(s.stateNode.containerInfo),he(s),null;case 10:return Er(s.type),he(s),null;case 19:if(it(Re),c=s.memoizedState,c===null)return he(s),null;if(d=(s.flags&128)!==0,g=c.rendering,g===null)if(d)Qu(c,!1);else{if(we!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=Tf(r),g!==null){for(s.flags|=128,Qu(c,!1),r=g.updateQueue,s.updateQueue=r,Pf(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)Xv(o,r),o=o.sibling;return ft(Re,Re.current&1|2),jt&&vr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&wn()>Uf&&(s.flags|=128,d=!0,Qu(c,!1),s.lanes=4194304)}else{if(!d)if(r=Tf(g),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,Pf(s,r),Qu(c,!0),c.tail===null&&c.tailMode==="hidden"&&!g.alternate&&!jt)return he(s),null}else 2*wn()-c.renderingStartTime>Uf&&o!==536870912&&(s.flags|=128,d=!0,Qu(c,!1),s.lanes=4194304);c.isBackwards?(g.sibling=s.child,s.child=g):(r=c.last,r!==null?r.sibling=g:s.child=g,c.last=g)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=wn(),r.sibling=null,o=Re.current,ft(Re,d?o&1|2:o&1),jt&&vr(s,c.treeForkCount),r):(he(s),null);case 22:case 23:return Fn(s),Pp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(he(s),s.subtreeFlags&6&&(s.flags|=8192)):he(s),o=s.updateQueue,o!==null&&Pf(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&it(Ia),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Er(Ue),he(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function E2(r,s){switch(_p(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Er(Ue),fe(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return fo(s),null;case 31:if(s.memoizedState!==null){if(Fn(s),s.alternate===null)throw Error(i(340));wa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(Fn(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));wa()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return it(Re),null;case 4:return fe(),null;case 10:return Er(s.type),null;case 22:case 23:return Fn(s),Pp(),r!==null&&it(Ia),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Er(Ue),null;case 25:return null;default:return null}}function bE(r,s){switch(_p(s),s.tag){case 3:Er(Ue),fe();break;case 26:case 27:case 5:fo(s);break;case 4:fe();break;case 31:s.memoizedState!==null&&Fn(s);break;case 13:Fn(s);break;case 19:it(Re);break;case 10:Er(s.type);break;case 22:case 23:Fn(s),Pp(),r!==null&&it(Ia);break;case 24:Er(Ue)}}function Xu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var g=o.create,T=o.inst;c=g(),T.destroy=c}o=o.next}while(o!==d)}}catch(w){Zt(s,s.return,w)}}function ds(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var g=d.next;c=g;do{if((c.tag&r)===r){var T=c.inst,w=T.destroy;if(w!==void 0){T.destroy=void 0,d=s;var V=o,H=w;try{H()}catch($){Zt(d,V,$)}}}c=c.next}while(c!==g)}}catch($){Zt(s,s.return,$)}}function wE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{dT(s,o)}catch(c){Zt(r,r.return,c)}}}function AE(r,s,o){o.props=Va(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){Zt(r,s,c)}}function Wu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){Zt(r,s,d)}}function tr(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){Zt(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Zt(r,s,d)}else o.current=null}function SE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){Zt(r,r.return,d)}}function hg(r,s,o){try{var c=r.stateNode;q2(c,r.type,o,s),c[tn]=s}catch(d){Zt(r,r.return,d)}}function IE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Ts(r.type)||r.tag===4}function fg(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||IE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Ts(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function dg(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=_i));else if(c!==4&&(c===27&&Ts(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(dg(r,s,o),r=r.sibling;r!==null;)dg(r,s,o),r=r.sibling}function Of(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Ts(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Of(r,s,o),r=r.sibling;r!==null;)Of(r,s,o),r=r.sibling}function xE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);dn(s,c,o),s[Ne]=r,s[tn]=o}catch(g){Zt(r,r.return,g)}}var Ir=!1,je=!1,mg=!1,RE=typeof WeakSet=="function"?WeakSet:Set,nn=null;function b2(r,s){if(r=r.containerInfo,Ng=ed,r=zv(r),op(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var T=0,w=-1,V=-1,H=0,$=0,nt=r,G=null;e:for(;;){for(var Q;nt!==o||d!==0&&nt.nodeType!==3||(w=T+d),nt!==g||c!==0&&nt.nodeType!==3||(V=T+c),nt.nodeType===3&&(T+=nt.nodeValue.length),(Q=nt.firstChild)!==null;)G=nt,nt=Q;for(;;){if(nt===r)break e;if(G===o&&++H===d&&(w=T),G===g&&++$===c&&(V=T),(Q=nt.nextSibling)!==null)break;nt=G,G=nt.parentNode}nt=Q}o=w===-1||V===-1?null:{start:w,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(kg={focusedElem:r,selectionRange:o},ed=!1,nn=s;nn!==null;)if(s=nn,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,nn=r;else for(;nn!==null;){switch(s=nn,g=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,o=s,d=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var gt=Va(o.type,d);r=c.getSnapshotBeforeUpdate(gt,g),c.__reactInternalSnapshotBeforeUpdate=r}catch(bt){Zt(o,o.return,bt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Bg(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Bg(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,nn=r;break}nn=s.return}}function CE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Rr(r,o),c&4&&Xu(5,o);break;case 1:if(Rr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){Zt(o,o.return,T)}else{var d=Va(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Zt(o,o.return,T)}}c&64&&wE(o),c&512&&Wu(o,o.return);break;case 3:if(Rr(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{dT(r,s)}catch(T){Zt(o,o.return,T)}}break;case 27:s===null&&c&4&&xE(o);case 26:case 5:Rr(r,o),s===null&&c&4&&SE(o),c&512&&Wu(o,o.return);break;case 12:Rr(r,o);break;case 31:Rr(r,o),c&4&&ME(r,o);break;case 13:Rr(r,o),c&4&&PE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=V2.bind(null,o),$2(r,o))));break;case 22:if(c=o.memoizedState!==null||Ir,!c){s=s!==null&&s.memoizedState!==null||je,d=Ir;var g=je;Ir=c,(je=s)&&!g?Cr(r,o,(o.subtreeFlags&8772)!==0):Rr(r,o),Ir=d,je=g}break;case 30:break;default:Rr(r,o)}}function DE(r){var s=r.alternate;s!==null&&(r.alternate=null,DE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&_o(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var me=null,Vn=!1;function xr(r,s,o){for(o=o.child;o!==null;)VE(r,s,o),o=o.sibling}function VE(r,s,o){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(mi,o)}catch{}switch(o.tag){case 26:je||tr(o,s),xr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:je||tr(o,s);var c=me,d=Vn;Ts(o.type)&&(me=o.stateNode,Vn=!1),xr(r,s,o),sc(o.stateNode),me=c,Vn=d;break;case 5:je||tr(o,s);case 6:if(c=me,d=Vn,me=null,xr(r,s,o),me=c,Vn=d,me!==null)if(Vn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(o.stateNode)}catch(g){Zt(o,s,g)}else try{me.removeChild(o.stateNode)}catch(g){Zt(o,s,g)}break;case 18:me!==null&&(Vn?(r=me,wb(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),nl(r)):wb(me,o.stateNode));break;case 4:c=me,d=Vn,me=o.stateNode.containerInfo,Vn=!0,xr(r,s,o),me=c,Vn=d;break;case 0:case 11:case 14:case 15:ds(2,o,s),je||ds(4,o,s),xr(r,s,o);break;case 1:je||(tr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&AE(o,s,c)),xr(r,s,o);break;case 21:xr(r,s,o);break;case 22:je=(c=je)||o.memoizedState!==null,xr(r,s,o),je=c;break;default:xr(r,s,o)}}function ME(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{nl(r)}catch(o){Zt(s,s.return,o)}}}function PE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{nl(r)}catch(o){Zt(s,s.return,o)}}function w2(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new RE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new RE),s;default:throw Error(i(435,r.tag))}}function Nf(r,s){var o=w2(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=M2.bind(null,r,c);c.then(d,d)}})}function Mn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],g=r,T=s,w=T;t:for(;w!==null;){switch(w.tag){case 27:if(Ts(w.type)){me=w.stateNode,Vn=!1;break t}break;case 5:me=w.stateNode,Vn=!1;break t;case 3:case 4:me=w.stateNode.containerInfo,Vn=!0;break t}w=w.return}if(me===null)throw Error(i(160));VE(g,T,d),me=null,Vn=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)OE(s,r),s=s.sibling}var Ai=null;function OE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Mn(s,r),Pn(r),c&4&&(ds(3,r,r.return),Xu(3,r),ds(5,r,r.return));break;case 1:Mn(s,r),Pn(r),c&512&&(je||o===null||tr(o,o.return)),c&64&&Ir&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=Ai;if(Mn(s,r),Pn(r),c&512&&(je||o===null||tr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){t:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":g=d.getElementsByTagName("title")[0],(!g||g[zi]||g[Ne]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(c),d.head.insertBefore(g,d.querySelector("head > title"))),dn(g,c,o),g[Ne]=r,ke(g),c=g;break t;case"link":var T=Ob("link","href",d).get(c+(o.href||""));if(T){for(var w=0;w<T.length;w++)if(g=T[w],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(w,1);break e}}g=d.createElement(c),dn(g,c,o),d.head.appendChild(g);break;case"meta":if(T=Ob("meta","content",d).get(c+(o.content||""))){for(w=0;w<T.length;w++)if(g=T[w],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(w,1);break e}}g=d.createElement(c),dn(g,c,o),d.head.appendChild(g);break;default:throw Error(i(468,c))}g[Ne]=r,ke(g),c=g}r.stateNode=c}else Nb(d,r.type,r.stateNode);else r.stateNode=Pb(d,c,r.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Nb(d,r.type,r.stateNode):Pb(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&hg(r,r.memoizedProps,o.memoizedProps)}break;case 27:Mn(s,r),Pn(r),c&512&&(je||o===null||tr(o,o.return)),o!==null&&c&4&&hg(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Mn(s,r),Pn(r),c&512&&(je||o===null||tr(o,o.return)),r.flags&32){d=r.stateNode;try{Dn(d,"")}catch(gt){Zt(r,r.return,gt)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,hg(r,d,o!==null?o.memoizedProps:d)),c&1024&&(mg=!0);break;case 6:if(Mn(s,r),Pn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(gt){Zt(r,r.return,gt)}}break;case 3:if($f=null,d=Ai,Ai=Xf(s.containerInfo),Mn(s,r),Ai=d,Pn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{nl(s.containerInfo)}catch(gt){Zt(r,r.return,gt)}mg&&(mg=!1,NE(r));break;case 4:c=Ai,Ai=Xf(r.stateNode.containerInfo),Mn(s,r),Pn(r),Ai=c;break;case 12:Mn(s,r),Pn(r);break;case 31:Mn(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Nf(r,c)));break;case 13:Mn(s,r),Pn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lf=wn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Nf(r,c)));break;case 22:d=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,H=Ir,$=je;if(Ir=H||d,je=$||V,Mn(s,r),je=$,Ir=H,Pn(r),c&8192)t:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||V||Ir||je||Ma(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{w=V.stateNode;var nt=V.memoizedProps.style,G=nt!=null&&nt.hasOwnProperty("display")?nt.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(gt){Zt(V,V.return,gt)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=d?"":V.memoizedProps}catch(gt){Zt(V,V.return,gt)}}}else if(s.tag===18){if(o===null){V=s;try{var Q=V.stateNode;d?Ab(Q,!0):Ab(V.stateNode,!1)}catch(gt){Zt(V,V.return,gt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Nf(r,o))));break;case 19:Mn(s,r),Pn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Nf(r,c)));break;case 30:break;case 21:break;default:Mn(s,r),Pn(r)}}function Pn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(IE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,g=fg(r);Of(r,g,d);break;case 5:var T=o.stateNode;o.flags&32&&(Dn(T,""),o.flags&=-33);var w=fg(r);Of(r,w,T);break;case 3:case 4:var V=o.stateNode.containerInfo,H=fg(r);dg(r,H,V);break;default:throw Error(i(161))}}catch($){Zt(r,r.return,$)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function NE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;NE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Rr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)CE(r,s.alternate,s),s=s.sibling}function Ma(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ds(4,s,s.return),Ma(s);break;case 1:tr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&AE(s,s.return,o),Ma(s);break;case 27:sc(s.stateNode);case 26:case 5:tr(s,s.return),Ma(s);break;case 22:s.memoizedState===null&&Ma(s);break;case 30:Ma(s);break;default:Ma(s)}r=r.sibling}}function Cr(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,g=s,T=g.flags;switch(g.tag){case 0:case 11:case 15:Cr(d,g,o),Xu(4,g);break;case 1:if(Cr(d,g,o),c=g,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(H){Zt(c,c.return,H)}if(c=g,d=c.updateQueue,d!==null){var w=c.stateNode;try{var V=d.shared.hiddenCallbacks;if(V!==null)for(d.shared.hiddenCallbacks=null,d=0;d<V.length;d++)fT(V[d],w)}catch(H){Zt(c,c.return,H)}}o&&T&64&&wE(g),Wu(g,g.return);break;case 27:xE(g);case 26:case 5:Cr(d,g,o),o&&c===null&&T&4&&SE(g),Wu(g,g.return);break;case 12:Cr(d,g,o);break;case 31:Cr(d,g,o),o&&T&4&&ME(d,g);break;case 13:Cr(d,g,o),o&&T&4&&PE(d,g);break;case 22:g.memoizedState===null&&Cr(d,g,o),Wu(g,g.return);break;case 30:break;default:Cr(d,g,o)}s=s.sibling}}function pg(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&ku(o))}function gg(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ku(r))}function Si(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)kE(r,s,o,c),s=s.sibling}function kE(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:Si(r,s,o,c),d&2048&&Xu(9,s);break;case 1:Si(r,s,o,c);break;case 3:Si(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&ku(r)));break;case 12:if(d&2048){Si(r,s,o,c),r=s.stateNode;try{var g=s.memoizedProps,T=g.id,w=g.onPostCommit;typeof w=="function"&&w(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){Zt(s,s.return,V)}}else Si(r,s,o,c);break;case 31:Si(r,s,o,c);break;case 13:Si(r,s,o,c);break;case 23:break;case 22:g=s.stateNode,T=s.alternate,s.memoizedState!==null?g._visibility&2?Si(r,s,o,c):$u(r,s):g._visibility&2?Si(r,s,o,c):(g._visibility|=2,Go(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&pg(T,s);break;case 24:Si(r,s,o,c),d&2048&&gg(s.alternate,s);break;default:Si(r,s,o,c)}}function Go(r,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var g=r,T=s,w=o,V=c,H=T.flags;switch(T.tag){case 0:case 11:case 15:Go(g,T,w,V,d),Xu(8,T);break;case 23:break;case 22:var $=T.stateNode;T.memoizedState!==null?$._visibility&2?Go(g,T,w,V,d):$u(g,T):($._visibility|=2,Go(g,T,w,V,d)),d&&H&2048&&pg(T.alternate,T);break;case 24:Go(g,T,w,V,d),d&&H&2048&&gg(T.alternate,T);break;default:Go(g,T,w,V,d)}s=s.sibling}}function $u(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:$u(o,c),d&2048&&pg(c.alternate,c);break;case 24:$u(o,c),d&2048&&gg(c.alternate,c);break;default:$u(o,c)}s=s.sibling}}var Zu=8192;function Ko(r,s,o){if(r.subtreeFlags&Zu)for(r=r.child;r!==null;)LE(r,s,o),r=r.sibling}function LE(r,s,o){switch(r.tag){case 26:Ko(r,s,o),r.flags&Zu&&r.memoizedState!==null&&uV(o,Ai,r.memoizedState,r.memoizedProps);break;case 5:Ko(r,s,o);break;case 3:case 4:var c=Ai;Ai=Xf(r.stateNode.containerInfo),Ko(r,s,o),Ai=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=Zu,Zu=16777216,Ko(r,s,o),Zu=c):Ko(r,s,o));break;default:Ko(r,s,o)}}function UE(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Ju(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,zE(c,r)}UE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)BE(r),r=r.sibling}function BE(r){switch(r.tag){case 0:case 11:case 15:Ju(r),r.flags&2048&&ds(9,r,r.return);break;case 3:Ju(r);break;case 12:Ju(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,kf(r)):Ju(r);break;default:Ju(r)}}function kf(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];nn=c,zE(c,r)}UE(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ds(8,s,s.return),kf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,kf(s));break;default:kf(s)}r=r.sibling}}function zE(r,s){for(;nn!==null;){var o=nn;switch(o.tag){case 0:case 11:case 15:ds(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ku(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,nn=c;else t:for(o=r;nn!==null;){c=nn;var d=c.sibling,g=c.return;if(DE(c),c===o){nn=null;break t}if(d!==null){d.return=g,nn=d;break t}nn=g}}}var A2={getCacheForType:function(r){var s=hn(Ue),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return hn(Ue).controller.signal}},S2=typeof WeakMap=="function"?WeakMap:Map,Qt=0,le=null,Ot=null,Lt=0,$t=0,qn=null,ms=!1,Yo=!1,yg=!1,Dr=0,we=0,ps=0,Pa=0,_g=0,Hn=0,Qo=0,tc=null,On=null,vg=!1,Lf=0,jE=0,Uf=1/0,Bf=null,gs=null,We=0,ys=null,Xo=null,Vr=0,Tg=0,Eg=null,FE=null,ec=0,bg=null;function Gn(){return(Qt&2)!==0&&Lt!==0?Lt&-Lt:Z.T!==null?Rg():Bh()}function qE(){if(Hn===0)if((Lt&536870912)===0||jt){var r=aa;aa<<=1,(aa&3932160)===0&&(aa=262144),Hn=r}else Hn=536870912;return r=jn.current,r!==null&&(r.flags|=32),Hn}function Nn(r,s,o){(r===le&&($t===2||$t===9)||r.cancelPendingCommit!==null)&&(Wo(r,0),_s(r,Lt,Hn,!1)),oa(r,o),((Qt&2)===0||r!==le)&&(r===le&&((Qt&2)===0&&(Pa|=o),we===4&&_s(r,Lt,Hn,!1)),er(r))}function HE(r,s,o){if((Qt&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||pi(r,s),d=c?R2(r,s):Ag(r,s,!0),g=c;do{if(d===0){Yo&&!c&&_s(r,s,0,!1);break}else{if(o=r.current.alternate,g&&!I2(o)){d=Ag(r,s,!1),g=!1;continue}if(d===2){if(g=s,r.errorRecoveryDisabledLanes&g)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var w=r;d=tc;var V=w.current.memoizedState.isDehydrated;if(V&&(Wo(w,T).flags|=256),T=Ag(w,T,!1),T!==2){if(yg&&!V){w.errorRecoveryDisabledLanes|=g,Pa|=g,d=4;break t}g=On,On=d,g!==null&&(On===null?On=g:On.push.apply(On,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){Wo(r,0),_s(r,s,0,!0);break}t:{switch(c=r,g=d,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:_s(c,s,Hn,!ms);break t;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=Lf+300-wn(),10<d)){if(_s(c,s,Hn,!ms),Li(c,0,!0)!==0)break t;Vr=s,c.timeoutHandle=Eb(GE.bind(null,c,o,On,Bf,vg,s,Hn,Pa,Qo,ms,g,"Throttled",-0,0),d);break t}GE(c,o,On,Bf,vg,s,Hn,Pa,Qo,ms,g,null,-0,0)}}break}while(!0);er(r)}function GE(r,s,o,c,d,g,T,w,V,H,$,nt,G,Q){if(r.timeoutHandle=-1,nt=s.subtreeFlags,nt&8192||(nt&16785408)===16785408){nt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:_i},LE(s,g,nt);var gt=(g&62914560)===g?Lf-wn():(g&4194048)===g?jE-wn():0;if(gt=cV(nt,gt),gt!==null){Vr=g,r.cancelPendingCommit=gt(JE.bind(null,r,s,g,o,c,d,T,w,V,$,nt,null,G,Q)),_s(r,g,T,!H);return}}JE(r,s,g,o,c,d,T,w,V)}function I2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],g=d.getSnapshot;d=d.value;try{if(!Bn(g(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function _s(r,s,o,c){s&=~_g,s&=~Pa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var g=31-Ie(d),T=1<<g;c[g]=-1,d&=~T}o!==0&&la(r,o,s)}function zf(){return(Qt&6)===0?(nc(0),!1):!0}function wg(){if(Ot!==null){if($t===0)var r=Ot.return;else r=Ot,Tr=Aa=null,Bp(r),zo=null,Uu=0,r=Ot;for(;r!==null;)bE(r.alternate,r),r=r.return;Ot=null}}function Wo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,K2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Vr=0,wg(),le=r,Ot=o=_r(r.current,null),Lt=s,$t=0,qn=null,ms=!1,Yo=pi(r,s),yg=!1,Qo=Hn=_g=Pa=ps=we=0,On=tc=null,vg=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-Ie(c),g=1<<d;s|=r[d],c&=~g}return Dr=s,of(),o}function KE(r,s){Ct=null,Z.H=Ku,s===Bo||s===pf?(s=lT(),$t=3):s===xp?(s=lT(),$t=4):$t=s===eg?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,qn=s,Ot===null&&(we=1,Cf(r,ni(s,r.current)))}function YE(){var r=jn.current;return r===null?!0:(Lt&4194048)===Lt?ai===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?r===ai:!1}function QE(){var r=Z.H;return Z.H=Ku,r===null?Ku:r}function XE(){var r=Z.A;return Z.A=A2,r}function jf(){we=4,ms||(Lt&4194048)!==Lt&&jn.current!==null||(Yo=!0),(ps&134217727)===0&&(Pa&134217727)===0||le===null||_s(le,Lt,Hn,!1)}function Ag(r,s,o){var c=Qt;Qt|=2;var d=QE(),g=XE();(le!==r||Lt!==s)&&(Bf=null,Wo(r,s)),s=!1;var T=we;t:do try{if($t!==0&&Ot!==null){var w=Ot,V=qn;switch($t){case 8:wg(),T=6;break t;case 3:case 2:case 9:case 6:jn.current===null&&(s=!0);var H=$t;if($t=0,qn=null,$o(r,w,V,H),o&&Yo){T=0;break t}break;default:H=$t,$t=0,qn=null,$o(r,w,V,H)}}x2(),T=we;break}catch($){KE(r,$)}while(!0);return s&&r.shellSuspendCounter++,Tr=Aa=null,Qt=c,Z.H=d,Z.A=g,Ot===null&&(le=null,Lt=0,of()),T}function x2(){for(;Ot!==null;)WE(Ot)}function R2(r,s){var o=Qt;Qt|=2;var c=QE(),d=XE();le!==r||Lt!==s?(Bf=null,Uf=wn()+500,Wo(r,s)):Yo=pi(r,s);t:do try{if($t!==0&&Ot!==null){s=Ot;var g=qn;e:switch($t){case 1:$t=0,qn=null,$o(r,s,g,1);break;case 2:case 9:if(aT(g)){$t=0,qn=null,$E(s);break}s=function(){$t!==2&&$t!==9||le!==r||($t=7),er(r)},g.then(s,s);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:aT(g)?($t=0,qn=null,$E(s)):($t=0,qn=null,$o(r,s,g,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var w=Ot;if(T?kb(T):w.stateNode.complete){$t=0,qn=null;var V=w.sibling;if(V!==null)Ot=V;else{var H=w.return;H!==null?(Ot=H,Ff(H)):Ot=null}break e}}$t=0,qn=null,$o(r,s,g,5);break;case 6:$t=0,qn=null,$o(r,s,g,6);break;case 8:wg(),we=6;break t;default:throw Error(i(462))}}C2();break}catch($){KE(r,$)}while(!0);return Tr=Aa=null,Z.H=c,Z.A=d,Qt=o,Ot!==null?0:(le=null,Lt=0,of(),we)}function C2(){for(;Ot!==null&&!tp();)WE(Ot)}function WE(r){var s=TE(r.alternate,r,Dr);r.memoizedProps=r.pendingProps,s===null?Ff(r):Ot=s}function $E(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=mE(o,s,s.pendingProps,s.type,void 0,Lt);break;case 11:s=mE(o,s,s.pendingProps,s.type.render,s.ref,Lt);break;case 5:Bp(s);default:bE(o,s),s=Ot=Xv(s,Dr),s=TE(o,s,Dr)}r.memoizedProps=r.pendingProps,s===null?Ff(r):Ot=s}function $o(r,s,o,c){Tr=Aa=null,Bp(s),zo=null,Uu=0;var d=s.return;try{if(y2(r,d,s,o,Lt)){we=1,Cf(r,ni(o,r.current)),Ot=null;return}}catch(g){if(d!==null)throw Ot=d,g;we=1,Cf(r,ni(o,r.current)),Ot=null;return}s.flags&32768?(jt||c===1?r=!0:Yo||(Lt&536870912)!==0?r=!1:(ms=r=!0,(c===2||c===9||c===3||c===6)&&(c=jn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ZE(s,r)):Ff(s)}function Ff(r){var s=r;do{if((s.flags&32768)!==0){ZE(s,ms);return}r=s.return;var o=T2(s.alternate,s,Dr);if(o!==null){Ot=o;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=r}while(s!==null);we===0&&(we=5)}function ZE(r,s){do{var o=E2(r.alternate,r);if(o!==null){o.flags&=32767,Ot=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ot=r;return}Ot=r=o}while(r!==null);we=6,Ot=null}function JE(r,s,o,c,d,g,T,w,V){r.cancelPendingCommit=null;do qf();while(We!==0);if((Qt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=fp,ip(r,o,g,T,w,V),r===le&&(Ot=le=null,Lt=0),Xo=s,ys=r,Vr=o,Tg=g,Eg=d,FE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,P2(Qr,function(){return rb(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=Z.T,Z.T=null,d=st.p,st.p=2,T=Qt,Qt|=4;try{b2(r,s,o)}finally{Qt=T,st.p=d,Z.T=c}}We=1,tb(),eb(),nb()}}function tb(){if(We===1){We=0;var r=ys,s=Xo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var c=st.p;st.p=2;var d=Qt;Qt|=4;try{OE(s,r);var g=kg,T=zv(r.containerInfo),w=g.focusedElem,V=g.selectionRange;if(T!==w&&w&&w.ownerDocument&&Bv(w.ownerDocument.documentElement,w)){if(V!==null&&op(w)){var H=V.start,$=V.end;if($===void 0&&($=H),"selectionStart"in w)w.selectionStart=H,w.selectionEnd=Math.min($,w.value.length);else{var nt=w.ownerDocument||document,G=nt&&nt.defaultView||window;if(G.getSelection){var Q=G.getSelection(),gt=w.textContent.length,bt=Math.min(V.start,gt),ae=V.end===void 0?bt:Math.min(V.end,gt);!Q.extend&&bt>ae&&(T=ae,ae=bt,bt=T);var L=Uv(w,bt),N=Uv(w,ae);if(L&&N&&(Q.rangeCount!==1||Q.anchorNode!==L.node||Q.anchorOffset!==L.offset||Q.focusNode!==N.node||Q.focusOffset!==N.offset)){var q=nt.createRange();q.setStart(L.node,L.offset),Q.removeAllRanges(),bt>ae?(Q.addRange(q),Q.extend(N.node,N.offset)):(q.setEnd(N.node,N.offset),Q.addRange(q))}}}}for(nt=[],Q=w;Q=Q.parentNode;)Q.nodeType===1&&nt.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<nt.length;w++){var et=nt[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}ed=!!Ng,kg=Ng=null}finally{Qt=d,st.p=c,Z.T=o}}r.current=s,We=2}}function eb(){if(We===2){We=0;var r=ys,s=Xo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var c=st.p;st.p=2;var d=Qt;Qt|=4;try{CE(r,s.alternate,s)}finally{Qt=d,st.p=c,Z.T=o}}We=3}}function nb(){if(We===4||We===3){We=0,Mh();var r=ys,s=Xo,o=Vr,c=FE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?We=5:(We=0,Xo=ys=null,ib(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(gs=null),mr(o),s=s.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(mi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=Z.T,d=st.p,st.p=2,Z.T=null;try{for(var g=r.onRecoverableError,T=0;T<c.length;T++){var w=c[T];g(w.value,{componentStack:w.stack})}}finally{Z.T=s,st.p=d}}(Vr&3)!==0&&qf(),er(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===bg?ec++:(ec=0,bg=r):ec=0,nc(0)}}function ib(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,ku(s)))}function qf(){return tb(),eb(),nb(),rb()}function rb(){if(We!==5)return!1;var r=ys,s=Tg;Tg=0;var o=mr(Vr),c=Z.T,d=st.p;try{st.p=32>o?32:o,Z.T=null,o=Eg,Eg=null;var g=ys,T=Vr;if(We=0,Xo=ys=null,Vr=0,(Qt&6)!==0)throw Error(i(331));var w=Qt;if(Qt|=4,BE(g.current),kE(g,g.current,T,o),Qt=w,nc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(mi,g)}catch{}return!0}finally{st.p=d,Z.T=c,ib(r,s)}}function sb(r,s,o){s=ni(o,s),s=tg(r.stateNode,s,2),r=cs(r,s,2),r!==null&&(oa(r,2),er(r))}function Zt(r,s,o){if(r.tag===3)sb(r,r,o);else for(;s!==null;){if(s.tag===3){sb(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gs===null||!gs.has(c))){r=ni(o,r),o=aE(2),c=cs(s,o,2),c!==null&&(oE(o,c,s,r),oa(c,2),er(c));break}}s=s.return}}function Sg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new S2;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(yg=!0,d.add(o),r=D2.bind(null,r,s,o),s.then(r,r))}function D2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,le===r&&(Lt&o)===o&&(we===4||we===3&&(Lt&62914560)===Lt&&300>wn()-Lf?(Qt&2)===0&&Wo(r,0):_g|=o,Qo===Lt&&(Qo=0)),er(r)}function ab(r,s){s===0&&(s=Uh()),r=Ea(r,s),r!==null&&(oa(r,s),er(r))}function V2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),ab(r,o)}function M2(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),ab(r,o)}function P2(r,s){return Xe(r,s)}var Hf=null,Zo=null,Ig=!1,Gf=!1,xg=!1,vs=0;function er(r){r!==Zo&&r.next===null&&(Zo===null?Hf=Zo=r:Zo=Zo.next=r),Gf=!0,Ig||(Ig=!0,N2())}function nc(r,s){if(!xg&&Gf){xg=!0;do for(var o=!1,c=Hf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var g=0;else{var T=c.suspendedLanes,w=c.pingedLanes;g=(1<<31-Ie(42|r)+1)-1,g&=d&~(T&~w),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,cb(c,g))}else g=Lt,g=Li(c,c===le?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||pi(c,g)||(o=!0,cb(c,g));c=c.next}while(o);xg=!1}}function O2(){ob()}function ob(){Gf=Ig=!1;var r=0;vs!==0&&G2()&&(r=vs);for(var s=wn(),o=null,c=Hf;c!==null;){var d=c.next,g=lb(c,s);g===0?(c.next=null,o===null?Hf=d:o.next=d,d===null&&(Zo=o)):(o=c,(r!==0||(g&3)!==0)&&(Gf=!0)),c=d}We!==0&&We!==5||nc(r),vs!==0&&(vs=0)}function lb(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var T=31-Ie(g),w=1<<T,V=d[T];V===-1?((w&o)===0||(w&c)!==0)&&(d[T]=np(w,s)):V<=s&&(r.expiredLanes|=w),g&=~w}if(s=le,o=Lt,o=Li(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&($t===2||$t===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Yr(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||pi(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Yr(c),mr(o)){case 2:case 8:o=fu;break;case 32:o=Qr;break;case 268435456:o=Ph;break;default:o=Qr}return c=ub.bind(null,r),o=Xe(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Yr(c),r.callbackPriority=2,r.callbackNode=null,2}function ub(r,s){if(We!==0&&We!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(qf()&&r.callbackNode!==o)return null;var c=Lt;return c=Li(r,r===le?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(HE(r,c,s),lb(r,wn()),r.callbackNode!=null&&r.callbackNode===o?ub.bind(null,r):null)}function cb(r,s){if(qf())return null;HE(r,s,!0)}function N2(){Y2(function(){(Qt&6)!==0?Xe(hu,O2):ob()})}function Rg(){if(vs===0){var r=Lo;r===0&&(r=Ni,Ni<<=1,(Ni&261888)===0&&(Ni=256)),vs=r}return vs}function hb(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:bo(""+r)}function fb(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function k2(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var g=hb((d[tn]||null).action),T=c.submitter;T&&(s=(s=T[tn]||null)?hb(s.formAction):T.getAttribute("formAction"),s!==null&&(g=s,T=null));var w=new Qi("action","action",null,c,d);r.push({event:w,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(vs!==0){var V=T?fb(d,T):new FormData(d);Qp(o,{pending:!0,data:V,method:d.method,action:g},null,V)}}else typeof g=="function"&&(w.preventDefault(),V=T?fb(d,T):new FormData(d),Qp(o,{pending:!0,data:V,method:d.method,action:g},g,V))},currentTarget:d}]})}}for(var Cg=0;Cg<hp.length;Cg++){var Dg=hp[Cg],L2=Dg.toLowerCase(),U2=Dg[0].toUpperCase()+Dg.slice(1);wi(L2,"on"+U2)}wi(qv,"onAnimationEnd"),wi(Hv,"onAnimationIteration"),wi(Gv,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(t2,"onTransitionRun"),wi(e2,"onTransitionStart"),wi(n2,"onTransitionCancel"),wi(Kv,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ic));function db(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;t:{var g=void 0;if(s)for(var T=c.length-1;0<=T;T--){var w=c[T],V=w.instance,H=w.currentTarget;if(w=w.listener,V!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=H;try{g(d)}catch($){af($)}d.currentTarget=null,g=V}else for(T=0;T<c.length;T++){if(w=c[T],V=w.instance,H=w.currentTarget,w=w.listener,V!==g&&d.isPropagationStopped())break t;g=w,d.currentTarget=H;try{g(d)}catch($){af($)}d.currentTarget=null,g=V}}}}function Nt(r,s){var o=s[yo];o===void 0&&(o=s[yo]=new Set);var c=r+"__bubble";o.has(c)||(mb(s,r,2,!1),o.add(c))}function Vg(r,s,o){var c=0;s&&(c|=4),mb(o,r,c,s)}var Kf="_reactListening"+Math.random().toString(36).slice(2);function Mg(r){if(!r[Kf]){r[Kf]=!0,pu.forEach(function(o){o!=="selectionchange"&&(B2.has(o)||Vg(o,!1,r),Vg(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Kf]||(s[Kf]=!0,Vg("selectionchange",!1,s))}}function mb(r,s,o,c){switch(qb(s)){case 2:var d=dV;break;case 8:d=mV;break;default:d=Yg}o=d.bind(null,s,o,r),d=void 0,!da||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Pg(r,s,o,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var w=c.stateNode.containerInfo;if(w===d)break;if(T===4)for(T=c.return;T!==null;){var V=T.tag;if((V===3||V===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;w!==null;){if(T=ji(w),T===null)return;if(V=T.tag,V===5||V===6||V===26||V===27){c=g=T;continue t}w=w.parentNode}}c=c.return}ts(function(){var H=g,$=Zn(o),nt=[];t:{var G=Yv.get(r);if(G!==void 0){var Q=Qi,gt=r;switch(r){case"keypress":if(pa(o)===0)break t;case"keydown":case"keyup":Q=nf;break;case"focusin":gt="focus",Q=ya;break;case"focusout":gt="blur",Q=ya;break;case"beforeblur":case"afterblur":Q=ya;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case qv:case Hv:case Gv:Q=Xh;break;case Kv:Q=A;break;case"scroll":case"scrollend":Q=xu;break;case"wheel":Q=Y;break;case"copy":case"cut":case"paste":Q=Wh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=yr;break;case"toggle":case"beforetoggle":Q=Rt}var bt=(s&4)!==0,ae=!bt&&(r==="scroll"||r==="scrollend"),L=bt?G!==null?G+"Capture":null:G;bt=[];for(var N=H,q;N!==null;){var et=N;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||L===null||(et=vi(N,L),et!=null&&bt.push(rc(N,et,q))),ae)break;N=N.return}0<bt.length&&(G=new Q(G,gt,null,o,$),nt.push({event:G,listeners:bt}))}}if((s&7)===0){t:{if(G=r==="mouseover"||r==="pointerover",Q=r==="mouseout"||r==="pointerout",G&&o!==Au&&(gt=o.relatedTarget||o.fromElement)&&(ji(gt)||gt[Bi]))break t;if((Q||G)&&(G=$.window===$?$:(G=$.ownerDocument)?G.defaultView||G.parentWindow:window,Q?(gt=o.relatedTarget||o.toElement,Q=H,gt=gt?ji(gt):null,gt!==null&&(ae=l(gt),bt=gt.tag,gt!==ae||bt!==5&&bt!==27&&bt!==6)&&(gt=null)):(Q=null,gt=H),Q!==gt)){if(bt=Ru,et="onMouseLeave",L="onMouseEnter",N="mouse",(r==="pointerout"||r==="pointerover")&&(bt=yr,et="onPointerLeave",L="onPointerEnter",N="pointer"),ae=Q==null?G:Ln(Q),q=gt==null?G:Ln(gt),G=new bt(et,N+"leave",Q,o,$),G.target=ae,G.relatedTarget=q,et=null,ji($)===H&&(bt=new bt(L,N+"enter",gt,o,$),bt.target=q,bt.relatedTarget=ae,et=bt),ae=et,Q&&gt)e:{for(bt=z2,L=Q,N=gt,q=0,et=L;et;et=bt(et))q++;et=0;for(var Et=N;Et;Et=bt(Et))et++;for(;0<q-et;)L=bt(L),q--;for(;0<et-q;)N=bt(N),et--;for(;q--;){if(L===N||N!==null&&L===N.alternate){bt=L;break e}L=bt(L),N=bt(N)}bt=null}else bt=null;Q!==null&&pb(nt,G,Q,bt,!1),gt!==null&&ae!==null&&pb(nt,ae,gt,bt,!0)}}t:{if(G=H?Ln(H):window,Q=G.nodeName&&G.nodeName.toLowerCase(),Q==="select"||Q==="input"&&G.type==="file")var Gt=Mv;else if(Dv(G))if(Pv)Gt=$D;else{Gt=XD;var vt=QD}else Q=G.nodeName,!Q||Q.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?H&&Eo(H.elementType)&&(Gt=Mv):Gt=WD;if(Gt&&(Gt=Gt(r,H))){Vv(nt,Gt,o,$);break t}vt&&vt(r,G,H),r==="focusout"&&H&&G.type==="number"&&H.memoizedProps.value!=null&&Eu(G,"number",G.value)}switch(vt=H?Ln(H):window,r){case"focusin":(Dv(vt)||vt.contentEditable==="true")&&(Co=vt,lp=H,Pu=null);break;case"focusout":Pu=lp=Co=null;break;case"mousedown":up=!0;break;case"contextmenu":case"mouseup":case"dragend":up=!1,jv(nt,o,$);break;case"selectionchange":if(JD)break;case"keydown":case"keyup":jv(nt,o,$)}var Mt;if(Yt)t:{switch(r){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ro?_a(r,o)&&(Ut="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&($i&&o.locale!=="ko"&&(Ro||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ro&&(Mt=Iu()):(Yi=$,Su="value"in Yi?Yi.value:Yi.textContent,Ro=!0)),vt=Yf(H,Ut),0<vt.length&&(Ut=new Wi(Ut,r,null,o,$),nt.push({event:Ut,listeners:vt}),Mt?Ut.data=Mt:(Mt=xo(o),Mt!==null&&(Ut.data=Mt)))),(Mt=ti?HD(r,o):GD(r,o))&&(Ut=Yf(H,"onBeforeInput"),0<Ut.length&&(vt=new Wi("onBeforeInput","beforeinput",null,o,$),nt.push({event:vt,listeners:Ut}),vt.data=Mt)),k2(nt,r,H,o,$)}db(nt,s)})}function rc(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Yf(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=vi(r,o),d!=null&&c.unshift(rc(r,d,g)),d=vi(r,s),d!=null&&c.push(rc(r,d,g))),r.tag===3)return c;r=r.return}return[]}function z2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function pb(r,s,o,c,d){for(var g=s._reactName,T=[];o!==null&&o!==c;){var w=o,V=w.alternate,H=w.stateNode;if(w=w.tag,V!==null&&V===c)break;w!==5&&w!==26&&w!==27||H===null||(V=H,d?(H=vi(o,g),H!=null&&T.unshift(rc(o,H,V))):d||(H=vi(o,g),H!=null&&T.push(rc(o,H,V)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var j2=/\r\n?/g,F2=/\u0000|\uFFFD/g;function gb(r){return(typeof r=="string"?r:""+r).replace(j2,`
`).replace(F2,"")}function yb(r,s){return s=gb(s),gb(r)===s}function se(r,s,o,c,d,g){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Dn(r,""+c);break;case"className":Un(r,"class",c);break;case"tabIndex":Un(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Un(r,o,c);break;case"style":wu(r,c,g);break;case"data":if(s!=="object"){Un(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=bo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&se(r,s,"name",d.name,d,null),se(r,s,"formEncType",d.formEncType,d,null),se(r,s,"formMethod",d.formMethod,d,null),se(r,s,"formTarget",d.formTarget,d,null)):(se(r,s,"encType",d.encType,d,null),se(r,s,"method",d.method,d,null),se(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=bo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=_i);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=bo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Nt("beforetoggle",r),Nt("toggle",r),vo(r,"popover",c);break;case"xlinkActuate":Le(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Le(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Le(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Le(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Le(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Le(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Le(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Le(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Le(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":vo(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Kh.get(o)||o,vo(r,o,c))}}function Og(r,s,o,c,d,g){switch(o){case"style":wu(r,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?Dn(r,c):(typeof c=="number"||typeof c=="bigint")&&Dn(r,""+c);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=_i);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gu.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),g=r[tn]||null,g=g!=null?g[o]:null,typeof g=="function"&&r.removeEventListener(s,g,d),typeof c=="function")){typeof g!="function"&&g!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break t}o in r?r[o]=c:c===!0?r.setAttribute(o,""):vo(r,o,c)}}}function dn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",r),Nt("load",r);var c=!1,d=!1,g;for(g in o)if(o.hasOwnProperty(g)){var T=o[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:se(r,s,g,T,o,null)}}d&&se(r,s,"srcSet",o.srcSet,o,null),c&&se(r,s,"src",o.src,o,null);return;case"input":Nt("invalid",r);var w=g=T=d=null,V=null,H=null;for(c in o)if(o.hasOwnProperty(c)){var $=o[c];if($!=null)switch(c){case"name":d=$;break;case"type":T=$;break;case"checked":V=$;break;case"defaultChecked":H=$;break;case"value":g=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,s));break;default:se(r,s,c,$,o,null)}}qh(r,g,w,V,H,T,d,!1);return;case"select":Nt("invalid",r),c=T=g=null;for(d in o)if(o.hasOwnProperty(d)&&(w=o[d],w!=null))switch(d){case"value":g=w;break;case"defaultValue":T=w;break;case"multiple":c=w;default:se(r,s,d,w,o,null)}s=g,o=T,r.multiple=!!c,s!=null?Wr(r,!!c,s,!1):o!=null&&Wr(r,!!c,o,!0);return;case"textarea":Nt("invalid",r),g=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(w=o[T],w!=null))switch(T){case"value":c=w;break;case"defaultValue":d=w;break;case"children":g=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:se(r,s,T,w,o,null)}$r(r,c,d,g);return;case"option":for(V in o)o.hasOwnProperty(V)&&(c=o[V],c!=null)&&(V==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":se(r,s,V,c,o,null));return;case"dialog":Nt("beforetoggle",r),Nt("toggle",r),Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":Nt("load",r);break;case"video":case"audio":for(c=0;c<ic.length;c++)Nt(ic[c],r);break;case"image":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"embed":case"source":case"link":Nt("error",r),Nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in o)if(o.hasOwnProperty(H)&&(c=o[H],c!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:se(r,s,H,c,o,null)}return;default:if(Eo(s)){for($ in o)o.hasOwnProperty($)&&(c=o[$],c!==void 0&&Og(r,s,$,c,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(c=o[w],c!=null&&se(r,s,w,c,o,null))}function q2(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,w=null,V=null,H=null,$=null;for(Q in o){var nt=o[Q];if(o.hasOwnProperty(Q)&&nt!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=nt;default:c.hasOwnProperty(Q)||se(r,s,Q,null,c,nt)}}for(var G in c){var Q=c[G];if(nt=o[G],c.hasOwnProperty(G)&&(Q!=null||nt!=null))switch(G){case"type":g=Q;break;case"name":d=Q;break;case"checked":H=Q;break;case"defaultChecked":$=Q;break;case"value":T=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,s));break;default:Q!==nt&&se(r,s,G,Q,c,nt)}}To(r,T,w,V,H,$,g,d);return;case"select":Q=T=w=G=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":Q=V;default:c.hasOwnProperty(g)||se(r,s,g,null,c,V)}for(d in c)if(g=c[d],V=o[d],c.hasOwnProperty(d)&&(g!=null||V!=null))switch(d){case"value":G=g;break;case"defaultValue":w=g;break;case"multiple":T=g;default:g!==V&&se(r,s,d,g,c,V)}s=w,o=T,c=Q,G!=null?Wr(r,!!o,G,!1):!!c!=!!o&&(s!=null?Wr(r,!!o,s,!0):Wr(r,!!o,o?[]:"",!1));return;case"textarea":Q=G=null;for(w in o)if(d=o[w],o.hasOwnProperty(w)&&d!=null&&!c.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:se(r,s,w,null,c,d)}for(T in c)if(d=c[T],g=o[T],c.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":G=d;break;case"defaultValue":Q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==g&&se(r,s,T,d,c,g)}Hh(r,G,Q);return;case"option":for(var gt in o)G=o[gt],o.hasOwnProperty(gt)&&G!=null&&!c.hasOwnProperty(gt)&&(gt==="selected"?r.selected=!1:se(r,s,gt,null,c,G));for(V in c)G=c[V],Q=o[V],c.hasOwnProperty(V)&&G!==Q&&(G!=null||Q!=null)&&(V==="selected"?r.selected=G&&typeof G!="function"&&typeof G!="symbol":se(r,s,V,G,c,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)G=o[bt],o.hasOwnProperty(bt)&&G!=null&&!c.hasOwnProperty(bt)&&se(r,s,bt,null,c,G);for(H in c)if(G=c[H],Q=o[H],c.hasOwnProperty(H)&&G!==Q&&(G!=null||Q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:se(r,s,H,G,c,Q)}return;default:if(Eo(s)){for(var ae in o)G=o[ae],o.hasOwnProperty(ae)&&G!==void 0&&!c.hasOwnProperty(ae)&&Og(r,s,ae,void 0,c,G);for($ in c)G=c[$],Q=o[$],!c.hasOwnProperty($)||G===Q||G===void 0&&Q===void 0||Og(r,s,$,G,c,Q);return}}for(var L in o)G=o[L],o.hasOwnProperty(L)&&G!=null&&!c.hasOwnProperty(L)&&se(r,s,L,null,c,G);for(nt in c)G=c[nt],Q=o[nt],!c.hasOwnProperty(nt)||G===Q||G==null&&Q==null||se(r,s,nt,G,c,Q)}function _b(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function H2(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],g=d.transferSize,T=d.initiatorType,w=d.duration;if(g&&w&&_b(T)){for(T=0,w=d.responseEnd,c+=1;c<o.length;c++){var V=o[c],H=V.startTime;if(H>w)break;var $=V.transferSize,nt=V.initiatorType;$&&_b(nt)&&(V=V.responseEnd,T+=$*(V<w?1:(w-H)/(V-H)))}if(--c,s+=8*(g+T)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ng=null,kg=null;function Qf(r){return r.nodeType===9?r:r.ownerDocument}function vb(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Lg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ug=null;function G2(){var r=window.event;return r&&r.type==="popstate"?r===Ug?!1:(Ug=r,!0):(Ug=null,!1)}var Eb=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,bb=typeof Promise=="function"?Promise:void 0,Y2=typeof queueMicrotask=="function"?queueMicrotask:typeof bb<"u"?function(r){return bb.resolve(null).then(r).catch(Q2)}:Eb;function Q2(r){setTimeout(function(){throw r})}function Ts(r){return r==="head"}function wb(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(d),nl(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")sc(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,sc(o);for(var g=o.firstChild;g;){var T=g.nextSibling,w=g.nodeName;g[zi]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=T}}else o==="body"&&sc(r.ownerDocument.body);o=d}while(o);nl(s)}function Ab(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function Bg(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Bg(o),_o(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function X2(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[zi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=oi(r.nextSibling),r===null)break}return null}function W2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=oi(r.nextSibling),r===null))return null;return r}function Sb(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=oi(r.nextSibling),r===null))return null;return r}function zg(r){return r.data==="$?"||r.data==="$~"}function jg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function $2(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function oi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var Fg=null;function Ib(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return oi(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function xb(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function Rb(r,s,o){switch(s=Qf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function sc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);_o(r)}var li=new Map,Cb=new Set;function Xf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Mr=st.d;st.d={f:Z2,r:J2,D:tV,C:eV,L:nV,m:iV,X:sV,S:rV,M:aV};function Z2(){var r=Mr.f(),s=zf();return r||s}function J2(r){var s=$n(r);s!==null&&s.tag===5&&s.type==="form"?KT(s):Mr.r(r)}var Jo=typeof document>"u"?null:document;function Db(r,s,o){var c=Jo;if(c&&typeof s=="string"&&s){var d=Cn(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Cb.has(d)||(Cb.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),dn(s,"link",r),ke(s),c.head.appendChild(s)))}}function tV(r){Mr.D(r),Db("dns-prefetch",r,null)}function eV(r,s){Mr.C(r,s),Db("preconnect",r,s)}function nV(r,s,o){Mr.L(r,s,o);var c=Jo;if(c&&r&&s){var d='link[rel="preload"][as="'+Cn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Cn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Cn(o.imageSizes)+'"]')):d+='[href="'+Cn(r)+'"]';var g=d;switch(s){case"style":g=tl(r);break;case"script":g=el(r)}li.has(g)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),li.set(g,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(ac(g))||s==="script"&&c.querySelector(oc(g))||(s=c.createElement("link"),dn(s,"link",r),ke(s),c.head.appendChild(s)))}}function iV(r,s){Mr.m(r,s);var o=Jo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Cn(c)+'"][href="'+Cn(r)+'"]',g=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=el(r)}if(!li.has(g)&&(r=v({rel:"modulepreload",href:r},s),li.set(g,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(oc(g)))return}c=o.createElement("link"),dn(c,"link",r),ke(c),o.head.appendChild(c)}}}function rV(r,s,o){Mr.S(r,s,o);var c=Jo;if(c&&r){var d=Fi(c).hoistableStyles,g=tl(r);s=s||"default";var T=d.get(g);if(!T){var w={loading:0,preload:null};if(T=c.querySelector(ac(g)))w.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=li.get(g))&&qg(r,o);var V=T=c.createElement("link");ke(V),dn(V,"link",r),V._p=new Promise(function(H,$){V.onload=H,V.onerror=$}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Wf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:w},d.set(g,T)}}}function sV(r,s){Mr.X(r,s);var o=Jo;if(o&&r){var c=Fi(o).hoistableScripts,d=el(r),g=c.get(d);g||(g=o.querySelector(oc(d)),g||(r=v({src:r,async:!0},s),(s=li.get(d))&&Hg(r,s),g=o.createElement("script"),ke(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function aV(r,s){Mr.M(r,s);var o=Jo;if(o&&r){var c=Fi(o).hoistableScripts,d=el(r),g=c.get(d);g||(g=o.querySelector(oc(d)),g||(r=v({src:r,async:!0,type:"module"},s),(s=li.get(d))&&Hg(r,s),g=o.createElement("script"),ke(g),dn(g,"link",r),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(d,g))}}function Vb(r,s,o,c){var d=(d=Vt.current)?Xf(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=tl(o.href),o=Fi(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=tl(o.href);var g=Fi(d).hoistableStyles,T=g.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,T),(g=d.querySelector(ac(r)))&&!g._p&&(T.instance=g,T.state.loading=5),li.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},li.set(r,o),g||oV(d,r,o,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=el(o),o=Fi(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function tl(r){return'href="'+Cn(r)+'"'}function ac(r){return'link[rel="stylesheet"]['+r+"]"}function Mb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function oV(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),dn(s,"link",o),ke(s),r.head.appendChild(s))}function el(r){return'[src="'+Cn(r)+'"]'}function oc(r){return"script[async]"+r}function Pb(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Cn(o.href)+'"]');if(c)return s.instance=c,ke(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),ke(c),dn(c,"style",d),Wf(c,o.precedence,r),s.instance=c;case"stylesheet":d=tl(o.href);var g=r.querySelector(ac(d));if(g)return s.state.loading|=4,s.instance=g,ke(g),g;c=Mb(o),(d=li.get(d))&&qg(c,d),g=(r.ownerDocument||r).createElement("link"),ke(g);var T=g;return T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),dn(g,"link",c),s.state.loading|=4,Wf(g,o.precedence,r),s.instance=g;case"script":return g=el(o.src),(d=r.querySelector(oc(g)))?(s.instance=d,ke(d),d):(c=o,(d=li.get(g))&&(c=v({},o),Hg(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),ke(d),dn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Wf(c,o.precedence,r));return s.instance}function Wf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,g=d,T=0;T<c.length;T++){var w=c[T];if(w.dataset.precedence===s)g=w;else if(g!==d)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function qg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Hg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var $f=null;function Ob(r,s,o){if($f===null){var c=new Map,d=$f=new Map;d.set(o,c)}else d=$f,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var g=o[d];if(!(g[zi]||g[Ne]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(s)||"";T=r+T;var w=c.get(T);w?w.push(g):c.set(T,[g])}}return c}function Nb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function lV(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function kb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function uV(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=tl(c.href),g=s.querySelector(ac(d));if(g){s=g._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Zf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=g,ke(g);return}g=s.ownerDocument||s,c=Mb(c),(d=li.get(d))&&qg(c,d),g=g.createElement("link"),ke(g);var T=g;T._p=new Promise(function(w,V){T.onload=w,T.onerror=V}),dn(g,"link",c),o.instance=g}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Zf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Gg=0;function cV(r,s){return r.stylesheets&&r.count===0&&td(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&td(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4+s);0<r.imgBytes&&Gg===0&&(Gg=62500*H2());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&td(r,r.stylesheets),r.unsuspend)){var g=r.unsuspend;r.unsuspend=null,g()}},(r.imgBytes>Gg?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Zf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)td(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Jf=null;function td(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Jf=new Map,s.forEach(hV,r),Jf=null,Zf.call(r))}function hV(r,s){if(!(s.state.loading&4)){var o=Jf.get(r);if(o)var c=o.get(null);else{o=new Map,Jf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=s.instance,T=d.getAttribute("data-precedence"),g=o.get(T)||c,g===c&&o.set(null,d),o.set(T,d),this.count++,c=Zf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),g?g.parentNode.insertBefore(d,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var lc={$$typeof:K,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function fV(r,s,o,c,d,g,T,w,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ui(0),this.hiddenUpdates=Ui(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function Lb(r,s,o,c,d,g,T,w,V,H,$,nt){return r=new fV(r,s,o,T,V,H,$,nt,w),s=1,g===!0&&(s|=24),g=zn(3,null,null,s),r.current=g,g.stateNode=r,s=Ap(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:s},Rp(g),r}function Ub(r){return r?(r=Mo,r):Mo}function Bb(r,s,o,c,d,g){d=Ub(d),c.context===null?c.context=d:c.pendingContext=d,c=us(s),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=cs(r,c,s),o!==null&&(Nn(o,r,s),zu(o,r,s))}function zb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Kg(r,s){zb(r,s),(r=r.alternate)&&zb(r,s)}function jb(r){if(r.tag===13||r.tag===31){var s=Ea(r,67108864);s!==null&&Nn(s,r,67108864),Kg(r,67108864)}}function Fb(r){if(r.tag===13||r.tag===31){var s=Gn();s=ua(s);var o=Ea(r,s);o!==null&&Nn(o,r,s),Kg(r,s)}}var ed=!0;function dV(r,s,o,c){var d=Z.T;Z.T=null;var g=st.p;try{st.p=2,Yg(r,s,o,c)}finally{st.p=g,Z.T=d}}function mV(r,s,o,c){var d=Z.T;Z.T=null;var g=st.p;try{st.p=8,Yg(r,s,o,c)}finally{st.p=g,Z.T=d}}function Yg(r,s,o,c){if(ed){var d=Qg(c);if(d===null)Pg(r,s,c,nd,o),Hb(r,c);else if(gV(d,r,s,o,c))c.stopPropagation();else if(Hb(r,c),s&4&&-1<pV.indexOf(r)){for(;d!==null;){var g=$n(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ki(g.pendingLanes);if(T!==0){var w=g;for(w.pendingLanes|=2,w.entangledLanes|=2;T;){var V=1<<31-Ie(T);w.entanglements[1]|=V,T&=~V}er(g),(Qt&6)===0&&(Uf=wn()+500,nc(0))}}break;case 31:case 13:w=Ea(g,2),w!==null&&Nn(w,g,2),zf(),Kg(g,2)}if(g=Qg(c),g===null&&Pg(r,s,c,nd,o),g===d)break;d=g}d!==null&&c.stopPropagation()}else Pg(r,s,c,null,o)}}function Qg(r){return r=Zn(r),Xg(r)}var nd=null;function Xg(r){if(nd=null,r=ji(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return nd=r,null}function qb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(sa()){case hu:return 2;case fu:return 8;case Qr:case ep:return 32;case Ph:return 268435456;default:return 32}default:return 32}}var Wg=!1,Es=null,bs=null,ws=null,uc=new Map,cc=new Map,As=[],pV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hb(r,s){switch(r){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ws=null;break;case"pointerover":case"pointerout":uc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(s.pointerId)}}function hc(r,s,o,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=$n(s),s!==null&&jb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function gV(r,s,o,c,d){switch(s){case"focusin":return Es=hc(Es,r,s,o,c,d),!0;case"dragenter":return bs=hc(bs,r,s,o,c,d),!0;case"mouseover":return ws=hc(ws,r,s,o,c,d),!0;case"pointerover":var g=d.pointerId;return uc.set(g,hc(uc.get(g)||null,r,s,o,c,d)),!0;case"gotpointercapture":return g=d.pointerId,cc.set(g,hc(cc.get(g)||null,r,s,o,c,d)),!0}return!1}function Gb(r){var s=ji(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,gi(r.priority,function(){Fb(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,gi(r.priority,function(){Fb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function id(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Qg(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);Au=c,o.target.dispatchEvent(c),Au=null}else return s=$n(o),s!==null&&jb(s),r.blockedOn=o,!1;s.shift()}return!0}function Kb(r,s,o){id(r)&&o.delete(s)}function yV(){Wg=!1,Es!==null&&id(Es)&&(Es=null),bs!==null&&id(bs)&&(bs=null),ws!==null&&id(ws)&&(ws=null),uc.forEach(Kb),cc.forEach(Kb)}function rd(r,s){r.blockedOn===s&&(r.blockedOn=null,Wg||(Wg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,yV)))}var sd=null;function Yb(r){sd!==r&&(sd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){sd===r&&(sd=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(Xg(c||o)===null)continue;break}var g=$n(o);g!==null&&(r.splice(s,3),s-=3,Qp(g,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function nl(r){function s(V){return rd(V,r)}Es!==null&&rd(Es,r),bs!==null&&rd(bs,r),ws!==null&&rd(ws,r),uc.forEach(s),cc.forEach(s);for(var o=0;o<As.length;o++){var c=As[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<As.length&&(o=As[0],o.blockedOn===null);)Gb(o),o.blockedOn===null&&As.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],g=o[c+1],T=d[tn]||null;if(typeof g=="function")T||Yb(o);else if(T){var w=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[tn]||null)w=T.formAction;else if(Xg(d)!==null)continue}else w=T.action;typeof w=="function"?o[c+1]=w:(o.splice(c,3),c-=3),Yb(o)}}}function Qb(){function r(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function $g(r){this._internalRoot=r}ad.prototype.render=$g.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Gn();Bb(o,c,r,s,null,null)},ad.prototype.unmount=$g.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Bb(r.current,2,null,r,null,null),zf(),s[Bi]=null}};function ad(r){this._internalRoot=r}ad.prototype.unstable_scheduleHydration=function(r){if(r){var s=Bh();r={blockedOn:null,target:r,priority:s};for(var o=0;o<As.length&&s!==0&&s<As[o].priority;o++);As.splice(o,0,r),o===0&&Gb(r)}};var Xb=t.version;if(Xb!=="19.2.4")throw Error(i(527,Xb,"19.2.4"));st.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var _V={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!od.isDisabled&&od.supportsFiber)try{mi=od.inject(_V),ln=od}catch{}}return dc.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=nE,g=iE,T=rE;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=Lb(r,1,!1,null,null,o,c,null,d,g,T,Qb),r[Bi]=s.current,Mg(r),new $g(s)},dc.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",g=nE,T=iE,w=rE,V=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),s=Lb(r,1,!0,s,o??null,c,d,V,g,T,w,Qb),s.context=Ub(null),o=s.current,c=Gn(),c=ua(c),d=us(c),d.callback=null,cs(o,d,c),o=c,s.current.lanes=o,oa(s,o),er(s),r[Bi]=s.current,Mg(r),new ad(s)},dc.version="19.2.4",dc}var sw;function CV(){if(sw)return ty.exports;sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ty.exports=RV(),ty.exports}var DV=CV();const VS=6048e5,VV=864e5,MV=6e4,PV=36e5,OV=1e3,aw=Symbol.for("constructDateFrom");function on(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&aw in n?n[aw](t):n instanceof Date?new n.constructor(t):new Date(t)}function Me(n,t){return on(t||n,n)}function MS(n,t,e){const i=Me(n,e?.in);return isNaN(t)?on(e?.in||n,NaN):(t&&i.setDate(i.getDate()+t),i)}let NV={};function Wl(){return NV}function Ks(n,t){const e=Wl(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=Me(n,t?.in),l=a.getDay(),u=(l<i?7:0)+l-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Dl(n,t){return Ks(n,{...t,weekStartsOn:1})}function PS(n,t){const e=Me(n,t?.in),i=e.getFullYear(),a=on(e,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=Dl(a),u=on(e,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const f=Dl(u);return e.getTime()>=l.getTime()?i+1:e.getTime()>=f.getTime()?i:i-1}function qd(n){const t=Me(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function kV(n,...t){const e=on.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function ow(n,t){const e=Me(n,t?.in);return e.setHours(0,0,0,0),e}function LV(n,t,e){const[i,a]=kV(e?.in,n,t),l=ow(i),u=ow(a),f=+l-qd(l),m=+u-qd(u);return Math.round((f-m)/VV)}function UV(n,t){const e=PS(n,t),i=on(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Dl(i)}function BV(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function zV(n){return!(!BV(n)&&typeof n!="number"||isNaN(+Me(n)))}function jV(n,t){const e=Me(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const FV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qV=(n,t,e)=>{let i;const a=FV[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function ry(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const HV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},GV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},KV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},YV={date:ry({formats:HV,defaultWidth:"full"}),time:ry({formats:GV,defaultWidth:"full"}),dateTime:ry({formats:KV,defaultWidth:"full"})},QV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},XV=(n,t,e,i)=>QV[n];function mc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,f=e?.width?String(e.width):u;a=n.formattingValues[f]||n.formattingValues[u]}else{const u=n.defaultWidth,f=e?.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(t):t;return a[l]}}const WV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},$V={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},JV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},tM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},eM={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nM=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},iM={ordinalNumber:nM,era:mc({values:WV,defaultWidth:"wide"}),quarter:mc({values:$V,defaultWidth:"wide",argumentCallback:n=>n-1}),month:mc({values:ZV,defaultWidth:"wide"}),day:mc({values:JV,defaultWidth:"wide"}),dayPeriod:mc({values:tM,defaultWidth:"wide",formattingValues:eM,defaultFormattingWidth:"wide"})};function pc(n){return(t,e={})=>{const i=e.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;const u=l[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(f)?sM(f,v=>v.test(u)):rM(f,v=>v.test(u));let p;p=n.valueCallback?n.valueCallback(m):m,p=e.valueCallback?e.valueCallback(p):p;const y=t.slice(u.length);return{value:p,rest:y}}}function rM(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function sM(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function aM(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const a=i[0],l=t.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=e.valueCallback?e.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}const oM=/^(\d+)(th|st|nd|rd)?/i,lM=/\d+/i,uM={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},cM={any:[/^b/i,/^(a|c)/i]},hM={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fM={any:[/1/i,/2/i,/3/i,/4/i]},dM={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mM={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},pM={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gM={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yM={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_M={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},vM={ordinalNumber:aM({matchPattern:oM,parsePattern:lM,valueCallback:n=>parseInt(n,10)}),era:pc({matchPatterns:uM,defaultMatchWidth:"wide",parsePatterns:cM,defaultParseWidth:"any"}),quarter:pc({matchPatterns:hM,defaultMatchWidth:"wide",parsePatterns:fM,defaultParseWidth:"any",valueCallback:n=>n+1}),month:pc({matchPatterns:dM,defaultMatchWidth:"wide",parsePatterns:mM,defaultParseWidth:"any"}),day:pc({matchPatterns:pM,defaultMatchWidth:"wide",parsePatterns:gM,defaultParseWidth:"any"}),dayPeriod:pc({matchPatterns:yM,defaultMatchWidth:"any",parsePatterns:_M,defaultParseWidth:"any"})},OS={code:"en-US",formatDistance:qV,formatLong:YV,formatRelative:XV,localize:iM,match:vM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function TM(n,t){const e=Me(n,t?.in);return LV(e,jV(e))+1}function NS(n,t){const e=Me(n,t?.in),i=+Dl(e)-+UV(e);return Math.round(i/VS)+1}function H_(n,t){const e=Me(n,t?.in),i=e.getFullYear(),a=Wl(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=on(t?.in||n,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const f=Ks(u,t),m=on(t?.in||n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const p=Ks(m,t);return+e>=+f?i+1:+e>=+p?i:i-1}function EM(n,t){const e=Wl(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,a=H_(n,t),l=on(t?.in||n,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Ks(l,t)}function kS(n,t){const e=Me(n,t?.in),i=+Ks(e,t)-+EM(e,t);return Math.round(i/VS)+1}function Jt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const Is={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Jt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Jt(e+1,2)},d(n,t){return Jt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Jt(n.getHours()%12||12,t.length)},H(n,t){return Jt(n.getHours(),t.length)},m(n,t){return Jt(n.getMinutes(),t.length)},s(n,t){return Jt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),a=Math.trunc(i*Math.pow(10,e-3));return Jt(a,t.length)}},il={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},lw={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),a=i>0?i:1-i;return e.ordinalNumber(a,{unit:"year"})}return Is.y(n,t)},Y:function(n,t,e,i){const a=H_(n,i),l=a>0?a:1-a;if(t==="YY"){const u=l%100;return Jt(u,2)}return t==="Yo"?e.ordinalNumber(l,{unit:"year"}):Jt(l,t.length)},R:function(n,t){const e=PS(n);return Jt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Jt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Jt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Jt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return Is.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Jt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const a=kS(n,i);return t==="wo"?e.ordinalNumber(a,{unit:"week"}):Jt(a,t.length)},I:function(n,t,e){const i=NS(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Jt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):Is.d(n,t)},D:function(n,t,e){const i=TM(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Jt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Jt(l,2);case"eo":return e.ordinalNumber(l,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Jt(l,t.length);case"co":return e.ordinalNumber(l,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Jt(a,t.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const a=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let a;switch(i===12?a=il.noon:i===0?a=il.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let a;switch(i>=17?a=il.evening:i>=12?a=il.afternoon:i>=4?a=il.morning:a=il.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return Is.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):Is.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Jt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):Is.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):Is.s(n,t)},S:function(n,t){return Is.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return cw(i);case"XXXX":case"XX":return ka(i);default:return ka(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return cw(i);case"xxxx":case"xx":return ka(i);default:return ka(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+uw(i,":");default:return"GMT"+ka(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+uw(i,":");default:return"GMT"+ka(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Jt(i,t.length)},T:function(n,t,e){return Jt(+n,t.length)}};function uw(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Math.trunc(i/60),l=i%60;return l===0?e+String(a):e+String(a)+t+Jt(l,2)}function cw(n,t){return n%60===0?(n>0?"-":"+")+Jt(Math.abs(n)/60,2):ka(n,t)}function ka(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Jt(Math.trunc(i/60),2),l=Jt(i%60,2);return e+a+t+l}const hw=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},LS=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},bM=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],a=e[2];if(!a)return hw(n,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",hw(i,t)).replace("{{time}}",LS(a,t))},ky={p:LS,P:bM},wM=/^D+$/,AM=/^Y+$/,SM=["D","DD","YY","YYYY"];function US(n){return wM.test(n)}function BS(n){return AM.test(n)}function Ly(n,t,e){const i=IM(n,t,e);if(console.warn(i),SM.includes(n))throw new RangeError(i)}function IM(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const xM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CM=/^'([^]*?)'?$/,DM=/''/g,VM=/[a-zA-Z]/;function Uy(n,t,e){const i=Wl(),a=i.locale??OS,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Me(n,e?.in);if(!zV(f))throw new RangeError("Invalid time value");let m=t.match(RM).map(y=>{const v=y[0];if(v==="p"||v==="P"){const E=ky[v];return E(y,a.formatLong)}return y}).join("").match(xM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:MM(y)};if(lw[v])return{isToken:!0,value:y};if(v.match(VM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const p={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const v=y.value;(BS(v)||US(v))&&Ly(v,t,String(n));const E=lw[v[0]];return E(f,v,a.localize,p)}).join("")}function MM(n){const t=n.match(CM);return t?t[1].replace(DM,"'"):n}function PM(){return Object.assign({},Wl())}function OM(n,t){const e=Me(n,t?.in).getDay();return e===0?7:e}function NM(n,t){return+Me(n)<+Me(t)}function kM(n,t){const e=LM(t)?new t(0):on(t,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function LM(n){return typeof n=="function"&&n.prototype?.constructor===n}const UM=10;class zS{subPriority=0;validate(t,e){return!0}}class BM extends zS{constructor(t,e,i,a,l){super(),this.value=t,this.validateValue=e,this.setValue=i,this.priority=a,l&&(this.subPriority=l)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,i){return this.setValue(t,e,this.value,i)}}class zM extends zS{priority=UM;subPriority=-1;constructor(t,e){super(),this.context=t||(i=>on(e,i))}set(t,e){return e.timestampIsSet?t:on(t,kM(t,this.context))}}class Xt{run(t,e,i,a){const l=this.parse(t,e,i,a);return l?{setter:new BM(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,e,i){return!0}}class jM extends Xt{priority=140;parse(t,e,i){switch(e){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,e,i){return e.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const De={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},rr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ve(n,t){return n&&{value:t(n.value),rest:n.rest}}function _e(n,t){const e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function sr(n,t){const e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const i=e[1]==="+"?1:-1,a=e[2]?parseInt(e[2],10):0,l=e[3]?parseInt(e[3],10):0,u=e[5]?parseInt(e[5],10):0;return{value:i*(a*PV+l*MV+u*OV),rest:t.slice(e[0].length)}}function jS(n){return _e(De.anyDigitsSigned,n)}function Se(n,t){switch(n){case 1:return _e(De.singleDigit,t);case 2:return _e(De.twoDigits,t);case 3:return _e(De.threeDigits,t);case 4:return _e(De.fourDigits,t);default:return _e(new RegExp("^\\d{1,"+n+"}"),t)}}function Hd(n,t){switch(n){case 1:return _e(De.singleDigitSigned,t);case 2:return _e(De.twoDigitsSigned,t);case 3:return _e(De.threeDigitsSigned,t);case 4:return _e(De.fourDigitsSigned,t);default:return _e(new RegExp("^-?\\d{1,"+n+"}"),t)}}function G_(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function FS(n,t){const e=t>0,i=e?t:1-t;let a;if(i<=50)a=n||100;else{const l=i+50,u=Math.trunc(l/100)*100,f=n>=l%100;a=n+u-(f?100:0)}return e?a:1-a}function qS(n){return n%400===0||n%4===0&&n%100!==0}class FM extends Xt{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,i){const a=l=>({year:l,isTwoDigitYear:e==="yy"});switch(e){case"y":return Ve(Se(4,t),a);case"yo":return Ve(i.ordinalNumber(t,{unit:"year"}),a);default:return Ve(Se(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i){const a=t.getFullYear();if(i.isTwoDigitYear){const u=FS(i.year,a);return t.setFullYear(u,0,1),t.setHours(0,0,0,0),t}const l=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class qM extends Xt{priority=130;parse(t,e,i){const a=l=>({year:l,isTwoDigitYear:e==="YY"});switch(e){case"Y":return Ve(Se(4,t),a);case"Yo":return Ve(i.ordinalNumber(t,{unit:"year"}),a);default:return Ve(Se(e.length,t),a)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i,a){const l=H_(t,a);if(i.isTwoDigitYear){const f=FS(i.year,l);return t.setFullYear(f,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ks(t,a)}const u=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(u,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),Ks(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class HM extends Xt{priority=130;parse(t,e){return Hd(e==="R"?4:e.length,t)}set(t,e,i){const a=on(t,0);return a.setFullYear(i,0,4),a.setHours(0,0,0,0),Dl(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class GM extends Xt{priority=130;parse(t,e){return Hd(e==="u"?4:e.length,t)}set(t,e,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class KM extends Xt{priority=120;parse(t,e,i){switch(e){case"Q":case"QQ":return Se(e.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class YM extends Xt{priority=120;parse(t,e,i){switch(e){case"q":case"qq":return Se(e.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class QM extends Xt{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,i){const a=l=>l-1;switch(e){case"M":return Ve(_e(De.month,t),a);case"MM":return Ve(Se(2,t),a);case"Mo":return Ve(i.ordinalNumber(t,{unit:"month"}),a);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class XM extends Xt{priority=110;parse(t,e,i){const a=l=>l-1;switch(e){case"L":return Ve(_e(De.month,t),a);case"LL":return Ve(Se(2,t),a);case"Lo":return Ve(i.ordinalNumber(t,{unit:"month"}),a);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function WM(n,t,e){const i=Me(n,e?.in),a=kS(i,e)-t;return i.setDate(i.getDate()-a*7),Me(i,e?.in)}class $M extends Xt{priority=100;parse(t,e,i){switch(e){case"w":return _e(De.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return Se(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i,a){return Ks(WM(t,i,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function ZM(n,t,e){const i=Me(n,e?.in),a=NS(i,e)-t;return i.setDate(i.getDate()-a*7),i}class JM extends Xt{priority=100;parse(t,e,i){switch(e){case"I":return _e(De.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return Se(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i){return Dl(ZM(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const tP=[31,28,31,30,31,30,31,31,30,31,30,31],eP=[31,29,31,30,31,30,31,31,30,31,30,31];class nP extends Xt{priority=90;subPriority=1;parse(t,e,i){switch(e){case"d":return _e(De.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return Se(e.length,t)}}validate(t,e){const i=t.getFullYear(),a=qS(i),l=t.getMonth();return a?e>=1&&e<=eP[l]:e>=1&&e<=tP[l]}set(t,e,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class iP extends Xt{priority=90;subpriority=1;parse(t,e,i){switch(e){case"D":case"DD":return _e(De.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return Se(e.length,t)}}validate(t,e){const i=t.getFullYear();return qS(i)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function K_(n,t,e){const i=Wl(),a=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,l=Me(n,e?.in),u=l.getDay(),m=(t%7+7)%7,p=7-a,y=t<0||t>6?t-(u+p)%7:(m+p)%7-(u+p)%7;return MS(l,y,e)}class rP extends Xt{priority=90;parse(t,e,i){switch(e){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,a){return t=K_(t,i,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class sP extends Xt{priority=90;parse(t,e,i,a){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(e){case"e":case"ee":return Ve(Se(e.length,t),l);case"eo":return Ve(i.ordinalNumber(t,{unit:"day"}),l);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,a){return t=K_(t,i,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class aP extends Xt{priority=90;parse(t,e,i,a){const l=u=>{const f=Math.floor((u-1)/7)*7;return(u+a.weekStartsOn+6)%7+f};switch(e){case"c":case"cc":return Ve(Se(e.length,t),l);case"co":return Ve(i.ordinalNumber(t,{unit:"day"}),l);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,a){return t=K_(t,i,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function oP(n,t,e){const i=Me(n,e?.in),a=OM(i,e),l=t-a;return MS(i,l,e)}class lP extends Xt{priority=90;parse(t,e,i){const a=l=>l===0?7:l;switch(e){case"i":case"ii":return Se(e.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return Ve(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Ve(i.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Ve(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a);default:return Ve(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,e){return e>=1&&e<=7}set(t,e,i){return t=oP(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class uP extends Xt{priority=80;parse(t,e,i){switch(e){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(G_(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class cP extends Xt{priority=80;parse(t,e,i){switch(e){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(G_(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class hP extends Xt{priority=80;parse(t,e,i){switch(e){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(G_(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class fP extends Xt{priority=70;parse(t,e,i){switch(e){case"h":return _e(De.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return Se(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,i){const a=t.getHours()>=12;return a&&i<12?t.setHours(i+12,0,0,0):!a&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class dP extends Xt{priority=70;parse(t,e,i){switch(e){case"H":return _e(De.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return Se(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class mP extends Xt{priority=70;parse(t,e,i){switch(e){case"K":return _e(De.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return Se(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class pP extends Xt{priority=70;parse(t,e,i){switch(e){case"k":return _e(De.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return Se(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,i){const a=i<=24?i%24:i;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class gP extends Xt{priority=60;parse(t,e,i){switch(e){case"m":return _e(De.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return Se(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]}class yP extends Xt{priority=50;parse(t,e,i){switch(e){case"s":return _e(De.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return Se(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]}class _P extends Xt{priority=30;parse(t,e){const i=a=>Math.trunc(a*Math.pow(10,-e.length+3));return Ve(Se(e.length,t),i)}set(t,e,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]}class vP extends Xt{priority=10;parse(t,e){switch(e){case"X":return sr(rr.basicOptionalMinutes,t);case"XX":return sr(rr.basic,t);case"XXXX":return sr(rr.basicOptionalSeconds,t);case"XXXXX":return sr(rr.extendedOptionalSeconds,t);default:return sr(rr.extended,t)}}set(t,e,i){return e.timestampIsSet?t:on(t,t.getTime()-qd(t)-i)}incompatibleTokens=["t","T","x"]}class TP extends Xt{priority=10;parse(t,e){switch(e){case"x":return sr(rr.basicOptionalMinutes,t);case"xx":return sr(rr.basic,t);case"xxxx":return sr(rr.basicOptionalSeconds,t);case"xxxxx":return sr(rr.extendedOptionalSeconds,t);default:return sr(rr.extended,t)}}set(t,e,i){return e.timestampIsSet?t:on(t,t.getTime()-qd(t)-i)}incompatibleTokens=["t","T","X"]}class EP extends Xt{priority=40;parse(t){return jS(t)}set(t,e,i){return[on(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class bP extends Xt{priority=20;parse(t){return jS(t)}set(t,e,i){return[on(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const wP={G:new jM,y:new FM,Y:new qM,R:new HM,u:new GM,Q:new KM,q:new YM,M:new QM,L:new XM,w:new $M,I:new JM,d:new nP,D:new iP,E:new rP,e:new sP,c:new aP,i:new lP,a:new uP,b:new cP,B:new hP,h:new fP,H:new dP,K:new mP,k:new pP,m:new gP,s:new yP,S:new _P,X:new vP,x:new TP,t:new EP,T:new bP},AP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,SP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,IP=/^'([^]*?)'?$/,xP=/''/g,RP=/\S/,CP=/[a-zA-Z]/;function DP(n,t,e,i){const a=()=>on(e,NaN),l=PM(),u=l.locale??OS,f=l.firstWeekContainsDate??l.locale?.options?.firstWeekContainsDate??1,m=l.weekStartsOn??l.locale?.options?.weekStartsOn??0,p={firstWeekContainsDate:f,weekStartsOn:m,locale:u},y=[new zM(i?.in,e)],v=t.match(SP).map(P=>{const j=P[0];if(j in ky){const X=ky[j];return X(P,u.formatLong)}return P}).join("").match(AP),E=[];for(let P of v){BS(P)&&Ly(P,t,n),US(P)&&Ly(P,t,n);const j=P[0],X=wP[j];if(X){const{incompatibleTokens:K}=X;if(Array.isArray(K)){const rt=E.find(ct=>K.includes(ct.token)||ct.token===j);if(rt)throw new RangeError(`The format string mustn't contain \`${rt.fullToken}\` and \`${P}\` at the same time`)}else if(X.incompatibleTokens==="*"&&E.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);E.push({token:j,fullToken:P});const J=X.run(n,P,u.match,p);if(!J)return a();y.push(J.setter),n=J.rest}else{if(j.match(CP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");if(P==="''"?P="'":j==="'"&&(P=VP(P)),n.indexOf(P)===0)n=n.slice(P.length);else return a()}}if(n.length>0&&RP.test(n))return a();const I=y.map(P=>P.priority).sort((P,j)=>j-P).filter((P,j,X)=>X.indexOf(P)===j).map(P=>y.filter(j=>j.priority===P).sort((j,X)=>X.subPriority-j.subPriority)).map(P=>P[0]);let C=Me(e,i?.in);if(isNaN(+C))return a();const U={};for(const P of I){if(!P.validate(C,p))return a();const j=P.set(C,U,p);Array.isArray(j)?(C=j[0],Object.assign(U,j[1])):C=j}return C}function VP(n){return n.match(IP)[1].replace(xP,"'")}var HS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fw=Xa.createContext&&Xa.createContext(HS),MP=["attr","size","title"];function PP(n,t){if(n==null)return{};var e=OP(n,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function OP(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Gd(){return Gd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Gd.apply(this,arguments)}function dw(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,i)}return e}function Kd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?dw(Object(e),!0).forEach(function(i){NP(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):dw(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function NP(n,t,e){return t=kP(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function kP(n){var t=LP(n,"string");return typeof t=="symbol"?t:t+""}function LP(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function GS(n){return n&&n.map((t,e)=>Xa.createElement(t.tag,Kd({key:e},t.attr),GS(t.child)))}function Pi(n){return t=>Xa.createElement(UP,Gd({attr:Kd({},n.attr)},t),GS(n.child))}function UP(n){var t=e=>{var{attr:i,size:a,title:l}=n,u=PP(n,MP),f=a||e.size||"1em",m;return e.className&&(m=e.className),n.className&&(m=(m?m+" ":"")+n.className),Xa.createElement("svg",Gd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:m,style:Kd(Kd({color:n.color||e.color},e.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Xa.createElement("title",null,l),n.children)};return fw!==void 0?Xa.createElement(fw.Consumer,null,e=>t(e)):t(HS)}function BP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96zm0 0v288"},child:[]}]})(n)}function zP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(n)}function jP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(n)}function FP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function qP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(n)}function HP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m473.16 221.48-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 0 1-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z"},child:[]}]})(n)}function GP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}function KP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z"},child:[]}]})(n)}function YP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(n)}function QP(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48v48m0 320v48m147.08-355.08-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48m-320 0H48m355.08 147.08-33.94-33.94M142.86 142.86l-33.94-33.94"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(n)}function KS(n){return Pi({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"},child:[]}]})(n)}const By={"Block E":["E101","E102","E103","E104","E201","E202","E203","E204","E301","E302","E303","E304"],"Block F":["F102","F103","F104","F201","F202","F301","F302","F303","F304","F403","F404"]},XP=["07:00 - 09:00","09:00 - 11:00","11:00 - 13:00","13:00 - 15:00","15:00 - 17:00","17:00 - 19:00"];Uy(new Date,"yyyy-MM-dd");const WP=()=>{};var mw={};const YS=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},$P=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],f=n[e++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,p=m?n[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let E=(f&15)<<2|p>>6,I=p&63;m||(I=64,u||(E=64)),i.push(e[y],e[v],e[E],e[I])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(YS(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):$P(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const p=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||p==null||v==null)throw new ZP;const E=l<<2|f>>4;if(i.push(E),p!==64){const I=f<<4&240|p>>2;if(i.push(I),v!==64){const C=p<<6&192|v;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JP=function(n){const t=YS(n);return QS.encodeByteArray(t,!0)},Yd=function(n){return JP(n).replace(/\./g,"")},XS=function(n){try{return QS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function WS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const tO=()=>WS().__FIREBASE_DEFAULTS__,eO=()=>{if(typeof process>"u"||typeof mw>"u")return;const n=mw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},nO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&XS(n[1]);return t&&JSON.parse(t)},Sm=()=>{try{return WP()||tO()||eO()||nO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},$S=n=>Sm()?.emulatorHosts?.[n],iO=n=>{const t=$S(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},ZS=()=>Sm()?.config,JS=n=>Sm()?.[`_${n}`];class rO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function $l(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tI(n){return(await fetch(n,{credentials:"include"})).ok}function sO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Yd(JSON.stringify(e)),Yd(JSON.stringify(u)),""].join(".")}const Dc={};function aO(){const n={prod:[],emulator:[]};for(const t of Object.keys(Dc))Dc[t]?n.emulator.push(t):n.prod.push(t);return n}function oO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let pw=!1;function eI(n,t){if(typeof window>"u"||typeof document>"u"||!$l(window.location.host)||Dc[n]===t||Dc[n]||pw)return;Dc[n]=t;function e(E){return`__firebase__banner__${E}`}const i="__firebase__banner",l=aO().prod.length>0;function u(){const E=document.getElementById(i);E&&E.remove()}function f(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function m(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{pw=!0,u()},E}function y(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function v(){const E=oO(i),I=e("text"),C=document.getElementById(I)||document.createElement("span"),U=e("learnmore"),P=document.getElementById(U)||document.createElement("a"),j=e("preprendIcon"),X=document.getElementById(j)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const K=E.element;f(K),y(P,U);const J=p();m(X,j),K.append(X,C,P,J),document.body.appendChild(K)}l?(C.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function nI(){const n=Sm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fO(){const n=Ze();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iI(){return!nI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rI(){return!nI()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function sI(){try{return typeof indexedDB=="object"}catch{return!1}}function dO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const mO="FirebaseError";class Hr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=mO,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hh.prototype.create)}}class hh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?pO(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new Hr(a,f,i)}}function pO(n,t){return n.replace(gO,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const gO=/\{\$([^}]+)}/g;function yO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function to(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if(gw(l)&&gw(u)){if(!to(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function gw(n){return n!==null&&typeof n=="object"}function fh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function _O(n,t){const e=new vO(n,t);return e.subscribe.bind(e)}class vO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");TO(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=sy),a.error===void 0&&(a.error=sy),a.complete===void 0&&(a.complete=sy);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function sy(){}function Ke(n){return n&&n._delegate?n._delegate:n}class eo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const La="[DEFAULT]";class EO{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new rO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wO(t))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=La){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=La){return this.instances.has(t)}getOptions(t=La){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:bO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=La){return this.component?this.component.multipleInstances?t:La:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bO(n){return n===La?void 0:n}function wO(n){return n.instantiationMode==="EAGER"}class AO{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new EO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const SO={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},IO=Bt.INFO,xO={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},RO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=xO[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Y_{constructor(t){this.name=t,this._logLevel=IO,this._logHandler=RO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const CO=(n,t)=>t.some(e=>n instanceof e);let yw,_w;function DO(){return yw||(yw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VO(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const aI=new WeakMap,zy=new WeakMap,oI=new WeakMap,ay=new WeakMap,Q_=new WeakMap;function MO(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(Us(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&aI.set(e,n)}).catch(()=>{}),Q_.set(t,n),t}function PO(n){if(zy.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});zy.set(n,t)}let jy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return zy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||oI.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Us(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function OO(n){jy=n(jy)}function NO(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(oy(this),t,...e);return oI.set(i,t.sort?t.sort():[t]),Us(i)}:VO().includes(n)?function(...t){return n.apply(oy(this),t),Us(aI.get(this))}:function(...t){return Us(n.apply(oy(this),t))}}function kO(n){return typeof n=="function"?NO(n):(n instanceof IDBTransaction&&PO(n),CO(n,DO())?new Proxy(n,jy):n)}function Us(n){if(n instanceof IDBRequest)return MO(n);if(ay.has(n))return ay.get(n);const t=kO(n);return t!==n&&(ay.set(n,t),Q_.set(t,n)),t}const oy=n=>Q_.get(n);function LO(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),f=Us(u);return i&&u.addEventListener("upgradeneeded",m=>{i(Us(u.result),m.oldVersion,m.newVersion,Us(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const UO=["get","getKey","getAll","getAllKeys","count"],BO=["put","add","delete","clear"],ly=new Map;function vw(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(ly.get(t))return ly.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=BO.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||UO.includes(e)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[e](...f),a&&m.done]))[0]};return ly.set(t,l),l}OO(n=>({...n,get:(t,e,i)=>vw(t,e)||n.get(t,e,i),has:(t,e)=>!!vw(t,e)||n.has(t,e)}));class zO{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(jO(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function jO(n){return n.getComponent()?.type==="VERSION"}const Fy="@firebase/app",Tw="0.14.8";const Br=new Y_("@firebase/app"),FO="@firebase/app-compat",qO="@firebase/analytics-compat",HO="@firebase/analytics",GO="@firebase/app-check-compat",KO="@firebase/app-check",YO="@firebase/auth",QO="@firebase/auth-compat",XO="@firebase/database",WO="@firebase/data-connect",$O="@firebase/database-compat",ZO="@firebase/functions",JO="@firebase/functions-compat",tN="@firebase/installations",eN="@firebase/installations-compat",nN="@firebase/messaging",iN="@firebase/messaging-compat",rN="@firebase/performance",sN="@firebase/performance-compat",aN="@firebase/remote-config",oN="@firebase/remote-config-compat",lN="@firebase/storage",uN="@firebase/storage-compat",cN="@firebase/firestore",hN="@firebase/ai",fN="@firebase/firestore-compat",dN="firebase",mN="12.9.0";const qy="[DEFAULT]",pN={[Fy]:"fire-core",[FO]:"fire-core-compat",[HO]:"fire-analytics",[qO]:"fire-analytics-compat",[KO]:"fire-app-check",[GO]:"fire-app-check-compat",[YO]:"fire-auth",[QO]:"fire-auth-compat",[XO]:"fire-rtdb",[WO]:"fire-data-connect",[$O]:"fire-rtdb-compat",[ZO]:"fire-fn",[JO]:"fire-fn-compat",[tN]:"fire-iid",[eN]:"fire-iid-compat",[nN]:"fire-fcm",[iN]:"fire-fcm-compat",[rN]:"fire-perf",[sN]:"fire-perf-compat",[aN]:"fire-rc",[oN]:"fire-rc-compat",[lN]:"fire-gcs",[uN]:"fire-gcs-compat",[cN]:"fire-fst",[fN]:"fire-fst-compat",[hN]:"fire-vertex","fire-js":"fire-js",[dN]:"fire-js-all"};const Qd=new Map,gN=new Map,Hy=new Map;function Ew(n,t){try{n.container.addComponent(t)}catch(e){Br.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Vl(n){const t=n.name;if(Hy.has(t))return Br.debug(`There were multiple attempts to register component ${t}.`),!1;Hy.set(t,n);for(const e of Qd.values())Ew(e,n);for(const e of gN.values())Ew(e,n);return!0}function X_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ui(n){return n==null?!1:n.settings!==void 0}const yN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bs=new hh("app","Firebase",yN);class _N{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Bs.create("app-deleted",{appName:this._name})}}const Zl=mN;function lI(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:qy,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Bs.create("bad-app-name",{appName:String(a)});if(e||(e=ZS()),!e)throw Bs.create("no-options");const l=Qd.get(a);if(l){if(to(e,l.options)&&to(i,l.config))return l;throw Bs.create("duplicate-app",{appName:a})}const u=new AO(a);for(const m of Hy.values())u.addComponent(m);const f=new _N(e,i,u);return Qd.set(a,f),f}function uI(n=qy){const t=Qd.get(n);if(!t&&n===qy&&ZS())return lI();if(!t)throw Bs.create("no-app",{appName:n});return t}function zs(n,t,e){let i=pN[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Br.warn(u.join(" "));return}Vl(new eo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const vN="firebase-heartbeat-database",TN=1,Hc="firebase-heartbeat-store";let uy=null;function cI(){return uy||(uy=LO(vN,TN,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Hc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Bs.create("idb-open",{originalErrorMessage:n.message})})),uy}async function EN(n){try{const e=(await cI()).transaction(Hc),i=await e.objectStore(Hc).get(hI(n));return await e.done,i}catch(t){if(t instanceof Hr)Br.warn(t.message);else{const e=Bs.create("idb-get",{originalErrorMessage:t?.message});Br.warn(e.message)}}}async function bw(n,t){try{const i=(await cI()).transaction(Hc,"readwrite");await i.objectStore(Hc).put(t,hI(n)),await i.done}catch(e){if(e instanceof Hr)Br.warn(e.message);else{const i=Bs.create("idb-set",{originalErrorMessage:e?.message});Br.warn(i.message)}}}function hI(n){return`${n.name}!${n.options.appId}`}const bN=1024,wN=30;class AN{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new IN(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ww();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>wN){const a=xN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Br.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ww(),{heartbeatsToSend:e,unsentEntries:i}=SN(this._heartbeatsCache.heartbeats),a=Yd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Br.warn(t),""}}}function ww(){return new Date().toISOString().substring(0,10)}function SN(n,t=bN){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Aw(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Aw(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class IN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sI()?dO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await EN(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Aw(n){return Yd(JSON.stringify({version:2,heartbeats:n})).length}function xN(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function RN(n){Vl(new eo("platform-logger",t=>new zO(t),"PRIVATE")),Vl(new eo("heartbeat",t=>new AN(t),"PRIVATE")),zs(Fy,Tw,n),zs(Fy,Tw,"esm2020"),zs("fire-js","")}RN("");function fI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const CN=fI,dI=new hh("auth","Firebase",fI());const Xd=new Y_("@firebase/auth");function DN(n,...t){Xd.logLevel<=Bt.WARN&&Xd.warn(`Auth (${Zl}): ${n}`,...t)}function Td(n,...t){Xd.logLevel<=Bt.ERROR&&Xd.error(`Auth (${Zl}): ${n}`,...t)}function hr(n,...t){throw $_(n,...t)}function Di(n,...t){return $_(n,...t)}function W_(n,t,e){const i={...CN(),[t]:e};return new hh("auth","Firebase",i).create(t,{appName:n.name})}function js(n){return W_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mI(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&hr(n,"argument-error"),W_(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return dI.create(n,...t)}function wt(n,t,...e){if(!n)throw $_(t,...e)}function Or(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Td(t),new Error(t)}function zr(n,t){n||Or(t)}function Gy(){return typeof self<"u"&&self.location?.href||""}function VN(){return Sw()==="http:"||Sw()==="https:"}function Sw(){return typeof self<"u"&&self.location?.protocol||null}function MN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VN()||cO()||"connection"in navigator)?navigator.onLine:!0}function PN(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class dh{constructor(t,e){this.shortDelay=t,this.longDelay=e,zr(e>t,"Short delay should be less than long delay!"),this.isMobile=lO()||hO()}get(){return MN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Z_(n,t){zr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class pI{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ON={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const NN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kN=new dh(3e4,6e4);function J_(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Jl(n,t,e,i,a={}){return gI(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const f=fh({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p={method:t,headers:m,...l};return uO()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&$l(n.emulatorConfig.host)&&(p.credentials="include"),pI.fetch()(await yI(n,n.config.apiHost,e,f),p)})}async function gI(n,t,e){n._canInitEmulator=!1;const i={...ON,...t};try{const a=new UN(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw ld(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ld(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw ld(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw ld(n,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw W_(n,y,p);hr(n,y)}}catch(a){if(a instanceof Hr)throw a;hr(n,"network-request-failed",{message:String(a)})}}async function LN(n,t,e,i,a={}){const l=await Jl(n,t,e,i,a);return"mfaPendingCredential"in l&&hr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function yI(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?Z_(n.config,a):`${n.config.apiScheme}://${a}`;return NN.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class UN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Di(this.auth,"network-request-failed")),kN.get())})}}function ld(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Di(n,t,i);return a.customData._tokenResponse=e,a}async function BN(n,t){return Jl(n,"POST","/v1/accounts:delete",t)}async function Wd(n,t){return Jl(n,"POST","/v1/accounts:lookup",t)}function Vc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function zN(n,t=!1){const e=Ke(n),i=await e.getIdToken(t),a=t0(i);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Vc(cy(a.auth_time)),issuedAtTime:Vc(cy(a.iat)),expirationTime:Vc(cy(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function cy(n){return Number(n)*1e3}function t0(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Td("JWT malformed, contained fewer than 3 sections"),null;try{const a=XS(e);return a?JSON.parse(a):(Td("Failed to decode base64 JWT payload"),null)}catch(a){return Td("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Iw(n){const t=t0(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Gc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Hr&&jN(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function jN({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class FN{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Ky{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $d(n){const t=n.auth,e=await n.getIdToken(),i=await Gc(n,Wd(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?_I(a.providerUserInfo):[],u=HN(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,p=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new Ky(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(n,y)}async function qN(n){const t=Ke(n);await $d(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function HN(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function _I(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function GN(n,t){const e=await gI(n,{},async()=>{const i=fh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await yI(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&$l(n.emulatorConfig.host)&&(m.credentials="include"),pI.fetch()(u,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function KN(n,t){return Jl(n,"POST","/v2/accounts:revokeToken",J_(n,t))}class wl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Iw(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=Iw(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await GN(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new wl;return i&&(wt(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(wt(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new wl,this.toJSON())}_performRefresh(){return Or("not implemented")}}function xs(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ci{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new FN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Ky(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Gc(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return zN(this,t)}reload(){return qN(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await $d(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(js(this.auth));const t=await this.getIdToken();return await Gc(this,BN(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,f=e.tenantId??void 0,m=e._redirectEventId??void 0,p=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:E,isAnonymous:I,providerData:C,stsTokenManager:U}=e;wt(v&&U,t,"internal-error");const P=wl.fromJSON(this.name,U);wt(typeof v=="string",t,"internal-error"),xs(i,t.name),xs(a,t.name),wt(typeof E=="boolean",t,"internal-error"),wt(typeof I=="boolean",t,"internal-error"),xs(l,t.name),xs(u,t.name),xs(f,t.name),xs(m,t.name),xs(p,t.name),xs(y,t.name);const j=new Ci({uid:v,auth:t,email:a,emailVerified:E,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:P,createdAt:p,lastLoginAt:y});return C&&Array.isArray(C)&&(j.providerData=C.map(X=>({...X}))),m&&(j._redirectEventId=m),j}static async _fromIdTokenResponse(t,e,i=!1){const a=new wl;a.updateFromServerResponse(e);const l=new Ci({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await $d(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?_I(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new wl;f.updateFromIdToken(i);const m=new Ci({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Ky(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,p),m}}const xw=new Map;function Nr(n){zr(n instanceof Function,"Expected a class definition");let t=xw.get(n);return t?(zr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,xw.set(n,t),t)}class vI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}vI.type="NONE";const Rw=vI;function Ed(n,t,e){return`firebase:${n}:${t}:${e}`}class Al{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Ed(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ed("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Wd(this.auth,{idToken:t}).catch(()=>{});return e?Ci._fromGetAccountInfoResponse(this.auth,e,t):null}return Ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Al(Nr(Rw),t,i);const a=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Nr(Rw);const u=Ed(i,t.config.apiKey,t.name);let f=null;for(const p of e)try{const y=await p._get(u);if(y){let v;if(typeof y=="string"){const E=await Wd(t,{idToken:y}).catch(()=>{});if(!E)break;v=await Ci._fromGetAccountInfoResponse(t,E,y)}else v=Ci._fromJSON(t,y);p!==l&&(f=v),l=p;break}}catch{}const m=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Al(l,t,i):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(e.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new Al(l,t,i))}}function Cw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(wI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TI(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SI(t))return"Blackberry";if(II(t))return"Webos";if(EI(t))return"Safari";if((t.includes("chrome/")||bI(t))&&!t.includes("edge/"))return"Chrome";if(AI(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function TI(n=Ze()){return/firefox\//i.test(n)}function EI(n=Ze()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bI(n=Ze()){return/crios\//i.test(n)}function wI(n=Ze()){return/iemobile/i.test(n)}function AI(n=Ze()){return/android/i.test(n)}function SI(n=Ze()){return/blackberry/i.test(n)}function II(n=Ze()){return/webos/i.test(n)}function e0(n=Ze()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function YN(n=Ze()){return e0(n)&&!!window.navigator?.standalone}function QN(){return fO()&&document.documentMode===10}function xI(n=Ze()){return e0(n)||AI(n)||II(n)||SI(n)||/windows phone/i.test(n)||wI(n)}function RI(n,t=[]){let e;switch(n){case"Browser":e=Cw(Ze());break;case"Worker":e=`${Cw(Ze())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Zl}/${i}`}class XN{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,f)=>{try{const m=t(l);u(m)}catch(m){f(m)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function WN(n,t={}){return Jl(n,"GET","/v2/passwordPolicy",J_(n,t))}const $N=6;class ZN{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??$N,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class JN{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dw(this),this.idTokenSubscription=new Dw(this),this.beforeStateQueue=new XN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Nr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Al.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Wd(this,{idToken:t}),i=await Ci._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ui(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await $d(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=PN()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ui(this.app))return Promise.reject(js(this));const e=t?Ke(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ui(this.app)?Promise.reject(js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Nr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await WN(this),e=new ZN(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new hh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await KN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Nr(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await Al.create(this,[Nr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,i,a);return()=>{u=!0,m()}}else{const m=t.addObserver(e);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&DN(`Error while retrieving App Check token: ${t.error}`),t?.token}}function tu(n){return Ke(n)}class Dw{constructor(t){this.auth=t,this.observer=null,this.addObserver=_O(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let n0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function tk(n){n0=n}function ek(n){return n0.loadJS(n)}function nk(){return n0.gapiScript}function ik(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function rk(n,t){const e=X_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(to(l,t??{}))return a;hr(a,"already-initialized")}return e.initialize({options:t})}function sk(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Nr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function ak(n,t,e){const i=tu(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=CI(t),{host:u,port:f}=ok(t),m=f===null?"":`:${f}`,p={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(to(p,i.config.emulator)&&to(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,$l(u)?(tI(`${l}//${u}${m}`),eI("Auth",!0)):lk()}function CI(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function ok(n){const t=CI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:Vw(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:Vw(u)}}}function Vw(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function lk(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class DI{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Or("not implemented")}_getIdTokenResponse(t){return Or("not implemented")}_linkToIdToken(t,e){return Or("not implemented")}_getReauthenticationResolver(t){return Or("not implemented")}}async function Sl(n,t){return LN(n,"POST","/v1/accounts:signInWithIdp",J_(n,t))}const uk="http://localhost";class no extends DI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new no(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):hr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new no(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return Sl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Sl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Sl(t,e)}buildRequest(){const t={requestUri:uk,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=fh(e)}return t}}class Im{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class mh extends Im{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ms extends mh{constructor(){super("facebook.com")}static credential(t){return no._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ms.credentialFromTaggedObject(t)}static credentialFromError(t){return Ms.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ms.credential(t.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";class Pr extends mh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return no._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Pr.credentialFromTaggedObject(t)}static credentialFromError(t){return Pr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Pr.credential(e,i)}catch{return null}}}Pr.GOOGLE_SIGN_IN_METHOD="google.com";Pr.PROVIDER_ID="google.com";class Ps extends mh{constructor(){super("github.com")}static credential(t){return no._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";class Os extends mh{constructor(){super("twitter.com")}static credential(t,e){return no._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Os.credentialFromTaggedObject(t)}static credentialFromError(t){return Os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Os.credential(e,i)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";class Ml{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await Ci._fromIdTokenResponse(t,i,a),u=Mw(i);return new Ml({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=Mw(i);return new Ml({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function Mw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Zd extends Hr{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Zd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new Zd(t,e,i,a)}}function VI(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Zd._fromErrorAndOperation(n,l,t,i):l})}async function ck(n,t,e=!1){const i=await Gc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ml._forOperation(n,"link",i)}async function hk(n,t,e=!1){const{auth:i}=n;if(ui(i.app))return Promise.reject(js(i));const a="reauthenticate";try{const l=await Gc(n,VI(i,a,t,n),e);wt(l.idToken,i,"internal-error");const u=t0(l.idToken);wt(u,i,"internal-error");const{sub:f}=u;return wt(n.uid===f,i,"user-mismatch"),Ml._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&hr(i,"user-mismatch"),l}}async function fk(n,t,e=!1){if(ui(n.app))return Promise.reject(js(n));const i="signIn",a=await VI(n,i,t),l=await Ml._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function dk(n,t){return Ke(n).setPersistence(t)}function mk(n,t,e,i){return Ke(n).onIdTokenChanged(t,e,i)}function pk(n,t,e){return Ke(n).beforeAuthStateChanged(t,e)}function gk(n,t,e,i){return Ke(n).onAuthStateChanged(t,e,i)}function yk(n){return Ke(n).signOut()}const Jd="__sak";class MI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const _k=1e3,vk=10;class PI extends MI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xI(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);QN()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,vk):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},_k)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}PI.type="LOCAL";const OI=PI;class NI extends MI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}NI.type="SESSION";const kI=NI;function Tk(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class xm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new xm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async p=>p(e.origin,l)),m=await Tk(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xm.receivers=[];function i0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class Ek{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const p=i0("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(E.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function lr(){return window}function bk(n){lr().location.href=n}function LI(){return typeof lr().WorkerGlobalScope<"u"&&typeof lr().importScripts=="function"}async function wk(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ak(){return navigator?.serviceWorker?.controller||null}function Sk(){return LI()?self:null}const UI="firebaseLocalStorageDb",Ik=1,tm="firebaseLocalStorage",BI="fbase_key";class ph{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Rm(n,t){return n.transaction([tm],t?"readwrite":"readonly").objectStore(tm)}function xk(){const n=indexedDB.deleteDatabase(UI);return new ph(n).toPromise()}function Yy(){const n=indexedDB.open(UI,Ik);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(tm,{keyPath:BI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(tm)?t(i):(i.close(),await xk(),t(await Yy()))})})}async function Pw(n,t,e){const i=Rm(n,!0).put({[BI]:t,value:e});return new ph(i).toPromise()}async function Rk(n,t){const e=Rm(n,!1).get(t),i=await new ph(e).toPromise();return i===void 0?null:i.value}function Ow(n,t){const e=Rm(n,!0).delete(t);return new ph(e).toPromise()}const Ck=800,Dk=3;class zI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>Dk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xm._getInstance(Sk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wk(),!this.activeServiceWorker)return;this.sender=new Ek(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Ak()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Yy();return await Pw(t,Jd,"1"),await Ow(t,Jd),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Pw(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>Rk(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>Ow(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=Rm(a,!1).getAll();return new ph(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Ck)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}zI.type="LOCAL";const Vk=zI;new dh(3e4,6e4);function r0(n,t){return t?Nr(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class s0 extends DI{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Sl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Sl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Sl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Mk(n){return fk(n.auth,new s0(n),n.bypassAuthState)}function Pk(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),hk(e,new s0(n),n.bypassAuthState)}async function Ok(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),ck(e,new s0(n),n.bypassAuthState)}class jI{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Mk;case"linkViaPopup":case"linkViaRedirect":return Ok;case"reauthViaPopup":case"reauthViaRedirect":return Pk;default:hr(this.auth,"internal-error")}}resolve(t){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nk=new dh(2e3,1e4);async function kk(n,t,e){if(ui(n.app))return Promise.reject(Di(n,"operation-not-supported-in-this-environment"));const i=tu(n);mI(n,t,Im);const a=r0(i,e);return new Ga(i,"signInViaPopup",t,a).executeNotNull()}class Ga extends jI{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Ga.currentPopupAction&&Ga.currentPopupAction.cancel(),Ga.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){zr(this.filter.length===1,"Popup operations only handle one event");const t=i0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ga.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Nk.get())};t()}}Ga.currentPopupAction=null;const Lk="pendingRedirect",bd=new Map;class Uk extends jI{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=bd.get(this.auth._key());if(!t){try{const i=await Bk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}bd.set(this.auth._key(),t)}return this.bypassAuthState||bd.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Bk(n,t){const e=qI(t),i=FI(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}async function zk(n,t){return FI(n)._set(qI(t),"true")}function jk(n,t){bd.set(n._key(),t)}function FI(n){return Nr(n._redirectPersistence)}function qI(n){return Ed(Lk,n.config.apiKey,n.name)}function Fk(n,t,e){return qk(n,t,e)}async function qk(n,t,e){if(ui(n.app))return Promise.reject(js(n));const i=tu(n);mI(n,t,Im),await i._initializationPromise;const a=r0(i,e);return await zk(a,i),a._openRedirect(i,t,"signInViaRedirect")}async function Hk(n,t){return await tu(n)._initializationPromise,HI(n,t,!1)}async function HI(n,t,e=!1){if(ui(n.app))return Promise.reject(js(n));const i=tu(n),a=r0(i,t),u=await new Uk(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const Gk=600*1e3;class Kk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Yk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!GI(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Di(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(t))}saveEventToCache(t){this.cachedEventUids.add(Nw(t)),this.lastProcessedEventTime=Date.now()}}function Nw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function GI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Yk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GI(n);default:return!1}}async function Qk(n,t={}){return Jl(n,"GET","/v1/projects",t)}const Xk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wk=/^https?/;async function $k(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Qk(n);for(const e of t)try{if(Zk(e))return}catch{}hr(n,"unauthorized-domain")}function Zk(n){const t=Gy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!Wk.test(e))return!1;if(Xk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const Jk=new dh(3e4,6e4);function kw(){const n=lr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function t4(n){return new Promise((t,e)=>{function i(){kw(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kw(),e(Di(n,"network-request-failed"))},timeout:Jk.get()})}if(lr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(lr().gapi?.load)i();else{const a=ik("iframefcb");return lr()[a]=()=>{gapi.load?i():e(Di(n,"network-request-failed"))},ek(`${nk()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw wd=null,t})}let wd=null;function e4(n){return wd=wd||t4(n),wd}const n4=new dh(5e3,15e3),i4="__/auth/iframe",r4="emulator/auth/iframe",s4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function o4(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Z_(t,r4):`https://${n.config.authDomain}/${i4}`,i={apiKey:t.apiKey,appName:n.name,v:Zl},a=a4.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${fh(i).slice(1)}`}async function l4(n){const t=await e4(n),e=lr().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:o4(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:s4,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Di(n,"network-request-failed"),f=lr().setTimeout(()=>{l(u)},n4.get());function m(){lr().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const u4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c4=500,h4=600,f4="_blank",d4="http://localhost";class Lw{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m4(n,t,e,i=c4,a=h4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...u4,width:i.toString(),height:a.toString(),top:l,left:u},p=Ze().toLowerCase();e&&(f=bI(p)?f4:e),TI(p)&&(t=t||d4,m.scrollbars="yes");const y=Object.entries(m).reduce((E,[I,C])=>`${E}${I}=${C},`,"");if(YN(p)&&f!=="_self")return p4(t||"",f),new Lw(null);const v=window.open(t||"",f,y);wt(v,n,"popup-blocked");try{v.focus()}catch{}return new Lw(v)}function p4(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const g4="__/auth/handler",y4="emulator/auth/handler",_4=encodeURIComponent("fac");async function Uw(n,t,e,i,a,l){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Zl,eventId:a};if(t instanceof Im){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",yO(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof mh){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),p=m?`#${_4}=${encodeURIComponent(m)}`:"";return`${v4(n)}?${fh(f).slice(1)}${p}`}function v4({config:n}){return n.emulator?Z_(n,y4):`https://${n.authDomain}/${g4}`}const hy="webStorageSupport";class T4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kI,this._completeRedirectFn=HI,this._overrideRedirectResult=jk}async _openPopup(t,e,i,a){zr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await Uw(t,e,i,Gy(),a);return m4(t,l,i0())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await Uw(t,e,i,Gy(),a);return bk(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(zr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await l4(t),i=new Kk(t);return e.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(hy,{type:hy},a=>{const l=a?.[0]?.[hy];l!==void 0&&e(!!l),hr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=$k(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return xI()||EI()||e0()}}const E4=T4;var Bw="@firebase/auth",zw="1.12.0";class b4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function w4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function A4(n){Vl(new eo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;wt(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RI(n)},p=new JN(i,a,l,m);return sk(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Vl(new eo("auth-internal",t=>{const e=tu(t.getProvider("auth").getImmediate());return(i=>new b4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),zs(Bw,zw,w4(n)),zs(Bw,zw,"esm2020")}const S4=300,I4=JS("authIdTokenMaxAge")||S4;let jw=null;const x4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>I4)return;const a=e?.token;jw!==a&&(jw=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function R4(n=uI()){const t=X_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=rk(n,{popupRedirectResolver:E4,persistence:[Vk,OI,kI]}),i=JS("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=x4(l.toString());pk(e,u,()=>u(e.currentUser)),mk(e,f=>u(f))}}const a=$S("auth");return a&&ak(e,`http://${a}`),e}function C4(){return document.getElementsByTagName("head")?.[0]??document}tk({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=Di("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",C4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});A4("Browser");var D4="firebase",V4="12.9.0";zs(D4,V4,"app");var Fw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Fs,KI;(function(){var n;function t(R,S){function x(){}x.prototype=S.prototype,R.F=S.prototype,R.prototype=new x,R.prototype.constructor=R,R.D=function(O,M,B){for(var D=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)D[oe-2]=arguments[oe];return S.prototype[M].apply(O,D)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,S,x){x||(x=0);const O=Array(16);if(typeof S=="string")for(var M=0;M<16;++M)O[M]=S.charCodeAt(x++)|S.charCodeAt(x++)<<8|S.charCodeAt(x++)<<16|S.charCodeAt(x++)<<24;else for(M=0;M<16;++M)O[M]=S[x++]|S[x++]<<8|S[x++]<<16|S[x++]<<24;S=R.g[0],x=R.g[1],M=R.g[2];let B=R.g[3],D;D=S+(B^x&(M^B))+O[0]+3614090360&4294967295,S=x+(D<<7&4294967295|D>>>25),D=B+(M^S&(x^M))+O[1]+3905402710&4294967295,B=S+(D<<12&4294967295|D>>>20),D=M+(x^B&(S^x))+O[2]+606105819&4294967295,M=B+(D<<17&4294967295|D>>>15),D=x+(S^M&(B^S))+O[3]+3250441966&4294967295,x=M+(D<<22&4294967295|D>>>10),D=S+(B^x&(M^B))+O[4]+4118548399&4294967295,S=x+(D<<7&4294967295|D>>>25),D=B+(M^S&(x^M))+O[5]+1200080426&4294967295,B=S+(D<<12&4294967295|D>>>20),D=M+(x^B&(S^x))+O[6]+2821735955&4294967295,M=B+(D<<17&4294967295|D>>>15),D=x+(S^M&(B^S))+O[7]+4249261313&4294967295,x=M+(D<<22&4294967295|D>>>10),D=S+(B^x&(M^B))+O[8]+1770035416&4294967295,S=x+(D<<7&4294967295|D>>>25),D=B+(M^S&(x^M))+O[9]+2336552879&4294967295,B=S+(D<<12&4294967295|D>>>20),D=M+(x^B&(S^x))+O[10]+4294925233&4294967295,M=B+(D<<17&4294967295|D>>>15),D=x+(S^M&(B^S))+O[11]+2304563134&4294967295,x=M+(D<<22&4294967295|D>>>10),D=S+(B^x&(M^B))+O[12]+1804603682&4294967295,S=x+(D<<7&4294967295|D>>>25),D=B+(M^S&(x^M))+O[13]+4254626195&4294967295,B=S+(D<<12&4294967295|D>>>20),D=M+(x^B&(S^x))+O[14]+2792965006&4294967295,M=B+(D<<17&4294967295|D>>>15),D=x+(S^M&(B^S))+O[15]+1236535329&4294967295,x=M+(D<<22&4294967295|D>>>10),D=S+(M^B&(x^M))+O[1]+4129170786&4294967295,S=x+(D<<5&4294967295|D>>>27),D=B+(x^M&(S^x))+O[6]+3225465664&4294967295,B=S+(D<<9&4294967295|D>>>23),D=M+(S^x&(B^S))+O[11]+643717713&4294967295,M=B+(D<<14&4294967295|D>>>18),D=x+(B^S&(M^B))+O[0]+3921069994&4294967295,x=M+(D<<20&4294967295|D>>>12),D=S+(M^B&(x^M))+O[5]+3593408605&4294967295,S=x+(D<<5&4294967295|D>>>27),D=B+(x^M&(S^x))+O[10]+38016083&4294967295,B=S+(D<<9&4294967295|D>>>23),D=M+(S^x&(B^S))+O[15]+3634488961&4294967295,M=B+(D<<14&4294967295|D>>>18),D=x+(B^S&(M^B))+O[4]+3889429448&4294967295,x=M+(D<<20&4294967295|D>>>12),D=S+(M^B&(x^M))+O[9]+568446438&4294967295,S=x+(D<<5&4294967295|D>>>27),D=B+(x^M&(S^x))+O[14]+3275163606&4294967295,B=S+(D<<9&4294967295|D>>>23),D=M+(S^x&(B^S))+O[3]+4107603335&4294967295,M=B+(D<<14&4294967295|D>>>18),D=x+(B^S&(M^B))+O[8]+1163531501&4294967295,x=M+(D<<20&4294967295|D>>>12),D=S+(M^B&(x^M))+O[13]+2850285829&4294967295,S=x+(D<<5&4294967295|D>>>27),D=B+(x^M&(S^x))+O[2]+4243563512&4294967295,B=S+(D<<9&4294967295|D>>>23),D=M+(S^x&(B^S))+O[7]+1735328473&4294967295,M=B+(D<<14&4294967295|D>>>18),D=x+(B^S&(M^B))+O[12]+2368359562&4294967295,x=M+(D<<20&4294967295|D>>>12),D=S+(x^M^B)+O[5]+4294588738&4294967295,S=x+(D<<4&4294967295|D>>>28),D=B+(S^x^M)+O[8]+2272392833&4294967295,B=S+(D<<11&4294967295|D>>>21),D=M+(B^S^x)+O[11]+1839030562&4294967295,M=B+(D<<16&4294967295|D>>>16),D=x+(M^B^S)+O[14]+4259657740&4294967295,x=M+(D<<23&4294967295|D>>>9),D=S+(x^M^B)+O[1]+2763975236&4294967295,S=x+(D<<4&4294967295|D>>>28),D=B+(S^x^M)+O[4]+1272893353&4294967295,B=S+(D<<11&4294967295|D>>>21),D=M+(B^S^x)+O[7]+4139469664&4294967295,M=B+(D<<16&4294967295|D>>>16),D=x+(M^B^S)+O[10]+3200236656&4294967295,x=M+(D<<23&4294967295|D>>>9),D=S+(x^M^B)+O[13]+681279174&4294967295,S=x+(D<<4&4294967295|D>>>28),D=B+(S^x^M)+O[0]+3936430074&4294967295,B=S+(D<<11&4294967295|D>>>21),D=M+(B^S^x)+O[3]+3572445317&4294967295,M=B+(D<<16&4294967295|D>>>16),D=x+(M^B^S)+O[6]+76029189&4294967295,x=M+(D<<23&4294967295|D>>>9),D=S+(x^M^B)+O[9]+3654602809&4294967295,S=x+(D<<4&4294967295|D>>>28),D=B+(S^x^M)+O[12]+3873151461&4294967295,B=S+(D<<11&4294967295|D>>>21),D=M+(B^S^x)+O[15]+530742520&4294967295,M=B+(D<<16&4294967295|D>>>16),D=x+(M^B^S)+O[2]+3299628645&4294967295,x=M+(D<<23&4294967295|D>>>9),D=S+(M^(x|~B))+O[0]+4096336452&4294967295,S=x+(D<<6&4294967295|D>>>26),D=B+(x^(S|~M))+O[7]+1126891415&4294967295,B=S+(D<<10&4294967295|D>>>22),D=M+(S^(B|~x))+O[14]+2878612391&4294967295,M=B+(D<<15&4294967295|D>>>17),D=x+(B^(M|~S))+O[5]+4237533241&4294967295,x=M+(D<<21&4294967295|D>>>11),D=S+(M^(x|~B))+O[12]+1700485571&4294967295,S=x+(D<<6&4294967295|D>>>26),D=B+(x^(S|~M))+O[3]+2399980690&4294967295,B=S+(D<<10&4294967295|D>>>22),D=M+(S^(B|~x))+O[10]+4293915773&4294967295,M=B+(D<<15&4294967295|D>>>17),D=x+(B^(M|~S))+O[1]+2240044497&4294967295,x=M+(D<<21&4294967295|D>>>11),D=S+(M^(x|~B))+O[8]+1873313359&4294967295,S=x+(D<<6&4294967295|D>>>26),D=B+(x^(S|~M))+O[15]+4264355552&4294967295,B=S+(D<<10&4294967295|D>>>22),D=M+(S^(B|~x))+O[6]+2734768916&4294967295,M=B+(D<<15&4294967295|D>>>17),D=x+(B^(M|~S))+O[13]+1309151649&4294967295,x=M+(D<<21&4294967295|D>>>11),D=S+(M^(x|~B))+O[4]+4149444226&4294967295,S=x+(D<<6&4294967295|D>>>26),D=B+(x^(S|~M))+O[11]+3174756917&4294967295,B=S+(D<<10&4294967295|D>>>22),D=M+(S^(B|~x))+O[2]+718787259&4294967295,M=B+(D<<15&4294967295|D>>>17),D=x+(B^(M|~S))+O[9]+3951481745&4294967295,R.g[0]=R.g[0]+S&4294967295,R.g[1]=R.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+B&4294967295}i.prototype.v=function(R,S){S===void 0&&(S=R.length);const x=S-this.blockSize,O=this.C;let M=this.h,B=0;for(;B<S;){if(M==0)for(;B<=x;)a(this,R,B),B+=this.blockSize;if(typeof R=="string"){for(;B<S;)if(O[M++]=R.charCodeAt(B++),M==this.blockSize){a(this,O),M=0;break}}else for(;B<S;)if(O[M++]=R[B++],M==this.blockSize){a(this,O),M=0;break}}this.h=M,this.o+=S},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var S=1;S<R.length-8;++S)R[S]=0;S=this.o*8;for(var x=R.length-8;x<R.length;++x)R[x]=S&255,S/=256;for(this.v(R),R=Array(16),S=0,x=0;x<4;++x)for(let O=0;O<32;O+=8)R[S++]=this.g[x]>>>O&255;return R};function l(R,S){var x=f;return Object.prototype.hasOwnProperty.call(x,R)?x[R]:x[R]=S(R)}function u(R,S){this.h=S;const x=[];let O=!0;for(let M=R.length-1;M>=0;M--){const B=R[M]|0;O&&B==S||(x[M]=B,O=!1)}this.g=x}var f={};function m(R){return-128<=R&&R<128?l(R,function(S){return new u([S|0],S<0?-1:0)}):new u([R|0],R<0?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return P(p(-R));const S=[];let x=1;for(let O=0;R>=x;O++)S[O]=R/x|0,x*=4294967296;return new u(S,0)}function y(R,S){if(R.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(R.charAt(0)=="-")return P(y(R.substring(1),S));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=p(Math.pow(S,8));let O=v;for(let B=0;B<R.length;B+=8){var M=Math.min(8,R.length-B);const D=parseInt(R.substring(B,B+M),S);M<8?(M=p(Math.pow(S,M)),O=O.j(M).add(p(D))):(O=O.j(x),O=O.add(p(D)))}return O}var v=m(0),E=m(1),I=m(16777216);n=u.prototype,n.m=function(){if(U(this))return-P(this).m();let R=0,S=1;for(let x=0;x<this.g.length;x++){const O=this.i(x);R+=(O>=0?O:4294967296+O)*S,S*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C(this))return"0";if(U(this))return"-"+P(this).toString(R);const S=p(Math.pow(R,6));var x=this;let O="";for(;;){const M=J(x,S).g;x=j(x,M.j(S));let B=((x.g.length>0?x.g[0]:x.h)>>>0).toString(R);if(x=M,C(x))return B+O;for(;B.length<6;)B="0"+B;O=B+O}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function C(R){if(R.h!=0)return!1;for(let S=0;S<R.g.length;S++)if(R.g[S]!=0)return!1;return!0}function U(R){return R.h==-1}n.l=function(R){return R=j(this,R),U(R)?-1:C(R)?0:1};function P(R){const S=R.g.length,x=[];for(let O=0;O<S;O++)x[O]=~R.g[O];return new u(x,~R.h).add(E)}n.abs=function(){return U(this)?P(this):this},n.add=function(R){const S=Math.max(this.g.length,R.g.length),x=[];let O=0;for(let M=0;M<=S;M++){let B=O+(this.i(M)&65535)+(R.i(M)&65535),D=(B>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);O=D>>>16,B&=65535,D&=65535,x[M]=D<<16|B}return new u(x,x[x.length-1]&-2147483648?-1:0)};function j(R,S){return R.add(P(S))}n.j=function(R){if(C(this)||C(R))return v;if(U(this))return U(R)?P(this).j(P(R)):P(P(this).j(R));if(U(R))return P(this.j(P(R)));if(this.l(I)<0&&R.l(I)<0)return p(this.m()*R.m());const S=this.g.length+R.g.length,x=[];for(var O=0;O<2*S;O++)x[O]=0;for(O=0;O<this.g.length;O++)for(let M=0;M<R.g.length;M++){const B=this.i(O)>>>16,D=this.i(O)&65535,oe=R.i(M)>>>16,Ee=R.i(M)&65535;x[2*O+2*M]+=D*Ee,X(x,2*O+2*M),x[2*O+2*M+1]+=B*Ee,X(x,2*O+2*M+1),x[2*O+2*M+1]+=D*oe,X(x,2*O+2*M+1),x[2*O+2*M+2]+=B*oe,X(x,2*O+2*M+2)}for(R=0;R<S;R++)x[R]=x[2*R+1]<<16|x[2*R];for(R=S;R<2*S;R++)x[R]=0;return new u(x,0)};function X(R,S){for(;(R[S]&65535)!=R[S];)R[S+1]+=R[S]>>>16,R[S]&=65535,S++}function K(R,S){this.g=R,this.h=S}function J(R,S){if(C(S))throw Error("division by zero");if(C(R))return new K(v,v);if(U(R))return S=J(P(R),S),new K(P(S.g),P(S.h));if(U(S))return S=J(R,P(S)),new K(P(S.g),S.h);if(R.g.length>30){if(U(R)||U(S))throw Error("slowDivide_ only works with positive integers.");for(var x=E,O=S;O.l(R)<=0;)x=rt(x),O=rt(O);var M=ct(x,1),B=ct(O,1);for(O=ct(O,2),x=ct(x,2);!C(O);){var D=B.add(O);D.l(R)<=0&&(M=M.add(x),B=D),O=ct(O,1),x=ct(x,1)}return S=j(R,M.j(S)),new K(M,S)}for(M=v;R.l(S)>=0;){for(x=Math.max(1,Math.floor(R.m()/S.m())),O=Math.ceil(Math.log(x)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),B=p(x),D=B.j(S);U(D)||D.l(R)>0;)x-=O,B=p(x),D=B.j(S);C(B)&&(B=E),M=M.add(B),R=j(R,D)}return new K(M,R)}n.B=function(R){return J(this,R).h},n.and=function(R){const S=Math.max(this.g.length,R.g.length),x=[];for(let O=0;O<S;O++)x[O]=this.i(O)&R.i(O);return new u(x,this.h&R.h)},n.or=function(R){const S=Math.max(this.g.length,R.g.length),x=[];for(let O=0;O<S;O++)x[O]=this.i(O)|R.i(O);return new u(x,this.h|R.h)},n.xor=function(R){const S=Math.max(this.g.length,R.g.length),x=[];for(let O=0;O<S;O++)x[O]=this.i(O)^R.i(O);return new u(x,this.h^R.h)};function rt(R){const S=R.g.length+1,x=[];for(let O=0;O<S;O++)x[O]=R.i(O)<<1|R.i(O-1)>>>31;return new u(x,R.h)}function ct(R,S){const x=S>>5;S%=32;const O=R.g.length-x,M=[];for(let B=0;B<O;B++)M[B]=S>0?R.i(B+x)>>>S|R.i(B+x+1)<<32-S:R.i(B+x);return new u(M,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,KI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Fs=u}).apply(typeof Fw<"u"?Fw:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var YI,wc,QI,Ad,Qy,XI,WI,$I;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var _=0;_<h.length;++_){var b=h[_];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=e(this);function a(h,_){if(_)t:{var b=i;h=h.split(".");for(var A=0;A<h.length-1;A++){var F=h[A];if(!(F in b))break t;b=b[F]}h=h[h.length-1],A=b[h],_=_(A),_!=A&&_!=null&&t(b,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var b=[],A;for(A in _)Object.prototype.hasOwnProperty.call(_,A)&&b.push([A,_[A]]);return b}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,b){return h.call.apply(h.bind,arguments)}function p(h,_,b){return p=m,p.apply(null,arguments)}function y(h,_){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function v(h,_){function b(){}b.prototype=_.prototype,h.Z=_.prototype,h.prototype=new b,h.prototype.constructor=h,h.Ob=function(A,F,Y){for(var ut=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)ut[Rt-2]=arguments[Rt];return _.prototype[F].apply(A,ut)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const _=h.length;if(_>0){const b=Array(_);for(let A=0;A<_;A++)b[A]=h[A];return b}return[]}function C(h,_){for(let A=1;A<arguments.length;A++){const F=arguments[A];var b=typeof F;if(b=b!="object"?b:F?Array.isArray(F)?"array":b:"null",b=="array"||b=="object"&&typeof F.length=="number"){b=h.length||0;const Y=F.length||0;h.length=b+Y;for(let ut=0;ut<Y;ut++)h[b+ut]=F[ut]}else h.push(F)}}class U{constructor(_,b){this.i=_,this.j=b,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function P(h){u.setTimeout(()=>{throw h},0)}function j(){var h=R;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class X{constructor(){this.h=this.g=null}add(_,b){const A=K.get();A.set(_,b),this.h?this.h.next=A:this.g=A,this.h=A}}var K=new U(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(_,b){this.h=_,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ct=!1,R=new X,S=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(x)}};function x(){for(var h;h=j();){try{h.h.call(h.g)}catch(b){P(b)}var _=K;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ct=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};u.addEventListener("test",b,_),u.removeEventListener("test",b,_)}catch{}return h})();function D(h){return/^[\s\xa0]*$/.test(h)}function oe(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(oe,M),oe.prototype.init=function(h,_){const b=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(b=="mouseover"?_=h.fromElement:b=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&oe.Z.h.call(this)},oe.prototype.h=function(){oe.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),Z=0;function st(h,_,b,A,F){this.listener=h,this.proxy=null,this.src=_,this.type=b,this.capture=!!A,this.ha=F,this.key=++Z,this.da=this.fa=!1}function pt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h,_,b){for(const A in h)_.call(b,h[A],A,h)}function kt(h,_){for(const b in h)_.call(void 0,h[b],b,h)}function k(h){const _={};for(const b in h)_[b]=h[b];return _}const it="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(h,_){let b,A;for(let F=1;F<arguments.length;F++){A=arguments[F];for(b in A)h[b]=A[b];for(let Y=0;Y<it.length;Y++)b=it[Y],Object.prototype.hasOwnProperty.call(A,b)&&(h[b]=A[b])}}function mt(h){this.src=h,this.g={},this.h=0}mt.prototype.add=function(h,_,b,A,F){const Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);const ut=Vt(h,_,A,F);return ut>-1?(_=h[ut],b||(_.fa=!1)):(_=new st(_,this.src,Y,!!A,F),_.fa=b,h.push(_)),_};function St(h,_){const b=_.type;if(b in h.g){var A=h.g[b],F=Array.prototype.indexOf.call(A,_,void 0),Y;(Y=F>=0)&&Array.prototype.splice.call(A,F,1),Y&&(pt(_),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Vt(h,_,b,A){for(let F=0;F<h.length;++F){const Y=h[F];if(!Y.da&&Y.listener==_&&Y.capture==!!b&&Y.ha==A)return F}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),Qe={};function fe(h,_,b,A,F){if(Array.isArray(_)){for(let Y=0;Y<_.length;Y++)fe(h,_[Y],b,A,F);return null}return b=cu(b),h&&h[Ee]?h.J(_,b,f(A)?!!A.capture:!1,F):ia(h,_,b,!1,A,F)}function ia(h,_,b,A,F,Y){if(!_)throw Error("Invalid event type");const ut=f(F)?!!F.capture:!!F;let Rt=ra(h);if(Rt||(h[Ft]=Rt=new mt(h)),b=Rt.add(_,b,A,ut,Y),b.proxy)return b;if(A=fo(),b.proxy=A,A.src=h,A.listener=b,h.addEventListener)B||(F=ut),F===void 0&&(F=!1),h.addEventListener(_.toString(),A,F);else if(h.attachEvent)h.attachEvent(Oi(_.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function fo(){function h(b){return _.call(h.src,h.listener,b)}const _=lu;return h}function mo(h,_,b,A,F){if(Array.isArray(_))for(var Y=0;Y<_.length;Y++)mo(h,_[Y],b,A,F);else A=f(A)?!!A.capture:!!A,b=cu(b),h&&h[Ee]?(h=h.i,Y=String(_).toString(),Y in h.g&&(_=h.g[Y],b=Vt(_,b,A,F),b>-1&&(pt(_[b]),Array.prototype.splice.call(_,b,1),_.length==0&&(delete h.g[Y],h.h--)))):h&&(h=ra(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Vt(_,b,A,F)),(b=h>-1?_[h]:null)&&po(b))}function po(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[Ee])St(_.i,h);else{var b=h.type,A=h.proxy;_.removeEventListener?_.removeEventListener(b,A,h.capture):_.detachEvent?_.detachEvent(Oi(b),A):_.addListener&&_.removeListener&&_.removeListener(A),(b=ra(_))?(St(b,h),b.h==0&&(b.src=null,_[Ft]=null)):pt(h)}}}function Oi(h){return h in Qe?Qe[h]:Qe[h]="on"+h}function lu(h,_){if(h.da)h=!0;else{_=new oe(_,this);const b=h.listener,A=h.ha||h.src;h.fa&&po(h),h=b.call(A,_)}return h}function ra(h){return h=h[Ft],h instanceof mt?h:null}var uu="__closure_events_fn_"+(Math.random()*1e9>>>0);function cu(h){return typeof h=="function"?h:(h[uu]||(h[uu]=function(_){return h.handleEvent(_)}),h[uu])}function Pe(){O.call(this),this.i=new mt(this),this.M=this,this.G=null}v(Pe,O),Pe.prototype[Ee]=!0,Pe.prototype.removeEventListener=function(h,_,b,A){mo(this,h,_,b,A)};function Xe(h,_){var b,A=h.G;if(A)for(b=[];A;A=A.G)b.push(A);if(h=h.M,A=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var F=_;_=new M(A,h),ft(_,F)}F=!0;let Y,ut;if(b)for(ut=b.length-1;ut>=0;ut--)Y=_.g=b[ut],F=Yr(Y,A,!0,_)&&F;if(Y=_.g=h,F=Yr(Y,A,!0,_)&&F,F=Yr(Y,A,!1,_)&&F,b)for(ut=0;ut<b.length;ut++)Y=_.g=b[ut],F=Yr(Y,A,!1,_)&&F}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const b=h.g[_];for(let A=0;A<b.length;A++)pt(b[A]);delete h.g[_],h.h--}}this.G=null},Pe.prototype.J=function(h,_,b,A){return this.i.add(String(h),_,!1,b,A)},Pe.prototype.K=function(h,_,b,A){return this.i.add(String(h),_,!0,b,A)};function Yr(h,_,b,A){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let Y=0;Y<_.length;++Y){const ut=_[Y];if(ut&&!ut.da&&ut.capture==b){const Rt=ut.listener,xe=ut.ha||ut.src;ut.fa&&St(h.i,ut),F=Rt.call(xe,A)!==!1&&F}}return F&&!A.defaultPrevented}function tp(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function Mh(h){h.g=tp(()=>{h.g=null,h.i&&(h.i=!1,Mh(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class wn extends O{constructor(_,b){super(),this.m=_,this.l=b,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Mh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(h){O.call(this),this.h=h,this.g={}}v(sa,O);var hu=[];function fu(h){Dt(h.g,function(_,b){this.g.hasOwnProperty(b)&&po(_)},h),h.g={}}sa.prototype.N=function(){sa.Z.N.call(this),fu(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qr=u.JSON.stringify,ep=u.JSON.parse,Ph=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function Oh(){}function Nh(){}var mi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){M.call(this,"d")}v(ln,M);function Wn(){M.call(this,"c")}v(Wn,M);var Ie={},kh=null;function go(){return kh=kh||new Pe}Ie.Ia="serverreachability";function Lh(h){M.call(this,Ie.Ia,h)}v(Lh,M);function Ni(h){const _=go();Xe(_,new Lh(_))}Ie.STAT_EVENT="statevent";function aa(h,_){M.call(this,Ie.STAT_EVENT,h),this.stat=_}v(aa,M);function Oe(h){const _=go();Xe(_,new aa(_,h))}Ie.Ja="timingevent";function ki(h,_){M.call(this,Ie.Ja,h),this.size=_}v(ki,M);function Li(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function pi(){this.g=!0}pi.prototype.ua=function(){this.g=!1};function np(h,_,b,A,F,Y){h.info(function(){if(h.g)if(Y){var ut="",Rt=Y.split("&");for(let Yt=0;Yt<Rt.length;Yt++){var xe=Rt[Yt].split("=");if(xe.length>1){const de=xe[0];xe=xe[1];const ti=de.split("_");ut=ti.length>=2&&ti[1]=="type"?ut+(de+"="+xe+"&"):ut+(de+"=redacted&")}}}else ut=null;else ut=Y;return"XMLHTTP REQ ("+A+") [attempt "+F+"]: "+_+`
`+b+`
`+ut})}function Uh(h,_,b,A,F,Y,ut){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+F+"]: "+_+`
`+b+`
`+Y+" "+ut})}function Ui(h,_,b,A){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+ip(h,b)+(A?" "+A:"")})}function oa(h,_){h.info(function(){return"TIMEOUT: "+_})}pi.prototype.info=function(){};function ip(h,_){if(!h.g)return _;if(!_)return null;try{const Y=JSON.parse(_);if(Y){for(h=0;h<Y.length;h++)if(Array.isArray(Y[h])){var b=Y[h];if(!(b.length<2)){var A=b[1];if(Array.isArray(A)&&!(A.length<1)){var F=A[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ut=1;ut<A.length;ut++)A[ut]=""}}}}return Qr(Y)}catch{return _}}var la={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},du={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},mu;function ua(){}v(ua,Oh),ua.prototype.g=function(){return new XMLHttpRequest},mu=new ua;function mr(h){return encodeURIComponent(String(h))}function Bh(h){var _=1;h=h.split(":");const b=[];for(;_>0&&h.length;)b.push(h.shift()),_--;return h.length&&b.push(h.join(":")),b}function gi(h,_,b,A){this.j=h,this.i=_,this.l=b,this.S=A||1,this.V=new sa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var Ne={},tn={};function Bi(h,_,b){h.M=1,h.A=ca(Le(_)),h.u=b,h.R=!0,yo(h,null)}function yo(h,_){h.F=Date.now(),zi(h),h.B=Le(h.A);var b=h.B,A=h.S;Array.isArray(A)||(A=[String(A)]),Eo(b.i,"t",A),h.C=0,b=h.j.L,h.h=new yi,h.g=tf(h.j,b?_:null,!h.u),h.P>0&&(h.O=new wn(p(h.Y,h,h.g),h.P)),_=h.V,b=h.g,A=h.ba;var F="readystatechange";Array.isArray(F)||(F&&(hu[0]=F.toString()),F=hu);for(let Y=0;Y<F.length;Y++){const ut=fe(b,F[Y],A||_.handleEvent,!1,_.h||_);if(!ut)break;_.g[ut.key]=ut}_=h.J?k(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),Ni(),np(h.i,h.v,h.B,h.l,h.S,h.u)}gi.prototype.ba=function(h){h=h.target;const _=this.O;_&&Ti(h)==3?_.j():this.Y(h)},gi.prototype.Y=function(h){try{if(h==this.g)t:{const Rt=Ti(this.g),xe=this.g.ya(),Yt=this.g.ca();if(!(Rt<3)&&(Rt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Rt!=4||xe==7||(xe==8||Yt<=0?Ni(3):Ni(2)),ji(this);var _=this.g.ca();this.X=_;var b=rp(this);if(this.o=_==200,Uh(this.i,this.v,this.B,this.l,this.S,Rt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var A,F=this.g;if((A=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(A)){var Y=A;break e}}Y=null}if(h=Y)Ui(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Fi(this,h);else{this.o=!1,this.m=3,Oe(12),Ln(this),$n(this);break t}}if(this.R){h=!0;let de;for(;!this.K&&this.C<b.length;)if(de=jh(this,b),de==tn){Rt==4&&(this.m=4,Oe(14),h=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ne){this.m=4,Oe(15),Ui(this.i,this.l,b,"[Invalid Chunk]"),h=!1;break}else Ui(this.i,this.l,de,null),Fi(this,de);if(zh(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||b.length!=0||this.h.h||(this.m=1,Oe(16),h=!1),this.o=this.o&&h,!h)Ui(this.i,this.l,b,"[Invalid Chunked Response]"),Ln(this),$n(this);else if(b.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Cu(ut),ut.P=!0,Oe(11))}}else Ui(this.i,this.l,b,null),Fi(this,b);Rt==4&&Ln(this),this.o&&!this.K&&(Rt==4?Wh(this.j,this):(this.o=!1,zi(this)))}else gr(this.g),_==400&&b.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),Ln(this),$n(this)}}}catch{}};function rp(h){if(!zh(h))return h.g.la();const _=un(h.g);if(_==="")return"";let b="";const A=_.length,F=Ti(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Ln(h),$n(h),"";h.h.i=new u.TextDecoder}for(let Y=0;Y<A;Y++)h.h.h=!0,b+=h.h.i.decode(_[Y],{stream:!(F&&Y==A-1)});return _.length=0,h.h.g+=b,h.C=0,h.h.g}function zh(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function jh(h,_){var b=h.C,A=_.indexOf(`
`,b);return A==-1?tn:(b=Number(_.substring(b,A)),isNaN(b)?Ne:(A+=1,A+b>_.length?tn:(_=_.slice(A,A+b),h.C=A+b,_)))}gi.prototype.cancel=function(){this.K=!0,Ln(this)};function zi(h){h.T=Date.now()+h.H,_o(h,h.H)}function _o(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Li(p(h.aa,h),_)}function ji(h){h.D&&(u.clearTimeout(h.D),h.D=null)}gi.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(oa(this.i,this.B),this.M!=2&&(Ni(),Oe(17)),Ln(this),this.m=2,$n(this)):_o(this,this.T-h)};function $n(h){h.j.I==0||h.K||Wh(h.j,h)}function Ln(h){ji(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,fu(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function Fi(h,_){try{var b=h.j;if(b.I!=0&&(b.g==h||Hi(b.h,h))){if(!h.L&&Hi(b.h,h)&&b.I==3){try{var A=b.Ba.g.parse(_)}catch{A=null}if(Array.isArray(A)&&A.length==3){var F=A;if(F[0]==0){t:if(!b.v){if(b.g)if(b.g.F+3e3<h.F)Io(b),ns(b);else break t;ya(b),Oe(18)}}else b.xa=F[1],0<b.xa-b.K&&F[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=Li(p(b.Va,b),6e3));qi(b.h)<=1&&b.ta&&(b.ta=void 0)}else Wi(b,11)}else if((h.L||b.g==h)&&Io(b),!D(_))for(F=b.Ba.g.parse(_),_=0;_<F.length;_++){let Yt=F[_];const de=Yt[0];if(!(de<=b.K))if(b.K=de,Yt=Yt[1],b.I==2)if(Yt[0]=="c"){b.M=Yt[1],b.ba=Yt[2];const ti=Yt[3];ti!=null&&(b.ka=ti,b.j.info("VER="+b.ka));const $i=Yt[4];$i!=null&&(b.za=$i,b.j.info("SVER="+b.za));const Ei=Yt[5];Ei!=null&&typeof Ei=="number"&&Ei>0&&(A=1.5*Ei,b.O=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const bi=h.g;if(bi){const _a=bi.g?bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var Y=A.h;Y.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(yu(Y,Y.h),Y.h=null))}if(A.G){const xo=bi.g?bi.g.getResponseHeader("X-HTTP-Session-Id"):null;xo&&(A.wa=xo,Wt(A.J,A.G,xo))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-h.F,b.j.info("Handshake RTT: "+b.T+"ms")),A=b;var ut=h;if(A.na=Jh(A,A.L?A.ba:null,A.W),ut.L){_u(A.h,ut);var Rt=ut,xe=A.O;xe&&(Rt.H=xe),Rt.D&&(ji(Rt),zi(Rt)),A.g=ut}else Qh(A);b.i.length>0&&Xi(b)}else Yt[0]!="stop"&&Yt[0]!="close"||Wi(b,7);else b.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Wi(b,7):xu(b):Yt[0]!="noop"&&b.l&&b.l.qa(Yt),b.A=0)}}Ni(4)}catch{}}var ke=class{constructor(h,_){this.g=h,this.map=_}};function pu(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function gu(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function qi(h){return h.h?1:h.g?h.g.size:0}function Hi(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function yu(h,_){h.g?h.g.add(_):h.h=_}function _u(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}pu.prototype.cancel=function(){if(this.i=vu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function vu(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const b of h.g.values())_=_.concat(b.G);return _}return I(h.i)}var Fh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vo(h,_){if(h){h=h.split("&");for(let b=0;b<h.length;b++){const A=h[b].indexOf("=");let F,Y=null;A>=0?(F=h[b].substring(0,A),Y=h[b].substring(A+1)):F=h[b],_(F,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Un(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Un?(this.l=h.l,en(this,h.j),this.o=h.o,this.g=h.g,Xr(this,h.u),this.h=h.h,Tu(this,Kh(h.i)),this.m=h.m):h&&(_=String(h).match(Fh))?(this.l=!1,en(this,_[1]||"",!0),this.o=Gi(_[2]||""),this.g=Gi(_[3]||"",!0),Xr(this,_[4]),this.h=Gi(_[5]||"",!0),Tu(this,_[6]||"",!0),this.m=Gi(_[7]||"")):(this.l=!1,this.i=new $r(null,this.l))}Un.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ha(_,To,!0),":");var b=this.g;return(b||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ha(_,To,!0),"@"),h.push(mr(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&h.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ha(b,b.charAt(0)=="/"?Eu:qh,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ha(b,Hh)),h.join("")},Un.prototype.resolve=function(h){const _=Le(this);let b=!!h.j;b?en(_,h.j):b=!!h.o,b?_.o=h.o:b=!!h.g,b?_.g=h.g:b=h.u!=null;var A=h.h;if(b)Xr(_,h.u);else if(b=!!h.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var F=_.h.lastIndexOf("/");F!=-1&&(A=_.h.slice(0,F+1)+A)}if(F=A,F==".."||F==".")A="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){A=F.lastIndexOf("/",0)==0,F=F.split("/");const Y=[];for(let ut=0;ut<F.length;){const Rt=F[ut++];Rt=="."?A&&ut==F.length&&Y.push(""):Rt==".."?((Y.length>1||Y.length==1&&Y[0]!="")&&Y.pop(),A&&ut==F.length&&Y.push("")):(Y.push(Rt),A=!0)}A=Y.join("/")}else A=F}return b?_.h=A:b=h.i.toString()!=="",b?Tu(_,Kh(h.i)):b=!!h.m,b&&(_.m=h.m),_};function Le(h){return new Un(h)}function en(h,_,b){h.j=b?Gi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function Xr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function Tu(h,_,b){_ instanceof $r?(h.i=_,bo(h.i,h.l)):(b||(_=ha(_,Wr)),h.i=new $r(_,h.l))}function Wt(h,_,b){h.i.set(_,b)}function ca(h){return Wt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Gi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ha(h,_,b){return typeof h=="string"?(h=encodeURI(h).replace(_,Cn),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var To=/[#\/\?@]/g,qh=/[#\?:]/g,Eu=/[#\?]/g,Wr=/[#\?@]/g,Hh=/#/g;function $r(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function Dn(h){h.g||(h.g=new Map,h.h=0,h.i&&vo(h.i,function(_,b){h.add(decodeURIComponent(_.replace(/\+/g," ")),b)}))}n=$r.prototype,n.add=function(h,_){Dn(this),this.i=null,h=Zr(this,h);let b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(_),this.h+=1,this};function Gh(h,_){Dn(h),_=Zr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function bu(h,_){return Dn(h),_=Zr(h,_),h.g.has(_)}n.forEach=function(h,_){Dn(this),this.g.forEach(function(b,A){b.forEach(function(F){h.call(_,F,A,this)},this)},this)};function wu(h,_){Dn(h);let b=[];if(typeof _=="string")bu(h,_)&&(b=b.concat(h.g.get(Zr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)b=b.concat(h[_]);return b}n.set=function(h,_){return Dn(this),this.i=null,h=Zr(this,h),bu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=wu(this,h),h.length>0?String(h[0]):_):_};function Eo(h,_,b){Gh(h,_),b.length>0&&(h.i=null,h.g.set(Zr(h,_),I(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let A=0;A<_.length;A++){var b=_[A];const F=mr(b);b=wu(this,b);for(let Y=0;Y<b.length;Y++){let ut=F;b[Y]!==""&&(ut+="="+mr(b[Y])),h.push(ut)}}return this.i=h.join("&")};function Kh(h){const _=new $r;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function Zr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function bo(h,_){_&&!h.j&&(Dn(h),h.i=null,h.g.forEach(function(b,A){const F=A.toLowerCase();A!=F&&(Gh(this,A),Eo(this,F,b))},h)),h.j=_}function _i(h,_){const b=new pi;if(u.Image){const A=new Image;A.onload=y(Zn,b,"TestLoadImage: loaded",!0,_,A),A.onerror=y(Zn,b,"TestLoadImage: error",!1,_,A),A.onabort=y(Zn,b,"TestLoadImage: abort",!1,_,A),A.ontimeout=y(Zn,b,"TestLoadImage: timeout",!1,_,A),u.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else _(!1)}function Au(h,_){const b=new pi,A=new AbortController,F=setTimeout(()=>{A.abort(),Zn(b,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:A.signal}).then(Y=>{clearTimeout(F),Y.ok?Zn(b,"TestPingServer: ok",!0,_):Zn(b,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Zn(b,"TestPingServer: error",!1,_)})}function Zn(h,_,b,A,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),A(b)}catch{}}function Jr(){this.g=new Ph}function Ki(h){this.i=h.Sb||null,this.h=h.ab||!1}v(Ki,Oh),Ki.prototype.g=function(){return new fa(this.i,this.h)};function fa(h,_){Pe.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(fa,Pe),n=fa.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,vi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ts(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,vi(this)),this.g&&(this.readyState=3,vi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wo(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function wo(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?ts(this):vi(this),this.readyState==3&&wo(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,ts(this))},n.Na=function(h){this.g&&(this.response=h,ts(this))},n.ga=function(){this.g&&ts(this)};function ts(h){h.readyState=4,h.l=null,h.j=null,h.B=null,vi(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var b=_.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=_.next();return h.join(`\r
`)};function vi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Jn(h){let _="";return Dt(h,function(b,A){_+=A,_+=":",_+=b,_+=`\r
`}),_}function da(h,_,b){t:{for(A in b){var A=!1;break t}A=!0}A||(b=Jn(b),typeof h=="string"?b!=null&&mr(b):Wt(h,_,b))}function ie(h){Pe.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ie,Pe);var Yi=/^https?$/i,Su=["POST","PUT"];n=ie.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():mu.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(Y){ma(this,Y);return}if(h=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var F in A)b.set(F,A[F]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())b.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(Y=>Y.toLowerCase()=="content-type"),F=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(Su,_,void 0)>=0)||A||F||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ut]of b)this.g.setRequestHeader(Y,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(Y){ma(this,Y)}};function ma(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,Iu(h),pr(h)}function Iu(h){h.A||(h.A=!0,Xe(h,"complete"),Xe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,Xe(this,"complete"),Xe(this,"abort"),pr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pr(this,!0)),ie.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?pa(this):this.Xa())},n.Xa=function(){pa(this)};function pa(h){if(h.h&&typeof l<"u"){if(h.v&&Ti(h)==4)setTimeout(h.Ca.bind(h),0);else if(Xe(h,"readystatechange"),Ti(h)==4){h.h=!1;try{const Y=h.ca();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var b;if(!(b=_)){var A;if(A=Y===0){let ut=String(h.D).match(Fh)[1]||null;!ut&&u.self&&u.self.location&&(ut=u.self.location.protocol.slice(0,-1)),A=!Yi.test(ut?ut.toLowerCase():"")}b=A}if(b)Xe(h,"complete"),Xe(h,"success");else{h.o=6;try{var F=Ti(h)>2?h.g.statusText:""}catch{F=""}h.l=F+" ["+h.ca()+"]",Iu(h)}}finally{pr(h)}}}}function pr(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const b=h.g;h.g=null,_||Xe(h,"ready");try{b.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ti(h){return h.g?h.g.readyState:0}n.ca=function(){try{return Ti(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),ep(_)}};function un(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function gr(h){const _={};h=(h.g&&Ti(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(D(h[A]))continue;var b=Bh(h[A]);const F=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const Y=_[F]||[];_[F]=Y,Y.push(b)}kt(_,function(A){return A.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qi(h,_,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||_}function es(h){this.za=0,this.i=[],this.j=new pi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qi("baseRetryDelayMs",5e3,h),this.Za=Qi("retryDelaySeedMs",1e4,h),this.Ta=Qi("forwardChannelMaxRetries",2,h),this.va=Qi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new pu(h&&h.concurrentRequestLimit),this.Ba=new Jr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=es.prototype,n.ka=8,n.I=1,n.connect=function(h,_,b,A){Oe(0),this.W=h,this.H=_||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.J=Jh(this,null,this.W),Xi(this)};function xu(h){if(Ao(h),h.I==3){var _=h.V++,b=Le(h.J);if(Wt(b,"SID",h.M),Wt(b,"RID",_),Wt(b,"TYPE","terminate"),ga(h,b),_=new gi(h,h.j,_),_.M=2,_.A=ca(Le(b)),b=!1,u.navigator&&u.navigator.sendBeacon)try{b=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!b&&u.Image&&(new Image().src=_.A,b=!0),b||(_.g=tf(_.j,null),_.g.ea(_.A)),_.F=Date.now(),zi(_)}Zh(h)}function ns(h){h.g&&(Cu(h),h.g.cancel(),h.g=null)}function Ao(h){ns(h),h.v&&(u.clearTimeout(h.v),h.v=null),Io(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function Xi(h){if(!gu(h.h)&&!h.m){h.m=!0;var _=h.Ea;rt||S(),ct||(rt(),ct=!0),R.add(_,h),h.D=0}}function So(h,_){return qi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Li(p(h.Ea,h,_),$h(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const F=new gi(this,this.j,h);let Y=this.o;if(this.U&&(Y?(Y=k(Y),ft(Y,this.U)):Y=this.U),this.u!==null||this.R||(F.J=Y,Y=null),this.S)t:{for(var _=0,b=0;b<this.i.length;b++){e:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(_+=A,_>4096){_=b;break t}if(_===4096||b===this.i.length-1){_=b+1;break t}}_=1e3}else _=1e3;_=Yh(this,F,_),b=Le(this.J),Wt(b,"RID",h),Wt(b,"CVER",22),this.G&&Wt(b,"X-HTTP-Session-Id",this.G),ga(this,b),Y&&(this.R?_="headers="+mr(Jn(Y))+"&"+_:this.u&&da(b,this.u,Y)),yu(this.h,F),this.Ra&&Wt(b,"TYPE","init"),this.S?(Wt(b,"$req",_),Wt(b,"SID","null"),F.U=!0,Bi(F,b,null)):Bi(F,b,_),this.I=2}}else this.I==3&&(h?Ru(this,h):this.i.length==0||gu(this.h)||Ru(this))};function Ru(h,_){var b;_?b=_.l:b=h.V++;const A=Le(h.J);Wt(A,"SID",h.M),Wt(A,"RID",b),Wt(A,"AID",h.K),ga(h,A),h.u&&h.o&&da(A,h.u,h.o),b=new gi(h,h.j,b,h.D+1),h.u===null&&(b.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Yh(h,b,1e3),b.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),yu(h.h,b),Bi(b,A,_)}function ga(h,_){h.H&&Dt(h.H,function(b,A){Wt(_,A,b)}),h.l&&Dt({},function(b,A){Wt(_,A,b)})}function Yh(h,_,b){b=Math.min(h.i.length,b);const A=h.l?p(h.l.Ka,h.l,h):null;t:{var F=h.i;let Rt=-1;for(;;){const xe=["count="+b];Rt==-1?b>0?(Rt=F[0].g,xe.push("ofs="+Rt)):Rt=0:xe.push("ofs="+Rt);let Yt=!0;for(let de=0;de<b;de++){var Y=F[de].g;const ti=F[de].map;if(Y-=Rt,Y<0)Rt=Math.max(0,F[de].g-100),Yt=!1;else try{Y="req"+Y+"_"||"";try{var ut=ti instanceof Map?ti:Object.entries(ti);for(const[$i,Ei]of ut){let bi=Ei;f(Ei)&&(bi=Qr(Ei)),xe.push(Y+$i+"="+encodeURIComponent(bi))}}catch($i){throw xe.push(Y+"type="+encodeURIComponent("_badmap")),$i}}catch{A&&A(ti)}}if(Yt){ut=xe.join("&");break t}}ut=void 0}return h=h.i.splice(0,b),_.G=h,ut}function Qh(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;rt||S(),ct||(rt(),ct=!0),R.add(_,h),h.A=0}}function ya(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Li(p(h.Da,h),$h(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Xh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Li(p(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),ns(this),Xh(this))};function Cu(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Xh(h){h.g=new gi(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Le(h.na);Wt(_,"RID","rpc"),Wt(_,"SID",h.M),Wt(_,"AID",h.K),Wt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Wt(_,"TO",h.ia),Wt(_,"TYPE","xmlhttp"),ga(h,_),h.u&&h.o&&da(_,h.u,h.o),h.O&&(h.g.H=h.O);var b=h.g;h=h.ba,b.M=1,b.A=ca(Le(_)),b.u=null,b.R=!0,yo(b,h)}n.Va=function(){this.C!=null&&(this.C=null,ns(this),ya(this),Oe(19))};function Io(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Wh(h,_){var b=null;if(h.g==_){Io(h),Cu(h),h.g=null;var A=2}else if(Hi(h.h,_))b=_.G,_u(h.h,_),A=1;else return;if(h.I!=0){if(_.o)if(A==1){b=_.u?_.u.length:0,_=Date.now()-_.F;var F=h.D;A=go(),Xe(A,new ki(A,b)),Xi(h)}else Qh(h);else if(F=_.m,F==3||F==0&&_.X>0||!(A==1&&So(h,_)||A==2&&ya(h)))switch(b&&b.length>0&&(_=h.h,_.i=_.i.concat(b)),F){case 1:Wi(h,5);break;case 4:Wi(h,10);break;case 3:Wi(h,6);break;default:Wi(h,2)}}}function $h(h,_){let b=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(b*=2),b*_}function Wi(h,_){if(h.j.info("Error code "+_),_==2){var b=p(h.bb,h),A=h.Ua;const F=!A;A=new Un(A||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||en(A,"https"),ca(A),F?_i(A.toString(),b):Au(A.toString(),b)}else Oe(2);h.I=0,h.l&&h.l.pa(_),Zh(h),Ao(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function Zh(h){if(h.I=0,h.ja=[],h.l){const _=vu(h.h);(_.length!=0||h.i.length!=0)&&(C(h.ja,_),C(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Jh(h,_,b){var A=b instanceof Un?Le(b):new Un(b);if(A.g!="")_&&(A.g=_+"."+A.g),Xr(A,A.u);else{var F=u.location;A=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const Y=new Un(null);A&&en(Y,A),_&&(Y.g=_),F&&Xr(Y,F),b&&(Y.h=b),A=Y}return b=h.G,_=h.wa,b&&_&&Wt(A,b,_),Wt(A,"VER",h.ka),ga(h,A),A}function tf(h,_,b){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ie(new Ki({ab:b})):new ie(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ef(){}n=ef.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function is(){}is.prototype.g=function(h,_){return new An(h,_)};function An(h,_){Pe.call(this),this.g=new es(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!D(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new yr(this)}v(An,Pe),An.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},An.prototype.close=function(){xu(this.g)},An.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.v&&(b={},b.__data__=Qr(h),h=b);_.i.push(new ke(_.Ya++,h)),_.I==3&&Xi(_)},An.prototype.N=function(){this.g.l=null,delete this.j,xu(this.g),delete this.g,An.Z.N.call(this)};function nf(h){ln.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const b in _){h=b;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(nf,ln);function rf(){Wn.call(this),this.status=1}v(rf,Wn);function yr(h){this.g=h}v(yr,ef),yr.prototype.ra=function(){Xe(this.g,"a")},yr.prototype.qa=function(h){Xe(this.g,new nf(h))},yr.prototype.pa=function(h){Xe(this.g,new rf)},yr.prototype.oa=function(){Xe(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,An.prototype.send=An.prototype.o,An.prototype.open=An.prototype.m,An.prototype.close=An.prototype.close,$I=function(){return new is},WI=function(){return go()},XI=Ie,Qy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},la.NO_ERROR=0,la.TIMEOUT=8,la.HTTP_ERROR=6,Ad=la,du.COMPLETE="complete",QI=du,Nh.EventType=mi,mi.OPEN="a",mi.CLOSE="b",mi.ERROR="c",mi.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,wc=Nh,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,YI=ie}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});class pn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}pn.UNAUTHENTICATED=new pn(null),pn.GOOGLE_CREDENTIALS=new pn("google-credentials-uid"),pn.FIRST_PARTY=new pn("first-party-uid"),pn.MOCK_USER=new pn("mock-user");let eu="12.9.0";function M4(n){eu=n}const io=new Y_("@firebase/firestore");function hl(){return io.logLevel}function at(n,...t){if(io.logLevel<=Bt.DEBUG){const e=t.map(a0);io.debug(`Firestore (${eu}): ${n}`,...e)}}function In(n,...t){if(io.logLevel<=Bt.ERROR){const e=t.map(a0);io.error(`Firestore (${eu}): ${n}`,...e)}}function Ys(n,...t){if(io.logLevel<=Bt.WARN){const e=t.map(a0);io.warn(`Firestore (${eu}): ${n}`,...e)}}function a0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function dt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,ZI(n,i,e)}function ZI(n,t,e){let i=`FIRESTORE (${eu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw In(i),new Error(i)}function _t(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||ZI(t,a,i)}function At(n,t){return n}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Hr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class JI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class P4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(pn.UNAUTHENTICATED)))}shutdown(){}}class O4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class N4{constructor(t){this.t=t,this.currentUser=pn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_t(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let l=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Lr,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Lr)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_t(typeof i.accessToken=="string",31837,{l:i}),new JI(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _t(t===null||typeof t=="string",2055,{h:t}),new pn(t)}}class k4{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=pn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class L4{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new k4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(pn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qw{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_t(this.o===void 0,3512);const i=l=>{l.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,at("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qw(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new qw(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function B4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class o0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=B4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function It(n,t){return n<t?-1:n>t?1:0}function Xy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return fy(a)===fy(l)?It(a,l):fy(a)?1:-1}return It(n.length,t.length)}const z4=55296,j4=57343;function fy(n){const t=n.charCodeAt(0);return t>=z4&&t<=j4}function Pl(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function tx(n){return n+"\0"}const Hw="__name__";class ir{constructor(t,e,i){e===void 0?e=0:e>t.length&&dt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&dt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ir.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ir?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=ir.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return It(t.length,e.length)}static compareSegments(t,e){const i=ir.isNumericId(t),a=ir.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?ir.extractNumericId(t).compare(ir.extractNumericId(e)):Xy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Fs.fromString(t.substring(4,t.length-2))}}class Ht extends ir{construct(t,e,i){return new Ht(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new lt(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Ht(e)}static emptyPath(){return new Ht([])}}const F4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ve extends ir{construct(t,e,i){return new ve(t,e,i)}static isValidIdentifier(t){return F4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ve.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Hw}static keyField(){return new ve([Hw])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new lt(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new lt(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new lt(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ve(e)}static emptyPath(){return new ve([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Ht.fromString(t))}static fromName(t){return new ht(Ht.fromString(t).popFirst(5))}static empty(){return new ht(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ht.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ht.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Ht(t.slice()))}}function ex(n,t,e){if(!e)throw new lt(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function q4(n,t,e,i){if(t===!0&&i===!0)throw new lt(W.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Gw(n){if(!ht.isDocumentKey(n))throw new lt(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Kw(n){if(ht.isDocumentKey(n))throw new lt(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Cm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":dt(12329,{type:typeof n})}function Wa(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new lt(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Cm(n);throw new lt(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function He(n,t){const e={typeString:n};return t&&(e.value=t),e}function gh(n,t){if(!nx(n))throw new lt(W.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new lt(W.INVALID_ARGUMENT,e);return!0}const Yw=-62135596800,Qw=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Qw);return new te(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new lt(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Yw)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qw}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gh(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Yw;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:He("string",te._jsonSchemaVersion),seconds:He("number"),nanoseconds:He("number")};class Tt{static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new te(0,0))}static max(){return new Tt(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Kc=-1;class em{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function Wy(n){return n.fields.find((t=>t.kind===2))}function Ua(n){return n.fields.filter((t=>t.kind!==2))}em.UNKNOWN_ID=-1;class Sd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Yc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Yc(0,Xn.min())}}function H4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Tt.fromTimestamp(i===1e9?new te(e+1,0):new te(e,i));return new Xn(a,ht.empty(),t)}function ix(n){return new Xn(n.readTime,n.key,Kc)}class Xn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Xn(Tt.min(),ht.empty(),Kc)}static max(){return new Xn(Tt.max(),ht.empty(),Kc)}}function l0(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:It(n.largestBatchId,t.largestBatchId))}const rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==rx)throw n;at("LocalStore","Unexpectedly lost primary lease")}class z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&dt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new z(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof z?e:z.resolve(e)}catch(e){return z.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):z.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):z.reject(e)}static resolve(t){return new z(((e,i)=>{e(t)}))}static reject(t){return new z(((e,i)=>{i(t)}))}static waitFor(t){return new z(((e,i)=>{let a=0,l=0,u=!1;t.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&e()}),(m=>i(m)))})),u=!0,l===a&&e()}))}static or(t){let e=z.resolve(!1);for(const i of t)e=e.next((a=>a?z.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new z(((i,a)=>{const l=t.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const p=m;e(t[p]).next((y=>{u[p]=y,++f,f===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new z(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}const Kn="SimpleDb";class Dm{static open(t,e,i,a){try{return new Dm(e,t.transaction(a,i))}catch(l){throw new Mc(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new Lr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Mc(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=u0(i.target.error);this.S.reject(new Mc(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(at(Kn,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new K4(e)}}class qs{static delete(t){return at(Kn,"Removing database:",t),ja(WS().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!sI())return!1;if(qs.F())return!0;const t=Ze(),e=qs.M(t),i=0<e&&e<10,a=ax(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,qs.M(Ze())===12.2&&In("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(at(Kn,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new Mc(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new lt(W.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new lt(W.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Mc(t,u))},a.onupgradeneeded=l=>{at(Kn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{at(Kn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const f=Dm.open(this.db,t,l?"readonly":"readwrite",i),m=a(f).next((p=>(f.C(),p))).catch((p=>(f.abort(p),z.reject(p)))).toPromise();return m.catch((()=>{})),await f.D,m}catch(f){const m=f,p=m.name!=="FirebaseError"&&u<3;if(at(Kn,"Transaction failed with error:",m.message,"Retrying:",p),this.close(),!p)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ax(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class G4{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return ja(this.U.delete())}}class Mc extends lt{constructor(t,e){super(W.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ta(n){return n.name==="IndexedDbTransactionError"}class K4{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(at(Kn,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(at(Kn,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),ja(i)}add(t){return at(Kn,"ADD",this.store.name,t,t),ja(this.store.add(t))}get(t){return ja(this.store.get(t)).next((e=>(e===void 0&&(e=null),at(Kn,"GET",this.store.name,t,e),e)))}delete(t){return at(Kn,"DELETE",this.store.name,t),ja(this.store.delete(t))}count(){return at(Kn,"COUNT",this.store.name),ja(this.store.count())}H(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new z(((u,f)=>{l.onerror=m=>{f(m.target.error)},l.onsuccess=m=>{u(m.target.result)}}))}{const l=this.cursor(i),u=[];return this.J(l,((f,m)=>{u.push(m)})).next((()=>u))}}Z(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new z(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(t,e){at(Kn,"DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const a=this.cursor(i);return this.J(a,((l,u,f)=>f.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.J(a,e)}te(t){const e=this.cursor({});return new z(((i,a)=>{e.onerror=l=>{const u=u0(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((f=>{f?u.continue():i()})):i()}}))}J(t,e){const i=[];return new z(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void a();const m=new G4(f),p=e(f.primaryKey,f.value,m);if(p instanceof z){const y=p.catch((v=>(m.done(),z.reject(v))));i.push(y)}m.isDone?a():m.G===null?f.continue():f.continue(m.G)}})).next((()=>z.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function ja(n){return new z(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=u0(i.target.error);e(a)}}))}let Xw=!1;function u0(n){const t=qs.M(Ze());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new lt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xw||(Xw=!0,setTimeout((()=>{throw i}),0)),i}}return n}const Pc="IndexBackfiller";class Y4{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){at(Pc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();at(Pc,`Documents written: ${e}`)}catch(e){ta(e)?at(Pc,"Ignoring IndexedDB error during index backfill: ",e):await co(e)}await this.re(6e4)}))}}class Q4{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return z.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return at(Pc,`Processing collection: ${u}`),this.oe(t,u,a).next((f=>{a-=f,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((f=>(at(Pc,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=ix(l);l0(u,i)>0&&(i=u)})),new Xn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ci{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ci.ce=-1;const $a=-1;function yh(n){return n==null}function Qc(n){return n===0&&1/n==-1/0}function X4(n){return typeof n=="number"&&Number.isInteger(n)&&!Qc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const nm="";function bn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Ww(t)),t=W4(n.get(e),t);return Ww(t)}function W4(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case nm:e+="";break;default:e+=l}}return e}function Ww(n){return n+nm+""}function ar(n){const t=n.length;if(_t(t>=2,64408,{path:n}),t===2)return _t(n.charAt(0)===nm&&n.charAt(1)==="",56145,{path:n}),Ht.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(nm,l);switch((u<0||u>e)&&dt(50515,{path:n}),n.charAt(u+1)){case"":const f=n.substring(l,u);let m;a.length===0?m=f:(a+=f,m=a,a=""),i.push(m);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:dt(61167,{path:n})}l=u+2}return new Ht(i)}const Ba="remoteDocuments",_h="owner",rl="owner",Xc="mutationQueues",$4="userId",Ri="mutations",$w="batchId",Ka="userMutationsIndex",Zw=["userId","batchId"];function Id(n,t){return[n,bn(t)]}function ox(n,t,e){return[n,bn(t),e]}const Z4={},Ol="documentMutations",im="remoteDocumentsV14",J4=["prefixPath","collectionGroup","readTime","documentId"],xd="documentKeyIndex",t3=["prefixPath","collectionGroup","documentId"],lx="collectionGroupIndex",e3=["collectionGroup","readTime","prefixPath","documentId"],Wc="remoteDocumentGlobal",$y="remoteDocumentGlobalKey",Nl="targets",ux="queryTargetsIndex",n3=["canonicalId","targetId"],kl="targetDocuments",i3=["targetId","path"],c0="documentTargetsIndex",r3=["path","targetId"],rm="targetGlobalKey",Za="targetGlobal",$c="collectionParents",s3=["collectionId","parent"],Ll="clientMetadata",a3="clientId",Vm="bundles",o3="bundleId",Mm="namedQueries",l3="name",h0="indexConfiguration",u3="indexId",Zy="collectionGroupIndex",c3="collectionGroup",Oc="indexState",h3=["indexId","uid"],cx="sequenceNumberIndex",f3=["uid","sequenceNumber"],Nc="indexEntries",d3=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],hx="documentKeyIndex",m3=["indexId","uid","orderedDocumentKey"],Pm="documentOverlays",p3=["userId","collectionPath","documentId"],Jy="collectionPathOverlayIndex",g3=["userId","collectionPath","largestBatchId"],fx="collectionGroupOverlayIndex",y3=["userId","collectionGroup","largestBatchId"],f0="globals",_3="name",dx=[Xc,Ri,Ol,Ba,Nl,_h,Za,kl,Ll,Wc,$c,Vm,Mm],v3=[...dx,Pm],mx=[Xc,Ri,Ol,im,Nl,_h,Za,kl,Ll,Wc,$c,Vm,Mm,Pm],px=mx,d0=[...px,h0,Oc,Nc],T3=d0,gx=[...d0,f0],E3=gx;class t_ extends sx{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Je(n,t){const e=At(n);return qs.O(e.le,t)}function Jw(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ea(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ye{constructor(t,e){this.comparator=t,this.root=e||gn.EMPTY}insert(t,e){return new ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new cd(this.root,t,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new cd(this.root,t,this.comparator,!0)}}class cd{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??gn.RED,this.left=a??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new gn(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return gn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw dt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw dt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw dt(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw dt(57766)}get value(){throw dt(16141)}get color(){throw dt(16727)}get left(){throw dt(29726)}get right(){throw dt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new gn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ne{constructor(t){this.comparator=t,this.data=new ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new t1(this.data.getIterator())}getIteratorFrom(t){return new t1(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof ne)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ne(this.comparator);return e.data=t,e}}class t1{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sl(n){return n.hasNext()?n.getNext():void 0}class kn{constructor(t){this.fields=t,t.sort(ve.comparator)}static empty(){return new kn([])}unionWith(t){let e=new ne(ve.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new kn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Pl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class _x extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new _x("Invalid base64 string: "+l):l}})(t);return new Ye(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new Ye(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const b3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jr(n){if(_t(!!n,39018),typeof n=="string"){let t=0;const e=b3.exec(n);if(_t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pe(n.seconds),nanos:pe(n.nanos)}}function pe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fr(n){return typeof n=="string"?Ye.fromBase64String(n):Ye.fromUint8Array(n)}const vx="server_timestamp",Tx="__type__",Ex="__previous_value__",bx="__local_write_time__";function m0(n){return(n?.mapValue?.fields||{})[Tx]?.stringValue===vx}function Om(n){const t=n.mapValue.fields[Ex];return m0(t)?Om(t):t}function Zc(n){const t=jr(n.mapValue.fields[bx].timestampValue);return new te(t.seconds,t.nanos)}class w3{constructor(t,e,i,a,l,u,f,m,p,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=y,this.apiKey=v}}const sm="(default)";class ro{constructor(t,e){this.projectId=t,this.database=e||sm}static empty(){return new ro("","")}get isDefaultDatabase(){return this.database===sm}isEqual(t){return t instanceof ro&&t.projectId===this.projectId&&t.database===this.database}}function A3(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new lt(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ro(n.options.projectId,t)}const p0="__type__",wx="__max__",ks={mapValue:{fields:{__type__:{stringValue:wx}}}},g0="__vector__",Ul="value",Rd={nullValue:"NULL_VALUE"};function Qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m0(n)?4:Ax(n)?9007199254740991:Nm(n)?10:11:dt(28295,{value:n})}function fr(n,t){if(n===t)return!0;const e=Qs(n);if(e!==Qs(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Zc(n).isEqual(Zc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=jr(a.timestampValue),f=jr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Fr(a.bytesValue).isEqual(Fr(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return pe(a.geoPointValue.latitude)===pe(l.geoPointValue.latitude)&&pe(a.geoPointValue.longitude)===pe(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return pe(a.integerValue)===pe(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=pe(a.doubleValue),f=pe(l.doubleValue);return u===f?Qc(u)===Qc(f):isNaN(u)&&isNaN(f)}return!1})(n,t);case 9:return Pl(n.arrayValue.values||[],t.arrayValue.values||[],fr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(Jw(u)!==Jw(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!fr(u[m],f[m])))return!1;return!0})(n,t);default:return dt(52216,{left:n})}}function Jc(n,t){return(n.values||[]).find((e=>fr(e,t)))!==void 0}function Xs(n,t){if(n===t)return 0;const e=Qs(n),i=Qs(t);if(e!==i)return It(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return It(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const f=pe(l.integerValue||l.doubleValue),m=pe(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,t);case 3:return e1(n.timestampValue,t.timestampValue);case 4:return e1(Zc(n),Zc(t));case 5:return Xy(n.stringValue,t.stringValue);case 6:return(function(l,u){const f=Fr(l),m=Fr(u);return f.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let p=0;p<f.length&&p<m.length;p++){const y=It(f[p],m[p]);if(y!==0)return y}return It(f.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const f=It(pe(l.latitude),pe(u.latitude));return f!==0?f:It(pe(l.longitude),pe(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return n1(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},p=f[Ul]?.arrayValue,y=m[Ul]?.arrayValue,v=It(p?.values?.length||0,y?.values?.length||0);return v!==0?v:n1(p,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===ks.mapValue&&u===ks.mapValue)return 0;if(l===ks.mapValue)return 1;if(u===ks.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),p=u.fields||{},y=Object.keys(p);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const E=Xy(m[v],y[v]);if(E!==0)return E;const I=Xs(f[m[v]],p[y[v]]);if(I!==0)return I}return It(m.length,y.length)})(n.mapValue,t.mapValue);default:throw dt(23264,{he:e})}}function e1(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return It(n,t);const e=jr(n),i=jr(t),a=It(e.seconds,i.seconds);return a!==0?a:It(e.nanos,i.nanos)}function n1(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Xs(e[a],i[a]);if(l)return l}return It(e.length,i.length)}function Bl(n){return e_(n)}function e_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=jr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Fr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=e_(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${e_(e.fields[u])}`;return a+"}"})(n.mapValue):dt(61005,{value:n})}function Cd(n){switch(Qs(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Om(n);return t?16+Cd(t):16;case 5:return 2*n.stringValue.length;case 6:return Fr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Cd(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ea(i.fields,((l,u)=>{a+=l.length+Cd(u)})),a})(n.mapValue);default:throw dt(13486,{value:n})}}function th(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function n_(n){return!!n&&"integerValue"in n}function eh(n){return!!n&&"arrayValue"in n}function i1(n){return!!n&&"nullValue"in n}function r1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Dd(n){return!!n&&"mapValue"in n}function Nm(n){return(n?.mapValue?.fields||{})[p0]?.stringValue===g0}function kc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ea(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=kc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=kc(n.arrayValue.values[e]);return t}return{...n}}function Ax(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===wx}const Sx={mapValue:{fields:{[p0]:{stringValue:g0},[Ul]:{arrayValue:{}}}}};function S3(n){return"nullValue"in n?Rd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?th(ro.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?Nm(n)?Sx:{mapValue:{}}:dt(35942,{value:n})}function I3(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?th(ro.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?Sx:"mapValue"in n?Nm(n)?{mapValue:{}}:ks:dt(61959,{value:n})}function s1(n,t){const e=Xs(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function a1(n,t){const e=Xs(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class yn{constructor(t){this.value=t}static empty(){return new yn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Dd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=kc(e)}setAll(t){let e=ve.emptyPath(),i={},a=[];t.forEach(((u,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,i,a),i={},a=[],e=f.popLast()}u?i[f.lastSegment()]=kc(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());Dd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return fr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Dd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){ea(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new yn(kc(this.value))}}function Ix(n){const t=[];return ea(n.fields,((e,i)=>{const a=new ve([e]);if(Dd(i)){const l=Ix(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new kn(t)}class ge{constructor(t,e,i,a,l,u,f){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(t){return new ge(t,0,Tt.min(),Tt.min(),Tt.min(),yn.empty(),0)}static newFoundDocument(t,e,i,a){return new ge(t,1,e,Tt.min(),i,a,0)}static newNoDocument(t,e){return new ge(t,2,e,Tt.min(),Tt.min(),yn.empty(),0)}static newUnknownDocument(t,e){return new ge(t,3,e,Tt.min(),Tt.min(),yn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zl{constructor(t,e){this.position=t,this.inclusive=e}}function o1(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(u.referenceValue),e.key):i=Xs(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function l1(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!fr(n.position[e],t.position[e]))return!1;return!0}class am{constructor(t,e="asc"){this.field=t,this.dir=e}}function x3(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class xx{}class zt extends xx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new R3(t,e,i):e==="array-contains"?new V3(t,i):e==="in"?new Px(t,i):e==="not-in"?new M3(t,i):e==="array-contains-any"?new P3(t,i):new zt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new C3(t,i):new D3(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Xs(e,this.value)):e!==null&&Qs(this.value)===Qs(e)&&this.matchesComparison(Xs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return dt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ee extends xx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new ee(t,e)}matches(t){return jl(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jl(n){return n.op==="and"}function i_(n){return n.op==="or"}function y0(n){return Rx(n)&&jl(n)}function Rx(n){for(const t of n.filters)if(t instanceof ee)return!1;return!0}function r_(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Bl(n.value);if(y0(n))return n.filters.map((t=>r_(t))).join(",");{const t=n.filters.map((e=>r_(e))).join(",");return`${n.op}(${t})`}}function Cx(n,t){return n instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&fr(i.value,a.value)})(n,t):n instanceof ee?(function(i,a){return a instanceof ee&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&Cx(u,a.filters[f])),!0):!1})(n,t):void dt(19439)}function Dx(n,t){const e=n.filters.concat(t);return ee.create(e,n.op)}function Vx(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Bl(e.value)}`})(n):n instanceof ee?(function(e){return e.op.toString()+" {"+e.getFilters().map(Vx).join(" ,")+"}"})(n):"Filter"}class R3 extends zt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class C3 extends zt{constructor(t,e){super(t,"in",e),this.keys=Mx("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class D3 extends zt{constructor(t,e){super(t,"not-in",e),this.keys=Mx("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Mx(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class V3 extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return eh(e)&&Jc(e.arrayValue,this.value)}}class Px extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jc(this.value.arrayValue,e)}}class M3 extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jc(this.value.arrayValue,e)}}class P3 extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!eh(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Jc(this.value.arrayValue,i)))}}class O3{constructor(t,e=null,i=[],a=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function s_(n,t=null,e=[],i=[],a=null,l=null,u=null){return new O3(n,t,e,i,a,l,u)}function so(n){const t=At(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>r_(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),yh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Bl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Bl(i))).join(",")),t.Te=e}return t.Te}function vh(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!x3(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Cx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!l1(n.startAt,t.startAt)&&l1(n.endAt,t.endAt)}function om(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function lm(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function u1(n,t,e){let i=Rd,a=!0;for(const l of lm(n,t)){let u=Rd,f=!0;switch(l.op){case"<":case"<=":u=S3(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=Rd}s1({value:i,inclusive:a},{value:u,inclusive:f})<0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];s1({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function c1(n,t,e){let i=ks,a=!0;for(const l of lm(n,t)){let u=ks,f=!0;switch(l.op){case">=":case">":u=I3(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=ks}a1({value:i,inclusive:a},{value:u,inclusive:f})>0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];a1({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}class Th{constructor(t,e=null,i=[],a=[],l=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function N3(n,t,e,i,a,l,u,f){return new Th(n,t,e,i,a,l,u,f)}function km(n){return new Th(n)}function h1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function k3(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Ox(n){return n.collectionGroup!==null}function Lc(n){const t=At(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ne(ve.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((p=>{p.isInequality()&&(f=f.add(p.field))}))})),f})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new am(l,i))})),e.has(ve.keyField().canonicalString())||t.Ie.push(new am(ve.keyField(),i))}return t.Ie}function fi(n){const t=At(n);return t.Ee||(t.Ee=L3(t,Lc(n))),t.Ee}function L3(n,t){if(n.limitType==="F")return s_(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new am(a.field,l)}));const e=n.endAt?new zl(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new zl(n.startAt.position,n.startAt.inclusive):null;return s_(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function a_(n,t){const e=n.filters.concat([t]);return new Th(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function o_(n,t,e){return new Th(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Lm(n,t){return vh(fi(n),fi(t))&&n.limitType===t.limitType}function Nx(n){return`${so(fi(n))}|lt:${n.limitType}`}function fl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>Vx(a))).join(", ")}]`),yh(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Bl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Bl(a))).join(",")),`Target(${i})`})(fi(n))}; limitType=${n.limitType})`}function Eh(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Lc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,f,m){const p=o1(u,f,m);return u.inclusive?p<=0:p<0})(i.startAt,Lc(i),a)||i.endAt&&!(function(u,f,m){const p=o1(u,f,m);return u.inclusive?p>=0:p>0})(i.endAt,Lc(i),a))})(n,t)}function U3(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kx(n){return(t,e)=>{let i=!1;for(const a of Lc(n)){const l=B3(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function B3(n,t,e){const i=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,f){const m=u.data.field(l),p=f.data.field(l);return m!==null&&p!==null?Xs(m,p):dt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return dt(19790,{direction:n.dir})}}class Gr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ea(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return yx(this.inner)}size(){return this.innerSize}}const z3=new ye(ht.comparator);function Qn(){return z3}const Lx=new ye(ht.comparator);function Ac(...n){let t=Lx;for(const e of n)t=t.insert(e.key,e);return t}function Ux(n){let t=Lx;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function or(){return Uc()}function Bx(){return Uc()}function Uc(){return new Gr((n=>n.toString()),((n,t)=>n.isEqual(t)))}const j3=new ye(ht.comparator),F3=new ne(ht.comparator);function Pt(...n){let t=F3;for(const e of n)t=t.add(e);return t}const q3=new ne(It);function H3(){return q3}function _0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qc(t)?"-0":t}}function zx(n){return{integerValue:""+n}}function G3(n,t){return X4(t)?zx(t):_0(n,t)}class Um{constructor(){this._=void 0}}function K3(n,t,e){return n instanceof Fl?(function(a,l){const u={fields:{[Tx]:{stringValue:vx},[bx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&m0(l)&&(l=Om(l)),l&&(u.fields[Ex]=l),{mapValue:u}})(e,t):n instanceof ql?Fx(n,t):n instanceof Hl?qx(n,t):(function(a,l){const u=jx(a,l),f=f1(u)+f1(a.Ae);return n_(u)&&n_(a.Ae)?zx(f):_0(a.serializer,f)})(n,t)}function Y3(n,t,e){return n instanceof ql?Fx(n,t):n instanceof Hl?qx(n,t):e}function jx(n,t){return n instanceof nh?(function(i){return n_(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Fl extends Um{}class ql extends Um{constructor(t){super(),this.elements=t}}function Fx(n,t){const e=Hx(t);for(const i of n.elements)e.some((a=>fr(a,i)))||e.push(i);return{arrayValue:{values:e}}}class Hl extends Um{constructor(t){super(),this.elements=t}}function qx(n,t){let e=Hx(t);for(const i of n.elements)e=e.filter((a=>!fr(a,i)));return{arrayValue:{values:e}}}class nh extends Um{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function f1(n){return pe(n.integerValue||n.doubleValue)}function Hx(n){return eh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Gx{constructor(t,e){this.field=t,this.transform=e}}function Q3(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof ql&&a instanceof ql||i instanceof Hl&&a instanceof Hl?Pl(i.elements,a.elements,fr):i instanceof nh&&a instanceof nh?fr(i.Ae,a.Ae):i instanceof Fl&&a instanceof Fl})(n.transform,t.transform)}class X3{constructor(t,e){this.version=t,this.transformResults=e}}class sn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new sn}static exists(t){return new sn(void 0,t)}static updateTime(t){return new sn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Vd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Bm{}function Kx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new bh(n.key,sn.none()):new nu(n.key,n.data,sn.none());{const e=n.data,i=yn.empty();let a=new ne(ve.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Kr(n.key,i,new kn(a.toArray()),sn.none())}}function W3(n,t,e){n instanceof nu?(function(a,l,u){const f=a.value.clone(),m=m1(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):n instanceof Kr?(function(a,l,u){if(!Vd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=m1(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(Yx(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Bc(n,t,e,i){return n instanceof nu?(function(l,u,f,m){if(!Vd(l.precondition,u))return f;const p=l.value.clone(),y=p1(l.fieldTransforms,m,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,t,e,i):n instanceof Kr?(function(l,u,f,m){if(!Vd(l.precondition,u))return f;const p=p1(l.fieldTransforms,m,u),y=u.data;return y.setAll(Yx(l)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,u,f){return Vd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,t,e)}function $3(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=jx(i.transform,a||null);l!=null&&(e===null&&(e=yn.empty()),e.set(i.field,l))}return e||null}function d1(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Pl(i,a,((l,u)=>Q3(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class nu extends Bm{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kr extends Bm{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Yx(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function m1(n,t,e){const i=new Map;_t(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,f=t.data.field(l.field);i.set(l.field,Y3(u,f,e[a]))}return i}function p1(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,K3(l,u,t))}return i}class bh extends Bm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class v0 extends Bm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class T0{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&W3(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Bc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Bc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Bx();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=e.has(a.key)?null:f;const m=Kx(u,f);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Tt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Pl(this.mutations,t.mutations,((e,i)=>d1(e,i)))&&Pl(this.baseMutations,t.baseMutations,((e,i)=>d1(e,i)))}}class E0{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){_t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return j3})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new E0(t,e,i,a)}}class b0{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Z3{constructor(t,e){this.count=t,this.unchangedNames=e}}var Fe,qt;function Qx(n){switch(n){case W.OK:return dt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return dt(15467,{code:n})}}function Xx(n){if(n===void 0)return In("GRPC error has no .code"),W.UNKNOWN;switch(n){case Fe.OK:return W.OK;case Fe.CANCELLED:return W.CANCELLED;case Fe.UNKNOWN:return W.UNKNOWN;case Fe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Fe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Fe.INTERNAL:return W.INTERNAL;case Fe.UNAVAILABLE:return W.UNAVAILABLE;case Fe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Fe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Fe.NOT_FOUND:return W.NOT_FOUND;case Fe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Fe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Fe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Fe.ABORTED:return W.ABORTED;case Fe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Fe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Fe.DATA_LOSS:return W.DATA_LOSS;default:return dt(39323,{code:n})}}(qt=Fe||(Fe={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function J3(){return new TextEncoder}const t6=new Fs([4294967295,4294967295],0);function g1(n){const t=J3().encode(n),e=new KI;return e.update(t),new Uint8Array(e.digest())}function y1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Fs([e,i],0),new Fs([a,l],0)]}class w0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Sc(`Invalid padding: ${e}`);if(i<0)throw new Sc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Sc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Sc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Fs.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(Fs.fromNumber(i)));return a.compare(t6)===1&&(a=new Fs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=g1(t),[i,a]=y1(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new w0(l,a,e);return i.forEach((f=>u.insert(f))),u}insert(t){if(this.ge===0)return;const e=g1(t),[i,a]=y1(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class zm{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,wh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new zm(Tt.min(),a,new ye(It),Qn(),Pt())}}class wh{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new wh(i,e,Pt(),Pt(),Pt())}}class Md{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class Wx{constructor(t,e){this.targetId=t,this.Ce=e}}class $x{constructor(t,e,i=Ye.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class _1{constructor(){this.ve=0,this.Fe=v1(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),i=Pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:dt(38017,{changeType:l})}})),new wh(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=v1()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,_t(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class e6{constructor(t){this.Ge=t,this.ze=new Map,this.je=Qn(),this.He=hd(),this.Je=hd(),this.Ze=new ye(It)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:dt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(om(l))if(i===0){const u=new ht(l.path);this.et(e,u,ge.newNoDocument(u,Tt.min()))}else _t(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const f=this.ut(t),m=f?this.ct(f,t,u):1;if(m!==0){this.it(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,f;try{u=Fr(i).toUint8Array()}catch(m){if(m instanceof _x)return Ys("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new w0(u,a,l)}catch(m){return Ys(m instanceof Sc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&om(f.target)){const m=new ht(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,ge.newNoDocument(m,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let i=Pt();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const p=this.ot(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new zm(t,e,this.Ze,this.je,i);return this.je=Qn(),this.He=hd(),this.Je=hd(),this.Ze=new ye(It),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new _1,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ne(It),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ne(It),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function hd(){return new ye(ht.comparator)}function v1(){return new ye(ht.comparator)}const n6={asc:"ASCENDING",desc:"DESCENDING"},i6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},r6={and:"AND",or:"OR"};class s6{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function l_(n,t){return n.useProto3Json||yh(t)?t:{value:t}}function Gl(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Zx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function a6(n,t){return Gl(n,t.toTimestamp())}function an(n){return _t(!!n,49232),Tt.fromTimestamp((function(e){const i=jr(e);return new te(i.seconds,i.nanos)})(n))}function A0(n,t){return u_(n,t).canonicalString()}function u_(n,t){const e=(function(a){return new Ht(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function Jx(n){const t=Ht.fromString(n);return _t(lR(t),10190,{key:t.toString()}),t}function ih(n,t){return A0(n.databaseId,t.path)}function Ur(n,t){const e=Jx(t);if(e.get(1)!==n.databaseId.projectId)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new lt(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(nR(e))}function tR(n,t){return A0(n.databaseId,t)}function eR(n){const t=Jx(n);return t.length===4?Ht.emptyPath():nR(t)}function c_(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function nR(n){return _t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function T1(n,t,e){return{name:ih(n,t),fields:e.value.mapValue.fields}}function o6(n,t,e){const i=Ur(n,t.name),a=an(t.updateTime),l=t.createTime?an(t.createTime):Tt.min(),u=new yn({mapValue:{fields:t.fields}}),f=ge.newFoundDocument(i,a,l,u);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function l6(n,t){return"found"in t?(function(i,a){_t(!!a.found,43571),a.found.name,a.found.updateTime;const l=Ur(i,a.found.name),u=an(a.found.updateTime),f=a.found.createTime?an(a.found.createTime):Tt.min(),m=new yn({mapValue:{fields:a.found.fields}});return ge.newFoundDocument(l,u,f,m)})(n,t):"missing"in t?(function(i,a){_t(!!a.missing,3894),_t(!!a.readTime,22933);const l=Ur(i,a.missing),u=an(a.readTime);return ge.newNoDocument(l,u)})(n,t):dt(7234,{result:t})}function u6(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:dt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(p,y){return p.useProto3Json?(_t(y===void 0||typeof y=="string",58123),Ye.fromBase64String(y||"")):(_t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Ye.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&(function(p){const y=p.code===void 0?W.UNKNOWN:Xx(p.code);return new lt(y,p.message||"")})(u);e=new $x(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Ur(n,i.document.name),l=an(i.document.updateTime),u=i.document.createTime?an(i.document.createTime):Tt.min(),f=new yn({mapValue:{fields:i.document.fields}}),m=ge.newFoundDocument(a,l,u,f),p=i.targetIds||[],y=i.removedTargetIds||[];e=new Md(p,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Ur(n,i.document),l=i.readTime?an(i.readTime):Tt.min(),u=ge.newNoDocument(a,l),f=i.removedTargetIds||[];e=new Md([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Ur(n,i.document),l=i.removedTargetIds||[];e=new Md([],l,a,null)}else{if(!("filter"in t))return dt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new Z3(a,l),f=i.targetId;e=new Wx(f,u)}}return e}function rh(n,t){let e;if(t instanceof nu)e={update:T1(n,t.key,t.value)};else if(t instanceof bh)e={delete:ih(n,t.key)};else if(t instanceof Kr)e={update:T1(n,t.key,t.data),updateMask:p6(t.fieldMask)};else{if(!(t instanceof v0))return dt(16599,{dt:t.type});e={verify:ih(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Fl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ql)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Hl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof nh)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw dt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:a6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:dt(27497)})(n,t.precondition)),e}function h_(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?sn.updateTime(an(l.updateTime)):l.exists!==void 0?sn.exists(l.exists):sn.none()})(t.currentDocument):sn.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,f){let m=null;if("setToServerValue"in f)_t(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),m=new Fl;else if("appendMissingElements"in f){const y=f.appendMissingElements.values||[];m=new ql(y)}else if("removeAllFromArray"in f){const y=f.removeAllFromArray.values||[];m=new Hl(y)}else"increment"in f?m=new nh(u,f.increment):dt(16584,{proto:f});const p=ve.fromServerFormat(f.fieldPath);return new Gx(p,m)})(n,a))):[];if(t.update){t.update.name;const a=Ur(n,t.update.name),l=new yn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(m){const p=m.fieldPaths||[];return new kn(p.map((y=>ve.fromServerFormat(y))))})(t.updateMask);return new Kr(a,l,u,e,i)}return new nu(a,l,e,i)}if(t.delete){const a=Ur(n,t.delete);return new bh(a,e)}if(t.verify){const a=Ur(n,t.verify);return new v0(a,e)}return dt(1463,{proto:t})}function c6(n,t){return n&&n.length>0?(_t(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?an(a.updateTime):an(l);return u.isEqual(Tt.min())&&(u=an(l)),new X3(u,a.transformResults||[])})(e,t)))):[]}function iR(n,t){return{documents:[tR(n,t.path)]}}function rR(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=tR(n,a);const l=(function(p){if(p.length!==0)return oR(ee.create(p,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(p){if(p.length!==0)return p.map((y=>(function(E){return{field:dl(E.field),direction:f6(E.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const f=l_(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:e,parent:a}}function sR(n){let t=eR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){_t(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const E=aR(v);return E instanceof ee&&y0(E)?E.getFilters():[E]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((E=>(function(C){return new am(ml(C.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(C.direction))})(E)))})(e.orderBy));let f=null;e.limit&&(f=(function(v){let E;return E=typeof v=="object"?v.value:v,yh(E)?null:E})(e.limit));let m=null;e.startAt&&(m=(function(v){const E=!!v.before,I=v.values||[];return new zl(I,E)})(e.startAt));let p=null;return e.endAt&&(p=(function(v){const E=!v.before,I=v.values||[];return new zl(I,E)})(e.endAt)),N3(t,a,u,l,f,"F",m,p)}function h6(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function aR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ml(e.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ml(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ml(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ml(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return dt(61313);default:return dt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(ml(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return dt(58110);default:return dt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return ee.create(e.compositeFilter.filters.map((i=>aR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return dt(1026)}})(e.compositeFilter.op))})(n):dt(30097,{filter:n})}function f6(n){return n6[n]}function d6(n){return i6[n]}function m6(n){return r6[n]}function dl(n){return{fieldPath:n.canonicalString()}}function ml(n){return ve.fromServerFormat(n.fieldPath)}function oR(n){return n instanceof zt?(function(e){if(e.op==="=="){if(r1(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NAN"}};if(i1(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(r1(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NAN"}};if(i1(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(e.field),op:d6(e.op),value:e.value}}})(n):n instanceof ee?(function(e){const i=e.getFilters().map((a=>oR(a)));return i.length===1?i[0]:{compositeFilter:{op:m6(e.op),filters:i}}})(n):dt(54877,{filter:n})}function p6(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function lR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function uR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class kr{constructor(t,e,i,a,l=Tt.min(),u=Tt.min(),f=Ye.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new kr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class cR{constructor(t){this.yt=t}}function g6(n,t){let e;if(t.document)e=o6(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),a=oo(t.noDocument.readTime);e=ge.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return dt(56709);{const i=ht.fromSegments(t.unknownDocument.path),a=oo(t.unknownDocument.version);e=ge.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new te(a[0],a[1]);return Tt.fromTimestamp(l)})(t.readTime)),e}function E1(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:um(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:ih(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Gl(l,u.version.toTimestamp()),createTime:Gl(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:ao(t.version)};else{if(!t.isUnknownDocument())return dt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:ao(t.version)}}return i}function um(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function ao(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function oo(n){const t=new te(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function Fa(n,t){const e=(t.baseMutations||[]).map((l=>h_(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const f=t.mutations[l+1];u.updateTransforms=f.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>h_(n.yt,l))),a=te.fromMillis(t.localWriteTimeMs);return new T0(t.batchId,a,e,i)}function Ic(n){const t=oo(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?oo(n.lastLimboFreeSnapshotVersion):Tt.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return _t(u===1,1966,{count:u}),fi(km(eR(l.documents[0])))})(n.query):(function(l){return fi(sR(l))})(n.query),new kr(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Ye.fromBase64String(n.resumeToken))}function hR(n,t){const e=ao(t.snapshotVersion),i=ao(t.lastLimboFreeSnapshotVersion);let a;a=om(t.target)?iR(n.yt,t.target):rR(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:so(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function fR(n){const t=sR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?o_(t,t.limit,"L"):t}function dy(n,t){return new b0(t.largestBatchId,h_(n.yt,t.overlayMutation))}function b1(n,t){const e=t.path.lastSegment();return[n,bn(t.path.popLast()),e]}function w1(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:ao(i.readTime),documentKey:bn(i.documentKey.path),largestBatchId:i.largestBatchId}}class y6{getBundleMetadata(t,e){return A1(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:oo(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return A1(t).put((function(a){return{bundleId:a.id,createTime:ao(an(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return S1(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:fR(l.bundledQuery),readTime:oo(l.readTime)}})(i)}))}saveNamedQuery(t,e){return S1(t).put((function(a){return{name:a.name,readTime:ao(an(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function A1(n){return Je(n,Vm)}function S1(n){return Je(n,Mm)}class jm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new jm(t,i)}getOverlay(t,e){return gc(t).get(b1(this.userId,e)).next((i=>i?dy(this.serializer,i):null))}getOverlays(t,e){const i=or();return z.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const f=new b0(e,u);a.push(this.bt(t,f))})),z.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(bn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(gc(t).X(Jy,f))})),z.waitFor(l)}getOverlaysForCollection(t,e,i){const a=or(),l=bn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return gc(t).H(Jy,u).next((f=>{for(const m of f){const p=dy(this.serializer,m);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=or();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return gc(t).ee({index:fx,range:f},((m,p,y)=>{const v=dy(this.serializer,p);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return gc(t).put((function(a,l,u){const[f,m,p]=b1(l,u.mutation.key);return{userId:l,collectionPath:m,documentId:p,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:rh(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function gc(n){return Je(n,Pm)}class _6{St(t){return Je(t,f0)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const i=e?.value;return i?Ye.fromUint8Array(i):Ye.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class qa{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(pe(t.integerValue));else if("doubleValue"in t){const i=pe(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),Qc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=jr(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Fr(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?Ax(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):Nm(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):dt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=Ul,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(pe(l)),this.Ot(a,e),this.Ct(i[a],e)}qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.$t(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}qa.Wt=new qa;const al=255;function v6(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function I1(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=v6(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class T6{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ht(i.value),i=e.next();this.Jt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),i=I1(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=I1(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(al),this.sn(255)}_n(){this.an(al),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===al?(this.sn(al),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===al?(this.an(al),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class E6{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class b6{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class yc{constructor(){this.cn=new T6,this.ascending=new E6(this.cn),this.descending=new b6(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Ha{constructor(t,e,i,a){this.hn=t,this.Pn=e,this.Tn=i,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.In,0),e!==t?i.set([0],this.In.length):++i[i.length-1],new Ha(this.hn,this.Pn,this.Tn,i)}Rn(t,e,i){return{indexId:this.hn,uid:t,arrayValue:Pd(this.Tn),directionalValue:Pd(this.In),orderedDocumentKey:Pd(e),documentKey:i.path.toArray()}}An(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function Rs(n,t){let e=n.hn-t.hn;return e!==0?e:(e=x1(n.Tn,t.Tn),e!==0?e:(e=x1(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function x1(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function Pd(n){return rI()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function R1(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class C1{constructor(t){this.Vn=new ne(((e,i)=>ve.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(t){if(_t(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=Wy(t);if(e!==void 0&&!this.pn(e))return!1;const i=Ua(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.pn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const f=this.Vn.getIterator().getNext();if(!a.has(f.field.canonicalString())){const m=i[l];if(!this.yn(f,m)||!this.wn(this.dn[u++],m))return!1}++l}for(;l<i.length;++l){const f=i[l];if(u>=this.dn.length||!this.wn(this.dn[u++],f))return!1}return!0}bn(){if(this.fn)return null;let t=new ne(ve.comparator);const e=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new Sd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new Sd(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new Sd(i.field,i.dir==="asc"?0:1)));return new em(em.UNKNOWN_ID,this.collectionId,e,Yc.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function dR(n){if(_t(n instanceof zt||n instanceof ee,20012),n instanceof zt){if(n instanceof Px){const e=n.value.arrayValue?.values?.map((i=>zt.create(n.field,"==",i)))||[];return ee.create(e,"or")}return n}const t=n.filters.map((e=>dR(e)));return ee.create(t,n.op)}function w6(n){if(n.getFilters().length===0)return[];const t=m_(dR(n));return _t(mR(t),7391),f_(t)||d_(t)?[t]:t.getFilters()}function f_(n){return n instanceof zt}function d_(n){return n instanceof ee&&y0(n)}function mR(n){return f_(n)||d_(n)||(function(e){if(e instanceof ee&&i_(e)){for(const i of e.getFilters())if(!f_(i)&&!d_(i))return!1;return!0}return!1})(n)}function m_(n){if(_t(n instanceof zt||n instanceof ee,34018),n instanceof zt)return n;if(n.filters.length===1)return m_(n.filters[0]);const t=n.filters.map((i=>m_(i)));let e=ee.create(t,n.op);return e=cm(e),mR(e)?e:(_t(e instanceof ee,64498),_t(jl(e),40251),_t(e.filters.length>1,57927),e.filters.reduce(((i,a)=>S0(i,a))))}function S0(n,t){let e;return _t(n instanceof zt||n instanceof ee,38388),_t(t instanceof zt||t instanceof ee,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return ee.create([a,l],"and")})(n,t):D1(n,t):t instanceof zt?D1(t,n):(function(a,l){if(_t(a.filters.length>0&&l.filters.length>0,48005),jl(a)&&jl(l))return Dx(a,l.getFilters());const u=i_(a)?a:l,f=i_(a)?l:a,m=u.filters.map((p=>S0(p,f)));return ee.create(m,"or")})(n,t),cm(e)}function D1(n,t){if(jl(t))return Dx(t,n.getFilters());{const e=t.filters.map((i=>S0(n,i)));return ee.create(e,"or")}}function cm(n){if(_t(n instanceof zt||n instanceof ee,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return cm(t[0]);if(Rx(n))return n;const e=t.map((a=>cm(a))),i=[];return e.forEach((a=>{a instanceof zt?i.push(a):a instanceof ee&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:ee.create(i,n.op)}class A6{constructor(){this.Sn=new I0}addToCollectionParentIndex(t,e){return this.Sn.add(e),z.resolve()}getCollectionParents(t,e){return z.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return z.resolve()}deleteFieldIndex(t,e){return z.resolve()}deleteAllFieldIndexes(t){return z.resolve()}createTargetIndexes(t,e){return z.resolve()}getDocumentsMatchingTarget(t,e){return z.resolve(null)}getIndexType(t,e){return z.resolve(0)}getFieldIndexes(t,e){return z.resolve([])}getNextCollectionGroupToUpdate(t){return z.resolve(null)}getMinOffset(t,e){return z.resolve(Xn.min())}getMinOffsetFromCollectionGroup(t,e){return z.resolve(Xn.min())}updateCollectionGroup(t,e,i){return z.resolve()}updateIndexEntries(t,e){return z.resolve()}}class I0{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ne(Ht.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ne(Ht.comparator)).toArray()}}const V1="IndexedDbIndexManager",fd=new Uint8Array(0);class S6{constructor(t,e){this.databaseId=e,this.Dn=new I0,this.Cn=new Gr((i=>so(i)),((i,a)=>vh(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:i,parent:bn(a)};return M1(t).put(l)}return z.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[tx(e),""],!1,!0);return M1(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(ar(u.parent))}return i}))}addFieldIndex(t,e){const i=_c(t),a=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=ll(t);return l.next((f=>{u.put(w1(f,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=_c(t),a=ll(t),l=ol(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=_c(t),i=ol(t),a=ll(t);return e.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(t,e){return z.forEach(this.vn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new C1(i).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=ol(t);let a=!0;const l=new Map;return z.forEach(this.vn(e),(u=>this.Fn(t,u).next((f=>{a&&(a=!!f),l.set(u,f)})))).next((()=>{if(a){let u=Pt();const f=[];return z.forEach(l,((m,p)=>{at(V1,`Using index ${(function(K){return`id=${K.indexId}|cg=${K.collectionGroup}|f=${K.fields.map((J=>`${J.fieldPath}:${J.kind}`)).join(",")}`})(m)} to execute ${so(e)}`);const y=(function(K,J){const rt=Wy(J);if(rt===void 0)return null;for(const ct of lm(K,rt.fieldPath))switch(ct.op){case"array-contains-any":return ct.value.arrayValue.values||[];case"array-contains":return[ct.value]}return null})(p,m),v=(function(K,J){const rt=new Map;for(const ct of Ua(J))for(const R of lm(K,ct.fieldPath))switch(R.op){case"==":case"in":rt.set(ct.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return rt.set(ct.fieldPath.canonicalString(),R.value),Array.from(rt.values())}return null})(p,m),E=(function(K,J){const rt=[];let ct=!0;for(const R of Ua(J)){const S=R.kind===0?u1(K,R.fieldPath,K.startAt):c1(K,R.fieldPath,K.startAt);rt.push(S.value),ct&&(ct=S.inclusive)}return new zl(rt,ct)})(p,m),I=(function(K,J){const rt=[];let ct=!0;for(const R of Ua(J)){const S=R.kind===0?c1(K,R.fieldPath,K.endAt):u1(K,R.fieldPath,K.endAt);rt.push(S.value),ct&&(ct=S.inclusive)}return new zl(rt,ct)})(p,m),C=this.Mn(m,p,E),U=this.Mn(m,p,I),P=this.xn(m,p,v),j=this.On(m.indexId,y,C,E.inclusive,U,I.inclusive,P);return z.forEach(j,(X=>i.Z(X,e.limit).next((K=>{K.forEach((J=>{const rt=ht.fromSegments(J.documentKey);u.has(rt)||(u=u.add(rt),f.push(rt))}))}))))})).next((()=>f))}return z.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=w6(ee.create(t.filters,"and")).map((i=>s_(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,i,a,l,u,f){const m=(e!=null?e.length:1)*Math.max(i.length,l.length),p=m/(e!=null?e.length:1),y=[];for(let v=0;v<m;++v){const E=e?this.Nn(e[v/p]):fd,I=this.Bn(t,E,i[v%p],a),C=this.Ln(t,E,l[v%p],u),U=f.map((P=>this.Bn(t,E,P,!0)));y.push(...this.createRange(I,C,U))}return y}Bn(t,e,i,a){const l=new Ha(t,ht.empty(),e,i);return a?l:l.En()}Ln(t,e,i,a){const l=new Ha(t,ht.empty(),e,i);return a?l.En():l}Fn(t,e){const i=new C1(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const f of l)i.gn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u}))}getIndexType(t,e){let i=2;const a=this.vn(e);return z.forEach(a,(l=>this.Fn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(m){let p=new ne(ve.comparator),y=!1;for(const v of m.filters)for(const E of v.getFlattenedFilters())E.field.isKeyField()||(E.op==="array-contains"||E.op==="array-contains-any"?y=!0:p=p.add(E.field));for(const v of m.orderBy)v.field.isKeyField()||(p=p.add(v.field));return p.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}kn(t,e){const i=new yc;for(const a of Ua(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.ln(a.kind);qa.Wt.Dt(l,u)}return i.un()}Nn(t){const e=new yc;return qa.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const i=new yc;return qa.Wt.Dt(th(this.databaseId,e),i.ln((function(l){const u=Ua(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}xn(t,e,i){if(i===null)return[];let a=[];a.push(new yc);let l=0;for(const u of Ua(t)){const f=i[l++];for(const m of a)if(this.qn(e,u.fieldPath)&&eh(f))a=this.Un(a,u,f);else{const p=m.ln(u.kind);qa.Wt.Dt(f,p)}}return this.$n(a)}Mn(t,e,i){return this.xn(t,e,i.position)}$n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Un(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const f of a){const m=new yc;m.seed(f.un()),qa.Wt.Dt(u,m.ln(e.kind)),l.push(m)}return l}qn(t,e){return!!t.filters.find((i=>i instanceof zt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=_c(t),a=ll(t);return(e?i.H(Zy,IDBKeyRange.bound(e,e)):i.H()).next((l=>{const u=[];return z.forEach(l,(f=>a.get([f.indexId,this.uid]).next((m=>{u.push((function(y,v){const E=v?new Yc(v.sequenceNumber,new Xn(oo(v.readTime),new ht(ar(v.documentKey)),v.largestBatchId)):Yc.empty(),I=y.fields.map((([C,U])=>new Sd(ve.fromServerFormat(C),U)));return new em(y.indexId,y.collectionGroup,I,E)})(f,m))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:It(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=_c(t),l=ll(t);return this.Wn(t).next((u=>a.H(Zy,IDBKeyRange.bound(e,e)).next((f=>z.forEach(f,(m=>l.put(w1(m.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return z.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?z.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((f=>(i.set(a.collectionGroup,f),z.forEach(f,(m=>this.Qn(t,a,m).next((p=>{const y=this.Gn(l,m);return p.isEqual(y)?z.resolve():this.zn(t,l,m,p,y)})))))))}))}jn(t,e,i,a){return ol(t).put(a.Rn(this.uid,this.Kn(i,e.key),e.key))}Hn(t,e,i,a){return ol(t).delete(a.An(this.uid,this.Kn(i,e.key),e.key))}Qn(t,e,i){const a=ol(t);let l=new ne(Rs);return a.ee({index:hx,range:IDBKeyRange.only([i.indexId,this.uid,Pd(this.Kn(i,e))])},((u,f)=>{l=l.add(new Ha(i.indexId,e,R1(f.arrayValue),R1(f.directionalValue)))})).next((()=>l))}Gn(t,e){let i=new ne(Rs);const a=this.kn(e,t);if(a==null)return i;const l=Wy(e);if(l!=null){const u=t.data.field(l.fieldPath);if(eh(u))for(const f of u.arrayValue.values||[])i=i.add(new Ha(e.indexId,t.key,this.Nn(f),a))}else i=i.add(new Ha(e.indexId,t.key,fd,a));return i}zn(t,e,i,a,l){at(V1,"Updating index entries for document '%s'",e.key);const u=[];return(function(m,p,y,v,E){const I=m.getIterator(),C=p.getIterator();let U=sl(I),P=sl(C);for(;U||P;){let j=!1,X=!1;if(U&&P){const K=y(U,P);K<0?X=!0:K>0&&(j=!0)}else U!=null?X=!0:j=!0;j?(v(P),P=sl(C)):X?(E(U),U=sl(I)):(U=sl(I),P=sl(C))}})(a,l,Rs,(f=>{u.push(this.jn(t,e,i,f))}),(f=>{u.push(this.Hn(t,e,i,f))})),z.waitFor(u)}Wn(t){let e=1;return ll(t).ee({index:cx,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,f)=>Rs(u,f))).filter(((u,f,m)=>!f||Rs(u,m[f-1])!==0));const a=[];a.push(t);for(const u of i){const f=Rs(u,t),m=Rs(u,e);if(f===0)a[0]=t.En();else if(f>0&&m<0)a.push(u),a.push(u.En());else if(m>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const f=a[u].An(this.uid,fd,ht.empty()),m=a[u+1].An(this.uid,fd,ht.empty());l.push(IDBKeyRange.bound(f,m))}return l}Jn(t,e){return Rs(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(P1)}getMinOffset(t,e){return z.mapArray(this.vn(e),(i=>this.Fn(t,i).next((a=>a||dt(44426))))).next(P1)}}function M1(n){return Je(n,$c)}function ol(n){return Je(n,Nc)}function _c(n){return Je(n,h0)}function ll(n){return Je(n,Oc)}function P1(n){_t(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;l0(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new Xn(t.readTime,t.documentKey,e)}const O1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pR=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}function gR(n,t,e){const i=n.store(Ri),a=n.store(Ol),l=[],u=IDBKeyRange.only(e.batchId);let f=0;const m=i.ee({range:u},((y,v,E)=>(f++,E.delete())));l.push(m.next((()=>{_t(f===1,47070,{batchId:e.batchId})})));const p=[];for(const y of e.mutations){const v=ox(t,y.key.path,e.batchId);l.push(a.delete(v)),p.push(y.key)}return z.waitFor(l).next((()=>p))}function hm(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw dt(14731);t=n.noDocument}return JSON.stringify(t).length}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(pR,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class Fm{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(t,e,i,a){_t(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Fm(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cs(t).ee({index:Ka,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=pl(t),u=Cs(t);return u.add({}).next((f=>{_t(typeof f=="number",49019);const m=new T0(f,e,i,a),p=(function(I,C,U){const P=U.baseMutations.map((X=>rh(I.yt,X))),j=U.mutations.map((X=>rh(I.yt,X)));return{userId:C,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:P,mutations:j}})(this.serializer,this.userId,m),y=[];let v=new ne(((E,I)=>It(E.canonicalString(),I.canonicalString())));for(const E of a){const I=ox(this.userId,E.key.path,f);v=v.add(E.key.path.popLast()),y.push(u.put(p)),y.push(l.put(I,Z4))}return v.forEach((E=>{y.push(this.indexManager.addToCollectionParentIndex(t,E))})),t.addOnCommittedListener((()=>{this.Zn[f]=m.keys()})),z.waitFor(y).next((()=>m))}))}lookupMutationBatch(t,e){return Cs(t).get(e).next((i=>i?(_t(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Fa(this.serializer,i)):null))}Xn(t,e){return this.Zn[e]?z.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Cs(t).ee({index:Ka,range:a},((u,f,m)=>{f.userId===this.userId&&(_t(f.batchId>=i,47524,{Yn:i}),l=Fa(this.serializer,f)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=$a;return Cs(t).ee({index:Ka,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,$a],[this.userId,Number.POSITIVE_INFINITY]);return Cs(t).H(Ka,e).next((i=>i.map((a=>Fa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=Id(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return pl(t).ee({range:a},((u,f,m)=>{const[p,y,v]=u,E=ar(y);if(p===this.userId&&e.path.isEqual(E))return Cs(t).get(v).next((I=>{if(!I)throw dt(61480,{er:u,batchId:v});_t(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(Fa(this.serializer,I))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ne(It);const a=[];return e.forEach((l=>{const u=Id(this.userId,l.path),f=IDBKeyRange.lowerBound(u),m=pl(t).ee({range:f},((p,y,v)=>{const[E,I,C]=p,U=ar(I);E===this.userId&&l.path.isEqual(U)?i=i.add(C):v.done()}));a.push(m)})),z.waitFor(a).next((()=>this.tr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=Id(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new ne(It);return pl(t).ee({range:u},((m,p,y)=>{const[v,E,I]=m,C=ar(E);v===this.userId&&i.isPrefixOf(C)?C.length===a&&(f=f.add(I)):y.done()})).next((()=>this.tr(t,f)))}tr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(Cs(t).get(l).next((u=>{if(u===null)throw dt(35274,{batchId:l});_t(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(Fa(this.serializer,u))})))})),z.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return gR(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),z.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return z.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return pl(t).ee({range:i},((l,u,f)=>{if(l[0]===this.userId){const m=ar(l[1]);a.push(m)}else f.done()})).next((()=>{_t(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return yR(t,this.userId,e)}ir(t){return _R(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:$a,lastStreamToken:""}))}}function yR(n,t,e){const i=Id(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return pl(n).ee({range:l,Y:!0},((f,m,p)=>{const[y,v,E]=f;y===t&&v===a&&(u=!0),p.done()})).next((()=>u))}function Cs(n){return Je(n,Ri)}function pl(n){return Je(n,Ol)}function _R(n){return Je(n,Xc)}class lo{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new lo(0)}static ar(){return new lo(-1)}}class I6{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const i=new lo(e.highestTargetId);return e.highestTargetId=i.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Tt.fromTimestamp(new te(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((i=>(i.targetCount+=1,this.hr(e,i),this.cr(t,i))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>ul(t).delete(e.targetId))).next((()=>this.ur(t))).next((i=>(_t(i.targetCount>0,8065),i.targetCount-=1,this.cr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return ul(t).ee(((u,f)=>{const m=Ic(f);m.sequenceNumber<=e&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))})).next((()=>z.waitFor(l))).next((()=>a))}forEachTarget(t,e){return ul(t).ee(((i,a)=>{const l=Ic(a);e(l)}))}ur(t){return N1(t).get(rm).next((e=>(_t(e!==null,2888),e)))}cr(t,e){return N1(t).put(rm,e)}lr(t,e){return ul(t).put(hR(this.serializer,e))}hr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const i=so(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return ul(t).ee({range:a,index:ux},((u,f,m)=>{const p=Ic(f);vh(e,p.target)&&(l=p,m.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=Ns(t);return e.forEach((u=>{const f=bn(u.path);a.push(l.put({targetId:i,path:f})),a.push(this.referenceDelegate.addReference(t,i,u))})),z.waitFor(a)}removeMatchingKeys(t,e,i){const a=Ns(t);return z.forEach(e,(l=>{const u=bn(l.path);return z.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=Ns(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Ns(t);let l=Pt();return a.ee({range:i,Y:!0},((u,f,m)=>{const p=ar(u[1]),y=new ht(p);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=bn(e.path),a=IDBKeyRange.bound([i],[tx(i)],!1,!0);let l=0;return Ns(t).ee({index:c0,Y:!0,range:a},(([u,f],m,p)=>{u!==0&&(l++,p.done())})).next((()=>l>0))}At(t,e){return ul(t).get(e).next((i=>i?Ic(i):null))}}function ul(n){return Je(n,Nl)}function N1(n){return Je(n,Za)}function Ns(n){return Je(n,kl)}const k1="LruGarbageCollector",x6=1048576;function L1([n,t],[e,i]){const a=It(n,e);return a===0?It(t,i):a}class R6{constructor(t){this.Pr=t,this.buffer=new ne(L1),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();L1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(k1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ta(e)?at(k1,"Ignoring IndexedDB error during garbage collection: ",e):await co(e)}await this.Ar(3e5)}))}}class C6{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return z.resolve(ci.ce);const i=new R6(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(O1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),O1):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,l,u,f,m,p;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,f=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(p=Date.now(),hl()<=Bt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(p-m)+`ms
Total Duration: ${p-y}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function TR(n,t){return new C6(n,t)}class D6{constructor(t,e){this.db=t,this.garbageCollector=TR(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((i,a)=>e(a)))}addReference(t,e,i){return dd(t,i)}removeReference(t,e,i){return dd(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return dd(t,e)}wr(t,e){return(function(a,l){let u=!1;return _R(a).te((f=>yR(a,f,l).next((m=>(m&&(u=!0),z.resolve(!m)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,f)=>{if(f<=e){const m=this.wr(t,u).next((p=>{if(!p)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,Tt.min()),Ns(t).delete((function(v){return[0,bn(v.path)]})(u)))))}));a.push(m)}})).next((()=>z.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return dd(t,e)}yr(t,e){const i=Ns(t);let a,l=ci.ce;return i.ee({index:c0},(([u,f],{path:m,sequenceNumber:p})=>{u===0?(l!==ci.ce&&e(new ht(ar(a)),l),l=p,a=m):l=ci.ce})).next((()=>{l!==ci.ce&&e(new ht(ar(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function dd(n,t){return Ns(n).put((function(i,a){return{targetId:0,path:bn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class ER{constructor(){this.changes=new Gr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ge.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?z.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class V6{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Oa(t).put(i)}removeEntry(t,e,i){return Oa(t).delete((function(l,u){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],um(u),f[f.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.br(t,i))))}getEntry(t,e){let i=ge.newInvalidDocument(e);return Oa(t).ee({index:xd,range:IDBKeyRange.only(vc(e))},((a,l)=>{i=this.Sr(e,l)})).next((()=>i))}Dr(t,e){let i={size:0,document:ge.newInvalidDocument(e)};return Oa(t).ee({index:xd,range:IDBKeyRange.only(vc(e))},((a,l)=>{i={document:this.Sr(e,l),size:hm(l)}})).next((()=>i))}getEntries(t,e){let i=Qn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);i=i.insert(a,u)})).next((()=>i))}vr(t,e){let i=Qn(),a=new ye(ht.comparator);return this.Cr(t,e,((l,u)=>{const f=this.Sr(l,u);i=i.insert(l,f),a=a.insert(l,hm(u))})).next((()=>({documents:i,Fr:a})))}Cr(t,e,i){if(e.isEmpty())return z.resolve();let a=new ne(z1);e.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(vc(a.first()),vc(a.last())),u=a.getIterator();let f=u.getNext();return Oa(t).ee({index:xd,range:l},((m,p,y)=>{const v=ht.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;f&&z1(f,v)<0;)i(f,null),f=u.getNext();f&&f.isEqual(v)&&(i(f,p),f=u.hasNext()?u.getNext():null),f?y.j(vc(f)):y.done()})).next((()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,f=[u.popLast().toArray(),u.lastSegment(),um(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Oa(t).H(IDBKeyRange.bound(f,m,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let y=Qn();for(const v of p){const E=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);E.isFoundDocument()&&(Eh(e,E)||a.has(E.key))&&(y=y.insert(E.key,E))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=Qn();const u=B1(e,i),f=B1(e,Xn.max());return Oa(t).ee({index:lx,range:IDBKeyRange.bound(u,f,!0)},((m,p,y)=>{const v=this.Sr(ht.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new M6(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return U1(t).get($y).next((e=>(_t(!!e,20021),e)))}br(t,e){return U1(t).put($y,e)}Sr(t,e){if(e){const i=g6(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Tt.min())))return i}return ge.newInvalidDocument(t)}}function bR(n){return new V6(n)}class M6 extends ER{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new Gr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new ne(((l,u)=>It(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const f=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,f.readTime)),u.isValidDocument()){const m=E1(this.Mr.serializer,u);a=a.add(l.path.popLast());const p=hm(m);i+=p-f.size,e.push(this.Mr.addEntry(t,l,m))}else if(i-=f.size,this.trackRemovals){const m=E1(this.Mr.serializer,u.convertToNoDocument(Tt.min()));e.push(this.Mr.addEntry(t,l,m))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,i)),z.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((i=>(this.Or.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:i,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function U1(n){return Je(n,Wc)}function Oa(n){return Je(n,im)}function vc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function B1(n,t){const e=t.documentKey.path.toArray();return[n,um(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function z1(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=It(e[l],i[l]),a)return a;return a=It(e.length,i.length),a||(a=It(e[e.length-2],i[i.length-2]),a||It(e[e.length-1],i[i.length-1]))}class P6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class wR{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Bc(i.mutation,a,kn.empty(),te.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Pt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Pt()){const a=or();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=Ac();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=or();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Pt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,f)=>{e.set(u,f)}))}))}computeViews(t,e,i,a){let l=Qn();const u=Uc(),f=(function(){return Uc()})();return e.forEach(((m,p)=>{const y=i.get(p.key);a.has(p.key)&&(y===void 0||y.mutation instanceof Kr)?l=l.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),Bc(y.mutation,p,y.mutation.getFieldMask(),te.now())):u.set(p.key,kn.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((p,y)=>u.set(p,y))),e.forEach(((p,y)=>f.set(p,new P6(y,u.get(p)??null)))),f)))}recalculateAndSaveOverlays(t,e){const i=Uc();let a=new ye(((u,f)=>u-f)),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const f of u)f.keys().forEach((m=>{const p=e.get(m);if(p===null)return;let y=i.get(m)||kn.empty();y=f.applyToLocalView(p,y),i.set(m,y);const v=(a.get(f.batchId)||Pt()).add(m);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,y=m.value,v=Bx();y.forEach((E=>{if(!l.has(E)){const I=Kx(e.get(E),i.get(E));I!==null&&v.set(E,I),l=l.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(t,p,v))}return z.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return k3(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Ox(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):z.resolve(or());let f=Kc,m=l;return u.next((p=>z.forEach(p,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?z.resolve():this.remoteDocumentCache.getEntry(t,y).next((E=>{m=m.insert(y,E)}))))).next((()=>this.populateOverlays(t,p,l))).next((()=>this.computeViews(t,m,p,Pt()))).next((y=>({batchId:f,changes:Ux(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let a=Ac();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=Ac();return this.indexManager.getCollectionParents(t,l).next((f=>z.forEach(f,(m=>{const p=(function(v,E){return new Th(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,p,i,a).next((y=>{y.forEach(((v,E)=>{u=u.insert(v,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((m,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,ge.newInvalidDocument(y)))}));let f=Ac();return u.forEach(((m,p)=>{const y=l.get(m);y!==void 0&&Bc(y.mutation,p,kn.empty(),te.now()),Eh(e,p)&&(f=f.insert(m,p))})),f}))}}class O6{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return z.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:an(a.createTime)}})(e)),z.resolve()}getNamedQuery(t,e){return z.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:fR(a.bundledQuery),readTime:an(a.readTime)}})(e)),z.resolve()}}class N6{constructor(){this.overlays=new ye(ht.comparator),this.Lr=new Map}getOverlay(t,e){return z.resolve(this.overlays.get(e))}getOverlays(t,e){const i=or();return z.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.bt(t,e,l)})),z.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),z.resolve()}getOverlaysForCollection(t,e,i){const a=or(),l=e.length+1,u=new ht(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return z.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new ye(((p,y)=>p-y));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let y=l.get(p.largestBatchId);y===null&&(y=or(),l=l.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const f=or(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((p,y)=>f.set(p,y))),!(f.size()>=a)););return z.resolve(f)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new b0(e,i));let l=this.Lr.get(e);l===void 0&&(l=Pt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(i.key))}}class k6{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return z.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,z.resolve()}}class x0{constructor(){this.kr=new ne(rn.Kr),this.qr=new ne(rn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new rn(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new rn(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new ht(new Ht([])),i=new rn(e,t),a=new rn(e,t+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Ht([])),i=new rn(e,t),a=new rn(e,t+1);let l=Pt();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new rn(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class rn{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||It(t.Hr,e.Hr)}static Ur(t,e){return It(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class L6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ne(rn.Kr)}checkEmpty(t){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new T0(l,e,i,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new rn(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return z.resolve(u)}lookupMutationBatch(t,e){return z.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),l=a<0?0:a;return z.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?$a:this.Yn-1)}getAllMutationBatches(t){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new rn(e,0),a=new rn(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),z.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ne(It);return e.forEach((a=>{const l=new rn(a,0),u=new rn(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{i=i.add(f.Hr)}))})),z.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const u=new rn(new ht(l),0);let f=new ne(It);return this.Jr.forEachWhile((m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(f=f.add(m.Hr)),!0)}),u),z.resolve(this.Yr(f))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){_t(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return z.forEach(e.mutations,(a=>{const l=new rn(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new rn(e,0),a=this.Jr.firstAfterOrEqual(i);return z.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,z.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class U6{constructor(t){this.ti=t,this.docs=(function(){return new ye(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return z.resolve(i?i.document.mutableCopy():ge.newInvalidDocument(e))}getEntries(t,e){let i=Qn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():ge.newInvalidDocument(a))})),z.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Qn();const u=e.path,f=new ht(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:y}}=m.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||l0(ix(y),i)<=0||(a.has(y.key)||Eh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return z.resolve(l)}getAllFromCollectionGroup(t,e,i,a){dt(9500)}ni(t,e){return z.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new B6(this)}getSize(t){return z.resolve(this.size)}}class B6 extends ER{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),z.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class z6{constructor(t){this.persistence=t,this.ri=new Gr((e=>so(e)),vh),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.ii=0,this.si=new x0,this.targetCount=0,this.oi=lo._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),z.resolve()}getLastRemoteSnapshotVersion(t){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return z.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),z.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new lo(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,z.resolve()}updateTargetData(t,e){return this.lr(e),z.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,z.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),z.waitFor(l).next((()=>a))}getTargetCount(t){return z.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return z.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),z.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),z.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),z.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return z.resolve(i)}containsKey(t,e){return z.resolve(this.si.containsKey(e))}}class R0{constructor(t,e){this._i={},this.overlays={},this.ai=new ci(0),this.ui=!1,this.ui=!0,this.ci=new k6,this.referenceDelegate=t(this),this.li=new z6(this),this.indexManager=new A6,this.remoteDocumentCache=(function(a){return new U6(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new cR(e),this.Pi=new O6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new N6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new L6(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const a=new j6(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return z.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class j6 extends sx{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new x0,this.Ai=null}static Vi(t){return new qm(t)}get di(){if(this.Ai)return this.Ai;throw dt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),z.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),z.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),z.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.di,(i=>{const a=ht.fromPath(i);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Tt.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return z.or([()=>z.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class fm{constructor(t,e){this.persistence=t,this.fi=new Gr((i=>bn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=TR(this,e)}static Vi(t,e){return new fm(t,e)}Ti(){}Ii(t){return z.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return z.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((l=>l?z.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((f=>{f||(i++,l.removeEntry(u,Tt.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),z.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),z.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),z.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),z.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Cd(t.data.value)),e}wr(t,e,i){return z.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return z.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class F6{constructor(t){this.serializer=t}k(t,e,i,a){const l=new Dm("createOrUpgrade",e);i<1&&a>=1&&((function(m){m.createObjectStore(_h)})(t),(function(m){m.createObjectStore(Xc,{keyPath:$4}),m.createObjectStore(Ri,{keyPath:$w,autoIncrement:!0}).createIndex(Ka,Zw,{unique:!0}),m.createObjectStore(Ol)})(t),j1(t),(function(m){m.createObjectStore(Ba)})(t));let u=z.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(kl),m.deleteObjectStore(Nl),m.deleteObjectStore(Za)})(t),j1(t)),u=u.next((()=>(function(m){const p=m.store(Za),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return p.put(rm,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(m,p){return p.store(Ri).H().next((v=>{m.deleteObjectStore(Ri),m.createObjectStore(Ri,{keyPath:$w,autoIncrement:!0}).createIndex(Ka,Zw,{unique:!0});const E=p.store(Ri),I=v.map((C=>E.put(C)));return z.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(m){m.createObjectStore(Ll,{keyPath:a3})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(m){m.createObjectStore(Wc)})(t),this.pi(l))))),i<7&&a>=7&&(u=u.next((()=>this.yi(l)))),i<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(m){m.createObjectStore(Vm,{keyPath:o3})})(t),(function(m){m.createObjectStore(Mm,{keyPath:l3})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(m){const p=m.createObjectStore(Pm,{keyPath:p3});p.createIndex(Jy,g3,{unique:!1}),p.createIndex(fx,y3,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(m){const p=m.createObjectStore(im,{keyPath:J4});p.createIndex(xd,t3),p.createIndex(lx,e3)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(Ba)))),i<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(m){m.createObjectStore(h0,{keyPath:u3,autoIncrement:!0}).createIndex(Zy,c3,{unique:!1}),m.createObjectStore(Oc,{keyPath:h3}).createIndex(cx,f3,{unique:!1}),m.createObjectStore(Nc,{keyPath:d3}).createIndex(hx,m3,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(Oc).clear()})).next((()=>{e.objectStore(Nc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(m){m.createObjectStore(f0,{keyPath:_3})})(t)}))),i<18&&a>=18&&rI()&&(u=u.next((()=>{e.objectStore(Oc).clear()})).next((()=>{e.objectStore(Nc).clear()}))),u}pi(t){let e=0;return t.store(Ba).ee(((i,a)=>{e+=hm(a)})).next((()=>{const i={byteSize:e};return t.store(Wc).put($y,i)}))}gi(t){const e=t.store(Xc),i=t.store(Ri);return e.H().next((a=>z.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,$a],[l.userId,l.lastAcknowledgedBatchId]);return i.H(Ka,u).next((f=>z.forEach(f,(m=>{_t(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const p=Fa(this.serializer,m);return gR(t,l.userId,p).next((()=>{}))}))))}))))}yi(t){const e=t.store(kl),i=t.store(Ba);return t.store(Za).get(rm).next((a=>{const l=[];return i.ee(((u,f)=>{const m=new Ht(u),p=(function(v){return[0,bn(v)]})(m);l.push(e.get(p).next((y=>y?z.resolve():(v=>e.put({targetId:0,path:bn(v),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>z.waitFor(l)))}))}wi(t,e){t.createObjectStore($c,{keyPath:s3});const i=e.store($c),a=new I0,l=u=>{if(a.add(u)){const f=u.lastSegment(),m=u.popLast();return i.put({collectionId:f,parent:bn(m)})}};return e.store(Ba).ee({Y:!0},((u,f)=>{const m=new Ht(u);return l(m.popLast())})).next((()=>e.store(Ol).ee({Y:!0},(([u,f,m],p)=>{const y=ar(f);return l(y.popLast())}))))}bi(t){const e=t.store(Nl);return e.ee(((i,a)=>{const l=Ic(a),u=hR(this.serializer,l);return e.put(u)}))}Si(t,e){const i=e.store(Ba),a=[];return i.ee(((l,u)=>{const f=e.store(im),m=(function(v){return v.document?new ht(Ht.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):dt(36783)})(u).path.toArray(),p={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(f.put(p))})).next((()=>z.waitFor(a)))}Di(t,e){const i=e.store(Ri),a=bR(this.serializer),l=new R0(qm.Vi,this.serializer.yt);return i.H().next((u=>{const f=new Map;return u.forEach((m=>{let p=f.get(m.userId)??Pt();Fa(this.serializer,m).keys().forEach((y=>p=p.add(y))),f.set(m.userId,p)})),z.forEach(f,((m,p)=>{const y=new pn(p),v=jm.wt(this.serializer,y),E=l.getIndexManager(y),I=Fm.wt(y,this.serializer,E,l.referenceDelegate);return new wR(a,I,v,E).recalculateAndSaveOverlaysForDocumentKeys(new t_(e,ci.ce),m).next()}))}))}}function j1(n){n.createObjectStore(kl,{keyPath:i3}).createIndex(c0,r3,{unique:!0}),n.createObjectStore(Nl,{keyPath:"targetId"}).createIndex(ux,n3,{unique:!0}),n.createObjectStore(Za)}const Ds="IndexedDbPersistence",my=18e5,py=5e3,gy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",q6="main";class C0{constructor(t,e,i,a,l,u,f,m,p,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ci=l,this.window=u,this.document=f,this.Fi=p,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=E=>Promise.resolve(),!C0.v())throw new lt(W.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new D6(this,a),this.Ki=e+q6,this.serializer=new cR(m),this.qi=new qs(this.Ki,this.xi,new F6(this.serializer)),this.ci=new _6,this.li=new I6(this.referenceDelegate,this.serializer),this.remoteDocumentCache=bR(this.serializer),this.Pi=new y6,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&In(Ds,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new lt(W.FAILED_PRECONDITION,gy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new ci(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>md(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(ta(t))return at(Ds,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at(Ds,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return Tc(t).get(rl).next((e=>z.resolve(this.Xi(e))))}Yi(t){return md(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,my)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Je(e,Ll);return i.H().next((a=>{const l=this.ns(a,my),u=a.filter((f=>l.indexOf(f)===-1));return z.forEach(u,(f=>i.delete(f.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?z.resolve(!0):Tc(t).get(rl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,py)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new lt(W.FAILED_PRECONDITION,gy);return!1}}return!(!this.networkEnabled||!this.inForeground)||md(t).H().next((i=>this.ns(i,py).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,f=this.networkEnabled===a.networkEnabled;if(l||u&&f)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&at(Ds,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[_h,Ll],(t=>{const e=new t_(t,ci.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((i=>this.ts(i.updateTimeMs,e)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>md(t).H().next((e=>this.ns(e,my).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Fm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new S6(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return jm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,i){at(Ds,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?E3:m===17?gx:m===16?T3:m===15?d0:m===14?px:m===13?mx:m===12?v3:m===11?dx:void dt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(f=>(u=new t_(f,this.ai?this.ai.next():ci.ce),e==="readwrite-primary"?this.ji(u).next((m=>!!m||this.Hi(u))).next((m=>{if(!m)throw In(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new lt(W.FAILED_PRECONDITION,rx);return i(u)})).next((m=>this.Zi(u).next((()=>m)))):this.Ps(u).next((()=>i(u)))))).then((f=>(u.raiseOnCommittedEvent(),f)))}Ps(t){return Tc(t).get(rl).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,py)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new lt(W.FAILED_PRECONDITION,gy)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tc(t).put(rl,e)}static v(){return qs.v()}Ji(t){const e=Tc(t);return e.get(rl).next((i=>this.Xi(i)?(at(Ds,"Releasing primary lease."),e.delete(rl)):z.resolve()))}ts(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(In(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;iI()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return at(Ds,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return In(Ds,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){In("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Tc(n){return Je(n,_h)}function md(n){return Je(n,Ll)}function H6(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class D0{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Pt(),a=Pt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new D0(t,e.fromCache,i,a)}}class G6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class AR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return iI()?8:ax(Ze())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new G6;return this.ys(t,e,u).next((f=>{if(l.result=f,this.As)return this.ws(t,e,u,f.size)}))})).next((()=>l.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(hl()<=Bt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",fl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),z.resolve()):(hl()<=Bt.DEBUG&&at("QueryEngine","Query:",fl(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(hl()<=Bt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",fl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fi(e))):z.resolve())}gs(t,e){if(h1(e))return z.resolve(null);let i=fi(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=o_(e,null,"F"),i=fi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Pt(...l);return this.fs.getDocuments(t,u).next((f=>this.indexManager.getMinOffset(t,i).next((m=>{const p=this.bs(e,f);return this.Ss(e,p,u,m.readTime)?this.gs(t,o_(e,null,"F")):this.Ds(t,p,e,m)}))))})))))}ps(t,e,i,a){return h1(e)||a.isEqual(Tt.min())?z.resolve(null):this.fs.getDocuments(t,i).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,i,a)?z.resolve(null):(hl()<=Bt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),fl(e)),this.Ds(t,u,e,H4(a,Kc)).next((f=>f)))}))}bs(t,e){let i=new ne(kx(t));return e.forEach(((a,l)=>{Eh(t,l)&&(i=i.add(l))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,i){return hl()<=Bt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",fl(e)),this.fs.getDocumentsMatchingQuery(t,e,Xn.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const V0="LocalStore",K6=3e8;class Y6{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new ye(It),this.Fs=new Gr((l=>so(l)),vh),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new wR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function SR(n,t,e,i){return new Y6(n,t,e,i)}async function IR(n,t){const e=At(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let m=Pt();for(const p of a){u.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}for(const p of l){f.push(p.batchId);for(const y of p.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(i,m).next((p=>({Ns:p,removedBatchIds:u,addedBatchIds:f})))}))}))}function Q6(n,t){const e=At(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,p,y){const v=p.batch,E=v.keys();let I=z.resolve();return E.forEach((C=>{I=I.next((()=>y.getEntry(m,C))).next((U=>{const P=p.docVersions.get(C);_t(P!==null,48541),U.version.compareTo(P)<0&&(v.applyToRemoteDocument(U,p),U.isValidDocument()&&(U.setReadTime(p.commitVersion),y.addEntry(U)))}))})),I.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Pt();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function xR(n){const t=At(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function X6(n,t){const e=At(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const f=[];t.targetChanges.forEach(((y,v)=>{const E=a.get(v);if(!E)return;f.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let I=E.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Ye.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(v,I),(function(U,P,j){return U.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=K6?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0})(E,I,y)&&f.push(e.li.updateTargetData(l,I))}));let m=Qn(),p=Pt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(W6(l,u,t.documentUpdates).next((y=>{m=y.Bs,p=y.Ls}))),!i.isEqual(Tt.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return z.waitFor(f).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,p))).next((()=>m))})).then((l=>(e.vs=a,l)))}function W6(n,t,e){let i=Pt(),a=Pt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=Qn();return e.forEach(((f,m)=>{const p=l.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(t.removeEntry(f,m.readTime),u=u.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),u=u.insert(f,m)):at(V0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function $6(n,t){const e=At(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=$a),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function Z6(n,t){const e=At(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((l=>l?(a=l,z.resolve(a)):e.li.allocateTargetId(i).next((u=>(a=new kr(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function p_(n,t,e){const i=At(n),a=i.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!ta(u))throw u;at(V0,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function F1(n,t,e){const i=At(n);let a=Tt.min(),l=Pt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,p,y){const v=At(m),E=v.Fs.get(y);return E!==void 0?z.resolve(v.vs.get(E)):v.li.getTargetData(p,y)})(i,u,fi(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,e?a:Tt.min(),e?l:Pt()))).next((f=>(J6(i,U3(t),f),{documents:f,ks:l})))))}function J6(n,t,e){let i=n.Ms.get(t)||Tt.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(t,i)}class q1{constructor(){this.activeTargetIds=H3()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class RR{constructor(){this.vo=new q1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new q1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class tL{Mo(t){}shutdown(){}}const H1="ConnectivityMonitor";class G1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(H1,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(H1,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pd=null;function g_(){return pd===null?pd=(function(){return 268435456+Math.round(2147483648*Math.random())})():pd++,"0x"+pd.toString(16)}const yy="RestConnection",eL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class nL{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===sm?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,l){const u=g_(),f=this.Qo(t,e.toUriEncodedString());at(yy,`Sending RPC '${t}' ${u}:`,f,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:p}=new URL(f),y=$l(p);return this.zo(t,f,m,i,y).then((v=>(at(yy,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Ys(yy,`RPC '${t}' ${u} failed with error: `,v,"url: ",f,"request:",i),v}))}jo(t,e,i,a,l,u){return this.Wo(t,e,i,a,l)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+eu})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const i=eL[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class iL{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const vn="WebChannelConnection",Ec=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Il extends nL{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Il.c_){const t=WI();Ec(t,XI.STAT_EVENT,(e=>{e.stat===Qy.PROXY?at(vn,"STAT_EVENT: detected buffering proxy"):e.stat===Qy.NOPROXY&&at(vn,"STAT_EVENT: detected no buffering proxy")})),Il.c_=!0}}zo(t,e,i,a,l){const u=g_();return new Promise(((f,m)=>{const p=new YI;p.setWithCredentials(!0),p.listenOnce(QI.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Ad.NO_ERROR:const v=p.getResponseJson();at(vn,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),f(v);break;case Ad.TIMEOUT:at(vn,`RPC '${t}' ${u} timed out`),m(new lt(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ad.HTTP_ERROR:const E=p.getStatus();if(at(vn,`RPC '${t}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I?.error;if(C&&C.status&&C.message){const U=(function(j){const X=j.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN})(C.status);m(new lt(U,C.message))}else m(new lt(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new lt(W.UNAVAILABLE,"Connection failed."));break;default:dt(9055,{l_:t,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{at(vn,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);at(vn,`RPC '${t}' ${u} sending request:`,a),p.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=g_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const p=l.join("");at(vn,`Creating RPC '${t}' stream ${a}: ${p}`,f);const y=u.createWebChannel(p,f);this.I_(y);let v=!1,E=!1;const I=new iL({Ho:C=>{E?at(vn,`Not sending because RPC '${t}' stream ${a} is closed:`,C):(v||(at(vn,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),at(vn,`RPC '${t}' stream ${a} sending:`,C),y.send(C))},Jo:()=>y.close()});return Ec(y,wc.EventType.OPEN,(()=>{E||(at(vn,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),Ec(y,wc.EventType.CLOSE,(()=>{E||(E=!0,at(vn,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),Ec(y,wc.EventType.ERROR,(C=>{E||(E=!0,Ys(vn,`RPC '${t}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),I.o_(new lt(W.UNAVAILABLE,"The operation could not be completed")))})),Ec(y,wc.EventType.MESSAGE,(C=>{if(!E){const U=C.data[0];_t(!!U,16349);const P=U,j=P?.error||P[0]?.error;if(j){at(vn,`RPC '${t}' stream ${a} received error:`,j);const X=j.status;let K=(function(ct){const R=Fe[ct];if(R!==void 0)return Xx(R)})(X),J=j.message;X==="NOT_FOUND"&&J.includes("database")&&J.includes("does not exist")&&J.includes(this.databaseId.database)&&Ys(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),K===void 0&&(K=W.INTERNAL,J="Unknown error status: "+X+" with message "+j.message),E=!0,I.o_(new lt(K,J)),y.close()}else at(vn,`RPC '${t}' stream ${a} received:`,U),I.__(U)}})),Il.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $I()}}function rL(n){return new Il(n)}function sL(){return typeof window<"u"?window:null}function Od(){return typeof document<"u"?document:null}function Hm(n){return new s6(n,!0)}Il.c_=!1;class M0{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&at("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const K1="PersistentStream";class CR{constructor(t,e,i,a,l,u,f,m){this.Ci=t,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new M0(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===W.RESOURCE_EXHAUSTED?(In(e.toString()),In("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new lt(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(K1,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(at(K1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class aL extends CR{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=u6(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Tt.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Tt.min():u.readTime?an(u.readTime):Tt.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=c_(this.serializer),e.addTarget=(function(l,u){let f;const m=u.target;if(f=om(m)?{documents:iR(l,m)}:{query:rR(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=Zx(l,u.resumeToken);const p=l_(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(Tt.min())>0){f.readTime=Gl(l,u.snapshotVersion.toTimestamp());const p=l_(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f})(this.serializer,t);const i=h6(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=c_(this.serializer),e.removeTarget=t,this.K_(e)}}class oL extends CR{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return _t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=c6(t.writeResults,t.commitTime),i=an(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=c_(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>rh(this.serializer,i)))};this.K_(e)}}class lL{}class uL extends lL{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,u_(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new lt(W.UNKNOWN,l.toString())}))}jo(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(t,u_(e,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new lt(W.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function cL(n,t,e,i){return new uL(n,t,e,i)}class hL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(In(e),this.aa=!1):at("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const uo="RemoteStore";class fL{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{ho(this)&&(at(uo,"Restarting streams for network reachability change."),await(async function(m){const p=At(m);p.Ea.add(4),await Ah(p),p.Va.set("Unknown"),p.Ea.delete(4),await Gm(p)})(this))}))})),this.Va=new hL(i,a)}}async function Gm(n){if(ho(n))for(const t of n.Ra)await t(!0)}async function Ah(n){for(const t of n.Ra)await t(!1)}function DR(n,t){const e=At(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),k0(e)?N0(e):iu(e).O_()&&O0(e,t))}function P0(n,t){const e=At(n),i=iu(e);e.Ia.delete(t),i.O_()&&VR(e,t),e.Ia.size===0&&(i.O_()?i.L_():ho(e)&&e.Va.set("Unknown"))}function O0(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}iu(n).Z_(t)}function VR(n,t){n.da.$e(t),iu(n).X_(t)}function N0(n){n.da=new e6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),iu(n).start(),n.Va.ua()}function k0(n){return ho(n)&&!iu(n).x_()&&n.Ia.size>0}function ho(n){return At(n).Ea.size===0}function MR(n){n.da=void 0}async function dL(n){n.Va.set("Online")}async function mL(n){n.Ia.forEach(((t,e)=>{O0(n,t)}))}async function pL(n,t){MR(n),k0(n)?(n.Va.ha(t),N0(n)):n.Va.set("Unknown")}async function gL(n,t,e){if(n.Va.set("Online"),t instanceof $x&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(n,t)}catch(i){at(uo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await dm(n,i)}else if(t instanceof Md?n.da.Xe(t):t instanceof Wx?n.da.st(t):n.da.tt(t),!e.isEqual(Tt.min()))try{const i=await xR(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(p);y&&l.Ia.set(p,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,p)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Ye.EMPTY_BYTE_STRING,y.snapshotVersion)),VR(l,m);const v=new kr(y.target,m,p,y.sequenceNumber);O0(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(n,e)}catch(i){at(uo,"Failed to raise snapshot:",i),await dm(n,i)}}async function dm(n,t,e){if(!ta(t))throw t;n.Ea.add(1),await Ah(n),n.Va.set("Offline"),e||(e=()=>xR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{at(uo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Gm(n)}))}function PR(n,t){return t().catch((e=>dm(n,e,t)))}async function Sh(n){const t=At(n),e=Ws(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$a;for(;yL(t);)try{const a=await $6(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,_L(t,a)}catch(a){await dm(t,a)}OR(t)&&NR(t)}function yL(n){return ho(n)&&n.Ta.length<10}function _L(n,t){n.Ta.push(t);const e=Ws(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function OR(n){return ho(n)&&!Ws(n).x_()&&n.Ta.length>0}function NR(n){Ws(n).start()}async function vL(n){Ws(n).ra()}async function TL(n){const t=Ws(n);for(const e of n.Ta)t.ea(e.mutations)}async function EL(n,t,e){const i=n.Ta.shift(),a=E0.from(i,t,e);await PR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Sh(n)}async function bL(n,t){t&&Ws(n).Y_&&await(async function(i,a){if((function(u){return Qx(u)&&u!==W.ABORTED})(a.code)){const l=i.Ta.shift();Ws(i).B_(),await PR(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Sh(i)}})(n,t),OR(n)&&NR(n)}async function Y1(n,t){const e=At(n);e.asyncQueue.verifyOperationInProgress(),at(uo,"RemoteStore received new credentials");const i=ho(e);e.Ea.add(3),await Ah(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Gm(e)}async function wL(n,t){const e=At(n);t?(e.Ea.delete(2),await Gm(e)):t||(e.Ea.add(2),await Ah(e),e.Va.set("Unknown"))}function iu(n){return n.ma||(n.ma=(function(e,i,a){const l=At(e);return l.sa(),new aL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:dL.bind(null,n),Yo:mL.bind(null,n),t_:pL.bind(null,n),J_:gL.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),k0(n)?N0(n):n.Va.set("Unknown")):(await n.ma.stop(),MR(n))}))),n.ma}function Ws(n){return n.fa||(n.fa=(function(e,i,a){const l=At(e);return l.sa(),new oL(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:vL.bind(null,n),t_:bL.bind(null,n),ta:TL.bind(null,n),na:EL.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await Sh(n)):(await n.fa.stop(),n.Ta.length>0&&(at(uo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class L0{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,f=new L0(t,e,u,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U0(n,t){if(In("AsyncQueue",`${t}: ${n}`),ta(n))return new lt(W.UNAVAILABLE,`${t}: ${n}`);throw n}class xl{static emptySet(t){return new xl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=Ac(),this.sortedSet=new ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof xl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new xl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class Q1{constructor(){this.ga=new ye(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):dt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Kl{constructor(t,e,i,a,l,u,f,m,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((f=>{u.push({type:0,doc:f})})),new Kl(t,e,xl.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Lm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class AL{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class SL{constructor(){this.queries=X1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=At(e),l=a.queries;a.queries=X1(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(i)}))})(this,new lt(W.ABORTED,"Firestore shutting down"))}}function X1(){return new Gr((n=>Nx(n)),Lm)}async function IL(n,t){const e=At(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(i=2):(l=new AL,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const f=U0(u,`Initialization of query '${fl(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&B0(e)}async function xL(n,t){const e=At(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function RL(n,t){const e=At(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(i=!0);u.wa=a}}i&&B0(e)}function CL(n,t,e){const i=At(n),a=i.queries.get(t);if(a)for(const l of a.ba)l.onError(e);i.queries.delete(t)}function B0(n){n.Ca.forEach((t=>{t.next()}))}var y_,W1;(W1=y_||(y_={})).Ma="default",W1.Cache="cache";class DL{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Kl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Kl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==y_.Cache}}class kR{constructor(t){this.key=t}}class LR{constructor(t){this.key=t}}class VL{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=kx(t),this.tu=new xl(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new Q1,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const E=a.get(y),I=Eh(this.query,v)?v:null,C=!!E&&this.mutatedKeys.has(E.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let P=!1;E&&I?E.data.isEqual(I.data)?C!==U&&(i.track({type:3,doc:I}),P=!0):this.su(E,I)||(i.track({type:2,doc:I}),P=!0,(m&&this.eu(I,m)>0||p&&this.eu(I,p)<0)&&(f=!0)):!E&&I?(i.track({type:0,doc:I}),P=!0):E&&!I&&(i.track({type:1,doc:E}),P=!0,(m||p)&&(f=!0)),P&&(I?(u=u.add(I),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:f,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,C){const U=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt(20277,{Vt:P})}};return U(I)-U(C)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const f=e&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,p=m!==this.Xa;return this.Xa=m,u.length!==0||p?{snapshot:new Kl(this.query,t.tu,l,u,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Q1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new LR(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new kR(i))})),e}cu(t){this.Za=t.ks,this.Ya=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Kl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const z0="SyncEngine";class ML{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class PL{constructor(t){this.key=t,this.hu=!1}}class OL{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Gr((f=>Nx(f)),Lm),this.Iu=new Map,this.Eu=new Set,this.Ru=new ye(ht.comparator),this.Au=new Map,this.Vu=new x0,this.du={},this.mu=new Map,this.fu=lo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function NL(n,t,e=!0){const i=qR(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await UR(i,t,e,!0),a}async function kL(n,t){const e=qR(n);await UR(e,t,!0,!1)}async function UR(n,t,e,i){const a=await Z6(n.localStore,fi(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let f;return i&&(f=await LL(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&DR(n.remoteStore,a),f}async function LL(n,t,e,i,a){n.pu=(v,E,I)=>(async function(U,P,j,X){let K=P.view.ru(j);K.Ss&&(K=await F1(U.localStore,P.query,!1).then((({documents:R})=>P.view.ru(R,K))));const J=X&&X.targetChanges.get(P.targetId),rt=X&&X.targetMismatches.get(P.targetId)!=null,ct=P.view.applyChanges(K,U.isPrimaryClient,J,rt);return Z1(U,P.targetId,ct.au),ct.snapshot})(n,v,E,I);const l=await F1(n.localStore,t,!0),u=new VL(t,l.ks),f=u.ru(l.documents),m=wh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),p=u.applyChanges(f,n.isPrimaryClient,m);Z1(n,e,p.au);const y=new ML(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),p.snapshot}async function UL(n,t,e){const i=At(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!Lm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await p_(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&P0(i.remoteStore,a.targetId),__(i,a.targetId)})).catch(co)):(__(i,a.targetId),await p_(i.localStore,a.targetId,!0))}async function BL(n,t){const e=At(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),P0(e.remoteStore,i.targetId))}async function zL(n,t,e){const i=HR(n);try{const a=await(function(u,f){const m=At(u),p=te.now(),y=f.reduce(((I,C)=>I.add(C.key)),Pt());let v,E;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let C=Qn(),U=Pt();return m.xs.getEntries(I,y).next((P=>{C=P,C.forEach(((j,X)=>{X.isValidDocument()||(U=U.add(j))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,C))).next((P=>{v=P;const j=[];for(const X of f){const K=$3(X,v.get(X.key).overlayedDocument);K!=null&&j.push(new Kr(X.key,K,Ix(K.value.mapValue),sn.exists(!0)))}return m.mutationQueue.addMutationBatch(I,p,j,f)})).next((P=>{E=P;const j=P.applyToLocalDocumentSet(v,U);return m.documentOverlayCache.saveOverlays(I,P.batchId,j)}))})).then((()=>({batchId:E.batchId,changes:Ux(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let p=u.du[u.currentUser.toKey()];p||(p=new ye(It)),p=p.insert(f,m),u.du[u.currentUser.toKey()]=p})(i,a.batchId,e),await Ih(i,a.changes),await Sh(i.remoteStore)}catch(a){const l=U0(a,"Failed to persist write");e.reject(l)}}async function BR(n,t){const e=At(n);try{const i=await X6(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(_t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?_t(u.hu,14607):a.removedDocuments.size>0&&(_t(u.hu,42227),u.hu=!1))})),await Ih(e,i,t)}catch(i){await co(i)}}function $1(n,t,e){const i=At(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=At(u);m.onlineState=f;let p=!1;m.queries.forEach(((y,v)=>{for(const E of v.ba)E.va(f)&&(p=!0)})),p&&B0(m)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function jL(n,t,e){const i=At(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new ye(ht.comparator);u=u.insert(l,ge.newNoDocument(l,Tt.min()));const f=Pt().add(l),m=new zm(Tt.min(),new Map,new ye(It),u,f);await BR(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(t),j0(i)}else await p_(i.localStore,t,!1).then((()=>__(i,t,e))).catch(co)}async function FL(n,t){const e=At(n),i=t.batch.batchId;try{const a=await Q6(e.localStore,t);jR(e,i,null),zR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Ih(e,a)}catch(a){await co(a)}}async function qL(n,t,e){const i=At(n);try{const a=await(function(u,f){const m=At(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let y;return m.mutationQueue.lookupMutationBatch(p,f).next((v=>(_t(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(p,v)))).next((()=>m.mutationQueue.performConsistencyCheck(p))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(p,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y))).next((()=>m.localDocuments.getDocuments(p,y)))}))})(i.localStore,t);jR(i,t,e),zR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Ih(i,a)}catch(a){await co(a)}}function zR(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function jR(n,t,e){const i=At(n);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function __(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||FR(n,i)}))}function FR(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(P0(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),j0(n))}function Z1(n,t,e){for(const i of e)i instanceof kR?(n.Vu.addReference(i.key,t),HL(n,i)):i instanceof LR?(at(z0,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||FR(n,i.key)):dt(19791,{wu:i})}function HL(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(at(z0,"New document in limbo: "+e),n.Eu.add(i),j0(n))}function j0(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Ht.fromString(t)),i=n.fu.next();n.Au.set(i,new PL(e)),n.Ru=n.Ru.insert(e,i),DR(n.remoteStore,new kr(fi(km(e.path)),i,"TargetPurposeLimboResolution",ci.ce))}}async function Ih(n,t,e){const i=At(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{u.push(i.pu(m,t,e).then((p=>{if((p||e)&&i.isPrimaryClient){const y=p?!p.fromCache:e?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(p){a.push(p);const y=D0.Es(m.targetId,p);l.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,p){const y=At(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>z.forEach(p,(E=>z.forEach(E.Ts,(I=>y.persistence.referenceDelegate.addReference(v,E.targetId,I))).next((()=>z.forEach(E.Is,(I=>y.persistence.referenceDelegate.removeReference(v,E.targetId,I)))))))))}catch(v){if(!ta(v))throw v;at(V0,"Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const I=y.vs.get(E),C=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(C);y.vs=y.vs.insert(E,U)}}})(i.localStore,l))}async function GL(n,t){const e=At(n);if(!e.currentUser.isEqual(t)){at(z0,"User change. New user:",t.toKey());const i=await IR(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new lt(W.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Ih(e,i.Ns)}}function KL(n,t){const e=At(n),i=e.Au.get(t);if(i&&i.hu)return Pt().add(i.key);{let a=Pt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const f=e.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function qR(n){const t=At(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=KL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jL.bind(null,t),t.Pu.J_=RL.bind(null,t.eventManager),t.Pu.yu=CL.bind(null,t.eventManager),t}function HR(n){const t=At(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qL.bind(null,t),t}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Hm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return SR(this.persistence,new AR,t.initialUser,this.serializer)}Cu(t){return new R0(qm.Vi,this.serializer)}Du(t){return new RR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class YL extends sh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_t(this.persistence.referenceDelegate instanceof fm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new vR(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new R0((i=>fm.Vi(i,e)),this.serializer)}}class QL extends sh{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await HR(this.xu.syncEngine),await Sh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return SR(this.persistence,new AR,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new vR(i,t.asyncQueue,e)}Mu(t,e){const i=new Q4(e,this.persistence);return new Y4(t.asyncQueue,i)}Cu(t){const e=H6(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new C0(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,sL(),Od(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new RR}}class mm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>$1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GL.bind(null,this.syncEngine),await wL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new SL})()}createDatastore(t){const e=Hm(t.databaseInfo.databaseId),i=rL(t.databaseInfo);return cL(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,f){return new fL(i,a,l,u,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>$1(this.syncEngine,e,0)),(function(){return G1.v()?new G1:new tL})())}createSyncEngine(t,e){return(function(a,l,u,f,m,p,y){const v=new OL(a,l,u,f,m,p);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=At(e);at(uo,"RemoteStore shutting down."),i.Ea.add(5),await Ah(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class XL{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):In("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}let WL=class{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(t){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new lt(W.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const e=await(async function(a,l){const u=At(a),f={documents:l.map((v=>ih(u.serializer,v)))},m=await u.jo("BatchGetDocuments",u.serializer.databaseId,Ht.emptyPath(),f,l.length),p=new Map;m.forEach((v=>{const E=l6(u.serializer,v);p.set(E.key.toString(),E)}));const y=[];return l.forEach((v=>{const E=p.get(v.toString());_t(!!E,55234,{key:v}),y.push(E)})),y})(this.datastore,t);return e.forEach((i=>this.recordVersion(i))),e}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new bh(t,this.precondition(t))),this.writtenDocs.add(t.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const t=this.readVersions;this.mutations.forEach((e=>{t.delete(e.key.toString())})),t.forEach(((e,i)=>{const a=ht.fromPath(i);this.mutations.push(new v0(a,this.precondition(a)))})),await(async function(i,a){const l=At(i),u={writes:a.map((f=>rh(l.serializer,f)))};await l.Wo("Commit",l.serializer.databaseId,Ht.emptyPath(),u)})(this.datastore,this.mutations),this.committed=!0}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw dt(50498,{Gu:t.constructor.name});e=Tt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new lt(W.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?sn.exists(!1):sn.updateTime(e):sn.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new lt(W.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return sn.updateTime(e)}return sn.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}};class $L{constructor(t,e,i,a,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=a,this.deferred=l,this.zu=i.maxAttempts,this.M_=new M0(this.asyncQueue,"transaction_retry")}ju(){this.zu-=1,this.Hu()}Hu(){this.M_.p_((async()=>{const t=new WL(this.datastore),e=this.Ju(t);e&&e.then((i=>{this.asyncQueue.enqueueAndForget((()=>t.commit().then((()=>{this.deferred.resolve(i)})).catch((a=>{this.Zu(a)}))))})).catch((i=>{this.Zu(i)}))}))}Ju(t){try{const e=this.updateFunction(t);return!yh(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Zu(t){this.zu>0&&this.Xu(t)?(this.zu-=1,this.asyncQueue.enqueueAndForget((()=>(this.Hu(),Promise.resolve())))):this.deferred.reject(t)}Xu(t){if(t?.name==="FirebaseError"){const e=t.code;return e==="aborted"||e==="failed-precondition"||e==="already-exists"||!Qx(e)}return!1}}const $s="FirestoreClient";class ZL{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=pn.UNAUTHENTICATED,this.clientId=o0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{at($s,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(at($s,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=U0(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function _y(n,t){n.asyncQueue.verifyOperationInProgress(),at($s,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await IR(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function J1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await JL(n);at($s,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Y1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>Y1(t.remoteStore,a))),n._onlineComponents=t}async function JL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at($s,"Using user provided OfflineComponentProvider");try{await _y(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===W.FAILED_PRECONDITION||a.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Ys("Error using user provided cache. Falling back to memory cache: "+e),await _y(n,new sh)}}else at($s,"Using default OfflineComponentProvider"),await _y(n,new YL(void 0));return n._offlineComponents}async function F0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at($s,"Using user provided OnlineComponentProvider"),await J1(n,n._uninitializedComponentsProvider._online)):(at($s,"Using default OnlineComponentProvider"),await J1(n,new mm))),n._onlineComponents}function t5(n){return F0(n).then((t=>t.syncEngine))}function e5(n){return F0(n).then((t=>t.datastore))}async function tA(n){const t=await F0(n),e=t.eventManager;return e.onListen=NL.bind(null,t.syncEngine),e.onUnlisten=UL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=kL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=BL.bind(null,t.syncEngine),e}function n5(n,t,e,i){const a=new XL(i),l=new DL(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>IL(await tA(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>xL(await tA(n),l)))}}function i5(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((async()=>zL(await t5(n),t,e))),e.promise}function r5(n,t,e){const i=new Lr;return n.asyncQueue.enqueueAndForget((async()=>{const a=await e5(n);new $L(n.asyncQueue,a,e,t,i).ju()})),i.promise}function GR(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const s5="ComponentProvider",eA=new Map;function a5(n,t,e,i,a){return new w3(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,GR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const KR="firestore.googleapis.com",nA=!0;class iA{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KR,this.ssl=nA}else this.host=t.host,this.ssl=t.ssl??nA;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=pR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<x6)throw new lt(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new lt(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Km{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iA({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iA(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new P4;switch(i.type){case"firstParty":return new L4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new lt(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=eA.get(e);i&&(at(s5,"Removing Datastore"),eA.delete(e),i.terminate())})(this),Promise.resolve()}}function o5(n,t,e,i={}){n=Wa(n,Km);const a=$l(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},f=`${t}:${e}`;a&&(tI(`https://${f}`),eI("Firestore",!0)),l.host!==KR&&l.host!==f&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!to(m,u)&&(n._setSettings(m),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=pn.MOCK_USER;else{p=sO(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new lt(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new pn(v)}n._authCredentials=new O4(new JI(p,y))}}class ru{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ru(this.firestore,t,this._query)}}class Ge{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ge(this.firestore,t,this._key)}toJSON(){return{type:Ge._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(gh(e,Ge._jsonSchema))return new Ge(t,i||null,new ht(Ht.fromString(e.referencePath)))}}Ge._jsonSchemaVersion="firestore/documentReference/1.0",Ge._jsonSchema={type:He("string",Ge._jsonSchemaVersion),referencePath:He("string")};class Hs extends ru{constructor(t,e,i){super(t,e,km(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ge(this.firestore,null,new ht(t))}withConverter(t){return new Hs(this.firestore,t,this._path)}}function l5(n,t,...e){if(n=Ke(n),ex("collection","path",t),n instanceof Km){const i=Ht.fromString(t,...e);return Kw(i),new Hs(n,null,i)}{if(!(n instanceof Ge||n instanceof Hs))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return Kw(i),new Hs(n.firestore,null,i)}}function rA(n,t,...e){if(n=Ke(n),arguments.length===1&&(t=o0.newId()),ex("doc","path",t),n instanceof Km){const i=Ht.fromString(t,...e);return Gw(i),new Ge(n,null,new ht(i))}{if(!(n instanceof Ge||n instanceof Hs))throw new lt(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ht.fromString(t,...e));return Gw(i),new Ge(n.firestore,n instanceof Hs?n.converter:null,new ht(i))}}const sA="AsyncQueue";class aA{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new M0(this,"async_queue_retry"),this._c=()=>{const i=Od();i&&at(sA,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Od();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Od();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!ta(t))throw t;at(sA,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,In("INTERNAL UNHANDLED ERROR: ",oA(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=L0.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&dt(47125,{Pc:oA(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function oA(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Yl extends Km{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new aA,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new aA(t),this._firestoreClient=void 0,await t}}}function u5(n,t){const e=typeof n=="object"?n:uI(),i=typeof n=="string"?n:sm,a=X_(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=iO("firestore");l&&o5(a,...l)}return a}function q0(n){if(n._terminated)throw new lt(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YR(n),n._firestoreClient}function YR(n){const t=n._freezeSettings(),e=a5(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new ZL(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}function c5(n,t){Ys("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return h5(n,mm.provider,{build:i=>new QL(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function h5(n,t,e){if((n=Wa(n,Yl))._firestoreClient||n._terminated)throw new lt(W.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new lt(W.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},YR(n)}class Yn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Yn(Ye.fromBase64String(t))}catch(e){throw new lt(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Yn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Yn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gh(t,Yn._jsonSchema))return Yn.fromBase64String(t.bytes)}}Yn._jsonSchemaVersion="firestore/bytes/1.0",Yn._jsonSchema={type:He("string",Yn._jsonSchemaVersion),bytes:He("string")};class H0{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new lt(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ve(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ym{constructor(t){this._methodName=t}}class ur{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new lt(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new lt(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ur._jsonSchemaVersion}}static fromJSON(t){if(gh(t,ur._jsonSchema))return new ur(t.latitude,t.longitude)}}ur._jsonSchemaVersion="firestore/geoPoint/1.0",ur._jsonSchema={type:He("string",ur._jsonSchemaVersion),latitude:He("number"),longitude:He("number")};class Vi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gh(t,Vi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Vi(t.vectorValues);throw new lt(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:He("string",Vi._jsonSchemaVersion),vectorValues:He("object")};const f5=/^__.*__$/;class d5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,e,this.fieldTransforms):new nu(t,this.data,e,this.fieldTransforms)}}class QR{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Kr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function XR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt(40011,{dataSource:n})}}class G0{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new G0({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return pm(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(XR(this.dataSource)&&f5.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class m5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Hm(t)}createContext(t,e,i,a=!1){return new G0({dataSource:t,methodName:e,targetDoc:i,path:ve.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WR(n){const t=n._freezeSettings(),e=Hm(n._databaseId);return new m5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function p5(n,t,e,i,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);Y0("Data must be an object, but it was:",u,i);const f=$R(i,u);let m,p;if(l.merge)m=new kn(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const E=Ql(t,v,e);if(!u.contains(E))throw new lt(W.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);tC(y,E)||y.push(E)}m=new kn(y),p=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,p=u.fieldTransforms;return new d5(new yn(f),m,p)}class Qm extends Ym{_toFieldTransform(t){if(t.dataSource!==2)throw t.dataSource===1?t.createError(`${this._methodName}() can only appear at the top level of your update data`):t.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Qm}}class K0 extends Ym{_toFieldTransform(t){return new Gx(t.path,new Fl)}isEqual(t){return t instanceof K0}}function g5(n,t,e,i){const a=n.createContext(1,t,e);Y0("Data must be an object, but it was:",a,i);const l=[],u=yn.empty();ea(i,((m,p)=>{const y=JR(t,m,e);p=Ke(p);const v=a.childContextForFieldPath(y);if(p instanceof Qm)l.push(y);else{const E=xh(p,v);E!=null&&(l.push(y),u.set(y,E))}}));const f=new kn(l);return new QR(u,f,a.fieldTransforms)}function y5(n,t,e,i,a,l){const u=n.createContext(1,t,e),f=[Ql(t,i,e)],m=[a];if(l.length%2!=0)throw new lt(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<l.length;E+=2)f.push(Ql(t,l[E])),m.push(l[E+1]);const p=[],y=yn.empty();for(let E=f.length-1;E>=0;--E)if(!tC(p,f[E])){const I=f[E];let C=m[E];C=Ke(C);const U=u.childContextForFieldPath(I);if(C instanceof Qm)p.push(I);else{const P=xh(C,U);P!=null&&(p.push(I),y.set(I,P))}}const v=new kn(p);return new QR(y,v,u.fieldTransforms)}function _5(n,t,e,i=!1){return xh(e,n.createContext(i?4:3,t))}function xh(n,t){if(ZR(n=Ke(n)))return Y0("Unsupported field value:",t,n),$R(n,t);if(n instanceof Ym)return(function(i,a){if(!XR(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let m=xh(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=Ke(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return G3(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=te.fromDate(i);return{timestampValue:Gl(a.serializer,l)}}if(i instanceof te){const l=new te(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Gl(a.serializer,l)}}if(i instanceof ur)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Yn)return{bytesValue:Zx(a.serializer,i._byteString)};if(i instanceof Ge){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:A0(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Vi)return(function(u,f){const m=u instanceof Vi?u.toArray():u;return{mapValue:{fields:{[p0]:{stringValue:g0},[Ul]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return _0(f.serializer,y)}))}}}}}})(i,a);if(uR(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Cm(i)}`)})(n,t)}function $R(n,t){const e={};return yx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ea(n,((i,a)=>{const l=xh(a,t.childContextForField(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function ZR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof te||n instanceof ur||n instanceof Yn||n instanceof Ge||n instanceof Ym||n instanceof Vi||uR(n))}function Y0(n,t,e){if(!ZR(e)||!nx(e)){const i=Cm(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function Ql(n,t,e){if((t=Ke(t))instanceof H0)return t._internalPath;if(typeof t=="string")return JR(n,t);throw pm("Field path arguments must be of type string or ",n,!1,void 0,e)}const v5=new RegExp("[~\\*/\\[\\]]");function JR(n,t,e){if(t.search(v5)>=0)throw pm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new H0(...t.split("."))._internalPath}catch{throw pm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function pm(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new lt(W.INVALID_ARGUMENT,f+n+m)}function tC(n,t){return n.some((e=>e.isEqual(t)))}class eC{convertValue(t,e="none"){switch(Qs(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Fr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw dt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ea(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[Ul].arrayValue?.values?.map((i=>pe(i.doubleValue)));return new Vi(e)}convertGeoPoint(t){return new ur(pe(t.latitude),pe(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Om(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Zc(t));default:return null}}convertTimestamp(t){const e=jr(t);return new te(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Ht.fromString(t);_t(lR(i),9688,{name:t});const a=new ro(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return a.isEqual(e)||In(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class Q0 extends eC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,e)}}function T5(){return new K0("serverTimestamp")}const lA="@firebase/firestore",uA="4.11.0";function cA(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class gm{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ge(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new E5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Ql("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class E5 extends gm{data(){return super.data()}}function b5(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new lt(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X0{}class w5 extends X0{}function A5(n,t,...e){let i=[];t instanceof X0&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((m=>m instanceof W0)).length,f=l.filter((m=>m instanceof Xm)).length;if(u>1||u>0&&f>0)throw new lt(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Xm extends w5{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Xm(t,e,i)}_apply(t){const e=this._parse(t);return nC(t._query,e),new ru(t.firestore,t.converter,a_(t._query,e))}_parse(t){const e=WR(t.firestore);return(function(l,u,f,m,p,y,v){let E;if(p.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new lt(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){dA(v,y);const C=[];for(const U of v)C.push(fA(m,l,U));E={arrayValue:{values:C}}}else E=fA(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||dA(v,y),E=_5(f,u,v,y==="in"||y==="not-in");return zt.create(p,y,E)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function hA(n,t,e){const i=t,a=Ql("where",n);return Xm._create(a,i,e)}class W0 extends X0{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new W0(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:ee.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)nC(u,m),u=a_(u,m)})(t._query,e),new ru(t.firestore,t.converter,a_(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function fA(n,t,e){if(typeof(e=Ke(e))=="string"){if(e==="")throw new lt(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ox(t)&&e.indexOf("/")!==-1)throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Ht.fromString(e));if(!ht.isDocumentKey(i))throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return th(n,new ht(i))}if(e instanceof Ge)return th(n,e._key);throw new lt(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(e)}.`)}function dA(n,t){if(!Array.isArray(n)||n.length===0)throw new lt(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function nC(n,t){const e=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new lt(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function S5(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class I5 extends eC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Yn(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ge(this.firestore,null,e)}}class yl{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gs extends gm{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Ql("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Gs._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Gs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gs._jsonSchema={type:He("string",Gs._jsonSchemaVersion),bundleSource:He("string","DocumentSnapshot"),bundleName:He("string"),bundle:He("string")};class Nd extends Gs{data(t={}){return super.data(t)}}class Rl{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new yl(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Nd(this._firestore,this._userDataWriter,i.key,i,new yl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new lt(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new yl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new yl(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,y=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:x5(f.type),doc:m,oldIndex:p,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Rl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=o0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function x5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt(61501,{type:n})}}Rl._jsonSchemaVersion="firestore/querySnapshot/1.0",Rl._jsonSchema={type:He("string",Rl._jsonSchemaVersion),bundleSource:He("string","QuerySnapshot"),bundleName:He("string"),bundle:He("string")};const R5={maxAttempts:5};function xc(n,t){if((n=Ke(n)).firestore!==t)throw new lt(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class C5{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=WR(t)}get(t){const e=xc(t,this._firestore),i=new I5(this._firestore);return this._transaction.lookup([e._key]).then((a=>{if(!a||a.length!==1)return dt(24041);const l=a[0];if(l.isFoundDocument())return new gm(this._firestore,i,l.key,l,e.converter);if(l.isNoDocument())return new gm(this._firestore,i,e._key,null,e.converter);throw dt(18433,{doc:l})}))}set(t,e,i){const a=xc(t,this._firestore),l=S5(a.converter,e,i),u=p5(this._dataReader,"Transaction.set",a._key,l,a.converter!==null,i);return this._transaction.set(a._key,u),this}update(t,e,i,...a){const l=xc(t,this._firestore);let u;return u=typeof(e=Ke(e))=="string"||e instanceof H0?y5(this._dataReader,"Transaction.update",l._key,e,i,a):g5(this._dataReader,"Transaction.update",l._key,e),this._transaction.update(l._key,u),this}delete(t){const e=xc(t,this._firestore);return this._transaction.delete(e._key),this}}class D5 extends C5{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=xc(t,this._firestore),i=new Q0(this._firestore);return super.get(t).then((a=>new Gs(this._firestore,i,e._key,a._document,new yl(!1,!1),e.converter)))}}function V5(n,t,e){n=Wa(n,Yl);const i={...R5,...e};(function(u){if(u.maxAttempts<1)throw new lt(W.INVALID_ARGUMENT,"Max attempts must be at least 1")})(i);const a=q0(n);return r5(a,(l=>t(new D5(n,l))),i)}function M5(n){return O5(Wa(n.firestore,Yl),[new bh(n._key,sn.none())])}function P5(n,...t){n=Ke(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||cA(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(cA(t[i])){const p=t[i];t[i]=p.next?.bind(p),t[i+1]=p.error?.bind(p),t[i+2]=p.complete?.bind(p)}let l,u,f;if(n instanceof Ge)u=Wa(n.firestore,Yl),f=km(n._key.path),l={next:p=>{t[i]&&t[i](N5(u,n,p))},error:t[i+1],complete:t[i+2]};else{const p=Wa(n,ru);u=Wa(p.firestore,Yl),f=p._query;const y=new Q0(u);l={next:v=>{t[i]&&t[i](new Rl(u,y,p,v))},error:t[i+1],complete:t[i+2]},b5(n._query)}const m=q0(u);return n5(m,f,a,l)}function O5(n,t){const e=q0(n);return i5(e,t)}function N5(n,t,e){const i=e.docs.get(t._key),a=new Q0(n);return new Gs(n,a,t._key,i,new yl(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){M4(Zl),Vl(new eo("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new Yl(new N4(i.getProvider("auth-internal")),new U4(u,i.getProvider("app-check-internal")),A3(u,a),u);return l={useFetchStreams:e,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),zs(lA,uA,t),zs(lA,uA,"esm2020")})();const k5={apiKey:"AIzaSyAUo9Hw0KKEfu-sGYC-YAIazVb4BH34YXQ",authDomain:"class-claim.firebaseapp.com",projectId:"class-claim",storageBucket:"class-claim.firebasestorage.app",messagingSenderId:"997912799584",appId:"1:997912799584:web:3dce64fcb94d3926cd9605",measurementId:"G-VXYPG7JFP5"},iC=lI(k5),Rc=u5(iC);c5(Rc).catch(n=>{n.code=="failed-precondition"?console.warn("Firestore persistence failed: multiple tabs open"):n.code=="unimplemented"&&console.warn("Firestore persistence not supported in this browser")});const cl=R4(iC),mA=new Pr,rC=ot.createContext(),$0=()=>ot.useContext(rC),L5=({children:n})=>{const[t,e]=ot.useState(null),[i,a]=ot.useState(!0),l=async()=>{try{await dk(cl,OI);const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&!m?await Fk(cl,mA):await kk(cl,mA)}catch(m){throw console.error("Login failed:",m),m}},u=()=>yk(cl);ot.useEffect(()=>{Hk(cl).catch(p=>{console.error("Redirect login failed:",p)});const m=gk(cl,p=>{e(p),a(!1)});return()=>m()},[]);const f={user:t,login:l,logout:u,loading:i};return tt.jsx(rC.Provider,{value:f,children:!i&&n})},sC=ot.createContext(),U5=()=>ot.useContext(sC),B5=({children:n})=>{const[t,e]=ot.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});ot.useEffect(()=>{const a=window.document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{e(a=>a==="light"?"dark":"light")};return tt.jsx(sC.Provider,{value:{theme:t,toggleTheme:i},children:n})},z5=({selectedRoom:n,onSelectRoom:t,className:e=""})=>{const[i,a]=ot.useState("Block E"),{user:l,login:u,logout:f}=$0(),{theme:m,toggleTheme:p}=U5(),y=async()=>{try{await u()}catch(E){console.error("Login failed:",E)}},v=async()=>{try{await f()}catch(E){console.error("Logout failed:",E)}};return tt.jsxs("div",{className:`flex flex-col h-full bg-white dark:bg-gray-800 border-r border-gray-100 dark:border-gray-700 transition-colors duration-200 ${e}`,children:[tt.jsxs("div",{className:"p-6",children:[tt.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent flex items-center gap-2",children:[tt.jsx("img",{src:"/Class-Claim/logo.png",alt:"ClassClaim Logo",className:"h-8 w-auto"}),"ClassClaim"]}),tt.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Central University"})]}),tt.jsx("div",{className:"flex p-4 gap-2 border-b border-gray-50 dark:border-gray-700",children:Object.keys(By).map(E=>tt.jsx("button",{onClick:()=>a(E),className:`
              flex-1 py-2 px-3 rounded-xl text-sm font-medium transition-all
              ${i===E?"bg-red-50 text-red-700 shadow-sm dark:bg-red-900/20 dark:text-red-400":"text-gray-500 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-700"}
            `,children:E},E))}),tt.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[tt.jsxs("h3",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3 px-2",children:[i," Rooms"]}),By[i].map(E=>tt.jsxs("button",{onClick:()=>t(E),className:`
              w-full flex items-center justify-between p-3 rounded-xl text-sm font-medium transition-all
              ${n===E?"bg-gray-900 text-white shadow-lg shadow-gray-200 dark:bg-black dark:shadow-gray-900":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}
            `,children:[E,n===E&&tt.jsx(jP,{})]},E))]}),tt.jsxs("div",{className:"p-4 border-t border-gray-50 dark:border-gray-700 space-y-3",children:[tt.jsxs("button",{onClick:p,className:"w-full flex items-center justify-between p-2 rounded-lg text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[tt.jsxs("span",{className:"flex items-center gap-2",children:[m==="dark"?tt.jsx(KP,{}):tt.jsx(QP,{}),m==="dark"?"Dark Mode":"Light Mode"]}),tt.jsx("div",{className:`
            w-10 h-5 rounded-full relative transition-colors duration-200
            ${m==="dark"?"bg-red-600":"bg-gray-200"}
          `,children:tt.jsx("div",{className:`
              absolute top-1 left-1 w-3 h-3 rounded-full bg-white transition-transform duration-200
              ${m==="dark"?"translate-x-5":"translate-x-0"}
            `})})]}),l?tt.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-50 dark:border-gray-700",children:[tt.jsx("img",{src:l.photoURL,alt:l.displayName,className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-600"}),tt.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[tt.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:l.displayName}),tt.jsxs("button",{onClick:v,className:"text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1",children:[tt.jsx(qP,{})," Sign Out"]})]})]}):tt.jsxs("button",{onClick:y,className:"w-full py-2.5 px-4 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-white rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[tt.jsx(HP,{className:"text-red-600 text-lg"}),"Sign in with Google"]})]})]})},Z0=ot.createContext({});function J0(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const aC=typeof window<"u",oC=aC?ot.useLayoutEffect:ot.useEffect,Wm=ot.createContext(null);function tv(n,t){n.indexOf(t)===-1&&n.push(t)}function ym(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const dr=(n,t,e)=>e>t?t:e<n?n:e;let ev=()=>{};const qr={},lC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function uC(n){return typeof n=="object"&&n!==null}const cC=n=>/^0[^.\s]+$/u.test(n);function nv(n){let t;return()=>(t===void 0&&(t=n()),t)}const di=n=>n,j5=(n,t)=>e=>t(n(e)),Rh=(...n)=>n.reduce(j5),ah=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class iv{constructor(){this.subscriptions=[]}add(t){return tv(this.subscriptions,t),()=>ym(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Mi=n=>n*1e3,hi=n=>n/1e3;function hC(n,t){return t?n*(1e3/t):0}const fC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,F5=1e-7,q5=12;function H5(n,t,e,i,a){let l,u,f=0;do u=t+(e-t)/2,l=fC(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>F5&&++f<q5);return u}function Ch(n,t,e,i){if(n===t&&e===i)return di;const a=l=>H5(l,0,1,n,e);return l=>l===0||l===1?l:fC(a(l),t,i)}const dC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,mC=n=>t=>1-n(1-t),pC=Ch(.33,1.53,.69,.99),rv=mC(pC),gC=dC(rv),yC=n=>(n*=2)<1?.5*rv(n):.5*(2-Math.pow(2,-10*(n-1))),sv=n=>1-Math.sin(Math.acos(n)),_C=mC(sv),vC=dC(sv),G5=Ch(.42,0,1,1),K5=Ch(0,0,.58,1),TC=Ch(.42,0,.58,1),Y5=n=>Array.isArray(n)&&typeof n[0]!="number",EC=n=>Array.isArray(n)&&typeof n[0]=="number",Q5={linear:di,easeIn:G5,easeInOut:TC,easeOut:K5,circIn:sv,circInOut:vC,circOut:_C,backIn:rv,backInOut:gC,backOut:pC,anticipate:yC},X5=n=>typeof n=="string",pA=n=>{if(EC(n)){ev(n.length===4);const[t,e,i,a]=n;return Ch(t,e,i,a)}else if(X5(n))return Q5[n];return n},gd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function W5(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(p.schedule(y),n()),y(f)}const p={schedule:(y,v=!1,E=!1)=>{const C=E&&a?e:i;return v&&u.add(y),C.has(y)||C.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,p.process(y))}};return p}const $5=40;function bC(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=gd.reduce((K,J)=>(K[J]=W5(l),K),{}),{setup:f,read:m,resolveKeyframes:p,preUpdate:y,update:v,preRender:E,render:I,postRender:C}=u,U=()=>{const K=qr.useManualTiming?a.timestamp:performance.now();e=!1,qr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(K-a.timestamp,$5),1)),a.timestamp=K,a.isProcessing=!0,f.process(a),m.process(a),p.process(a),y.process(a),v.process(a),E.process(a),I.process(a),C.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(U))},P=()=>{e=!0,i=!0,a.isProcessing||n(U)};return{schedule:gd.reduce((K,J)=>{const rt=u[J];return K[J]=(ct,R=!1,S=!1)=>(e||P(),rt.schedule(ct,R,S)),K},{}),cancel:K=>{for(let J=0;J<gd.length;J++)u[gd[J]].cancel(K)},state:a,steps:u}}const{schedule:ue,cancel:Zs,state:mn,steps:vy}=bC(typeof requestAnimationFrame<"u"?requestAnimationFrame:di,!0);let kd;function Z5(){kd=void 0}const xn={now:()=>(kd===void 0&&xn.set(mn.isProcessing||qr.useManualTiming?mn.timestamp:performance.now()),kd),set:n=>{kd=n,queueMicrotask(Z5)}},wC=n=>t=>typeof t=="string"&&t.startsWith(n),AC=wC("--"),J5=wC("var(--"),av=n=>J5(n)?t9.test(n.split("/*")[0].trim()):!1,t9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function gA(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const su={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},oh={...su,transform:n=>dr(0,1,n)},yd={...su,default:1},zc=n=>Math.round(n*1e5)/1e5,ov=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function e9(n){return n==null}const n9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lv=(n,t)=>e=>!!(typeof e=="string"&&n9.test(e)&&e.startsWith(n)||t&&!e9(e)&&Object.prototype.hasOwnProperty.call(e,t)),SC=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(ov);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},i9=n=>dr(0,255,n),Ty={...su,transform:n=>Math.round(i9(n))},Ya={test:lv("rgb","red"),parse:SC("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+Ty.transform(n)+", "+Ty.transform(t)+", "+Ty.transform(e)+", "+zc(oh.transform(i))+")"};function r9(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const v_={test:lv("#"),parse:r9,transform:Ya.transform},Dh=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Vs=Dh("deg"),cr=Dh("%"),yt=Dh("px"),s9=Dh("vh"),a9=Dh("vw"),yA={...cr,parse:n=>cr.parse(n)/100,transform:n=>cr.transform(n*100)},_l={test:lv("hsl","hue"),parse:SC("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+cr.transform(zc(t))+", "+cr.transform(zc(e))+", "+zc(oh.transform(i))+")"},qe={test:n=>Ya.test(n)||v_.test(n)||_l.test(n),parse:n=>Ya.test(n)?Ya.parse(n):_l.test(n)?_l.parse(n):v_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ya.transform(n):_l.transform(n),getAnimatableNone:n=>{const t=qe.parse(n);return t.alpha=0,qe.transform(t)}},o9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function l9(n){return isNaN(n)&&typeof n=="string"&&(n.match(ov)?.length||0)+(n.match(o9)?.length||0)>0}const IC="number",xC="color",u9="var",c9="var(",_A="${}",h9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lh(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(h9,m=>(qe.test(m)?(i.color.push(l),a.push(xC),e.push(qe.parse(m))):m.startsWith(c9)?(i.var.push(l),a.push(u9),e.push(m)):(i.number.push(l),a.push(IC),e.push(parseFloat(m))),++l,_A)).split(_A);return{values:e,split:f,indexes:i,types:a}}function RC(n){return lh(n).values}function CC(n){const{split:t,types:e}=lh(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const f=e[u];f===IC?l+=zc(a[u]):f===xC?l+=qe.transform(a[u]):l+=a[u]}return l}}const f9=n=>typeof n=="number"?0:qe.test(n)?qe.getAnimatableNone(n):n;function d9(n){const t=RC(n);return CC(n)(t.map(f9))}const Js={test:l9,parse:RC,createTransformer:CC,getAnimatableNone:d9};function Ey(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function m9({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const f=e<.5?e*(1+t):e+t-e*t,m=2*e-f;a=Ey(m,f,n+1/3),l=Ey(m,f,n),u=Ey(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function _m(n,t){return e=>e>0?t:n}const Te=(n,t,e)=>n+(t-n)*e,by=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},p9=[v_,Ya,_l],g9=n=>p9.find(t=>t.test(n));function vA(n){const t=g9(n);if(!t)return!1;let e=t.parse(n);return t===_l&&(e=m9(e)),e}const TA=(n,t)=>{const e=vA(n),i=vA(t);if(!e||!i)return _m(n,t);const a={...e};return l=>(a.red=by(e.red,i.red,l),a.green=by(e.green,i.green,l),a.blue=by(e.blue,i.blue,l),a.alpha=Te(e.alpha,i.alpha,l),Ya.transform(a))},T_=new Set(["none","hidden"]);function y9(n,t){return T_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function _9(n,t){return e=>Te(n,t,e)}function uv(n){return typeof n=="number"?_9:typeof n=="string"?av(n)?_m:qe.test(n)?TA:E9:Array.isArray(n)?DC:typeof n=="object"?qe.test(n)?TA:v9:_m}function DC(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>uv(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function v9(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=uv(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function T9(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],f=n.values[u]??0;e[a]=f,i[l]++}return e}const E9=(n,t)=>{const e=Js.createTransformer(t),i=lh(n),a=lh(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?T_.has(n)&&!a.values.length||T_.has(t)&&!i.values.length?y9(n,t):Rh(DC(T9(i,a),a.values),e):_m(n,t)};function VC(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Te(n,t,e):uv(n)(n,t)}const b9=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>ue.update(t,e),stop:()=>Zs(t),now:()=>mn.isProcessing?mn.timestamp:xn.now()}},MC=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},vm=2e4;function cv(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<vm;)t+=e,i=n.next(t);return t>=vm?1/0:t}function w9(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(cv(i),vm);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:hi(a)}}const A9=5;function PC(n,t,e){const i=Math.max(t-A9,0);return hC(e-n(i),t-i)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wy=.001;function S9({duration:n=Ae.duration,bounce:t=Ae.bounce,velocity:e=Ae.velocity,mass:i=Ae.mass}){let a,l,u=1-t;u=dr(Ae.minDamping,Ae.maxDamping,u),n=dr(Ae.minDuration,Ae.maxDuration,hi(n)),u<1?(a=p=>{const y=p*u,v=y*n,E=y-e,I=E_(p,u),C=Math.exp(-v);return wy-E/I*C},l=p=>{const v=p*u*n,E=v*e+e,I=Math.pow(u,2)*Math.pow(p,2)*n,C=Math.exp(-v),U=E_(Math.pow(p,2),u);return(-a(p)+wy>0?-1:1)*((E-I)*C)/U}):(a=p=>{const y=Math.exp(-p*n),v=(p-e)*n+1;return-wy+y*v},l=p=>{const y=Math.exp(-p*n),v=(e-p)*(n*n);return y*v});const f=5/n,m=x9(a,l,f);if(n=Mi(n),isNaN(m))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:n};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:n}}}const I9=12;function x9(n,t,e){let i=e;for(let a=1;a<I9;a++)i=i-n(i)/t(i);return i}function E_(n,t){return n*Math.sqrt(1-t*t)}const R9=["duration","bounce"],C9=["stiffness","damping","mass"];function EA(n,t){return t.some(e=>n[e]!==void 0)}function D9(n){let t={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...n};if(!EA(n,C9)&&EA(n,R9))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*dr(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Ae.mass,stiffness:a,damping:l}}else{const e=S9(n);t={...t,...e,mass:Ae.mass},t.isResolvedFromDuration=!0}return t}function Tm(n=Ae.visualDuration,t=Ae.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:p,mass:y,duration:v,velocity:E,isResolvedFromDuration:I}=D9({...e,velocity:-hi(e.velocity||0)}),C=E||0,U=p/(2*Math.sqrt(m*y)),P=u-l,j=hi(Math.sqrt(m/y)),X=Math.abs(P)<5;i||(i=X?Ae.restSpeed.granular:Ae.restSpeed.default),a||(a=X?Ae.restDelta.granular:Ae.restDelta.default);let K;if(U<1){const rt=E_(j,U);K=ct=>{const R=Math.exp(-U*j*ct);return u-R*((C+U*j*P)/rt*Math.sin(rt*ct)+P*Math.cos(rt*ct))}}else if(U===1)K=rt=>u-Math.exp(-j*rt)*(P+(C+j*P)*rt);else{const rt=j*Math.sqrt(U*U-1);K=ct=>{const R=Math.exp(-U*j*ct),S=Math.min(rt*ct,300);return u-R*((C+U*j*P)*Math.sinh(S)+rt*P*Math.cosh(S))/rt}}const J={calculatedDuration:I&&v||null,next:rt=>{const ct=K(rt);if(I)f.done=rt>=v;else{let R=rt===0?C:0;U<1&&(R=rt===0?Mi(C):PC(K,rt,ct));const S=Math.abs(R)<=i,x=Math.abs(u-ct)<=a;f.done=S&&x}return f.value=f.done?u:ct,f},toString:()=>{const rt=Math.min(cv(J),vm),ct=MC(R=>J.next(rt*R).value,rt,30);return rt+"ms "+ct},toTransition:()=>{}};return J}Tm.applyToOptions=n=>{const t=w9(n,100,Tm);return n.ease=t.ease,n.duration=Mi(t.duration),n.type="keyframes",n};function b_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:p=.5,restSpeed:y}){const v=n[0],E={done:!1,value:v},I=S=>f!==void 0&&S<f||m!==void 0&&S>m,C=S=>f===void 0?m:m===void 0||Math.abs(f-S)<Math.abs(m-S)?f:m;let U=e*t;const P=v+U,j=u===void 0?P:u(P);j!==P&&(U=j-v);const X=S=>-U*Math.exp(-S/i),K=S=>j+X(S),J=S=>{const x=X(S),O=K(S);E.done=Math.abs(x)<=p,E.value=E.done?j:O};let rt,ct;const R=S=>{I(E.value)&&(rt=S,ct=Tm({keyframes:[E.value,C(E.value)],velocity:PC(K,S,E.value),damping:a,stiffness:l,restDelta:p,restSpeed:y}))};return R(0),{calculatedDuration:null,next:S=>{let x=!1;return!ct&&rt===void 0&&(x=!0,J(S),R(S)),rt!==void 0&&S>=rt?ct.next(S-rt):(!x&&J(S),E)}}}function V9(n,t,e){const i=[],a=e||qr.mix||VC,l=n.length-1;for(let u=0;u<l;u++){let f=a(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||di:t;f=Rh(m,f)}i.push(f)}return i}function M9(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(ev(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=V9(t,i,a),m=f.length,p=y=>{if(u&&y<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const E=ah(n[v],n[v+1],y);return f[v](E)};return e?y=>p(dr(n[0],n[l-1],y)):p}function P9(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=ah(0,t,i);n.push(Te(e,1,a))}}function O9(n){const t=[0];return P9(t,n.length-1),t}function N9(n,t){return n.map(e=>e*t)}function k9(n,t){return n.map(()=>t||TC).splice(0,n.length-1)}function jc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=Y5(i)?i.map(pA):pA(i),l={done:!1,value:t[0]},u=N9(e&&e.length===t.length?e:O9(t),n),f=M9(u,t,{ease:Array.isArray(a)?a:k9(t,a)});return{calculatedDuration:n,next:m=>(l.value=f(m),l.done=m>=n,l)}}const L9=n=>n!==null;function hv(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(L9),f=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const U9={decay:b_,inertia:b_,tween:jc,keyframes:jc,spring:Tm};function OC(n){typeof n.type=="string"&&(n.type=U9[n.type])}class fv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const B9=n=>n/100;class dv extends fv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==xn.now()&&this.tick(xn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;OC(t);const{type:e=jc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=e||jc;m!==jc&&typeof f[0]!="number"&&(this.mixKeyframes=Rh(B9,VC(f[0],f[1])),f=[0,100]);const p=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=cv(p));const{calculatedDuration:y}=p;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=p}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:y,repeat:v,repeatType:E,repeatDelay:I,type:C,onUpdate:U,finalKeyframe:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const j=this.currentTime-p*(this.playbackSpeed>=0?1:-1),X=this.playbackSpeed>=0?j<0:j>a;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let K=this.currentTime,J=i;if(v){const S=Math.min(this.currentTime,a)/f;let x=Math.floor(S),O=S%1;!O&&S>=1&&(O=1),O===1&&x--,x=Math.min(x,v+1),x%2&&(E==="reverse"?(O=1-O,I&&(O-=I/f)):E==="mirror"&&(J=u)),K=dr(0,1,O)*f}const rt=X?{done:!1,value:y[0]}:J.next(K);l&&(rt.value=l(rt.value));let{done:ct}=rt;!X&&m!==null&&(ct=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ct);return R&&C!==b_&&(rt.value=hv(y,this.options,P,this.speed)),U&&U(rt.value),R&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return hi(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hi(t)}get time(){return hi(this.currentTime)}set time(t){t=Mi(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(xn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=hi(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=b9,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(xn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function z9(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Qa=n=>n*180/Math.PI,w_=n=>{const t=Qa(Math.atan2(n[1],n[0]));return A_(t)},j9={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:w_,rotateZ:w_,skewX:n=>Qa(Math.atan(n[1])),skewY:n=>Qa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},A_=n=>(n=n%360,n<0&&(n+=360),n),bA=w_,wA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),AA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),F9={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:wA,scaleY:AA,scale:n=>(wA(n)+AA(n))/2,rotateX:n=>A_(Qa(Math.atan2(n[6],n[5]))),rotateY:n=>A_(Qa(Math.atan2(-n[2],n[0]))),rotateZ:bA,rotate:bA,skewX:n=>Qa(Math.atan(n[4])),skewY:n=>Qa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function S_(n){return n.includes("scale")?1:0}function I_(n,t){if(!n||n==="none")return S_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=F9,a=e;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=j9,a=f}if(!a)return S_(t);const l=i[t],u=a[1].split(",").map(H9);return typeof l=="function"?l(u):u[l]}const q9=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return I_(e,t)};function H9(n){return parseFloat(n.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ou=new Set(au),SA=n=>n===su||n===yt,G9=new Set(["x","y","z"]),K9=au.filter(n=>!G9.has(n));function Y9(n){const t=[];return K9.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Ls={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>I_(t,"x"),y:(n,{transform:t})=>I_(t,"y")};Ls.translateX=Ls.x;Ls.translateY=Ls.y;const Ja=new Set;let x_=!1,R_=!1,C_=!1;function NC(){if(R_){const n=Array.from(Ja).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=Y9(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}R_=!1,x_=!1,Ja.forEach(n=>n.complete(C_)),Ja.clear()}function kC(){Ja.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(R_=!0)})}function Q9(){C_=!0,kC(),NC(),C_=!1}class mv{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ja.add(this),x_||(x_=!0,ue.read(kC),ue.resolveKeyframes(NC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const f=i.readValue(e,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}z9(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ja.delete(this)}cancel(){this.state==="scheduled"&&(Ja.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X9=n=>n.startsWith("--");function W9(n,t,e){X9(t)?n.style.setProperty(t,e):n.style[t]=e}const $9=nv(()=>window.ScrollTimeline!==void 0),Z9={};function J9(n,t){const e=nv(n);return()=>Z9[t]??e()}const LC=J9(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Cc=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,IA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cc([0,.65,.55,1]),circOut:Cc([.55,0,1,.45]),backIn:Cc([.31,.01,.66,-.59]),backOut:Cc([.33,1.53,.69,.99])};function UC(n,t){if(n)return typeof n=="function"?LC()?MC(n,t):"ease-out":EC(n)?Cc(n):Array.isArray(n)?n.map(e=>UC(e,t)||IA.easeOut):IA[n]}function tU(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},p=void 0){const y={[t]:e};m&&(y.offset=m);const v=UC(f,a);Array.isArray(v)&&(y.easing=v);const E={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(E.pseudoElement=p),n.animate(y,E)}function BC(n){return typeof n=="function"&&"applyToOptions"in n}function eU({type:n,...t}){return BC(n)&&LC()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class zC extends fv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,ev(typeof t.type!="string");const p=eU(t);this.animation=tU(e,i,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=hv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):W9(e,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return hi(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+hi(t)}get time(){return hi(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Mi(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&$9()?(this.animation.timeline=t,di):e(this)}}const jC={anticipate:yC,backInOut:gC,circInOut:vC};function nU(n){return n in jC}function iU(n){typeof n.ease=="string"&&nU(n.ease)&&(n.ease=jC[n.ease])}const Ay=10;class rU extends zC{constructor(t){iU(t),OC(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const f=new dv({...u,autoplay:!1}),m=Math.max(Ay,xn.now()-this.startTime),p=dr(0,Ay,m-Ay);e.setWithVelocity(f.sample(Math.max(0,m-p)).value,f.sample(m).value,p),f.stop()}}const xA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Js.test(n)||n==="0")&&!n.startsWith("url("));function sU(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function aU(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=xA(a,t),f=xA(l,t);return!u||!f?!1:sU(n)||(e==="spring"||BC(e))&&i}function D_(n){n.duration=0,n.type="keyframes"}const oU=new Set(["opacity","clipPath","filter","transform"]),lU=nv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function uU(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=t.owner.getProps();return lU()&&e&&oU.has(e)&&(e!=="transform"||!p)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const cU=40;class hU extends fv{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:p,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=xn.now();const E={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:p,element:y,...v},I=y?.KeyframeResolver||mv;this.keyframeResolver=new I(f,(C,U,P)=>this.onKeyframesResolved(C,U,E,!P),m,p,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:p,onUpdate:y}=i;this.resolvedAt=xn.now(),aU(t,l,u,f)||((qr.instantAnimations||!m)&&y?.(hv(t,i,e)),t[0]=t[t.length-1],D_(i),i.repeat=0);const E={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>cU?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},I=!p&&uU(E),C=E.motionValue?.owner?.current,U=I?new rU({...E,element:C}):new dv(E);U.finished.then(()=>{this.notifyFinished()}).catch(di),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Q9()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function FC(n,t,e,i=0,a=1){const l=Array.from(n).sort((p,y)=>p.sortNodePosition(y)).indexOf(t),u=n.size,f=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:f-l*i}const fU=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function dU(n){const t=fU.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function qC(n,t,e=1){const[i,a]=dU(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return lC(u)?parseFloat(u):u}return av(a)?qC(a,t,e+1):a}const mU={type:"spring",stiffness:500,damping:25,restSpeed:10},pU=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),gU={type:"keyframes",duration:.8},yU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_U=(n,{keyframes:t})=>t.length>2?gU:ou.has(n)?n.startsWith("scale")?pU(t[1]):mU:yU,vU=n=>n!==null;function TU(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(vU),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function HC(n,t){if(n?.inherit&&t){const{inherit:e,...i}=n;return{...t,...i}}return n}function pv(n,t){const e=n?.[t]??n?.default??n;return e!==n?HC(e,n):e}function EU({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:p,...y}){return!!Object.keys(y).length}const gv=(n,t,e,i={},a,l)=>u=>{const f=pv(i,n)||{},m=f.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Mi(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-p,onUpdate:E=>{t.set(E),f.onUpdate&&f.onUpdate(E)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:l?void 0:a};EU(f)||Object.assign(y,_U(n,y)),y.duration&&(y.duration=Mi(y.duration)),y.repeatDelay&&(y.repeatDelay=Mi(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(D_(y),y.delay===0&&(v=!0)),(qr.instantAnimations||qr.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,D_(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&t.get()!==void 0){const E=TU(y.keyframes,f);if(E!==void 0){ue.update(()=>{y.onUpdate(E),y.onComplete()});return}}return f.isSync?new dv(y):new hU(y)};function RA(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function yv(n,t,e,i){if(typeof t=="function"){const[a,l]=RA(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=RA(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function Cl(n,t,e){const i=n.getProps();return yv(i,t,e!==void 0?e:i.custom,n)}const GC=new Set(["width","height","top","left","right","bottom",...au]),CA=30,bU=n=>!isNaN(parseFloat(n));class wU{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=xn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bU(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new iv);const i=this.events[t].add(e);return t==="change"?()=>{i(),ue.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>CA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,CA);return hC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xl(n,t){return new wU(n,t)}const V_=n=>Array.isArray(n);function AU(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Xl(e))}function SU(n){return V_(n)?n[n.length-1]||0:n}function IU(n,t){const e=Cl(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const f=SU(l[u]);AU(n,u,f)}}const En=n=>!!(n&&n.getVelocity);function xU(n){return!!(En(n)&&n.add)}function M_(n,t){const e=n.getValue("willChange");if(xU(e))return e.add(t);if(!e&&qr.WillChange){const i=new qr.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function _v(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const RU="framerAppearId",KC="data-"+_v(RU);function YC(n){return n.props[KC]}function CU({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function QC(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...f}=t;const m=n.getDefaultTransition();l=l?HC(l,m):m;const p=l?.reduceMotion;i&&(l=i);const y=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const E in f){const I=n.getValue(E,n.latestValues[E]??null),C=f[E];if(C===void 0||v&&CU(v,E))continue;const U={delay:e,...pv(l||{},E)},P=I.get();if(P!==void 0&&!I.isAnimating&&!Array.isArray(C)&&C===P&&!U.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const J=YC(n);if(J){const rt=window.MotionHandoffAnimation(J,E,ue);rt!==null&&(U.startTime=rt,j=!0)}}M_(n,E);const X=p??n.shouldReduceMotion;I.start(gv(E,I,C,X&&GC.has(E)?{type:!1}:U,n,j));const K=I.animation;K&&y.push(K)}if(u){const E=()=>ue.update(()=>{u&&IU(n,u)});y.length?Promise.all(y).then(E):E()}return y}function P_(n,t,e={}){const i=Cl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(QC(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:y,staggerDirection:v}=a;return DU(n,t,m,p,y,v,e)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,p]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>p())}else return Promise.all([l(),u(e.delay)])}function DU(n,t,e=0,i=0,a=0,l=1,u){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(P_(m,t,{...u,delay:e+(typeof i=="function"?0:i)+FC(n.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function VU(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>P_(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=P_(n,t,e);else{const a=typeof t=="function"?Cl(n,t,e.custom):t;i=Promise.all(QC(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const MU={test:n=>n==="auto",parse:n=>n},XC=n=>t=>t.test(n),WC=[su,yt,cr,Vs,a9,s9,MU],DA=n=>WC.find(XC(n));function PU(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||cC(n):!0}const OU=new Set(["brightness","contrast","saturate","opacity"]);function NU(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(ov)||[];if(!i)return n;const a=e.replace(i,"");let l=OU.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const kU=/\b([a-z-]*)\(.*?\)/gu,O_={...Js,getAnimatableNone:n=>{const t=n.match(kU);return t?t.map(NU).join(" "):n}},VA={...su,transform:Math.round},LU={rotate:Vs,rotateX:Vs,rotateY:Vs,rotateZ:Vs,scale:yd,scaleX:yd,scaleY:yd,scaleZ:yd,skew:Vs,skewX:Vs,skewY:Vs,distance:yt,translateX:yt,translateY:yt,translateZ:yt,x:yt,y:yt,z:yt,perspective:yt,transformPerspective:yt,opacity:oh,originX:yA,originY:yA,originZ:yt},vv={borderWidth:yt,borderTopWidth:yt,borderRightWidth:yt,borderBottomWidth:yt,borderLeftWidth:yt,borderRadius:yt,borderTopLeftRadius:yt,borderTopRightRadius:yt,borderBottomRightRadius:yt,borderBottomLeftRadius:yt,width:yt,maxWidth:yt,height:yt,maxHeight:yt,top:yt,right:yt,bottom:yt,left:yt,inset:yt,insetBlock:yt,insetBlockStart:yt,insetBlockEnd:yt,insetInline:yt,insetInlineStart:yt,insetInlineEnd:yt,padding:yt,paddingTop:yt,paddingRight:yt,paddingBottom:yt,paddingLeft:yt,paddingBlock:yt,paddingBlockStart:yt,paddingBlockEnd:yt,paddingInline:yt,paddingInlineStart:yt,paddingInlineEnd:yt,margin:yt,marginTop:yt,marginRight:yt,marginBottom:yt,marginLeft:yt,marginBlock:yt,marginBlockStart:yt,marginBlockEnd:yt,marginInline:yt,marginInlineStart:yt,marginInlineEnd:yt,fontSize:yt,backgroundPositionX:yt,backgroundPositionY:yt,...LU,zIndex:VA,fillOpacity:oh,strokeOpacity:oh,numOctaves:VA},UU={...vv,color:qe,backgroundColor:qe,outlineColor:qe,fill:qe,stroke:qe,borderColor:qe,borderTopColor:qe,borderRightColor:qe,borderBottomColor:qe,borderLeftColor:qe,filter:O_,WebkitFilter:O_},$C=n=>UU[n];function ZC(n,t){let e=$C(n);return e!==O_&&(e=Js),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const BU=new Set(["auto","none","0"]);function zU(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!BU.has(l)&&lh(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=ZC(e,a)}class jU extends mv{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),av(v))){const E=qC(v,e.current);E!==void 0&&(t[y]=E),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!GC.has(i)||t.length!==2)return;const[a,l]=t,u=DA(a),f=DA(l),m=gA(a),p=gA(l);if(m!==p&&Ls[i]){this.needsMeasurement=!0;return}if(u!==f)if(SA(u)&&SA(f))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Ls[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||PU(t[a]))&&i.push(a);i.length&&zU(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ls[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Ls[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const FU=new Set(["opacity","clipPath","filter","transform"]);function JC(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const tD=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function N_(n){return uC(n)&&"offsetHeight"in n}const{schedule:Tv}=bC(queueMicrotask,!1),xi={x:!1,y:!1};function eD(){return xi.x||xi.y}function qU(n){return n==="x"||n==="y"?xi[n]?null:(xi[n]=!0,()=>{xi[n]=!1}):xi.x||xi.y?null:(xi.x=xi.y=!0,()=>{xi.x=xi.y=!1})}function nD(n,t){const e=JC(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function HU(n){return!(n.pointerType==="touch"||eD())}function GU(n,t,e={}){const[i,a,l]=nD(n,e);return i.forEach(u=>{let f=!1,m=!1,p;const y=()=>{u.removeEventListener("pointerleave",C)},v=P=>{p&&(p(P),p=void 0),y()},E=P=>{f=!1,window.removeEventListener("pointerup",E),window.removeEventListener("pointercancel",E),m&&(m=!1,v(P))},I=()=>{f=!0,window.addEventListener("pointerup",E,a),window.addEventListener("pointercancel",E,a)},C=P=>{if(P.pointerType!=="touch"){if(f){m=!0;return}v(P)}},U=P=>{if(!HU(P))return;m=!1;const j=t(u,P);typeof j=="function"&&(p=j,u.addEventListener("pointerleave",C,a))};u.addEventListener("pointerenter",U,a),u.addEventListener("pointerdown",I,a)}),l}const iD=(n,t)=>t?n===t?!0:iD(n,t.parentElement):!1,Ev=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,KU=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function YU(n){return KU.has(n.tagName)||n.isContentEditable===!0}const QU=new Set(["INPUT","SELECT","TEXTAREA"]);function XU(n){return QU.has(n.tagName)||n.isContentEditable===!0}const Ld=new WeakSet;function MA(n){return t=>{t.key==="Enter"&&n(t)}}function Sy(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const WU=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=MA(()=>{if(Ld.has(e))return;Sy(e,"down");const a=MA(()=>{Sy(e,"up")}),l=()=>Sy(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function PA(n){return Ev(n)&&!eD()}const OA=new WeakSet;function $U(n,t,e={}){const[i,a,l]=nD(n,e),u=f=>{const m=f.currentTarget;if(!PA(f)||OA.has(f))return;Ld.add(m),e.stopPropagation&&OA.add(f);const p=t(m,f),y=(I,C)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",E),Ld.has(m)&&Ld.delete(m),PA(I)&&typeof p=="function"&&p(I,{success:C})},v=I=>{y(I,m===window||m===document||e.useGlobalTarget||iD(m,I.target))},E=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",E,a)};return i.forEach(f=>{(e.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),N_(f)&&(f.addEventListener("focus",p=>WU(p,a)),!YU(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function bv(n){return uC(n)&&"ownerSVGElement"in n}const Ud=new WeakMap;let Bd;const rD=(n,t,e)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:bv(i)&&"getBBox"in i?i.getBBox()[t]:i[e],ZU=rD("inline","width","offsetWidth"),JU=rD("block","height","offsetHeight");function tB({target:n,borderBoxSize:t}){Ud.get(n)?.forEach(e=>{e(n,{get width(){return ZU(n,t)},get height(){return JU(n,t)}})})}function eB(n){n.forEach(tB)}function nB(){typeof ResizeObserver>"u"||(Bd=new ResizeObserver(eB))}function iB(n,t){Bd||nB();const e=JC(n);return e.forEach(i=>{let a=Ud.get(i);a||(a=new Set,Ud.set(i,a)),a.add(t),Bd?.observe(i)}),()=>{e.forEach(i=>{const a=Ud.get(i);a?.delete(t),a?.size||Bd?.unobserve(i)})}}const zd=new Set;let vl;function rB(){vl=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};zd.forEach(t=>t(n))},window.addEventListener("resize",vl)}function sB(n){return zd.add(n),vl||rB(),()=>{zd.delete(n),!zd.size&&typeof vl=="function"&&(window.removeEventListener("resize",vl),vl=void 0)}}function NA(n,t){return typeof n=="function"?sB(n):iB(n,t)}function aB(n){return bv(n)&&n.tagName==="svg"}const oB=[...WC,qe,Js],lB=n=>oB.find(XC(n)),kA=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tl=()=>({x:kA(),y:kA()}),LA=()=>({min:0,max:0}),$e=()=>({x:LA(),y:LA()}),uB=new WeakMap;function $m(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function uh(n){return typeof n=="string"||Array.isArray(n)}const wv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Av=["initial",...wv];function Zm(n){return $m(n.animate)||Av.some(t=>uh(n[t]))}function sD(n){return!!(Zm(n)||n.variants)}function cB(n,t,e){for(const i in t){const a=t[i],l=e[i];if(En(a))n.addValue(i,a);else if(En(l))n.addValue(i,Xl(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,Xl(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const k_={current:null},aD={current:!1},hB=typeof window<"u";function fB(){if(aD.current=!0,!!hB)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>k_.current=n.matches;n.addEventListener("change",t),t()}else k_.current=!1}const UA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Em={};function oD(n){Em=n}function dB(){return Em}class mB{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=mv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=xn.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,ue.render(this.render,!1,!0))};const{latestValues:p,renderState:y}=f;this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Zm(e),this.isVariantNode=sD(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...E}=this.scrapeMotionValuesFromProps(e,{},this);for(const I in E){const C=E[I];p[I]!==void 0&&En(C)&&C.set(p[I])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,uB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(aD.current||fB(),this.shouldReduceMotion=k_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Zs(this.notifyUpdate),Zs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&FU.has(t)&&this.current instanceof HTMLElement){const{factory:u,keyframes:f,times:m,ease:p,duration:y}=e.accelerate,v=new zC({element:this.current,name:t,keyframes:f,times:m,ease:p,duration:Mi(y)}),E=u(v);this.valueSubscriptions.set(t,()=>{E(),v.cancel()});return}const i=ou.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&ue.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Em){const e=Em[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$e()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<UA.length;i++){const a=UA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=cB(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Xl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(lC(i)||cC(i))?i=parseFloat(i):!lB(i)&&Js.test(e)&&(i=ZC(t,e)),this.setBaseTarget(t,En(i)?i.get():i)),En(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=yv(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!En(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new iv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){Tv.render(this.render)}}class lD extends mB{constructor(){super(...arguments),this.KeyframeResolver=jU}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;En(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class na{constructor(t){this.isMounted=!1,this.node=t}update(){}}function uD({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function pB({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function gB(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function Iy(n){return n===void 0||n===1}function L_({scale:n,scaleX:t,scaleY:e}){return!Iy(n)||!Iy(t)||!Iy(e)}function za(n){return L_(n)||cD(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function cD(n){return BA(n.x)||BA(n.y)}function BA(n){return n&&n!=="0%"}function bm(n,t,e){const i=n-e,a=t*i;return e+a}function zA(n,t,e,i,a){return a!==void 0&&(n=bm(n,a,i)),bm(n,e,i)+t}function U_(n,t=0,e=1,i,a){n.min=zA(n.min,t,e,i,a),n.max=zA(n.max,t,e,i,a)}function hD(n,{x:t,y:e}){U_(n.x,t.translate,t.scale,t.originPoint),U_(n.y,e.translate,e.scale,e.originPoint)}const jA=.999999999999,FA=1.0000000000001;function yB(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let f=0;f<a;f++){l=e[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&bl(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,hD(n,u)),i&&za(l.latestValues)&&bl(n,l.latestValues))}t.x<FA&&t.x>jA&&(t.x=1),t.y<FA&&t.y>jA&&(t.y=1)}function El(n,t){n.min=n.min+t,n.max=n.max+t}function qA(n,t,e,i,a=.5){const l=Te(n.min,n.max,a);U_(n,t,e,l,i)}function bl(n,t){qA(n.x,t.x,t.scaleX,t.scale,t.originX),qA(n.y,t.y,t.scaleY,t.scale,t.originY)}function fD(n,t){return uD(gB(n.getBoundingClientRect(),t))}function _B(n,t,e){const i=fD(n,e),{scroll:a}=t;return a&&(El(i.x,a.offset.x),El(i.y,a.offset.y)),i}const vB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TB=au.length;function EB(n,t,e){let i="",a=!0;for(let l=0;l<TB;l++){const u=au[l],f=n[u];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(u.startsWith("scale")?1:0);else{const p=parseFloat(f);m=u.startsWith("scale")?p===1:p===0}if(!m||e){const p=tD(f,vv[u]);if(!m){a=!1;const y=vB[u]||u;i+=`${y}(${p}) `}e&&(t[u]=p)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function Sv(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,f=!1;for(const m in t){const p=t[m];if(ou.has(m)){u=!0;continue}else if(AC(m)){a[m]=p;continue}else{const y=tD(p,vv[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(t.transform||(u||e?i.transform=EB(t,n.transform,e):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:p="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${p} ${y}`}}function dD(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function HA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const bc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(yt.test(n))n=parseFloat(n);else return n;const e=HA(n,t.target.x),i=HA(n,t.target.y);return`${e}% ${i}%`}},bB={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=Js.parse(n);if(a.length>5)return i;const l=Js.createTransformer(n),u=typeof a[0]!="number"?1:0,f=e.x.scale*t.x,m=e.y.scale*t.y;a[0+u]/=f,a[1+u]/=m;const p=Te(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}},B_={borderRadius:{...bc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:bc,borderTopRightRadius:bc,borderBottomLeftRadius:bc,borderBottomRightRadius:bc,boxShadow:bB};function mD(n,{layout:t,layoutId:e}){return ou.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!B_[n]||n==="opacity")}function Iv(n,t,e){const i=n.style,a=t?.style,l={};if(!i)return l;for(const u in i)(En(i[u])||a&&En(a[u])||mD(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function wB(n){return window.getComputedStyle(n)}class AB extends lD{constructor(){super(...arguments),this.type="html",this.renderInstance=dD}readValueFromInstance(t,e){if(ou.has(e))return this.projection?.isProjecting?S_(e):q9(t,e);{const i=wB(t),a=(AC(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return fD(t,e)}build(t,e,i){Sv(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return Iv(t,e,i)}}const SB={offset:"stroke-dashoffset",array:"stroke-dasharray"},IB={offset:"strokeDashoffset",array:"strokeDasharray"};function xB(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?SB:IB;n[l.offset]=`${-i}`,n[l.array]=`${t} ${e}`}const RB=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function pD(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,p,y){if(Sv(n,f,p),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:E}=n;v.transform&&(E.transform=v.transform,delete v.transform),(E.transform||v.transformOrigin)&&(E.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),E.transform&&(E.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of RB)v[I]!==void 0&&(E[I]=v[I],delete v[I]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),a!==void 0&&xB(v,a,l,u,!1)}const gD=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),yD=n=>typeof n=="string"&&n.toLowerCase()==="svg";function CB(n,t,e,i){dD(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(gD.has(a)?a:_v(a),t.attrs[a])}function _D(n,t,e){const i=Iv(n,t,e);for(const a in n)if(En(n[a])||En(t[a])){const l=au.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}class DB extends lD{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=$e}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(ou.has(e)){const i=$C(e);return i&&i.default||0}return e=gD.has(e)?e:_v(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return _D(t,e,i)}build(t,e,i){pD(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){CB(t,e,i,a)}mount(t){this.isSVGTag=yD(t.tagName),super.mount(t)}}const VB=Av.length;function vD(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?vD(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<VB;e++){const i=Av[e],a=n.props[i];(uh(a)||a===!1)&&(t[i]=a)}return t}function TD(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const MB=[...wv].reverse(),PB=wv.length;function OB(n){return t=>Promise.all(t.map(({animation:e,options:i})=>VU(n,e,i)))}function NB(n){let t=OB(n),e=GA(),i=!0;const a=m=>(p,y)=>{const v=Cl(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:E,transitionEnd:I,...C}=v;p={...p,...C,...I}}return p};function l(m){t=m(n)}function u(m){const{props:p}=n,y=vD(n.parent)||{},v=[],E=new Set;let I={},C=1/0;for(let P=0;P<PB;P++){const j=MB[P],X=e[j],K=p[j]!==void 0?p[j]:y[j],J=uh(K),rt=j===m?X.isActive:null;rt===!1&&(C=P);let ct=K===y[j]&&K!==p[j]&&J;if(ct&&i&&n.manuallyAnimateOnMount&&(ct=!1),X.protectedKeys={...I},!X.isActive&&rt===null||!K&&!X.prevProp||$m(K)||typeof K=="boolean")continue;if(j==="exit"&&X.isActive&&rt!==!0){X.prevResolvedValues&&(I={...I,...X.prevResolvedValues});continue}const R=kB(X.prevProp,K);let S=R||j===m&&X.isActive&&!ct&&J||P>C&&J,x=!1;const O=Array.isArray(K)?K:[K];let M=O.reduce(a(j),{});rt===!1&&(M={});const{prevResolvedValues:B={}}=X,D={...B,...M},oe=st=>{S=!0,E.has(st)&&(x=!0,E.delete(st)),X.needsAnimating[st]=!0;const pt=n.getValue(st);pt&&(pt.liveStyle=!1)};for(const st in D){const pt=M[st],Dt=B[st];if(I.hasOwnProperty(st))continue;let kt=!1;V_(pt)&&V_(Dt)?kt=!TD(pt,Dt):kt=pt!==Dt,kt?pt!=null?oe(st):E.add(st):pt!==void 0&&E.has(st)?oe(st):X.protectedKeys[st]=!0}X.prevProp=K,X.prevResolvedValues=M,X.isActive&&(I={...I,...M}),i&&n.blockInitialAnimation&&(S=!1);const Ee=ct&&R;S&&(!Ee||x)&&v.push(...O.map(st=>{const pt={type:j};if(typeof st=="string"&&i&&!Ee&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=Cl(Dt,st);if(Dt.enteringChildren&&kt){const{delayChildren:k}=kt.transition||{};pt.delay=FC(Dt.enteringChildren,n,k)}}return{animation:st,options:pt}}))}if(E.size){const P={};if(typeof p.initial!="boolean"){const j=Cl(n,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(P.transition=j.transition)}E.forEach(j=>{const X=n.getBaseTarget(j),K=n.getValue(j);K&&(K.liveStyle=!0),P[j]=X??null}),v.push({animation:P})}let U=!!v.length;return i&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(U=!1),i=!1,U?t(v):Promise.resolve()}function f(m,p){if(e[m].isActive===p)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,p)),e[m].isActive=p;const y=u(m);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>e,reset:()=>{e=GA()}}}function kB(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!TD(t,n):!1}function Na(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GA(){return{animate:Na(!0),whileInView:Na(),whileHover:Na(),whileTap:Na(),whileDrag:Na(),whileFocus:Na(),exit:Na()}}function KA(n,t){n.min=t.min,n.max=t.max}function Ii(n,t){KA(n.x,t.x),KA(n.y,t.y)}function YA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const ED=1e-4,LB=1-ED,UB=1+ED,bD=.01,BB=0-bD,zB=0+bD;function Rn(n){return n.max-n.min}function jB(n,t,e){return Math.abs(n-t)<=e}function QA(n,t,e,i=.5){n.origin=i,n.originPoint=Te(t.min,t.max,n.origin),n.scale=Rn(e)/Rn(t),n.translate=Te(e.min,e.max,n.origin)-n.originPoint,(n.scale>=LB&&n.scale<=UB||isNaN(n.scale))&&(n.scale=1),(n.translate>=BB&&n.translate<=zB||isNaN(n.translate))&&(n.translate=0)}function Fc(n,t,e,i){QA(n.x,t.x,e.x,i?i.originX:void 0),QA(n.y,t.y,e.y,i?i.originY:void 0)}function XA(n,t,e){n.min=e.min+t.min,n.max=n.min+Rn(t)}function FB(n,t,e){XA(n.x,t.x,e.x),XA(n.y,t.y,e.y)}function WA(n,t,e){n.min=t.min-e.min,n.max=n.min+Rn(t)}function wm(n,t,e){WA(n.x,t.x,e.x),WA(n.y,t.y,e.y)}function $A(n,t,e,i,a){return n-=t,n=bm(n,1/e,i),a!==void 0&&(n=bm(n,1/a,i)),n}function qB(n,t=0,e=1,i=.5,a,l=n,u=n){if(cr.test(t)&&(t=parseFloat(t),t=Te(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=Te(l.min,l.max,i);n===l&&(f-=t),n.min=$A(n.min,t,e,f,a),n.max=$A(n.max,t,e,f,a)}function ZA(n,t,[e,i,a],l,u){qB(n,t[e],t[i],t[a],t.scale,l,u)}const HB=["x","scaleX","originX"],GB=["y","scaleY","originY"];function JA(n,t,e,i){ZA(n.x,t,HB,e?e.x:void 0,i?i.x:void 0),ZA(n.y,t,GB,e?e.y:void 0,i?i.y:void 0)}function tS(n){return n.translate===0&&n.scale===1}function wD(n){return tS(n.x)&&tS(n.y)}function eS(n,t){return n.min===t.min&&n.max===t.max}function KB(n,t){return eS(n.x,t.x)&&eS(n.y,t.y)}function nS(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function AD(n,t){return nS(n.x,t.x)&&nS(n.y,t.y)}function iS(n){return Rn(n.x)/Rn(n.y)}function rS(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function nr(n){return[n("x"),n("y")]}function YB(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:y,rotateX:v,rotateY:E,skewX:I,skewY:C}=e;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),E&&(i+=`rotateY(${E}deg) `),I&&(i+=`skewX(${I}deg) `),C&&(i+=`skewY(${C}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const SD=["TopLeft","TopRight","BottomLeft","BottomRight"],QB=SD.length,sS=n=>typeof n=="string"?parseFloat(n):n,aS=n=>typeof n=="number"||yt.test(n);function XB(n,t,e,i,a,l){a?(n.opacity=Te(0,e.opacity??1,WB(i)),n.opacityExit=Te(t.opacity??1,0,$B(i))):l&&(n.opacity=Te(t.opacity??1,e.opacity??1,i));for(let u=0;u<QB;u++){const f=`border${SD[u]}Radius`;let m=oS(t,f),p=oS(e,f);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||aS(m)===aS(p)?(n[f]=Math.max(Te(sS(m),sS(p),i),0),(cr.test(p)||cr.test(m))&&(n[f]+="%")):n[f]=p}(t.rotate||e.rotate)&&(n.rotate=Te(t.rotate||0,e.rotate||0,i))}function oS(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const WB=ID(0,.5,_C),$B=ID(.5,.95,di);function ID(n,t,e){return i=>i<n?0:i>t?1:e(ah(n,t,i))}function ZB(n,t,e){const i=En(n)?n:Xl(n);return i.start(gv("",i,t,e)),i.animation}function ch(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const JB=(n,t)=>n.depth-t.depth;class tz{constructor(){this.children=[],this.isDirty=!1}add(t){tv(this.children,t),this.isDirty=!0}remove(t){ym(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JB),this.isDirty=!1,this.children.forEach(t)}}function ez(n,t){const e=xn.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(Zs(i),n(l-t))};return ue.setup(i,!0),()=>Zs(i)}function jd(n){return En(n)?n.get():n}class nz{constructor(){this.members=[]}add(t){tv(this.members,t);for(let e=this.members.length-1;e>=0;e--){const i=this.members[e];if(i===t||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&ym(this.members,i)}t.scheduleRender()}remove(t){if(ym(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const a=i.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:f}=t.options;f===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Fd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},xy=["","X","Y","Z"],iz=1e3;let rz=0;function Ry(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function xD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=YC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ue,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&xD(i)}function RD({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=t?.()){this.id=rz++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(oz),this.nodes.forEach(hz),this.nodes.forEach(fz),this.nodes.forEach(lz)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new tz)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new iv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=bv(u)&&!aB(u),this.instance=u;const{layoutId:f,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let y,v=0;const E=()=>this.root.updateBlockedByResize=!1;ue.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=ez(E,250),Fd.hasAnimatedSinceResize&&(Fd.hasAnimatedSinceResize=!1,this.nodes.forEach(cS)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:E,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const C=this.options.transition||p.getDefaultTransition()||yz,{onLayoutAnimationStart:U,onLayoutAnimationComplete:P}=p.getProps(),j=!this.targetLayout||!AD(this.targetLayout,I),X=!v&&E;if(this.options.layoutRoot||this.resumeFrom||X||v&&(j||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const K={...pv(C,"layout"),onPlay:U,onComplete:P};(p.shouldReduceMotion||this.options.layoutRoot)&&(K.delay=0,K.type=!1),this.startAnimation(K),this.setAnimationOrigin(y,X)}else v||cS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Zs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dz),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&xD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(lS);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(uS);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(cz),this.nodes.forEach(sz),this.nodes.forEach(az)):this.nodes.forEach(uS),this.clearAllSnapshots();const f=xn.now();mn.delta=dr(0,1e3/60,f-mn.timestamp),mn.timestamp=f,mn.isProcessing=!0,vy.update.process(mn),vy.preRender.process(mn),vy.render.process(mn),mn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Tv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uz),this.sharedNodes.forEach(mz)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ue.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ue.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Rn(this.snapshot.measuredBox.x)&&!Rn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=$e(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!wD(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||za(this.latestValues)||y)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),_z(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return $e();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(vz))){const{scroll:p}=this.root;p&&(El(f.x,p.offset.x),El(f.y,p.offset.y))}return f}removeElementScroll(u){const f=$e();if(Ii(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:y,options:v}=p;p!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Ii(f,u),El(f.x,y.offset.x),El(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=$e();Ii(m,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&bl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),za(y.latestValues)&&bl(m,y.latestValues)}return za(this.latestValues)&&bl(m,this.latestValues),m}removeTransform(u){const f=$e();Ii(f,u);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!za(p.latestValues))continue;L_(p.latestValues)&&p.updateSnapshot();const y=$e(),v=p.measurePageBox();Ii(y,v),JA(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return za(this.latestValues)&&JA(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==mn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=mn.timestamp;const E=this.getClosestProjectingParent();E&&this.linkedParentVersion!==E.layoutVersion&&!E.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(E&&E.layout?this.createRelativeTarget(E,this.layout.layoutBox,E.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=$e(),this.targetWithTransforms=$e()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),FB(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ii(this.target,this.layout.layoutBox),hD(this.target,this.targetDelta)):Ii(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,E&&!!E.resumingFrom==!!this.resumingFrom&&!E.options.layoutScroll&&E.target&&this.animationProgress!==1?this.createRelativeTarget(E,this.target,E.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||L_(this.parent.latestValues)||cD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$e(),this.relativeTargetOrigin=$e(),wm(this.relativeTargetOrigin,f,m),Ii(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===mn.timestamp&&(m=!1),m)return;const{layout:p,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||y))return;Ii(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,E=this.treeScale.y;yB(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=$e());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YA(this.prevProjectionDelta.x,this.projectionDelta.x),YA(this.prevProjectionDelta.y,this.projectionDelta.y)),Fc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==E||!rS(this.projectionDelta.x,this.prevProjectionDelta.x)||!rS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tl(),this.projectionDelta=Tl(),this.projectionDeltaWithTransform=Tl()}setAnimationOrigin(u,f=!1){const m=this.snapshot,p=m?m.latestValues:{},y={...this.latestValues},v=Tl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const E=$e(),I=m?m.source:void 0,C=this.layout?this.layout.source:void 0,U=I!==C,P=this.getStack(),j=!P||P.members.length<=1,X=!!(U&&!j&&this.options.crossfade===!0&&!this.path.some(gz));this.animationProgress=0;let K;this.mixTargetDelta=J=>{const rt=J/1e3;hS(v.x,u.x,rt),hS(v.y,u.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wm(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),pz(this.relativeTarget,this.relativeTargetOrigin,E,rt),K&&KB(this.relativeTarget,K)&&(this.isProjectionDirty=!1),K||(K=$e()),Ii(K,this.relativeTarget)),U&&(this.animationValues=y,XB(y,p,this.latestValues,rt,X,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Zs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ue.update(()=>{Fd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xl(0)),this.currentAnimation=ZB(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iz),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:p,latestValues:y}=u;if(!(!f||!m||!p)){if(this!==u&&this.layout&&p&&CD(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||$e();const v=Rn(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const E=Rn(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+E}Ii(f,m),bl(f,y),Fc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new nz),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const p={};m.z&&Ry("z",u,p,this.animationValues);for(let y=0;y<xy.length;y++)Ry(`rotate${xy[y]}`,u,p,this.animationValues),Ry(`skew${xy[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=jd(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=jd(f?.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=p.animationValues||p.latestValues;this.applyTransformsToTarget();let v=YB(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:E,y:I}=this.projectionDelta;u.transformOrigin=`${E.origin*100}% ${I.origin*100}% 0`,p.animationValues?u.opacity=p===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=p===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const C in B_){if(y[C]===void 0)continue;const{correct:U,applyTo:P,isCSSVariable:j}=B_[C],X=v==="none"?y[C]:U(y[C],p);if(P){const K=P.length;for(let J=0;J<K;J++)u[P[J]]=X}else j?this.options.visualElement.renderState.vars[C]=X:u[C]=X}this.options.layoutId&&(u.pointerEvents=p===this?jd(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(lS),this.root.sharedNodes.clear()}}}function sz(n){n.updateLayout()}function az(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?nr(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=Rn(v);v.min=e[y].min,v.max=v.min+E}):CD(a,t.layoutBox,e)&&nr(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],E=Rn(e[y]);v.max=v.min+E,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+E)});const u=Tl();Fc(u,e,t.layoutBox);const f=Tl();l?Fc(f,n.applyTransform(i,!0),t.measuredBox):Fc(f,e,t.layoutBox);const m=!wD(u);let p=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:E}=y;if(v&&E){const I=$e();wm(I,t.layoutBox,v.layoutBox);const C=$e();wm(C,e,E.layoutBox),AD(I,C)||(p=!0),y.options.layoutRoot&&(n.relativeTarget=C,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function oz(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function lz(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function uz(n){n.clearSnapshot()}function lS(n){n.clearMeasurements()}function uS(n){n.isLayoutDirty=!1}function cz(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function cS(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function hz(n){n.resolveTargetDelta()}function fz(n){n.calcProjection()}function dz(n){n.resetSkewAndRotation()}function mz(n){n.removeLeadSnapshot()}function hS(n,t,e){n.translate=Te(t.translate,0,e),n.scale=Te(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function fS(n,t,e,i){n.min=Te(t.min,e.min,i),n.max=Te(t.max,e.max,i)}function pz(n,t,e,i){fS(n.x,t.x,e.x,i),fS(n.y,t.y,e.y,i)}function gz(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const yz={duration:.45,ease:[.4,0,.1,1]},dS=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),mS=dS("applewebkit/")&&!dS("chrome/")?Math.round:di;function pS(n){n.min=mS(n.min),n.max=mS(n.max)}function _z(n){pS(n.x),pS(n.y)}function CD(n,t,e){return n==="position"||n==="preserve-aspect"&&!jB(iS(t),iS(e),.2)}function vz(n){return n!==n.root&&n.scroll?.wasRoot}const Tz=RD({attachResizeListener:(n,t)=>ch(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Cy={current:void 0},DD=RD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!Cy.current){const n=new Tz({});n.mount(window),n.setOptions({layoutScroll:!0}),Cy.current=n}return Cy.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),xv=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function gS(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function Ez(...n){return t=>{let e=!1;const i=n.map(a=>{const l=gS(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():gS(n[a],null)}}}}function bz(...n){return ot.useCallback(Ez(...n),n)}class wz extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=e.offsetParent,a=N_(i)&&i.offsetWidth||0,l=N_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Az({children:n,isPresent:t,anchorX:e,anchorY:i,root:a,pop:l}){const u=ot.useId(),f=ot.useRef(null),m=ot.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=ot.useContext(xv),y=n.props?.ref??n?.ref,v=bz(f,y);return ot.useInsertionEffect(()=>{const{width:E,height:I,top:C,left:U,right:P,bottom:j}=m.current;if(t||l===!1||!f.current||!E||!I)return;const X=e==="left"?`left: ${U}`:`right: ${P}`,K=i==="bottom"?`bottom: ${j}`:`top: ${C}`;f.current.dataset.motionPopId=u;const J=document.createElement("style");p&&(J.nonce=p);const rt=a??document.head;return rt.appendChild(J),J.sheet&&J.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${E}px !important;
            height: ${I}px !important;
            ${X}px !important;
            ${K}px !important;
          }
        `),()=>{rt.contains(J)&&rt.removeChild(J)}},[t]),tt.jsx(wz,{isPresent:t,childRef:f,sizeRef:m,pop:l,children:l===!1?n:ot.cloneElement(n,{ref:v})})}const Sz=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:m,root:p})=>{const y=J0(Iz),v=ot.useId();let E=!0,I=ot.useMemo(()=>(E=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:C=>{y.set(C,!0);for(const U of y.values())if(!U)return;i&&i()},register:C=>(y.set(C,!1),()=>y.delete(C))}),[e,y,i]);return l&&E&&(I={...I}),ot.useMemo(()=>{y.forEach((C,U)=>y.set(U,!1))},[e]),ot.useEffect(()=>{!e&&!y.size&&i&&i()},[e]),n=tt.jsx(Az,{pop:u==="popLayout",isPresent:e,anchorX:f,anchorY:m,root:p,children:n}),tt.jsx(Wm.Provider,{value:I,children:n})};function Iz(){return new Map}function VD(n=!0){const t=ot.useContext(Wm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=ot.useId();ot.useEffect(()=>{if(n)return a(l)},[n]);const u=ot.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const _d=n=>n.key||"";function yS(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const xz=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:m="top",root:p})=>{const[y,v]=VD(u),E=ot.useMemo(()=>yS(n),[n]),I=u&&!y?[]:E.map(_d),C=ot.useRef(!0),U=ot.useRef(E),P=J0(()=>new Map),j=ot.useRef(new Set),[X,K]=ot.useState(E),[J,rt]=ot.useState(E);oC(()=>{C.current=!1,U.current=E;for(let S=0;S<J.length;S++){const x=_d(J[S]);I.includes(x)?(P.delete(x),j.current.delete(x)):P.get(x)!==!0&&P.set(x,!1)}},[J,I.length,I.join("-")]);const ct=[];if(E!==X){let S=[...E];for(let x=0;x<J.length;x++){const O=J[x],M=_d(O);I.includes(M)||(S.splice(x,0,O),ct.push(O))}return l==="wait"&&ct.length&&(S=ct),rt(yS(S)),K(E),null}const{forceRender:R}=ot.useContext(Z0);return tt.jsx(tt.Fragment,{children:J.map(S=>{const x=_d(S),O=u&&!y?!1:E===J||I.includes(x),M=()=>{if(j.current.has(x))return;if(j.current.add(x),P.has(x))P.set(x,!0);else return;let B=!0;P.forEach(D=>{D||(B=!1)}),B&&(R?.(),rt(U.current),u&&v?.(),i&&i())};return tt.jsx(Sz,{isPresent:O,initial:!C.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:p,onExitComplete:O?void 0:M,anchorX:f,anchorY:m,children:S},x)})})},MD=ot.createContext({strict:!1}),_S={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let vS=!1;function Rz(){if(vS)return;const n={};for(const t in _S)n[t]={isEnabled:e=>_S[t].some(i=>!!e[i])};oD(n),vS=!0}function PD(){return Rz(),dB()}function Cz(n){const t=PD();for(const e in n)t[e]={...t[e],...n[e]};oD(t)}const Dz=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Am(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Dz.has(n)}let OD=n=>!Am(n);function Vz(n){typeof n=="function"&&(OD=t=>t.startsWith("on")?!Am(t):n(t))}try{Vz(require("@emotion/is-prop-valid").default)}catch{}function Mz(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(OD(a)||e===!0&&Am(a)||!t&&!Am(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const Jm=ot.createContext({});function Pz(n,t){if(Zm(n)){const{initial:e,animate:i}=n;return{initial:e===!1||uh(e)?e:void 0,animate:uh(i)?i:void 0}}return n.inherit!==!1?t:{}}function Oz(n){const{initial:t,animate:e}=Pz(n,ot.useContext(Jm));return ot.useMemo(()=>({initial:t,animate:e}),[TS(t),TS(e)])}function TS(n){return Array.isArray(n)?n.join(" "):n}const Rv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ND(n,t,e){for(const i in t)!En(t[i])&&!mD(i,e)&&(n[i]=t[i])}function Nz({transformTemplate:n},t){return ot.useMemo(()=>{const e=Rv();return Sv(e,t,n),Object.assign({},e.vars,e.style)},[t])}function kz(n,t){const e=n.style||{},i={};return ND(i,e,n),Object.assign(i,Nz(n,t)),i}function Lz(n,t){const e={},i=kz(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const kD=()=>({...Rv(),attrs:{}});function Uz(n,t,e,i){const a=ot.useMemo(()=>{const l=kD();return pD(l,t,yD(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};ND(l,n.style,n),a.style={...l,...a.style}}return a}const Bz=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Cv(n){return typeof n!="string"||n.includes("-")?!1:!!(Bz.indexOf(n)>-1||/[A-Z]/u.test(n))}function zz(n,t,e,{latestValues:i},a,l=!1,u){const m=(u??Cv(n)?Uz:Lz)(t,i,a,n),p=Mz(t,typeof n=="string",l),y=n!==ot.Fragment?{...p,...m,ref:e}:{},{children:v}=t,E=ot.useMemo(()=>En(v)?v.get():v,[v]);return ot.createElement(n,{...y,children:E})}function jz({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:Fz(e,i,a,n),renderState:t()}}function Fz(n,t,e,i){const a={},l=i(n,{});for(const E in l)a[E]=jd(l[E]);let{initial:u,animate:f}=n;const m=Zm(n),p=sD(n);t&&p&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!$m(v)){const E=Array.isArray(v)?v:[v];for(let I=0;I<E.length;I++){const C=yv(n,E[I]);if(C){const{transitionEnd:U,transition:P,...j}=C;for(const X in j){let K=j[X];if(Array.isArray(K)){const J=y?K.length-1:0;K=K[J]}K!==null&&(a[X]=K)}for(const X in U)a[X]=U[X]}}}return a}const LD=n=>(t,e)=>{const i=ot.useContext(Jm),a=ot.useContext(Wm),l=()=>jz(n,t,i,a);return e?l():J0(l)},qz=LD({scrapeMotionValuesFromProps:Iv,createRenderState:Rv}),Hz=LD({scrapeMotionValuesFromProps:_D,createRenderState:kD}),Gz=Symbol.for("motionComponentSymbol");function Kz(n,t,e){const i=ot.useRef(e);ot.useInsertionEffect(()=>{i.current=e});const a=ot.useRef(null);return ot.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=i.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const UD=ot.createContext({});function gl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Yz(n,t,e,i,a,l){const{visualElement:u}=ot.useContext(Jm),f=ot.useContext(MD),m=ot.useContext(Wm),p=ot.useContext(xv),y=p.reducedMotion,v=p.skipAnimations,E=ot.useRef(null),I=ot.useRef(!1);i=i||f.renderer,!E.current&&i&&(E.current=i(n,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:l}),I.current&&E.current&&(E.current.manuallyAnimateOnMount=!0));const C=E.current,U=ot.useContext(UD);C&&!C.projection&&a&&(C.type==="html"||C.type==="svg")&&Qz(E.current,e,a,U);const P=ot.useRef(!1);ot.useInsertionEffect(()=>{C&&P.current&&C.update(e,m)});const j=e[KC],X=ot.useRef(!!j&&!window.MotionHandoffIsComplete?.(j)&&window.MotionHasOptimisedAnimation?.(j));return oC(()=>{I.current=!0,C&&(P.current=!0,window.MotionIsMounted=!0,C.updateFeatures(),C.scheduleRenderMicrotask(),X.current&&C.animationState&&C.animationState.animateChanges())}),ot.useEffect(()=>{C&&(!X.current&&C.animationState&&C.animationState.animateChanges(),X.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(j)}),X.current=!1),C.enteringChildren=void 0)}),C}function Qz(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:p,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:BD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&gl(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:p})}function BD(n){if(n)return n.options.allowProjection!==!1?n.projection:BD(n.parent)}function Dy(n,{forwardMotionProps:t=!1,type:e}={},i,a){i&&Cz(i);const l=e?e==="svg":Cv(n),u=l?Hz:qz;function f(p,y){let v;const E={...ot.useContext(xv),...p,layoutId:Xz(p)},{isStatic:I}=E,C=Oz(p),U=u(p,I);if(!I&&aC){Wz();const P=$z(E);v=P.MeasureLayout,C.visualElement=Yz(n,U,E,a,P.ProjectionNode,l)}return tt.jsxs(Jm.Provider,{value:C,children:[v&&C.visualElement?tt.jsx(v,{visualElement:C.visualElement,...E}):null,zz(n,p,Kz(U,C.visualElement,y),U,I,t,l)]})}f.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=ot.forwardRef(f);return m[Gz]=n,m}function Xz({layoutId:n}){const t=ot.useContext(Z0).id;return t&&n!==void 0?t+"-"+n:n}function Wz(n,t){ot.useContext(MD).strict}function $z(n){const t=PD(),{drag:e,layout:i}=t;if(!e&&!i)return{};const a={...e,...i};return{MeasureLayout:e?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function Zz(n,t){if(typeof Proxy>"u")return Dy;const e=new Map,i=(l,u)=>Dy(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,Dy(u,void 0,n,t)),e.get(u))})}const Jz=(n,t)=>t.isSVG??Cv(n)?new DB(t):new AB(t,{allowProjection:n!==ot.Fragment});class tj extends na{constructor(t){super(t),t.animationState||(t.animationState=NB(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$m(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let ej=0;class nj extends na{constructor(){super(...arguments),this.id=ej++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const ij={animation:{Feature:tj},exit:{Feature:nj}};function Vh(n){return{point:{x:n.pageX,y:n.pageY}}}const rj=n=>t=>Ev(t)&&n(t,Vh(t));function qc(n,t,e,i){return ch(n,t,rj(e),i)}const zD=({current:n})=>n?n.ownerDocument.defaultView:null,ES=(n,t)=>Math.abs(n-t);function sj(n,t){const e=ES(n.x,t.x),i=ES(n.y,t.y);return Math.sqrt(e**2+i**2)}const bS=new Set(["auto","scroll"]);class jD{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=My(this.lastMoveEventInfo,this.history),C=this.startEvent!==null,U=sj(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!C&&!U)return;const{point:P}=I,{timestamp:j}=mn;this.history.push({...P,timestamp:j});const{onStart:X,onMove:K}=this.handlers;C||(X&&X(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,I)},this.handlePointerMove=(I,C)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=Vy(C,this.transformPagePoint),ue.update(this.updatePoint,!0)},this.handlePointerUp=(I,C)=>{this.end();const{onEnd:U,onSessionEnd:P,resumeAnimation:j}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const X=My(I.type==="pointercancel"?this.lastMoveEventInfo:Vy(C,this.transformPagePoint),this.history);this.startEvent&&U&&U(I,X),P&&P(I,X)},!Ev(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=Vh(t),p=Vy(m,this.transformPagePoint),{point:y}=p,{timestamp:v}=mn;this.history=[{...y,timestamp:v}];const{onSessionStart:E}=e;E&&E(t,My(p,this.history)),this.removeListeners=Rh(qc(this.contextWindow,"pointermove",this.handlePointerMove),qc(this.contextWindow,"pointerup",this.handlePointerUp),qc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(bS.has(i.overflowX)||bS.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),ue.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Zs(this.updatePoint)}}function Vy(n,t){return t?{point:t(n.point)}:n}function wS(n,t){return{x:n.x-t.x,y:n.y-t.y}}function My({point:n},t){return{point:n,delta:wS(n,FD(t)),offset:wS(n,aj(t)),velocity:oj(t,.1)}}function aj(n){return n[0]}function FD(n){return n[n.length-1]}function oj(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=FD(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Mi(t)));)e--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&a.timestamp-i.timestamp>Mi(t)*2&&(i=n[1]);const l=hi(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function lj(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Te(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Te(e,n,i.max):Math.min(n,e)),n}function AS(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function uj(n,{top:t,left:e,bottom:i,right:a}){return{x:AS(n.x,e,a),y:AS(n.y,t,i)}}function SS(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function cj(n,t){return{x:SS(n.x,t.x),y:SS(n.y,t.y)}}function hj(n,t){let e=.5;const i=Rn(n),a=Rn(t);return a>i?e=ah(t.min,t.max-i,n.min):i>a&&(e=ah(n.min,n.max-a,t.min)),dr(0,1,e)}function fj(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const z_=.35;function dj(n=z_){return n===!1?n=0:n===!0&&(n=z_),{x:IS(n,"left","right"),y:IS(n,"top","bottom")}}function IS(n,t,e){return{min:xS(n,t),max:xS(n,e)}}function xS(n,t){return typeof n=="number"?n:n[t]||0}const mj=new WeakMap;class pj{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$e(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e&&this.snapToCursor(Vh(v).point),this.stopAnimation()},u=(v,E)=>{const{drag:I,dragPropagation:C,onDragStart:U}=this.getProps();if(I&&!C&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qU(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=E,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nr(j=>{let X=this.getAxisMotionValue(j).get()||0;if(cr.test(X)){const{projection:K}=this.visualElement;if(K&&K.layout){const J=K.layout.layoutBox[j];J&&(X=Rn(J)*(parseFloat(X)/100))}}this.originPoint[j]=X}),U&&ue.update(()=>U(v,E),!1,!0),M_(this.visualElement,"transform");const{animationState:P}=this.visualElement;P&&P.setActive("whileDrag",!0)},f=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E;const{dragPropagation:I,dragDirectionLock:C,onDirectionLock:U,onDrag:P}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:j}=E;if(C&&this.currentDirection===null){this.currentDirection=yj(j),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",E.point,j),this.updateAxis("y",E.point,j),this.visualElement.render(),P&&ue.update(()=>P(v,E),!1,!0)},m=(v,E)=>{this.latestPointerEvent=v,this.latestPanInfo=E,this.stop(v,E),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new jD(t,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:zD(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&ue.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!vd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=lj(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&gl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=uj(i.layoutBox,t):this.constraints=!1,this.elastic=dj(e),a!==this.constraints&&!gl(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&nr(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=fj(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!gl(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=_B(i,a.root,this.visualElement.getTransformPagePoint());let u=cj(a.layout.layoutBox,l);if(e){const f=e(pB(u));this.hasMutatedConstraints=!!f,f&&(u=uD(f))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},p=nr(y=>{if(!vd(y,e,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const E=a?200:1e6,I=a?40:1e7,C={type:"inertia",velocity:i?t[y]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,C)});return Promise.all(p).then(f)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return M_(this.visualElement,t),i.start(gv(t,i,0,e,this.visualElement,!1))}stopAnimation(){nr(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){nr(e=>{const{drag:i}=this.getProps();if(!vd(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[e],m=l.get()||0;l.set(t[e]-Te(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!gl(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};nr(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=hj({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),nr(u=>{if(!vd(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:p}=this.constraints[u];f.set(Te(m,p,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;mj.set(this.visualElement,this);const t=this.visualElement.current,e=qc(t,"pointerdown",p=>{const{drag:y,dragListener:v=!0}=this.getProps(),E=p.target,I=E!==t&&XU(E);y&&v&&!I&&this.start(p)});let i;const a=()=>{const{dragConstraints:p}=this.getProps();gl(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=gj(t,p.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),ue.read(a);const f=ch(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:y})=>{this.isDragging&&y&&(nr(v=>{const E=this.getAxisMotionValue(v);E&&(this.originPoint[v]+=p[v].translate,E.set(E.get()+p[v].translate))}),this.visualElement.render())}));return()=>{f(),e(),u(),m&&m(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=z_,dragMomentum:f=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function RS(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function gj(n,t,e){const i=NA(n,RS(e)),a=NA(t,RS(e));return()=>{i(),a()}}function vd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function yj(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class _j extends na{constructor(t){super(t),this.removeGroupControls=di,this.removeListeners=di,this.controls=new pj(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||di}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Py=n=>(t,e)=>{n&&ue.update(()=>n(t,e),!1,!0)};class vj extends na{constructor(){super(...arguments),this.removePointerDownListener=di}onPointerDown(t){this.session=new jD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Py(t),onStart:Py(e),onMove:Py(i),onEnd:(l,u)=>{delete this.session,a&&ue.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=qc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Oy=!1;class Tj extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),Oy&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Fd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),Oy=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||ue.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Tv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;Oy=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function qD(n){const[t,e]=VD(),i=ot.useContext(Z0);return tt.jsx(Tj,{...n,layoutGroup:i,switchLayoutGroup:ot.useContext(UD),isPresent:t,safeToRemove:e})}const Ej={pan:{Feature:vj},drag:{Feature:_j,ProjectionNode:DD,MeasureLayout:qD}};function CS(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&ue.postRender(()=>l(t,Vh(t)))}class bj extends na{mount(){const{current:t}=this.node;t&&(this.unmount=GU(t,(e,i)=>(CS(this.node,i,"Start"),a=>CS(this.node,a,"End"))))}unmount(){}}class wj extends na{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(ch(this.node.current,"focus",()=>this.onFocus()),ch(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function DS(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&ue.postRender(()=>l(t,Vh(t)))}class Aj extends na{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:i}=this.node.props;this.unmount=$U(t,(a,l)=>(DS(this.node,l,"Start"),(u,{success:f})=>DS(this.node,u,f?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:i?.tap===!1})}unmount(){}}const j_=new WeakMap,Ny=new WeakMap,Sj=n=>{const t=j_.get(n.target);t&&t(n)},Ij=n=>{n.forEach(Sj)};function xj({root:n,...t}){const e=n||document;Ny.has(e)||Ny.set(e,{});const i=Ny.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(Ij,{root:n,...t})),i[a]}function Rj(n,t,e){const i=xj(t);return j_.set(n,e),i.observe(n),()=>{j_.delete(n),i.unobserve(n)}}const Cj={some:0,all:1};class Dj extends na{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:Cj[a]},f=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),E=p?y:v;E&&E(m)};return Rj(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(Vj(t,e))&&this.startObserver()}unmount(){}}function Vj({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const Mj={inView:{Feature:Dj},tap:{Feature:Aj},focus:{Feature:wj},hover:{Feature:bj}},Pj={layout:{ProjectionNode:DD,MeasureLayout:qD}},Oj={...ij,...Mj,...Ej,...Pj},F_=Zz(Oj,Jz),Nj=({room:n,date:t,bookings:e,onBook:i,onCancel:a,currentUser:l})=>{const u=m=>e.find(p=>p.slot===m),f=m=>{try{const p=m.split(" - ")[1],y=DP(`${t} ${p}`,"yyyy-MM-dd HH:mm",new Date);return NM(y,new Date)}catch{return!1}};return tt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:XP.map((m,p)=>{const y=u(m),v=!!y,E=f(m),I=v&&l&&y.userId===l.uid;return E?null:tt.jsxs(F_.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:p*.05},className:`
              relative p-4 rounded-2xl border transition-all duration-200
              ${v?"bg-red-50/50 border-red-100 dark:bg-red-900/10 dark:border-red-900/30":"bg-white border-gray-100 hover:shadow-md hover:border-red-200 cursor-pointer group dark:bg-gray-800 dark:border-gray-700 dark:hover:border-red-500/30"}
            `,onClick:()=>!v&&i(m),children:[tt.jsxs("div",{className:"flex justify-between items-start mb-3",children:[tt.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",children:[tt.jsx(KS,{className:"mr-1"}),m]}),!v&&tt.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-200 dark:bg-gray-600"})]}),v?tt.jsxs("div",{className:"space-y-2",children:[tt.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[tt.jsx(BP,{className:"text-red-400"}),y.courseCode]}),tt.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[tt.jsx(YP,{}),tt.jsx("span",{children:y.bookedBy})]}),y.notes&&tt.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic mt-2 pl-2 border-l-2 border-red-100 dark:border-red-900/30",children:['"',y.notes,'"']}),I&&tt.jsx("button",{onClick:C=>{C.stopPropagation(),a(y.id)},className:"mt-3 w-full py-1.5 px-3 bg-white border border-red-100 text-red-500 text-xs font-medium rounded-lg hover:bg-red-50 transition-colors dark:bg-gray-700 dark:border-red-900/30 dark:hover:bg-red-900/20",children:"Cancel Booking"})]}):tt.jsx("div",{className:"py-4 text-center",children:tt.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-gray-50 text-xs font-medium text-gray-400 group-hover:bg-red-50 group-hover:text-red-500 transition-colors dark:bg-gray-700 dark:text-gray-500 dark:group-hover:bg-red-900/20 dark:group-hover:text-red-400",children:l?"Available":"Sign in to book"})})]},m)})})},kj=({isOpen:n,onClose:t,onConfirm:e,slot:i,room:a,date:l})=>{const{user:u}=$0(),[f,m]=ot.useState(""),[p,y]=ot.useState(""),[v,E]=ot.useState(""),[I,C]=ot.useState(!1),[U,P]=ot.useState(""),[j,X]=ot.useState("");ot.useEffect(()=>{if(n&&u){if(y(u.displayName||""),i){const[J,rt]=i.split(" - ");P(J||""),X(rt||"")}C(!1)}},[n,u,i]);const K=J=>{J.preventDefault();const rt=I?`${U} - ${j}`:i;e({courseCode:f,bookedBy:p,notes:v,slot:rt,isCustom:I}),m(""),y(""),E("")};return n?tt.jsx(xz,{children:tt.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:tt.jsxs(F_.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-white/20 dark:border-gray-700 max-h-[90vh] overflow-y-auto",children:[tt.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-gray-700",children:[tt.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Book Room"}),tt.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-500 dark:text-gray-400",children:tt.jsx(FP,{size:20})})]}),tt.jsxs("div",{className:"p-6 bg-gray-50/50 dark:bg-gray-900/50",children:[tt.jsxs("div",{className:"mb-6 text-sm text-gray-600 dark:text-gray-300 grid grid-cols-2 gap-2",children:[tt.jsxs("div",{children:[tt.jsx("strong",{children:"Room:"})," ",a]}),tt.jsxs("div",{children:[tt.jsx("strong",{children:"Date:"})," ",l]}),tt.jsxs("div",{className:"col-span-2",children:[tt.jsx("strong",{children:"Default Slot:"})," ",i]})]}),tt.jsxs("form",{onSubmit:K,className:"space-y-4",children:[tt.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700",children:[tt.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:[tt.jsx(KS,{className:"text-red-500"}),"Custom Time Slot"]}),tt.jsx("button",{type:"button",onClick:()=>C(!I),className:`
                    w-10 h-5 rounded-full relative transition-colors duration-200
                    ${I?"bg-red-600":"bg-gray-200"}
                  `,children:tt.jsx("div",{className:`
                    absolute top-1 left-1 w-3 h-3 rounded-full bg-white transition-transform duration-200
                    ${I?"translate-x-5":"translate-x-0"}
                  `})})]}),I&&tt.jsxs(F_.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"grid grid-cols-2 gap-4 pt-2",children:[tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Start Time"}),tt.jsx("input",{type:"time",required:I,value:U,onChange:J=>P(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"End Time"}),tt.jsx("input",{type:"time",required:I,value:j,onChange:J=>X(J.target.value),className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 outline-none bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsx("p",{className:"col-span-2 text-[10px] text-gray-400 italic",children:"Note: Ensure your custom time doesn't overlap with existing bookings."})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course Code"}),tt.jsx("input",{type:"text",required:!0,value:f,onChange:J=>m(J.target.value),placeholder:"e.g. COMM 101",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Name / Initials"}),tt.jsx("input",{type:"text",required:!0,value:p,onChange:J=>y(J.target.value),placeholder:"e.g. JD - Course Rep",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),tt.jsxs("div",{children:[tt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes (Optional)"}),tt.jsx("textarea",{value:v,onChange:J=>E(J.target.value),placeholder:"Any additional info...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none h-20"})]}),tt.jsxs("div",{className:"pt-4 flex gap-3",children:[tt.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),tt.jsx("button",{type:"submit",className:"flex-1 py-2.5 px-4 rounded-xl bg-red-600 text-white font-medium hover:bg-red-700 shadow-lg shadow-red-200 dark:shadow-red-900/20 transition-all",children:"Confirm Booking"})]})]})]})]})})}):null},Lj=(n,t)=>{const[e,i]=ot.useState([]),[a,l]=ot.useState(!0),[u,f]=ot.useState(null);return ot.useEffect(()=>{l(!0);const y=A5(l5(Rc,"bookings"),hA("date","==",n),hA("room","==",t)),v=P5(y,E=>{const I=[];E.forEach(C=>{I.push({id:C.id,...C.data()})}),i(I),l(!1)},E=>{E.code==="failed-precondition"||E.code==="unavailable"?console.log("Firestore offline/unavailable:",E.message):(console.error("Error fetching bookings:",E),f(E)),l(!1)});return()=>v()},[n,t]),{bookings:e,loading:a,error:u,addBooking:async y=>{const v=y.slot.replace(/[\/\s:]/g,"_"),E=`${y.date}_${y.room}_${v}`,I=rA(Rc,"bookings",E);try{return await V5(Rc,async C=>{if((await C.get(I)).exists())throw new Error("This specific slot has already been booked!");C.set(I,{...y,createdAt:T5()})}),!0}catch(C){throw console.error("Error adding booking:",C),C}},cancelBooking:async y=>{try{return await M5(rA(Rc,"bookings",y)),!0}catch(v){throw console.error("Error cancelling booking:",v),v}}}};function Uj(){const[n,t]=ot.useState(!1),[e,i]=ot.useState(By["Block E"][0]),[a,l]=ot.useState(Uy(new Date,"yyyy-MM-dd")),[u,f]=ot.useState(!1),[m,p]=ot.useState(null),{user:y,login:v}=$0(),{bookings:E,loading:I,addBooking:C,cancelBooking:U}=Lj(a,e),P=6-E.length,j=async J=>{if(!y){try{await v()}catch(rt){console.error("Login failed:",rt)}return}p(J),f(!0)},X=async J=>{try{await C({room:e,date:a,slot:m,userId:y.uid,...J}),f(!1)}catch(rt){alert(rt.message)}},K=async J=>{if(!y){alert("Please sign in to cancel a booking.");return}if(confirm("Are you sure you want to cancel this booking?"))try{await U(J)}catch{alert("Failed to cancel booking")}};return tt.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden font-sans text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[n&&tt.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden backdrop-blur-sm",onClick:()=>t(!1)}),tt.jsx("div",{className:`
        fixed inset-y-0 left-0 z-30 w-72 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:tt.jsx(z5,{selectedRoom:e,onSelectRoom:J=>{i(J),t(!1)}})}),tt.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[tt.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 p-4 flex items-center justify-between z-10 transition-colors duration-200",children:[tt.jsxs("div",{className:"flex items-center gap-3",children:[tt.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:tt.jsx(GP,{size:24})}),tt.jsxs("div",{className:"flex flex-col",children:[tt.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[tt.jsx("span",{className:"hidden sm:inline text-gray-400 dark:text-gray-500 font-normal",children:"Room"}),e]}),tt.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium flex items-center gap-1",children:[tt.jsx("span",{className:`w-2 h-2 rounded-full ${P>0?"bg-green-500":"bg-red-500"}`}),I?"Loading...":`${P} slots available`]})]})]}),tt.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-700 p-1.5 rounded-xl border border-gray-100 dark:border-gray-600 transition-colors duration-200",children:[tt.jsxs("div",{className:"relative",children:[tt.jsx(zP,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),tt.jsx("input",{type:"date",value:a,onChange:J=>l(J.target.value),className:"pl-9 pr-3 py-1.5 bg-transparent text-sm font-medium outline-none text-gray-700 dark:text-gray-200"})]}),tt.jsx("button",{onClick:()=>l(Uy(new Date,"yyyy-MM-dd")),className:"px-3 py-1.5 bg-white dark:bg-gray-600 shadow-sm rounded-lg text-xs font-semibold text-gray-700 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-500 transition-all",children:"Today"})]})]}),tt.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:tt.jsx("div",{className:"max-w-5xl mx-auto",children:tt.jsx(Nj,{room:e,date:a,bookings:E,onBook:j,onCancel:K,currentUser:y})})})]}),tt.jsx(kj,{isOpen:u,onClose:()=>f(!1),room:e,date:a,slot:m,onConfirm:X})]})}DV.createRoot(document.getElementById("root")).render(tt.jsx(ot.StrictMode,{children:tt.jsx(B5,{children:tt.jsx(L5,{children:tt.jsx(Uj,{})})})}));
