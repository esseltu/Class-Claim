(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function e(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=e(a);fetch(a.href,l)}})();function Z2(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Bg={exports:{}},tc={};var Db;function J2(){if(Db)return tc;Db=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:n,type:i,key:u,ref:a!==void 0?a:null,props:l}}return tc.Fragment=t,tc.jsx=e,tc.jsxs=e,tc}var Vb;function tV(){return Vb||(Vb=1,Bg.exports=J2()),Bg.exports}var nt=tV(),zg={exports:{}},Rt={};var Mb;function eV(){if(Mb)return Rt;Mb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),b=Symbol.iterator;function I(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,z={};function Q(N,et,ft){this.props=N,this.context=et,this.refs=z,this.updater=ft||V}Q.prototype.isReactComponent={},Q.prototype.setState=function(N,et){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,et,"setState")},Q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=Q.prototype;function Y(N,et,ft){this.props=N,this.context=et,this.refs=z,this.updater=ft||V}var it=Y.prototype=new $;it.constructor=Y,U(it,Q.prototype),it.isPureReactComponent=!0;var rt=Array.isArray;function ut(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(N,et,ft){var dt=ft.ref;return{$$typeof:n,type:N,key:et,ref:dt!==void 0?dt:null,props:ft}}function P(N,et){return R(N.type,et,N.props)}function M(N){return typeof N=="object"&&N!==null&&N.$$typeof===n}function L(N){var et={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ft){return et[ft]})}var x=/\/+/g;function ae(N,et){return typeof N=="object"&&N!==null&&N.key!=null?L(""+N.key):et.toString(36)}function _e(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(ut,ut):(N.status="pending",N.then(function(et){N.status==="pending"&&(N.status="fulfilled",N.value=et)},function(et){N.status==="pending"&&(N.status="rejected",N.reason=et)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function W(N,et,ft,dt,wt){var Vt=typeof N;(Vt==="undefined"||Vt==="boolean")&&(N=null);var Ft=!1;if(N===null)Ft=!0;else switch(Vt){case"bigint":case"string":case"number":Ft=!0;break;case"object":switch(N.$$typeof){case n:case t:Ft=!0;break;case y:return Ft=N._init,W(Ft(N._payload),et,ft,dt,wt)}}if(Ft)return wt=wt(N),Ft=dt===""?"."+ae(N,0):dt,rt(wt)?(ft="",Ft!=null&&(ft=Ft.replace(x,"$&/")+"/"),W(wt,et,ft,"",function(Ys){return Ys})):wt!=null&&(M(wt)&&(wt=P(wt,ft+(wt.key==null||N&&N.key===wt.key?"":(""+wt.key).replace(x,"$&/")+"/")+Ft)),et.push(wt)),1;Ft=0;var ze=dt===""?".":dt+":";if(rt(N))for(var he=0;he<N.length;he++)dt=N[he],Vt=ze+ae(dt,he),Ft+=W(dt,et,ft,Vt,wt);else if(he=I(N),typeof he=="function")for(N=he.call(N),he=0;!(dt=N.next()).done;)dt=dt.value,Vt=ze+ae(dt,he++),Ft+=W(dt,et,ft,Vt,wt);else if(Vt==="object"){if(typeof N.then=="function")return W(_e(N),et,ft,dt,wt);throw et=String(N),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return Ft}function st(N,et,ft){if(N==null)return N;var dt=[],wt=0;return W(N,dt,"","",function(Vt){return et.call(ft,Vt,wt++)}),dt}function mt(N){if(N._status===-1){var et=N._result;et=et(),et.then(function(ft){(N._status===0||N._status===-1)&&(N._status=1,N._result=ft)},function(ft){(N._status===0||N._status===-1)&&(N._status=2,N._result=ft)}),N._status===-1&&(N._status=0,N._result=et)}if(N._status===1)return N._result.default;throw N._result}var Dt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},kt={map:st,forEach:function(N,et,ft){st(N,function(){et.apply(this,arguments)},ft)},count:function(N){var et=0;return st(N,function(){et++}),et},toArray:function(N){return st(N,function(et){return et})||[]},only:function(N){if(!M(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Rt.Activity=v,Rt.Children=kt,Rt.Component=Q,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=Y,Rt.StrictMode=i,Rt.Suspense=m,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return C.H.useMemoCache(N)}},Rt.cache=function(N){return function(){return N.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(N,et,ft){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var dt=U({},N.props),wt=N.key;if(et!=null)for(Vt in et.key!==void 0&&(wt=""+et.key),et)!A.call(et,Vt)||Vt==="key"||Vt==="__self"||Vt==="__source"||Vt==="ref"&&et.ref===void 0||(dt[Vt]=et[Vt]);var Vt=arguments.length-2;if(Vt===1)dt.children=ft;else if(1<Vt){for(var Ft=Array(Vt),ze=0;ze<Vt;ze++)Ft[ze]=arguments[ze+2];dt.children=Ft}return R(N.type,wt,dt)},Rt.createContext=function(N){return N={$$typeof:u,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:l,_context:N},N},Rt.createElement=function(N,et,ft){var dt,wt={},Vt=null;if(et!=null)for(dt in et.key!==void 0&&(Vt=""+et.key),et)A.call(et,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(wt[dt]=et[dt]);var Ft=arguments.length-2;if(Ft===1)wt.children=ft;else if(1<Ft){for(var ze=Array(Ft),he=0;he<Ft;he++)ze[he]=arguments[he+2];wt.children=ze}if(N&&N.defaultProps)for(dt in Ft=N.defaultProps,Ft)wt[dt]===void 0&&(wt[dt]=Ft[dt]);return R(N,Vt,wt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(N){return{$$typeof:f,render:N}},Rt.isValidElement=M,Rt.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:mt}},Rt.memo=function(N,et){return{$$typeof:g,type:N,compare:et===void 0?null:et}},Rt.startTransition=function(N){var et=C.T,ft={};C.T=ft;try{var dt=N(),wt=C.S;wt!==null&&wt(ft,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(ut,Dt)}catch(Vt){Dt(Vt)}finally{et!==null&&ft.types!==null&&(et.types=ft.types),C.T=et}},Rt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Rt.use=function(N){return C.H.use(N)},Rt.useActionState=function(N,et,ft){return C.H.useActionState(N,et,ft)},Rt.useCallback=function(N,et){return C.H.useCallback(N,et)},Rt.useContext=function(N){return C.H.useContext(N)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(N,et){return C.H.useDeferredValue(N,et)},Rt.useEffect=function(N,et){return C.H.useEffect(N,et)},Rt.useEffectEvent=function(N){return C.H.useEffectEvent(N)},Rt.useId=function(){return C.H.useId()},Rt.useImperativeHandle=function(N,et,ft){return C.H.useImperativeHandle(N,et,ft)},Rt.useInsertionEffect=function(N,et){return C.H.useInsertionEffect(N,et)},Rt.useLayoutEffect=function(N,et){return C.H.useLayoutEffect(N,et)},Rt.useMemo=function(N,et){return C.H.useMemo(N,et)},Rt.useOptimistic=function(N,et){return C.H.useOptimistic(N,et)},Rt.useReducer=function(N,et,ft){return C.H.useReducer(N,et,ft)},Rt.useRef=function(N){return C.H.useRef(N)},Rt.useState=function(N){return C.H.useState(N)},Rt.useSyncExternalStore=function(N,et,ft){return C.H.useSyncExternalStore(N,et,ft)},Rt.useTransition=function(){return C.H.useTransition()},Rt.version="19.2.4",Rt}var Pb;function x_(){return Pb||(Pb=1,zg.exports=eV()),zg.exports}var ot=x_();const Ba=Z2(ot);var jg={exports:{}},ec={},Fg={exports:{}},qg={};var Ob;function nV(){return Ob||(Ob=1,(function(n){function t(W,st){var mt=W.length;W.push(st);t:for(;0<mt;){var Dt=mt-1>>>1,kt=W[Dt];if(0<a(kt,st))W[Dt]=st,W[mt]=kt,mt=Dt;else break t}}function e(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var st=W[0],mt=W.pop();if(mt!==st){W[0]=mt;t:for(var Dt=0,kt=W.length,N=kt>>>1;Dt<N;){var et=2*(Dt+1)-1,ft=W[et],dt=et+1,wt=W[dt];if(0>a(ft,mt))dt<kt&&0>a(wt,ft)?(W[Dt]=wt,W[dt]=mt,Dt=dt):(W[Dt]=ft,W[et]=mt,Dt=et);else if(dt<kt&&0>a(wt,mt))W[Dt]=wt,W[dt]=mt,Dt=dt;else break t}}return st}function a(W,st){var mt=W.sortIndex-st.sortIndex;return mt!==0?mt:W.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();n.unstable_now=function(){return u.now()-f}}var m=[],g=[],y=1,v=null,b=3,I=!1,V=!1,U=!1,z=!1,Q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function it(W){for(var st=e(g);st!==null;){if(st.callback===null)i(g);else if(st.startTime<=W)i(g),st.sortIndex=st.expirationTime,t(m,st);else break;st=e(g)}}function rt(W){if(U=!1,it(W),!V)if(e(m)!==null)V=!0,ut||(ut=!0,L());else{var st=e(g);st!==null&&_e(rt,st.startTime-W)}}var ut=!1,C=-1,A=5,R=-1;function P(){return z?!0:!(n.unstable_now()-R<A)}function M(){if(z=!1,ut){var W=n.unstable_now();R=W;var st=!0;try{t:{V=!1,U&&(U=!1,$(C),C=-1),I=!0;var mt=b;try{e:{for(it(W),v=e(m);v!==null&&!(v.expirationTime>W&&P());){var Dt=v.callback;if(typeof Dt=="function"){v.callback=null,b=v.priorityLevel;var kt=Dt(v.expirationTime<=W);if(W=n.unstable_now(),typeof kt=="function"){v.callback=kt,it(W),st=!0;break e}v===e(m)&&i(m),it(W)}else i(m);v=e(m)}if(v!==null)st=!0;else{var N=e(g);N!==null&&_e(rt,N.startTime-W),st=!1}}break t}finally{v=null,b=mt,I=!1}st=void 0}}finally{st?L():ut=!1}}}var L;if(typeof Y=="function")L=function(){Y(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ae=x.port2;x.port1.onmessage=M,L=function(){ae.postMessage(null)}}else L=function(){Q(M,0)};function _e(W,st){C=Q(function(){W(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var st=3;break;default:st=b}var mt=b;b=st;try{return W()}finally{b=mt}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(W,st){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var mt=b;b=W;try{return st()}finally{b=mt}},n.unstable_scheduleCallback=function(W,st,mt){var Dt=n.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?Dt+mt:Dt):mt=Dt,W){case 1:var kt=-1;break;case 2:kt=250;break;case 5:kt=1073741823;break;case 4:kt=1e4;break;default:kt=5e3}return kt=mt+kt,W={id:y++,callback:st,priorityLevel:W,startTime:mt,expirationTime:kt,sortIndex:-1},mt>Dt?(W.sortIndex=mt,t(g,W),e(m)===null&&W===e(g)&&(U?($(C),C=-1):U=!0,_e(rt,mt-Dt))):(W.sortIndex=kt,t(m,W),V||I||(V=!0,ut||(ut=!0,L()))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var st=b;return function(){var mt=b;b=st;try{return W.apply(this,arguments)}finally{b=mt}}}})(qg)),qg}var Nb;function iV(){return Nb||(Nb=1,Fg.exports=nV()),Fg.exports}var Hg={exports:{}},on={};var kb;function rV(){if(kb)return on;kb=1;var n=x_();function t(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:m,containerInfo:g,implementation:y}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return l(m,g,null,y)},on.flushSync=function(m){var g=u.T,y=i.p;try{if(u.T=null,i.p=2,m)return m()}finally{u.T=g,i.p=y,i.d.f()}},on.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(m,g))},on.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},on.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:I}):y==="script"&&i.d.X(m,{crossOrigin:v,integrity:b,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},on.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=f(g.as,g.crossOrigin);i.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(m)},on.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,v=f(y,g.crossOrigin);i.d.L(m,y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},on.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=f(g.as,g.crossOrigin);i.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(m)},on.requestFormReset=function(m){i.d.r(m)},on.unstable_batchedUpdates=function(m,g){return m(g)},on.useFormState=function(m,g,y){return u.H.useFormState(m,g,y)},on.useFormStatus=function(){return u.H.useHostTransitionStatus()},on.version="19.2.4",on}var Lb;function sV(){if(Lb)return Hg.exports;Lb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Hg.exports=rV(),Hg.exports}var Ub;function aV(){if(Ub)return ec;Ub=1;var n=iV(),t=x_(),e=sV();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function f(r){if(r.tag===31){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(l(r)!==r)throw Error(i(188))}function g(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return m(d),r;if(p===c)return m(d),s;p=p.sibling}throw Error(i(188))}if(o.return!==c.return)o=d,c=p;else{for(var T=!1,S=d.child;S;){if(S===o){T=!0,o=d,c=p;break}if(S===c){T=!0,c=d,o=p;break}S=S.sibling}if(!T){for(S=p.child;S;){if(S===o){T=!0,o=p,c=d;break}if(S===c){T=!0,c=p,o=d;break}S=S.sibling}if(!T)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),it=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),ut=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(r){return r===null||typeof r!="object"?null:(r=M&&r[M]||r["@@iterator"],typeof r=="function"?r:null)}var x=Symbol.for("react.client.reference");function ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===x?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case U:return"Fragment";case Q:return"Profiler";case z:return"StrictMode";case rt:return"Suspense";case ut:return"SuspenseList";case R:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case V:return"Portal";case Y:return r.displayName||"Context";case $:return(r._context.displayName||"Context")+".Consumer";case it:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case C:return s=r.displayName||null,s!==null?s:ae(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ae(r(s))}catch{}}return null}var _e=Array.isArray,W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,mt={pending:!1,data:null,method:null,action:null},Dt=[],kt=-1;function N(r){return{current:r}}function et(r){0>kt||(r.current=Dt[kt],Dt[kt]=null,kt--)}function ft(r,s){kt++,Dt[kt]=r.current,r.current=s}var dt=N(null),wt=N(null),Vt=N(null),Ft=N(null);function ze(r,s){switch(ft(Vt,s),ft(wt,r),ft(dt,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?JE(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=JE(s),r=tb(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}et(dt),ft(dt,r)}function he(){et(dt),et(wt),et(Vt)}function Ys(r){r.memoizedState!==null&&ft(Ft,r);var s=dt.current,o=tb(s,r.type);s!==o&&(ft(wt,r),ft(dt,o))}function oo(r){wt.current===r&&(et(dt),et(wt)),Ft.current===r&&(et(Ft),Wu._currentValue=mt)}var lo,uo;function Ci(r){if(lo===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);lo=s&&s[1]||"",uo=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lo+r+uo}var Wl=!1;function Qs(r,s){if(!r||Wl)return"";Wl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var tt=function(){throw Error()};if(Object.defineProperty(tt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(tt,[])}catch(K){var H=K}Reflect.construct(r,[],tt)}else{try{tt.call()}catch(K){H=K}r.call(tt.prototype)}}else{try{throw Error()}catch(K){H=K}(tt=r())&&typeof tt.catch=="function"&&tt.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),T=p[0],S=p[1];if(T&&S){var D=T.split(`
`),q=S.split(`
`);for(d=c=0;c<D.length&&!D[c].includes("DetermineComponentFrameRoot");)c++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(c===D.length||d===q.length)for(c=D.length-1,d=q.length-1;1<=c&&0<=d&&D[c]!==q[d];)d--;for(;1<=c&&0<=d;c--,d--)if(D[c]!==q[d]){if(c!==1||d!==1)do if(c--,d--,0>d||D[c]!==q[d]){var X=`
`+D[c].replace(" at new "," at ");return r.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",r.displayName)),X}while(1<=c&&0<=d);break}}}finally{Wl=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Ci(o):""}function $l(r,s){switch(r.tag){case 26:case 27:case 5:return Ci(r.type);case 16:return Ci("Lazy");case 13:return r.child!==s&&s!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return Qs(r.type,!1);case 11:return Qs(r.type.render,!1);case 1:return Qs(r.type,!0);case 31:return Ci("Activity");default:return""}}function Zl(r){try{var s="",o=null;do s+=$l(r,o),o=r,r=r.return;while(r);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Re=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,Ur=n.unstable_cancelCallback,jm=n.unstable_shouldYield,yh=n.unstable_requestPaint,dn=n.unstable_now,Xs=n.unstable_getCurrentPriorityLevel,Jl=n.unstable_ImmediatePriority,tu=n.unstable_UserBlockingPriority,Br=n.unstable_NormalPriority,Fm=n.unstable_LowPriority,_h=n.unstable_IdlePriority,vh=n.log,Th=n.unstable_setDisableYieldValue,oi=null,$e=null;function jn(r){if(typeof vh=="function"&&Th(r),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(oi,r)}catch{}}var Se=Math.clz32?Math.clz32:bh,Eh=Math.log,co=Math.LN2;function bh(r){return r>>>=0,r===0?32:31-(Eh(r)/co|0)|0}var xi=256,Ws=262144,Ce=4194304;function Di(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Vi(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var d=0,p=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var S=c&134217727;return S!==0?(c=S&~p,c!==0?d=Di(c):(T&=S,T!==0?d=Di(T):o||(o=S&~r,o!==0&&(d=Di(o))))):(S=c&~p,S!==0?d=Di(S):T!==0?d=Di(T):o||(o=c&~r,o!==0&&(d=Di(o)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:d}function li(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function qm(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(){var r=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),r}function Mi(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function $s(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Hm(r,s,o,c,d,p){var T=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var S=r.entanglements,D=r.expirationTimes,q=r.hiddenUpdates;for(o=T&~o;0<o;){var X=31-Se(o),tt=1<<X;S[X]=0,D[X]=-1;var H=q[X];if(H!==null)for(q[X]=null,X=0;X<H.length;X++){var K=H[X];K!==null&&(K.lane&=-536870913)}o&=~tt}c!==0&&Zs(r,c,0),p!==0&&d===0&&r.tag!==0&&(r.suspendedLanes|=p&~(T&~s))}function Zs(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-Se(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&261930}function eu(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-Se(o),d=1<<c;d&s|r[c]&s&&(r[c]|=s),o&=~d}}function nu(r,s){var o=s&-s;return o=(o&42)!==0?1:Js(o),(o&(r.suspendedLanes|s))!==0?0:o}function Js(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ar(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function wh(){var r=st.p;return r!==0?r:(r=window.event,r===void 0?32:Sb(r.type))}function ui(r,s){var o=st.p;try{return st.p=r,s()}finally{st.p=o}}var ci=Math.random().toString(36).slice(2),xe="__reactFiber$"+ci,Ye="__reactProps$"+ci,Pi="__reactContainer$"+ci,ho="__reactEvents$"+ci,Gm="__reactListeners$"+ci,Ah="__reactHandles$"+ci,Ih="__reactResources$"+ci,Oi="__reactMarker$"+ci;function fo(r){delete r[xe],delete r[Ye],delete r[ho],delete r[Gm],delete r[Ah]}function Ni(r){var s=r[xe];if(s)return s;for(var o=r.parentNode;o;){if(s=o[Pi]||o[xe]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=ob(r);r!==null;){if(o=r[xe])return o;r=ob(r)}return s}r=o,o=r.parentNode}return null}function Fn(r){if(r=r[xe]||r[Pi]){var s=r.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return r}return null}function xn(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function ki(r){var s=r[Ih];return s||(s=r[Ih]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function De(r){r[Oi]=!0}var iu=new Set,ru={};function Li(r,s){Ui(r,s),Ui(r+"Capture",s)}function Ui(r,s){for(ru[r]=s,r=0;r<s.length;r++)iu.add(s[r])}var su=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},ou={};function Rh(r){return Re.call(ou,r)?!0:Re.call(au,r)?!1:su.test(r)?ou[r]=!0:(au[r]=!0,!1)}function mo(r,s,o){if(Rh(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function Dn(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function Ve(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}function Qe(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function zr(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lu(r,s,o){var c=Object.getOwnPropertyDescriptor(r.constructor.prototype,s);if(!r.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var d=c.get,p=c.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return d.call(this)},set:function(T){o=""+T,p.call(this,T)}}),Object.defineProperty(r,s,{enumerable:c.enumerable}),{getValue:function(){return o},setValue:function(T){o=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Xt(r){if(!r._valueTracker){var s=zr(r)?"checked":"value";r._valueTracker=lu(r,s,""+r[s])}}function ta(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=zr(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function Bi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var ea=/[\n"\\]/g;function Tn(r){return r.replace(ea,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function po(r,s,o,c,d,p,T,S){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),s!=null?T==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Qe(s)):r.value!==""+Qe(s)&&(r.value=""+Qe(s)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),s!=null?uu(r,T,Qe(s)):o!=null?uu(r,T,Qe(o)):c!=null&&r.removeAttribute("value"),d==null&&p!=null&&(r.defaultChecked=!!p),d!=null&&(r.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?r.name=""+Qe(S):r.removeAttribute("name")}function Ch(r,s,o,c,d,p,T,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(r.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){Xt(r);return}o=o!=null?""+Qe(o):"",s=s!=null?""+Qe(s):o,S||s===r.value||(r.value=s),r.defaultValue=s}c=c??d,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=S?r.checked:!!c,r.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),Xt(r)}function uu(r,s,o){s==="number"&&Bi(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function jr(r,s,o,c){if(r=r.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<r.length;o++)d=s.hasOwnProperty("$"+r[o].value),r[o].selected!==d&&(r[o].selected=d),d&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Qe(o),s=null,d=0;d<r.length;d++){if(r[d].value===o){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}s!==null||r[d].disabled||(s=r[d])}s!==null&&(s.selected=!0)}}function xh(r,s,o){if(s!=null&&(s=""+Qe(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Qe(o):""}function Fr(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(_e(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Qe(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c),Xt(r)}function En(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var Dh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cu(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||Dh.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function hu(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var d in s)c=s[d],s.hasOwnProperty(d)&&o[d]!==c&&cu(r,d,c)}else for(var p in s)s.hasOwnProperty(p)&&cu(r,p,s[p])}function go(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(r){return qr.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function hi(){}var fu=null;function qn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Hr=null,zi=null;function na(r){var s=Fn(r);if(s&&(r=s.stateNode)){var o=r[Ye]||null;t:switch(r=s.stateNode,s.type){case"input":if(po(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var d=c[Ye]||null;if(!d)throw Error(i(90));po(c,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&ta(c)}break t;case"textarea":xh(r,o.value,o.defaultValue);break t;case"select":s=o.value,s!=null&&jr(r,!!o.multiple,s,!1)}}}var _o=!1;function Gr(r,s,o){if(_o)return r(s,o);_o=!0;try{var c=r(s);return c}finally{if(_o=!1,(Hr!==null||zi!==null)&&(Af(),Hr&&(s=Hr,r=zi,zi=Hr=null,na(s),r)))for(s=0;s<r.length;s++)na(r[s])}}function fi(r,s){var o=r.stateNode;if(o===null)return null;var c=o[Ye]||null;if(c===null)return null;o=c[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break t;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ia=!1;if(Hn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ia=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ia=!1}var ji=null,du=null,ra=null;function mu(){if(ra)return ra;var r,s=du,o=s.length,c,d="value"in ji?ji.value:ji.textContent,p=d.length;for(r=0;r<o&&s[r]===d[r];r++);var T=o-r;for(c=1;c<=T&&s[o-c]===d[p-c];c++);return ra=d.slice(r,1<c?1-c:void 0)}function sa(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function di(){return!1}function Ze(r){function s(o,c,d,p,T){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=T,this.currentTarget=null;for(var S in r)r.hasOwnProperty(S)&&(o=r[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?or:di,this.isPropagationStopped=di,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fi=Ze(lr),Kr=v({},lr,{view:0,detail:0}),pu=Ze(Kr),Yr,vo,qi,To=v({},Kr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==qi&&(qi&&r.type==="mousemove"?(Yr=r.screenX-qi.screenX,vo=r.screenY-qi.screenY):vo=Yr=0,qi=r),Yr)},movementY:function(r){return"movementY"in r?r.movementY:vo}}),gu=Ze(To),aa=v({},To,{dataTransfer:0}),Mh=Ze(aa),Ph=v({},Kr,{relatedTarget:0}),oa=Ze(Ph),yu=v({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Oh=Ze(yu),Eo=v({},lr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Nh=Ze(Eo),kh=v({},lr,{data:0}),Hi=Ze(kh),Lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zh(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Bh[r])?!!s[r]:!1}function Qr(){return zh}var mn=v({},Kr,{key:function(r){if(r.key){var s=Lh[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=sa(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Uh[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(r){return r.type==="keypress"?sa(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?sa(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),jh=Ze(mn),Fh=v({},To,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ur=Ze(Fh),h=v({},Kr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),_=Ze(h),E=v({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ze(E),j=v({},To,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ze(j),lt=v({},lr,{newState:0,oldState:0}),Ct=Ze(lt),we=[9,13,27,32],Kt=Hn&&"CompositionEvent"in window,fe=null;Hn&&"documentMode"in document&&(fe=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!fe,Gi=Hn&&(!Kt||fe&&8<fe&&11>=fe),mi=" ",pi=!1;function la(r,s){switch(r){case"keyup":return we.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var So=!1;function bD(r,s){switch(r){case"compositionend":return bo(s);case"keypress":return s.which!==32?null:(pi=!0,mi);case"textInput":return r=s.data,r===mi&&pi?null:r;default:return null}}function SD(r,s){if(So)return r==="compositionend"||!Kt&&la(r,s)?(r=mu(),ra=du=ji=null,So=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Gi&&s.locale!=="ko"?null:s.data;default:return null}}var wD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function c0(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!wD[r.type]:s==="textarea"}function h0(r,s,o,c){Hr?zi?zi.push(c):zi=[c]:Hr=c,s=Mf(s,"onChange"),0<s.length&&(o=new Fi("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var _u=null,vu=null;function AD(r){YE(r,0)}function qh(r){var s=xn(r);if(ta(s))return r}function f0(r,s){if(r==="change")return s}var d0=!1;if(Hn){var Km;if(Hn){var Ym="oninput"in document;if(!Ym){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),Ym=typeof m0.oninput=="function"}Km=Ym}else Km=!1;d0=Km&&(!document.documentMode||9<document.documentMode)}function p0(){_u&&(_u.detachEvent("onpropertychange",g0),vu=_u=null)}function g0(r){if(r.propertyName==="value"&&qh(vu)){var s=[];h0(s,vu,r,qn(r)),Gr(AD,s)}}function ID(r,s,o){r==="focusin"?(p0(),_u=s,vu=o,_u.attachEvent("onpropertychange",g0)):r==="focusout"&&p0()}function RD(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return qh(vu)}function CD(r,s){if(r==="click")return qh(s)}function xD(r,s){if(r==="input"||r==="change")return qh(s)}function DD(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Vn=typeof Object.is=="function"?Object.is:DD;function Tu(r,s){if(Vn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!Re.call(s,d)||!Vn(r[d],s[d]))return!1}return!0}function y0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function _0(r,s){var o=y0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=y0(o)}}function v0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?v0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function T0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=Bi(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=Bi(r.document)}return s}function Qm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var VD=Hn&&"documentMode"in document&&11>=document.documentMode,wo=null,Xm=null,Eu=null,Wm=!1;function E0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wm||wo==null||wo!==Bi(c)||(c=wo,"selectionStart"in c&&Qm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Eu&&Tu(Eu,c)||(Eu=c,c=Mf(Xm,"onSelect"),0<c.length&&(s=new Fi("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=wo)))}function ua(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Ao={animationend:ua("Animation","AnimationEnd"),animationiteration:ua("Animation","AnimationIteration"),animationstart:ua("Animation","AnimationStart"),transitionrun:ua("Transition","TransitionRun"),transitionstart:ua("Transition","TransitionStart"),transitioncancel:ua("Transition","TransitionCancel"),transitionend:ua("Transition","TransitionEnd")},$m={},b0={};Hn&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete Ao.animationend.animation,delete Ao.animationiteration.animation,delete Ao.animationstart.animation),"TransitionEvent"in window||delete Ao.transitionend.transition);function ca(r){if($m[r])return $m[r];if(!Ao[r])return r;var s=Ao[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in b0)return $m[r]=s[o];return r}var S0=ca("animationend"),w0=ca("animationiteration"),A0=ca("animationstart"),MD=ca("transitionrun"),PD=ca("transitionstart"),OD=ca("transitioncancel"),I0=ca("transitionend"),R0=new Map,Zm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zm.push("scrollEnd");function gi(r,s){R0.set(r,s),Li(s,[r])}var Hh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Kn=[],Io=0,Jm=0;function Gh(){for(var r=Io,s=Jm=Io=0;s<r;){var o=Kn[s];Kn[s++]=null;var c=Kn[s];Kn[s++]=null;var d=Kn[s];Kn[s++]=null;var p=Kn[s];if(Kn[s++]=null,c!==null&&d!==null){var T=c.pending;T===null?d.next=d:(d.next=T.next,T.next=d),c.pending=d}p!==0&&C0(o,d,p)}}function Kh(r,s,o,c){Kn[Io++]=r,Kn[Io++]=s,Kn[Io++]=o,Kn[Io++]=c,Jm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function tp(r,s,o,c){return Kh(r,s,o,c),Yh(r)}function ha(r,s){return Kh(r,null,null,s),Yh(r)}function C0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var d=!1,p=r.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(r=p.stateNode,r===null||r._visibility&1||(d=!0)),r=p,p=p.return;return r.tag===3?(p=r.stateNode,d&&s!==null&&(d=31-Se(o),r=p.hiddenUpdates,c=r[d],c===null?r[d]=[s]:c.push(s),s.lane=o|536870912),p):null}function Yh(r){if(50<qu)throw qu=0,ug=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ro={};function ND(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(r,s,o,c){return new ND(r,s,o,c)}function ep(r){return r=r.prototype,!(!r||!r.isReactComponent)}function cr(r,s){var o=r.alternate;return o===null?(o=Mn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function x0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Qh(r,s,o,c,d,p){var T=0;if(c=r,typeof r=="function")ep(r)&&(T=1);else if(typeof r=="string")T=z2(r,o,dt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case R:return r=Mn(31,o,s,d),r.elementType=R,r.lanes=p,r;case U:return fa(o.children,d,p,s);case z:T=8,d|=24;break;case Q:return r=Mn(12,o,s,d|2),r.elementType=Q,r.lanes=p,r;case rt:return r=Mn(13,o,s,d),r.elementType=rt,r.lanes=p,r;case ut:return r=Mn(19,o,s,d),r.elementType=ut,r.lanes=p,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:T=10;break t;case $:T=9;break t;case it:T=11;break t;case C:T=14;break t;case A:T=16,c=null;break t}T=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Mn(T,o,s,d),s.elementType=r,s.type=c,s.lanes=p,s}function fa(r,s,o,c){return r=Mn(7,r,c,s),r.lanes=o,r}function np(r,s,o){return r=Mn(6,r,null,s),r.lanes=o,r}function D0(r){var s=Mn(18,null,null,0);return s.stateNode=r,s}function ip(r,s,o){return s=Mn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var V0=new WeakMap;function Yn(r,s){if(typeof r=="object"&&r!==null){var o=V0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:Zl(s)},V0.set(r,s),s)}return{value:r,source:s,stack:Zl(s)}}var Co=[],xo=0,Xh=null,bu=0,Qn=[],Xn=0,Xr=null,Ki=1,Yi="";function hr(r,s){Co[xo++]=bu,Co[xo++]=Xh,Xh=r,bu=s}function M0(r,s,o){Qn[Xn++]=Ki,Qn[Xn++]=Yi,Qn[Xn++]=Xr,Xr=r;var c=Ki;r=Yi;var d=32-Se(c)-1;c&=~(1<<d),o+=1;var p=32-Se(s)+d;if(30<p){var T=d-d%5;p=(c&(1<<T)-1).toString(32),c>>=T,d-=T,Ki=1<<32-Se(s)+d|o<<d|c,Yi=p+r}else Ki=1<<p|o<<d|c,Yi=r}function rp(r){r.return!==null&&(hr(r,1),M0(r,1,0))}function sp(r){for(;r===Xh;)Xh=Co[--xo],Co[xo]=null,bu=Co[--xo],Co[xo]=null;for(;r===Xr;)Xr=Qn[--Xn],Qn[Xn]=null,Yi=Qn[--Xn],Qn[Xn]=null,Ki=Qn[--Xn],Qn[Xn]=null}function P0(r,s){Qn[Xn++]=Ki,Qn[Xn++]=Yi,Qn[Xn++]=Xr,Ki=s.id,Yi=s.overflow,Xr=r}var Je=null,ue=null,jt=!1,Wr=null,Wn=!1,ap=Error(i(519));function $r(r){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Su(Yn(s,r)),ap}function O0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[xe]=r,s[Ye]=c,o){case"dialog":Nt("cancel",s),Nt("close",s);break;case"iframe":case"object":case"embed":Nt("load",s);break;case"video":case"audio":for(o=0;o<Gu.length;o++)Nt(Gu[o],s);break;case"source":Nt("error",s);break;case"img":case"image":case"link":Nt("error",s),Nt("load",s);break;case"details":Nt("toggle",s);break;case"input":Nt("invalid",s),Ch(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Nt("invalid",s);break;case"textarea":Nt("invalid",s),Fr(s,c.value,c.defaultValue,c.children)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||$E(s.textContent,o)?(c.popover!=null&&(Nt("beforetoggle",s),Nt("toggle",s)),c.onScroll!=null&&Nt("scroll",s),c.onScrollEnd!=null&&Nt("scrollend",s),c.onClick!=null&&(s.onclick=hi),s=!0):s=!1,s||$r(r,!0)}function N0(r){for(Je=r.return;Je;)switch(Je.tag){case 5:case 31:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:Je=Je.return}}function Do(r){if(r!==Je)return!1;if(!jt)return N0(r),jt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||wg(r.type,r.memoizedProps)),o=!o),o&&ue&&$r(r),N0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ue=ab(r)}else if(s===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ue=ab(r)}else s===27?(s=ue,hs(r.type)?(r=xg,xg=null,ue=r):ue=s):ue=Je?Zn(r.stateNode.nextSibling):null;return!0}function da(){ue=Je=null,jt=!1}function op(){var r=Wr;return r!==null&&(An===null?An=r:An.push.apply(An,r),Wr=null),r}function Su(r){Wr===null?Wr=[r]:Wr.push(r)}var lp=N(null),ma=null,fr=null;function Zr(r,s,o){ft(lp,s._currentValue),s._currentValue=o}function dr(r){r._currentValue=lp.current,et(lp)}function up(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function cp(r,s,o,c){var d=r.child;for(d!==null&&(d.return=r);d!==null;){var p=d.dependencies;if(p!==null){var T=d.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=d;for(var D=0;D<s.length;D++)if(S.context===s[D]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),up(p.return,o,r),c||(T=null);break t}p=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(i(341));T.lanes|=o,p=T.alternate,p!==null&&(p.lanes|=o),up(T,o,r),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===r){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Vo(r,s,o,c){r=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var S=d.type;Vn(d.pendingProps.value,T.value)||(r!==null?r.push(S):r=[S])}}else if(d===Ft.current){if(T=d.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(r!==null?r.push(Wu):r=[Wu])}d=d.return}r!==null&&cp(s,r,o,c),s.flags|=262144}function Wh(r){for(r=r.firstContext;r!==null;){if(!Vn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function pa(r){ma=r,fr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function tn(r){return k0(ma,r)}function $h(r,s){return ma===null&&pa(r),k0(r,s)}function k0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},fr===null){if(r===null)throw Error(i(308));fr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else fr=fr.next=s;return o}var kD=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},LD=n.unstable_scheduleCallback,UD=n.unstable_NormalPriority,Me={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hp(){return{controller:new kD,data:new Map,refCount:0}}function wu(r){r.refCount--,r.refCount===0&&LD(UD,function(){r.controller.abort()})}var Au=null,fp=0,Mo=0,Po=null;function BD(r,s){if(Au===null){var o=Au=[];fp=0,Mo=pg(),Po={status:"pending",value:void 0,then:function(c){o.push(c)}}}return fp++,s.then(L0,L0),s}function L0(){if(--fp===0&&Au!==null){Po!==null&&(Po.status="fulfilled");var r=Au;Au=null,Mo=0,Po=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function zD(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(c.status="rejected",c.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),c}var U0=W.S;W.S=function(r,s){EE=dn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&BD(r,s),U0!==null&&U0(r,s)};var ga=N(null);function dp(){var r=ga.current;return r!==null?r:oe.pooledCache}function Zh(r,s){s===null?ft(ga,ga.current):ft(ga,s.pool)}function B0(){var r=dp();return r===null?null:{parent:Me._currentValue,pool:r}}var Oo=Error(i(460)),mp=Error(i(474)),Jh=Error(i(542)),tf={then:function(){}};function z0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function j0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(hi,hi),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,q0(r),r;default:if(typeof s.status=="string")s.then(hi,hi);else{if(r=oe,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=c}},function(c){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,q0(r),r}throw _a=s,Oo}}function ya(r){try{var s=r._init;return s(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(_a=o,Oo):o}}var _a=null;function F0(){if(_a===null)throw Error(i(459));var r=_a;return _a=null,r}function q0(r){if(r===Oo||r===Jh)throw Error(i(483))}var No=null,Iu=0;function ef(r){var s=Iu;return Iu+=1,No===null&&(No=[]),j0(No,r,s)}function Ru(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function nf(r,s){throw s.$$typeof===b?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function H0(r){function s(k,O){if(r){var F=k.deletions;F===null?(k.deletions=[O],k.flags|=16):F.push(O)}}function o(k,O){if(!r)return null;for(;O!==null;)s(k,O),O=O.sibling;return null}function c(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function d(k,O){return k=cr(k,O),k.index=0,k.sibling=null,k}function p(k,O,F){return k.index=F,r?(F=k.alternate,F!==null?(F=F.index,F<O?(k.flags|=67108866,O):F):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function T(k){return r&&k.alternate===null&&(k.flags|=67108866),k}function S(k,O,F,J){return O===null||O.tag!==6?(O=np(F,k.mode,J),O.return=k,O):(O=d(O,F),O.return=k,O)}function D(k,O,F,J){var Tt=F.type;return Tt===U?X(k,O,F.props.children,J,F.key):O!==null&&(O.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&ya(Tt)===O.type)?(O=d(O,F.props),Ru(O,F),O.return=k,O):(O=Qh(F.type,F.key,F.props,null,k.mode,J),Ru(O,F),O.return=k,O)}function q(k,O,F,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==F.containerInfo||O.stateNode.implementation!==F.implementation?(O=ip(F,k.mode,J),O.return=k,O):(O=d(O,F.children||[]),O.return=k,O)}function X(k,O,F,J,Tt){return O===null||O.tag!==7?(O=fa(F,k.mode,J,Tt),O.return=k,O):(O=d(O,F),O.return=k,O)}function tt(k,O,F){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=np(""+O,k.mode,F),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case I:return F=Qh(O.type,O.key,O.props,null,k.mode,F),Ru(F,O),F.return=k,F;case V:return O=ip(O,k.mode,F),O.return=k,O;case A:return O=ya(O),tt(k,O,F)}if(_e(O)||L(O))return O=fa(O,k.mode,F,null),O.return=k,O;if(typeof O.then=="function")return tt(k,ef(O),F);if(O.$$typeof===Y)return tt(k,$h(k,O),F);nf(k,O)}return null}function H(k,O,F,J){var Tt=O!==null?O.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return Tt!==null?null:S(k,O,""+F,J);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case I:return F.key===Tt?D(k,O,F,J):null;case V:return F.key===Tt?q(k,O,F,J):null;case A:return F=ya(F),H(k,O,F,J)}if(_e(F)||L(F))return Tt!==null?null:X(k,O,F,J,null);if(typeof F.then=="function")return H(k,O,ef(F),J);if(F.$$typeof===Y)return H(k,O,$h(k,F),J);nf(k,F)}return null}function K(k,O,F,J,Tt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return k=k.get(F)||null,S(O,k,""+J,Tt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case I:return k=k.get(J.key===null?F:J.key)||null,D(O,k,J,Tt);case V:return k=k.get(J.key===null?F:J.key)||null,q(O,k,J,Tt);case A:return J=ya(J),K(k,O,F,J,Tt)}if(_e(J)||L(J))return k=k.get(F)||null,X(O,k,J,Tt,null);if(typeof J.then=="function")return K(k,O,F,ef(J),Tt);if(J.$$typeof===Y)return K(k,O,F,$h(O,J),Tt);nf(O,J)}return null}function pt(k,O,F,J){for(var Tt=null,Ht=null,_t=O,Mt=O=0,Ut=null;_t!==null&&Mt<F.length;Mt++){_t.index>Mt?(Ut=_t,_t=null):Ut=_t.sibling;var Gt=H(k,_t,F[Mt],J);if(Gt===null){_t===null&&(_t=Ut);break}r&&_t&&Gt.alternate===null&&s(k,_t),O=p(Gt,O,Mt),Ht===null?Tt=Gt:Ht.sibling=Gt,Ht=Gt,_t=Ut}if(Mt===F.length)return o(k,_t),jt&&hr(k,Mt),Tt;if(_t===null){for(;Mt<F.length;Mt++)_t=tt(k,F[Mt],J),_t!==null&&(O=p(_t,O,Mt),Ht===null?Tt=_t:Ht.sibling=_t,Ht=_t);return jt&&hr(k,Mt),Tt}for(_t=c(_t);Mt<F.length;Mt++)Ut=K(_t,k,Mt,F[Mt],J),Ut!==null&&(r&&Ut.alternate!==null&&_t.delete(Ut.key===null?Mt:Ut.key),O=p(Ut,O,Mt),Ht===null?Tt=Ut:Ht.sibling=Ut,Ht=Ut);return r&&_t.forEach(function(gs){return s(k,gs)}),jt&&hr(k,Mt),Tt}function bt(k,O,F,J){if(F==null)throw Error(i(151));for(var Tt=null,Ht=null,_t=O,Mt=O=0,Ut=null,Gt=F.next();_t!==null&&!Gt.done;Mt++,Gt=F.next()){_t.index>Mt?(Ut=_t,_t=null):Ut=_t.sibling;var gs=H(k,_t,Gt.value,J);if(gs===null){_t===null&&(_t=Ut);break}r&&_t&&gs.alternate===null&&s(k,_t),O=p(gs,O,Mt),Ht===null?Tt=gs:Ht.sibling=gs,Ht=gs,_t=Ut}if(Gt.done)return o(k,_t),jt&&hr(k,Mt),Tt;if(_t===null){for(;!Gt.done;Mt++,Gt=F.next())Gt=tt(k,Gt.value,J),Gt!==null&&(O=p(Gt,O,Mt),Ht===null?Tt=Gt:Ht.sibling=Gt,Ht=Gt);return jt&&hr(k,Mt),Tt}for(_t=c(_t);!Gt.done;Mt++,Gt=F.next())Gt=K(_t,k,Mt,Gt.value,J),Gt!==null&&(r&&Gt.alternate!==null&&_t.delete(Gt.key===null?Mt:Gt.key),O=p(Gt,O,Mt),Ht===null?Tt=Gt:Ht.sibling=Gt,Ht=Gt);return r&&_t.forEach(function($2){return s(k,$2)}),jt&&hr(k,Mt),Tt}function se(k,O,F,J){if(typeof F=="object"&&F!==null&&F.type===U&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case I:t:{for(var Tt=F.key;O!==null;){if(O.key===Tt){if(Tt=F.type,Tt===U){if(O.tag===7){o(k,O.sibling),J=d(O,F.props.children),J.return=k,k=J;break t}}else if(O.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===A&&ya(Tt)===O.type){o(k,O.sibling),J=d(O,F.props),Ru(J,F),J.return=k,k=J;break t}o(k,O);break}else s(k,O);O=O.sibling}F.type===U?(J=fa(F.props.children,k.mode,J,F.key),J.return=k,k=J):(J=Qh(F.type,F.key,F.props,null,k.mode,J),Ru(J,F),J.return=k,k=J)}return T(k);case V:t:{for(Tt=F.key;O!==null;){if(O.key===Tt)if(O.tag===4&&O.stateNode.containerInfo===F.containerInfo&&O.stateNode.implementation===F.implementation){o(k,O.sibling),J=d(O,F.children||[]),J.return=k,k=J;break t}else{o(k,O);break}else s(k,O);O=O.sibling}J=ip(F,k.mode,J),J.return=k,k=J}return T(k);case A:return F=ya(F),se(k,O,F,J)}if(_e(F))return pt(k,O,F,J);if(L(F)){if(Tt=L(F),typeof Tt!="function")throw Error(i(150));return F=Tt.call(F),bt(k,O,F,J)}if(typeof F.then=="function")return se(k,O,ef(F),J);if(F.$$typeof===Y)return se(k,O,$h(k,F),J);nf(k,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,O!==null&&O.tag===6?(o(k,O.sibling),J=d(O,F),J.return=k,k=J):(o(k,O),J=np(F,k.mode,J),J.return=k,k=J),T(k)):o(k,O)}return function(k,O,F,J){try{Iu=0;var Tt=se(k,O,F,J);return No=null,Tt}catch(_t){if(_t===Oo||_t===Jh)throw _t;var Ht=Mn(29,_t,null,k.mode);return Ht.lanes=J,Ht.return=k,Ht}}}var va=H0(!0),G0=H0(!1),Jr=!1;function pp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function ts(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function es(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Yt&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,s=Yh(r),C0(r,null,o),s}return Kh(r,c,s,o),Yh(r)}function Cu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,eu(r,o)}}function yp(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var T={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=T:p=p.next=T,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var _p=!1;function xu(){if(_p){var r=Po;if(r!==null)throw r}}function Du(r,s,o,c){_p=!1;var d=r.updateQueue;Jr=!1;var p=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var D=S,q=D.next;D.next=null,T===null?p=q:T.next=q,T=D;var X=r.alternate;X!==null&&(X=X.updateQueue,S=X.lastBaseUpdate,S!==T&&(S===null?X.firstBaseUpdate=q:S.next=q,X.lastBaseUpdate=D))}if(p!==null){var tt=d.baseState;T=0,X=q=D=null,S=p;do{var H=S.lane&-536870913,K=H!==S.lane;if(K?(Lt&H)===H:(c&H)===H){H!==0&&H===Mo&&(_p=!0),X!==null&&(X=X.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var pt=r,bt=S;H=s;var se=o;switch(bt.tag){case 1:if(pt=bt.payload,typeof pt=="function"){tt=pt.call(se,tt,H);break t}tt=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=bt.payload,H=typeof pt=="function"?pt.call(se,tt,H):pt,H==null)break t;tt=v({},tt,H);break t;case 2:Jr=!0}}H=S.callback,H!==null&&(r.flags|=64,K&&(r.flags|=8192),K=d.callbacks,K===null?d.callbacks=[H]:K.push(H))}else K={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},X===null?(q=X=K,D=tt):X=X.next=K,T|=H;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);X===null&&(D=tt),d.baseState=D,d.firstBaseUpdate=q,d.lastBaseUpdate=X,p===null&&(d.shared.lanes=0),as|=T,r.lanes=T,r.memoizedState=tt}}function K0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Y0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)K0(o[r],s)}var ko=N(null),rf=N(0);function Q0(r,s){r=br,ft(rf,r),ft(ko,s),br=r|s.baseLanes}function vp(){ft(rf,br),ft(ko,ko.current)}function Tp(){br=rf.current,et(ko),et(rf)}var Pn=N(null),$n=null;function ns(r){var s=r.alternate;ft(Ae,Ae.current&1),ft(Pn,r),$n===null&&(s===null||ko.current!==null||s.memoizedState!==null)&&($n=r)}function Ep(r){ft(Ae,Ae.current),ft(Pn,r),$n===null&&($n=r)}function X0(r){r.tag===22?(ft(Ae,Ae.current),ft(Pn,r),$n===null&&($n=r)):is()}function is(){ft(Ae,Ae.current),ft(Pn,Pn.current)}function On(r){et(Pn),$n===r&&($n=null),et(Ae)}var Ae=N(0);function sf(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Rg(o)||Cg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var mr=0,xt=null,ie=null,Pe=null,af=!1,Lo=!1,Ta=!1,of=0,Vu=0,Uo=null,jD=0;function ve(){throw Error(i(321))}function bp(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!Vn(r[o],s[o]))return!1;return!0}function Sp(r,s,o,c,d,p){return mr=p,xt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,W.H=r===null||r.memoizedState===null?MT:Up,Ta=!1,p=o(c,d),Ta=!1,Lo&&(p=$0(s,o,c,d)),W0(r),p}function W0(r){W.H=Ou;var s=ie!==null&&ie.next!==null;if(mr=0,Pe=ie=xt=null,af=!1,Vu=0,Uo=null,s)throw Error(i(300));r===null||Oe||(r=r.dependencies,r!==null&&Wh(r)&&(Oe=!0))}function $0(r,s,o,c){xt=r;var d=0;do{if(Lo&&(Uo=null),Vu=0,Lo=!1,25<=d)throw Error(i(301));if(d+=1,Pe=ie=null,r.updateQueue!=null){var p=r.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}W.H=PT,p=s(o,c)}while(Lo);return p}function FD(){var r=W.H,s=r.useState()[0];return s=typeof s.then=="function"?Mu(s):s,r=r.useState()[0],(ie!==null?ie.memoizedState:null)!==r&&(xt.flags|=1024),s}function wp(){var r=of!==0;return of=0,r}function Ap(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Ip(r){if(af){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}af=!1}mr=0,Pe=ie=xt=null,Lo=!1,Vu=of=0,Uo=null}function pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?xt.memoizedState=Pe=r:Pe=Pe.next=r,Pe}function Ie(){if(ie===null){var r=xt.alternate;r=r!==null?r.memoizedState:null}else r=ie.next;var s=Pe===null?xt.memoizedState:Pe.next;if(s!==null)Pe=s,ie=r;else{if(r===null)throw xt.alternate===null?Error(i(467)):Error(i(310));ie=r,r={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Pe===null?xt.memoizedState=Pe=r:Pe=Pe.next=r}return Pe}function lf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mu(r){var s=Vu;return Vu+=1,Uo===null&&(Uo=[]),r=j0(Uo,r,s),s=xt,(Pe===null?s.memoizedState:Pe.next)===null&&(s=s.alternate,W.H=s===null||s.memoizedState===null?MT:Up),r}function uf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Mu(r);if(r.$$typeof===Y)return tn(r)}throw Error(i(438,String(r)))}function Rp(r){var s=null,o=xt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=lf(),xt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=P;return s.index++,o}function pr(r,s){return typeof s=="function"?s(r):s}function cf(r){var s=Ie();return Cp(s,ie,r)}function Cp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var d=r.baseQueue,p=c.pending;if(p!==null){if(d!==null){var T=d.next;d.next=p.next,p.next=T}s.baseQueue=d=p,c.pending=null}if(p=r.baseState,d===null)r.memoizedState=p;else{s=d.next;var S=T=null,D=null,q=s,X=!1;do{var tt=q.lane&-536870913;if(tt!==q.lane?(Lt&tt)===tt:(mr&tt)===tt){var H=q.revertLane;if(H===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),tt===Mo&&(X=!0);else if((mr&H)===H){q=q.next,H===Mo&&(X=!0);continue}else tt={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=tt,T=p):D=D.next=tt,xt.lanes|=H,as|=H;tt=q.action,Ta&&o(p,tt),p=q.hasEagerState?q.eagerState:o(p,tt)}else H={lane:tt,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=H,T=p):D=D.next=H,xt.lanes|=tt,as|=tt;q=q.next}while(q!==null&&q!==s);if(D===null?T=p:D.next=S,!Vn(p,r.memoizedState)&&(Oe=!0,X&&(o=Po,o!==null)))throw o;r.memoizedState=p,r.baseState=T,r.baseQueue=D,c.lastRenderedState=p}return d===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function xp(r){var s=Ie(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var T=d=d.next;do p=r(p,T.action),T=T.next;while(T!==d);Vn(p,s.memoizedState)||(Oe=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,c]}function Z0(r,s,o){var c=xt,d=Ie(),p=jt;if(p){if(o===void 0)throw Error(i(407));o=o()}else o=s();var T=!Vn((ie||d).memoizedState,o);if(T&&(d.memoizedState=o,Oe=!0),d=d.queue,Mp(eT.bind(null,c,d,r),[r]),d.getSnapshot!==s||T||Pe!==null&&Pe.memoizedState.tag&1){if(c.flags|=2048,Bo(9,{destroy:void 0},tT.bind(null,c,d,o,s),null),oe===null)throw Error(i(349));p||(mr&127)!==0||J0(c,s,o)}return o}function J0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=xt.updateQueue,s===null?(s=lf(),xt.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function tT(r,s,o,c){s.value=o,s.getSnapshot=c,nT(s)&&iT(r)}function eT(r,s,o){return o(function(){nT(s)&&iT(r)})}function nT(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!Vn(r,o)}catch{return!0}}function iT(r){var s=ha(r,2);s!==null&&In(s,r,2)}function Dp(r){var s=pn();if(typeof r=="function"){var o=r;if(r=o(),Ta){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:r},s}function rT(r,s,o,c){return r.baseState=o,Cp(r,ie,typeof c=="function"?c:pr)}function qD(r,s,o,c,d){if(df(r))throw Error(i(485));if(r=s.action,r!==null){var p={payload:d,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){p.listeners.push(T)}};W.T!==null?o(!0):p.isTransition=!1,c(p),o=s.pending,o===null?(p.next=s.pending=p,sT(s,p)):(p.next=o.next,s.pending=o.next=p)}}function sT(r,s){var o=s.action,c=s.payload,d=r.state;if(s.isTransition){var p=W.T,T={};W.T=T;try{var S=o(d,c),D=W.S;D!==null&&D(T,S),aT(r,s,S)}catch(q){Vp(r,s,q)}finally{p!==null&&T.types!==null&&(p.types=T.types),W.T=p}}else try{p=o(d,c),aT(r,s,p)}catch(q){Vp(r,s,q)}}function aT(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){oT(r,s,c)},function(c){return Vp(r,s,c)}):oT(r,s,o)}function oT(r,s,o){s.status="fulfilled",s.value=o,lT(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,sT(r,o)))}function Vp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,lT(s),s=s.next;while(s!==c)}r.action=null}function lT(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function uT(r,s){return s}function cT(r,s){if(jt){var o=oe.formState;if(o!==null){t:{var c=xt;if(jt){if(ue){e:{for(var d=ue,p=Wn;d.nodeType!==8;){if(!p){d=null;break e}if(d=Zn(d.nextSibling),d===null){d=null;break e}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){ue=Zn(d.nextSibling),c=d.data==="F!";break t}}$r(c)}c=!1}c&&(s=o[0])}}return o=pn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uT,lastRenderedState:s},o.queue=c,o=xT.bind(null,xt,c),c.dispatch=o,c=Dp(!1),p=Lp.bind(null,xt,!1,c.queue),c=pn(),d={state:s,dispatch:null,action:r,pending:null},c.queue=d,o=qD.bind(null,xt,d,p,o),d.dispatch=o,c.memoizedState=r,[s,o,!1]}function hT(r){var s=Ie();return fT(s,ie,r)}function fT(r,s,o){if(s=Cp(r,s,uT)[0],r=cf(pr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=Mu(s)}catch(T){throw T===Oo?Jh:T}else c=s;s=Ie();var d=s.queue,p=d.dispatch;return o!==s.memoizedState&&(xt.flags|=2048,Bo(9,{destroy:void 0},HD.bind(null,d,o),null)),[c,p,r]}function HD(r,s){r.action=s}function dT(r){var s=Ie(),o=ie;if(o!==null)return fT(s,o,r);Ie(),s=s.memoizedState,o=Ie();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Bo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=xt.updateQueue,s===null&&(s=lf(),xt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function mT(){return Ie().memoizedState}function hf(r,s,o,c){var d=pn();xt.flags|=r,d.memoizedState=Bo(1|s,{destroy:void 0},o,c===void 0?null:c)}function ff(r,s,o,c){var d=Ie();c=c===void 0?null:c;var p=d.memoizedState.inst;ie!==null&&c!==null&&bp(c,ie.memoizedState.deps)?d.memoizedState=Bo(s,p,o,c):(xt.flags|=r,d.memoizedState=Bo(1|s,p,o,c))}function pT(r,s){hf(8390656,8,r,s)}function Mp(r,s){ff(2048,8,r,s)}function GD(r){xt.flags|=4;var s=xt.updateQueue;if(s===null)s=lf(),xt.updateQueue=s,s.events=[r];else{var o=s.events;o===null?s.events=[r]:o.push(r)}}function gT(r){var s=Ie().memoizedState;return GD({ref:s,nextImpl:r}),function(){if((Yt&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function yT(r,s){return ff(4,2,r,s)}function _T(r,s){return ff(4,4,r,s)}function vT(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function TT(r,s,o){o=o!=null?o.concat([r]):null,ff(4,4,vT.bind(null,s,r),o)}function Pp(){}function ET(r,s){var o=Ie();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&bp(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function bT(r,s){var o=Ie();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&bp(s,c[1]))return c[0];if(c=r(),Ta){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[c,s],c}function Op(r,s,o){return o===void 0||(mr&1073741824)!==0&&(Lt&261930)===0?r.memoizedState=s:(r.memoizedState=o,r=SE(),xt.lanes|=r,as|=r,o)}function ST(r,s,o,c){return Vn(o,s)?o:ko.current!==null?(r=Op(r,o,c),Vn(r,s)||(Oe=!0),r):(mr&42)===0||(mr&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,r.memoizedState=o):(r=SE(),xt.lanes|=r,as|=r,s)}function wT(r,s,o,c,d){var p=st.p;st.p=p!==0&&8>p?p:8;var T=W.T,S={};W.T=S,Lp(r,!1,s,o);try{var D=d(),q=W.S;if(q!==null&&q(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var X=zD(D,c);Pu(r,s,X,Ln(r))}else Pu(r,s,c,Ln(r))}catch(tt){Pu(r,s,{then:function(){},status:"rejected",reason:tt},Ln())}finally{st.p=p,T!==null&&S.types!==null&&(T.types=S.types),W.T=T}}function KD(){}function Np(r,s,o,c){if(r.tag!==5)throw Error(i(476));var d=AT(r).queue;wT(r,d,s,mt,o===null?KD:function(){return IT(r),o(c)})}function AT(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:mt,baseState:mt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:mt},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function IT(r){var s=AT(r);s.next===null&&(s=r.alternate.memoizedState),Pu(r,s.next.queue,{},Ln())}function kp(){return tn(Wu)}function RT(){return Ie().memoizedState}function CT(){return Ie().memoizedState}function YD(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ln();r=ts(o);var c=es(s,r,o);c!==null&&(In(c,s,o),Cu(c,s,o)),s={cache:hp()},r.payload=s;return}s=s.return}}function QD(r,s,o){var c=Ln();o={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},df(r)?DT(s,o):(o=tp(r,s,o,c),o!==null&&(In(o,r,c),VT(o,s,c)))}function xT(r,s,o){var c=Ln();Pu(r,s,o,c)}function Pu(r,s,o,c){var d={lane:c,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(df(r))DT(s,d);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var T=s.lastRenderedState,S=p(T,o);if(d.hasEagerState=!0,d.eagerState=S,Vn(S,T))return Kh(r,s,d,0),oe===null&&Gh(),!1}catch{}if(o=tp(r,s,d,c),o!==null)return In(o,r,c),VT(o,s,c),!0}return!1}function Lp(r,s,o,c){if(c={lane:2,revertLane:pg(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},df(r)){if(s)throw Error(i(479))}else s=tp(r,o,c,2),s!==null&&In(s,r,2)}function df(r){var s=r.alternate;return r===xt||s!==null&&s===xt}function DT(r,s){Lo=af=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function VT(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,eu(r,o)}}var Ou={readContext:tn,use:uf,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};Ou.useEffectEvent=ve;var MT={readContext:tn,use:uf,useCallback:function(r,s){return pn().memoizedState=[r,s===void 0?null:s],r},useContext:tn,useEffect:pT,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,hf(4194308,4,vT.bind(null,s,r),o)},useLayoutEffect:function(r,s){return hf(4194308,4,r,s)},useInsertionEffect:function(r,s){hf(4,2,r,s)},useMemo:function(r,s){var o=pn();s=s===void 0?null:s;var c=r();if(Ta){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=pn();if(o!==void 0){var d=o(s);if(Ta){jn(!0);try{o(s)}finally{jn(!1)}}}else d=s;return c.memoizedState=c.baseState=d,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:d},c.queue=r,r=r.dispatch=QD.bind(null,xt,r),[c.memoizedState,r]},useRef:function(r){var s=pn();return r={current:r},s.memoizedState=r},useState:function(r){r=Dp(r);var s=r.queue,o=xT.bind(null,xt,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:Pp,useDeferredValue:function(r,s){var o=pn();return Op(o,r,s)},useTransition:function(){var r=Dp(!1);return r=wT.bind(null,xt,r.queue,!0,!1),pn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=xt,d=pn();if(jt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),oe===null)throw Error(i(349));(Lt&127)!==0||J0(c,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,pT(eT.bind(null,c,p,r),[r]),c.flags|=2048,Bo(9,{destroy:void 0},tT.bind(null,c,p,o,s),null),o},useId:function(){var r=pn(),s=oe.identifierPrefix;if(jt){var o=Yi,c=Ki;o=(c&~(1<<32-Se(c)-1)).toString(32)+o,s="_"+s+"R_"+o,o=of++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=jD++,s="_"+s+"r_"+o.toString(32)+"_";return r.memoizedState=s},useHostTransitionStatus:kp,useFormState:cT,useActionState:cT,useOptimistic:function(r){var s=pn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Lp.bind(null,xt,!0,o),o.dispatch=s,[r,s]},useMemoCache:Rp,useCacheRefresh:function(){return pn().memoizedState=YD.bind(null,xt)},useEffectEvent:function(r){var s=pn(),o={impl:r};return s.memoizedState=o,function(){if((Yt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Up={readContext:tn,use:uf,useCallback:ET,useContext:tn,useEffect:Mp,useImperativeHandle:TT,useInsertionEffect:yT,useLayoutEffect:_T,useMemo:bT,useReducer:cf,useRef:mT,useState:function(){return cf(pr)},useDebugValue:Pp,useDeferredValue:function(r,s){var o=Ie();return ST(o,ie.memoizedState,r,s)},useTransition:function(){var r=cf(pr)[0],s=Ie().memoizedState;return[typeof r=="boolean"?r:Mu(r),s]},useSyncExternalStore:Z0,useId:RT,useHostTransitionStatus:kp,useFormState:hT,useActionState:hT,useOptimistic:function(r,s){var o=Ie();return rT(o,ie,r,s)},useMemoCache:Rp,useCacheRefresh:CT};Up.useEffectEvent=gT;var PT={readContext:tn,use:uf,useCallback:ET,useContext:tn,useEffect:Mp,useImperativeHandle:TT,useInsertionEffect:yT,useLayoutEffect:_T,useMemo:bT,useReducer:xp,useRef:mT,useState:function(){return xp(pr)},useDebugValue:Pp,useDeferredValue:function(r,s){var o=Ie();return ie===null?Op(o,r,s):ST(o,ie.memoizedState,r,s)},useTransition:function(){var r=xp(pr)[0],s=Ie().memoizedState;return[typeof r=="boolean"?r:Mu(r),s]},useSyncExternalStore:Z0,useId:RT,useHostTransitionStatus:kp,useFormState:dT,useActionState:dT,useOptimistic:function(r,s){var o=Ie();return ie!==null?rT(o,ie,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Rp,useCacheRefresh:CT};PT.useEffectEvent=gT;function Bp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var zp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Ln(),d=ts(c);d.payload=s,o!=null&&(d.callback=o),s=es(r,d,c),s!==null&&(In(s,r,c),Cu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Ln(),d=ts(c);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=es(r,d,c),s!==null&&(In(s,r,c),Cu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Ln(),c=ts(o);c.tag=2,s!=null&&(c.callback=s),s=es(r,c,o),s!==null&&(In(s,r,o),Cu(s,r,o))}};function OT(r,s,o,c,d,p,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,T):s.prototype&&s.prototype.isPureReactComponent?!Tu(o,c)||!Tu(d,p):!0}function NT(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&zp.enqueueReplaceState(s,s.state,null)}function Ea(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=v({},o));for(var d in r)o[d]===void 0&&(o[d]=r[d])}return o}function kT(r){Hh(r)}function LT(r){console.error(r)}function UT(r){Hh(r)}function mf(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function BT(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function jp(r,s,o){return o=ts(o),o.tag=3,o.payload={element:null},o.callback=function(){mf(r,s)},o}function zT(r){return r=ts(r),r.tag=3,r}function jT(r,s,o,c){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=c.value;r.payload=function(){return d(p)},r.callback=function(){BT(s,o,c)}}var T=o.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){BT(s,o,c),typeof d!="function"&&(os===null?os=new Set([this]):os.add(this));var S=c.stack;this.componentDidCatch(c.value,{componentStack:S!==null?S:""})})}function XD(r,s,o,c,d){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&Vo(s,o,d,!0),o=Pn.current,o!==null){switch(o.tag){case 31:case 13:return $n===null?If():o.alternate===null&&Te===0&&(Te=3),o.flags&=-257,o.flags|=65536,o.lanes=d,c===tf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),fg(r,c,d)),!1;case 22:return o.flags|=65536,c===tf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),fg(r,c,d)),!1}throw Error(i(435,o.tag))}return fg(r,c,d),If(),!1}if(jt)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,c!==ap&&(r=Error(i(422),{cause:c}),Su(Yn(r,o)))):(c!==ap&&(s=Error(i(423),{cause:c}),Su(Yn(s,o))),r=r.current.alternate,r.flags|=65536,d&=-d,r.lanes|=d,c=Yn(c,o),d=jp(r.stateNode,c,d),yp(r,d),Te!==4&&(Te=2)),!1;var p=Error(i(520),{cause:c});if(p=Yn(p,o),Fu===null?Fu=[p]:Fu.push(p),Te!==4&&(Te=2),s===null)return!0;c=Yn(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=d&-d,o.lanes|=r,r=jp(o.stateNode,c,r),yp(o,r),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(os===null||!os.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=zT(d),jT(d,r,o,c),yp(o,d),!1}o=o.return}while(o!==null);return!1}var Fp=Error(i(461)),Oe=!1;function en(r,s,o,c){s.child=r===null?G0(s,null,o,c):va(s,r.child,o,c)}function FT(r,s,o,c,d){o=o.render;var p=s.ref;if("ref"in c){var T={};for(var S in c)S!=="ref"&&(T[S]=c[S])}else T=c;return pa(s),c=Sp(r,s,o,T,p,d),S=wp(),r!==null&&!Oe?(Ap(r,s,d),gr(r,s,d)):(jt&&S&&rp(s),s.flags|=1,en(r,s,c,d),s.child)}function qT(r,s,o,c,d){if(r===null){var p=o.type;return typeof p=="function"&&!ep(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,HT(r,s,p,c,d)):(r=Qh(o.type,null,c,s,s.mode,d),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!Wp(r,d)){var T=p.memoizedProps;if(o=o.compare,o=o!==null?o:Tu,o(T,c)&&r.ref===s.ref)return gr(r,s,d)}return s.flags|=1,r=cr(p,c),r.ref=s.ref,r.return=s,s.child=r}function HT(r,s,o,c,d){if(r!==null){var p=r.memoizedProps;if(Tu(p,c)&&r.ref===s.ref)if(Oe=!1,s.pendingProps=c=p,Wp(r,d))(r.flags&131072)!==0&&(Oe=!0);else return s.lanes=r.lanes,gr(r,s,d)}return qp(r,s,o,c,d)}function GT(r,s,o,c){var d=c.children,p=r!==null?r.memoizedState:null;if(r===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,r!==null){for(c=s.child=r.child,d=0;c!==null;)d=d|c.lanes|c.childLanes,c=c.sibling;c=d&~p}else c=0,s.child=null;return KT(r,s,p,o,c)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Zh(s,p!==null?p.cachePool:null),p!==null?Q0(s,p):vp(),X0(s);else return c=s.lanes=536870912,KT(r,s,p!==null?p.baseLanes|o:o,o,c)}else p!==null?(Zh(s,p.cachePool),Q0(s,p),is(),s.memoizedState=null):(r!==null&&Zh(s,null),vp(),is());return en(r,s,d,o),s.child}function Nu(r,s){return r!==null&&r.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function KT(r,s,o,c,d){var p=dp();return p=p===null?null:{parent:Me._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&Zh(s,null),vp(),X0(s),r!==null&&Vo(r,s,c,!0),s.childLanes=d,null}function pf(r,s){return s=yf({mode:s.mode,children:s.children},r.mode),s.ref=r.ref,r.child=s,s.return=r,s}function YT(r,s,o){return va(s,r.child,null,o),r=pf(s,s.pendingProps),r.flags|=2,On(s),s.memoizedState=null,r}function WD(r,s,o){var c=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,r===null){if(jt){if(c.mode==="hidden")return r=pf(s,c),s.lanes=536870912,Nu(null,r);if(Ep(s),(r=ue)?(r=sb(r,Wn),r=r!==null&&r.data==="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Xr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=D0(r),o.return=s,s.child=o,Je=s,ue=null)):r=null,r===null)throw $r(s);return s.lanes=536870912,null}return pf(s,c)}var p=r.memoizedState;if(p!==null){var T=p.dehydrated;if(Ep(s),d)if(s.flags&256)s.flags&=-257,s=YT(r,s,o);else if(s.memoizedState!==null)s.child=r.child,s.flags|=128,s=null;else throw Error(i(558));else if(Oe||Vo(r,s,o,!1),d=(o&r.childLanes)!==0,Oe||d){if(c=oe,c!==null&&(T=nu(c,o),T!==0&&T!==p.retryLane))throw p.retryLane=T,ha(r,T),In(c,r,T),Fp;If(),s=YT(r,s,o)}else r=p.treeContext,ue=Zn(T.nextSibling),Je=s,jt=!0,Wr=null,Wn=!1,r!==null&&P0(s,r),s=pf(s,c),s.flags|=4096;return s}return r=cr(r.child,{mode:c.mode,children:c.children}),r.ref=s.ref,s.child=r,r.return=s,r}function gf(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function qp(r,s,o,c,d){return pa(s),o=Sp(r,s,o,c,void 0,d),c=wp(),r!==null&&!Oe?(Ap(r,s,d),gr(r,s,d)):(jt&&c&&rp(s),s.flags|=1,en(r,s,o,d),s.child)}function QT(r,s,o,c,d,p){return pa(s),s.updateQueue=null,o=$0(s,c,o,d),W0(r),c=wp(),r!==null&&!Oe?(Ap(r,s,p),gr(r,s,p)):(jt&&c&&rp(s),s.flags|=1,en(r,s,o,p),s.child)}function XT(r,s,o,c,d){if(pa(s),s.stateNode===null){var p=Ro,T=o.contextType;typeof T=="object"&&T!==null&&(p=tn(T)),p=new o(c,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=zp,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=c,p.state=s.memoizedState,p.refs={},pp(s),T=o.contextType,p.context=typeof T=="object"&&T!==null?tn(T):Ro,p.state=s.memoizedState,T=o.getDerivedStateFromProps,typeof T=="function"&&(Bp(s,o,T,c),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(T=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),T!==p.state&&zp.enqueueReplaceState(p,p.state,null),Du(s,c,p,d),xu(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){p=s.stateNode;var S=s.memoizedProps,D=Ea(o,S);p.props=D;var q=p.context,X=o.contextType;T=Ro,typeof X=="object"&&X!==null&&(T=tn(X));var tt=o.getDerivedStateFromProps;X=typeof tt=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||q!==T)&&NT(s,p,c,T),Jr=!1;var H=s.memoizedState;p.state=H,Du(s,c,p,d),xu(),q=s.memoizedState,S||H!==q||Jr?(typeof tt=="function"&&(Bp(s,o,tt,c),q=s.memoizedState),(D=Jr||OT(s,o,D,c,H,q,T))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=q),p.props=c,p.state=q,p.context=T,c=D):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{p=s.stateNode,gp(r,s),T=s.memoizedProps,X=Ea(o,T),p.props=X,tt=s.pendingProps,H=p.context,q=o.contextType,D=Ro,typeof q=="object"&&q!==null&&(D=tn(q)),S=o.getDerivedStateFromProps,(q=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T!==tt||H!==D)&&NT(s,p,c,D),Jr=!1,H=s.memoizedState,p.state=H,Du(s,c,p,d),xu();var K=s.memoizedState;T!==tt||H!==K||Jr||r!==null&&r.dependencies!==null&&Wh(r.dependencies)?(typeof S=="function"&&(Bp(s,o,S,c),K=s.memoizedState),(X=Jr||OT(s,o,X,c,H,K,D)||r!==null&&r.dependencies!==null&&Wh(r.dependencies))?(q||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,K,D),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,K,D)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=K),p.props=c,p.state=K,p.context=D,c=X):(typeof p.componentDidUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&H===r.memoizedState||(s.flags|=1024),c=!1)}return p=c,gf(r,s),c=(s.flags&128)!==0,p||c?(p=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,r!==null&&c?(s.child=va(s,r.child,null,d),s.child=va(s,null,o,d)):en(r,s,o,d),s.memoizedState=p.state,r=s.child):r=gr(r,s,d),r}function WT(r,s,o,c){return da(),s.flags|=256,en(r,s,o,c),s.child}var Hp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gp(r){return{baseLanes:r,cachePool:B0()}}function Kp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=kn),r}function $T(r,s,o){var c=s.pendingProps,d=!1,p=(s.flags&128)!==0,T;if((T=p)||(T=r!==null&&r.memoizedState===null?!1:(Ae.current&2)!==0),T&&(d=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,r===null){if(jt){if(d?ns(s):is(),(r=ue)?(r=sb(r,Wn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(s.memoizedState={dehydrated:r,treeContext:Xr!==null?{id:Ki,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},o=D0(r),o.return=s,s.child=o,Je=s,ue=null)):r=null,r===null)throw $r(s);return Cg(r)?s.lanes=32:s.lanes=536870912,null}var S=c.children;return c=c.fallback,d?(is(),d=s.mode,S=yf({mode:"hidden",children:S},d),c=fa(c,d,o,null),S.return=s,c.return=s,S.sibling=c,s.child=S,c=s.child,c.memoizedState=Gp(o),c.childLanes=Kp(r,T,o),s.memoizedState=Hp,Nu(null,c)):(ns(s),Yp(s,S))}var D=r.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(p)s.flags&256?(ns(s),s.flags&=-257,s=Qp(r,s,o)):s.memoizedState!==null?(is(),s.child=r.child,s.flags|=128,s=null):(is(),S=c.fallback,d=s.mode,c=yf({mode:"visible",children:c.children},d),S=fa(S,d,o,null),S.flags|=2,c.return=s,S.return=s,c.sibling=S,s.child=c,va(s,r.child,null,o),c=s.child,c.memoizedState=Gp(o),c.childLanes=Kp(r,T,o),s.memoizedState=Hp,s=Nu(null,c));else if(ns(s),Cg(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var q=T.dgst;T=q,c=Error(i(419)),c.stack="",c.digest=T,Su({value:c,source:null,stack:null}),s=Qp(r,s,o)}else if(Oe||Vo(r,s,o,!1),T=(o&r.childLanes)!==0,Oe||T){if(T=oe,T!==null&&(c=nu(T,o),c!==0&&c!==D.retryLane))throw D.retryLane=c,ha(r,c),In(T,r,c),Fp;Rg(S)||If(),s=Qp(r,s,o)}else Rg(S)?(s.flags|=192,s.child=r.child,s=null):(r=D.treeContext,ue=Zn(S.nextSibling),Je=s,jt=!0,Wr=null,Wn=!1,r!==null&&P0(s,r),s=Yp(s,c.children),s.flags|=4096);return s}return d?(is(),S=c.fallback,d=s.mode,D=r.child,q=D.sibling,c=cr(D,{mode:"hidden",children:c.children}),c.subtreeFlags=D.subtreeFlags&65011712,q!==null?S=cr(q,S):(S=fa(S,d,o,null),S.flags|=2),S.return=s,c.return=s,c.sibling=S,s.child=c,Nu(null,c),c=s.child,S=r.child.memoizedState,S===null?S=Gp(o):(d=S.cachePool,d!==null?(D=Me._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=B0(),S={baseLanes:S.baseLanes|o,cachePool:d}),c.memoizedState=S,c.childLanes=Kp(r,T,o),s.memoizedState=Hp,Nu(r.child,c)):(ns(s),o=r.child,r=o.sibling,o=cr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(T=s.deletions,T===null?(s.deletions=[r],s.flags|=16):T.push(r)),s.child=o,s.memoizedState=null,o)}function Yp(r,s){return s=yf({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function yf(r,s){return r=Mn(22,r,null,s),r.lanes=0,r}function Qp(r,s,o){return va(s,r.child,null,o),r=Yp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ZT(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),up(r.return,s,o)}function Xp(r,s,o,c,d,p){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d,treeForkCount:p}:(T.isBackwards=s,T.rendering=null,T.renderingStartTime=0,T.last=c,T.tail=o,T.tailMode=d,T.treeForkCount=p)}function JT(r,s,o){var c=s.pendingProps,d=c.revealOrder,p=c.tail;c=c.children;var T=Ae.current,S=(T&2)!==0;if(S?(T=T&1|2,s.flags|=128):T&=1,ft(Ae,T),en(r,s,c,o),c=jt?bu:0,!S&&r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ZT(r,o,s);else if(r.tag===19)ZT(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)r=o.alternate,r!==null&&sf(r)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),Xp(s,!1,d,o,p,c);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(r=d.alternate,r!==null&&sf(r)===null){s.child=d;break}r=d.sibling,d.sibling=o,o=d,d=r}Xp(s,!0,o,null,p,c);break;case"together":Xp(s,!1,null,null,void 0,c);break;default:s.memoizedState=null}return s.child}function gr(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),as|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(Vo(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=cr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=cr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function Wp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Wh(r)))}function $D(r,s,o){switch(s.tag){case 3:ze(s,s.stateNode.containerInfo),Zr(s,Me,r.memoizedState.cache),da();break;case 27:case 5:Ys(s);break;case 4:ze(s,s.stateNode.containerInfo);break;case 10:Zr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ep(s),null;break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ns(s),s.flags|=128,null):(o&s.child.childLanes)!==0?$T(r,s,o):(ns(s),r=gr(r,s,o),r!==null?r.sibling:null);ns(s);break;case 19:var d=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(Vo(r,s,o,!1),c=(o&s.childLanes)!==0),d){if(c)return JT(r,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ft(Ae,Ae.current),c)break;return null;case 22:return s.lanes=0,GT(r,s,o,s.pendingProps);case 24:Zr(s,Me,r.memoizedState.cache)}return gr(r,s,o)}function tE(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)Oe=!0;else{if(!Wp(r,o)&&(s.flags&128)===0)return Oe=!1,$D(r,s,o);Oe=(r.flags&131072)!==0}else Oe=!1,jt&&(s.flags&1048576)!==0&&M0(s,bu,s.index);switch(s.lanes=0,s.tag){case 16:t:{var c=s.pendingProps;if(r=ya(s.elementType),s.type=r,typeof r=="function")ep(r)?(c=Ea(r,c),s.tag=1,s=XT(null,s,r,c,o)):(s.tag=0,s=qp(null,s,r,c,o));else{if(r!=null){var d=r.$$typeof;if(d===it){s.tag=11,s=FT(null,s,r,c,o);break t}else if(d===C){s.tag=14,s=qT(null,s,r,c,o);break t}}throw s=ae(r)||r,Error(i(306,s,""))}}return s;case 0:return qp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,d=Ea(c,s.pendingProps),XT(r,s,c,d,o);case 3:t:{if(ze(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var p=s.memoizedState;d=p.element,gp(r,s),Du(s,c,null,o);var T=s.memoizedState;if(c=T.cache,Zr(s,Me,c),c!==p.cache&&cp(s,[Me],o,!0),xu(),c=T.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=WT(r,s,c,o);break t}else if(c!==d){d=Yn(Error(i(424)),s),Su(d),s=WT(r,s,c,o);break t}else for(r=s.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,ue=Zn(r.firstChild),Je=s,jt=!0,Wr=null,Wn=!0,o=G0(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(da(),c===d){s=gr(r,s,o);break t}en(r,s,c,o)}s=s.child}return s;case 26:return gf(r,s),r===null?(o=hb(s.type,null,s.pendingProps,null))?s.memoizedState=o:jt||(o=s.type,r=s.pendingProps,c=Pf(Vt.current).createElement(o),c[xe]=s,c[Ye]=r,nn(c,o,r),De(c),s.stateNode=c):s.memoizedState=hb(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Ys(s),r===null&&jt&&(c=s.stateNode=lb(s.type,s.pendingProps,Vt.current),Je=s,Wn=!0,d=ue,hs(s.type)?(xg=d,ue=Zn(c.firstChild)):ue=d),en(r,s,s.pendingProps.children,o),gf(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&jt&&((d=c=ue)&&(c=R2(c,s.type,s.pendingProps,Wn),c!==null?(s.stateNode=c,Je=s,ue=Zn(c.firstChild),Wn=!1,d=!0):d=!1),d||$r(s)),Ys(s),d=s.type,p=s.pendingProps,T=r!==null?r.memoizedProps:null,c=p.children,wg(d,p)?c=null:T!==null&&wg(d,T)&&(s.flags|=32),s.memoizedState!==null&&(d=Sp(r,s,FD,null,null,o),Wu._currentValue=d),gf(r,s),en(r,s,c,o),s.child;case 6:return r===null&&jt&&((r=o=ue)&&(o=C2(o,s.pendingProps,Wn),o!==null?(s.stateNode=o,Je=s,ue=null,r=!0):r=!1),r||$r(s)),null;case 13:return $T(r,s,o);case 4:return ze(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=va(s,null,c,o):en(r,s,c,o),s.child;case 11:return FT(r,s,s.type,s.pendingProps,o);case 7:return en(r,s,s.pendingProps,o),s.child;case 8:return en(r,s,s.pendingProps.children,o),s.child;case 12:return en(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Zr(s,s.type,c.value),en(r,s,c.children,o),s.child;case 9:return d=s.type._context,c=s.pendingProps.children,pa(s),d=tn(d),c=c(d),s.flags|=1,en(r,s,c,o),s.child;case 14:return qT(r,s,s.type,s.pendingProps,o);case 15:return HT(r,s,s.type,s.pendingProps,o);case 19:return JT(r,s,o);case 31:return WD(r,s,o);case 22:return GT(r,s,o,s.pendingProps);case 24:return pa(s),c=tn(Me),r===null?(d=dp(),d===null&&(d=oe,p=hp(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),s.memoizedState={parent:c,cache:d},pp(s),Zr(s,Me,d)):((r.lanes&o)!==0&&(gp(r,s),Du(s,null,null,o),xu()),d=r.memoizedState,p=s.memoizedState,d.parent!==c?(d={parent:c,cache:c},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Zr(s,Me,c)):(c=p.cache,Zr(s,Me,c),c!==d.cache&&cp(s,[Me],o,!0))),en(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function yr(r){r.flags|=4}function $p(r,s,o,c,d){if((s=(r.mode&32)!==0)&&(s=!1),s){if(r.flags|=16777216,(d&335544128)===d)if(r.stateNode.complete)r.flags|=8192;else if(RE())r.flags|=8192;else throw _a=tf,mp}else r.flags&=-16777217}function eE(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!gb(s))if(RE())r.flags|=8192;else throw _a=tf,mp}function _f(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Sh():536870912,r.lanes|=s,qo|=s)}function ku(r,s){if(!jt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ce(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&65011712,c|=d.flags&65011712,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function ZD(r,s,o){var c=s.pendingProps;switch(sp(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(s),null;case 1:return ce(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),dr(Me),he(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(Do(s)?yr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,op())),ce(s),null;case 26:var d=s.type,p=s.memoizedState;return r===null?(yr(s),p!==null?(ce(s),eE(s,p)):(ce(s),$p(s,d,null,c,o))):p?p!==r.memoizedState?(yr(s),ce(s),eE(s,p)):(ce(s),s.flags&=-16777217):(r=r.memoizedProps,r!==c&&yr(s),ce(s),$p(s,d,r,c,o)),null;case 27:if(oo(s),o=Vt.current,d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ce(s),null}r=dt.current,Do(s)?O0(s):(r=lb(d,c,o),s.stateNode=r,yr(s))}return ce(s),null;case 5:if(oo(s),d=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return ce(s),null}if(p=dt.current,Do(s))O0(s);else{var T=Pf(Vt.current);switch(p){case 1:p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=T.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=T.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=T.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof c.is=="string"?T.createElement("select",{is:c.is}):T.createElement("select"),c.multiple?p.multiple=!0:c.size&&(p.size=c.size);break;default:p=typeof c.is=="string"?T.createElement(d,{is:c.is}):T.createElement(d)}}p[xe]=s,p[Ye]=c;t:for(T=s.child;T!==null;){if(T.tag===5||T.tag===6)p.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===s)break t;for(;T.sibling===null;){if(T.return===null||T.return===s)break t;T=T.return}T.sibling.return=T.return,T=T.sibling}s.stateNode=p;t:switch(nn(p,d,c),d){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}c&&yr(s)}}return ce(s),$p(s,s.type,r===null?null:r.memoizedProps,s.pendingProps,o),null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&yr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Vt.current,Do(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,d=Je,d!==null)switch(d.tag){case 27:case 5:c=d.memoizedProps}r[xe]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||$E(r.nodeValue,o)),r||$r(s,!0)}else r=Pf(r).createTextNode(c),r[xe]=s,s.stateNode=r}return ce(s),null;case 31:if(o=s.memoizedState,r===null||r.memoizedState!==null){if(c=Do(s),o!==null){if(r===null){if(!c)throw Error(i(318));if(r=s.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[xe]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),r=!1}else o=op(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return s.flags&256?(On(s),s):(On(s),null);if((s.flags&128)!==0)throw Error(i(558))}return ce(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(d=Do(s),c!==null&&c.dehydrated!==null){if(r===null){if(!d)throw Error(i(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[xe]=s}else da(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ce(s),d=!1}else d=op(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(On(s),s):(On(s),null)}return On(s),(s.flags&128)!==0?(s.lanes=o,s):(o=c!==null,r=r!==null&&r.memoizedState!==null,o&&(c=s.child,d=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(d=c.alternate.memoizedState.cachePool.pool),p=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==d&&(c.flags|=2048)),o!==r&&o&&(s.child.flags|=8192),_f(s,s.updateQueue),ce(s),null);case 4:return he(),r===null&&vg(s.stateNode.containerInfo),ce(s),null;case 10:return dr(s.type),ce(s),null;case 19:if(et(Ae),c=s.memoizedState,c===null)return ce(s),null;if(d=(s.flags&128)!==0,p=c.rendering,p===null)if(d)ku(c,!1);else{if(Te!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(p=sf(r),p!==null){for(s.flags|=128,ku(c,!1),r=p.updateQueue,s.updateQueue=r,_f(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)x0(o,r),o=o.sibling;return ft(Ae,Ae.current&1|2),jt&&hr(s,c.treeForkCount),s.child}r=r.sibling}c.tail!==null&&dn()>Sf&&(s.flags|=128,d=!0,ku(c,!1),s.lanes=4194304)}else{if(!d)if(r=sf(p),r!==null){if(s.flags|=128,d=!0,r=r.updateQueue,s.updateQueue=r,_f(s,r),ku(c,!0),c.tail===null&&c.tailMode==="hidden"&&!p.alternate&&!jt)return ce(s),null}else 2*dn()-c.renderingStartTime>Sf&&o!==536870912&&(s.flags|=128,d=!0,ku(c,!1),s.lanes=4194304);c.isBackwards?(p.sibling=s.child,s.child=p):(r=c.last,r!==null?r.sibling=p:s.child=p,c.last=p)}return c.tail!==null?(r=c.tail,c.rendering=r,c.tail=r.sibling,c.renderingStartTime=dn(),r.sibling=null,o=Ae.current,ft(Ae,d?o&1|2:o&1),jt&&hr(s,c.treeForkCount),r):(ce(s),null);case 22:case 23:return On(s),Tp(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(ce(s),s.subtreeFlags&6&&(s.flags|=8192)):ce(s),o=s.updateQueue,o!==null&&_f(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&et(ga),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),dr(Me),ce(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function JD(r,s){switch(sp(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return dr(Me),he(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return oo(s),null;case 31:if(s.memoizedState!==null){if(On(s),s.alternate===null)throw Error(i(340));da()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 13:if(On(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));da()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return et(Ae),null;case 4:return he(),null;case 10:return dr(s.type),null;case 22:case 23:return On(s),Tp(),r!==null&&et(ga),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return dr(Me),null;case 25:return null;default:return null}}function nE(r,s){switch(sp(s),s.tag){case 3:dr(Me),he();break;case 26:case 27:case 5:oo(s);break;case 4:he();break;case 31:s.memoizedState!==null&&On(s);break;case 13:On(s);break;case 19:et(Ae);break;case 10:dr(s.type);break;case 22:case 23:On(s),Tp(),r!==null&&et(ga);break;case 24:dr(Me)}}function Lu(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&r)===r){c=void 0;var p=o.create,T=o.inst;c=p(),T.destroy=c}o=o.next}while(o!==d)}}catch(S){$t(s,s.return,S)}}function rs(r,s,o){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var p=d.next;c=p;do{if((c.tag&r)===r){var T=c.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=s;var D=o,q=S;try{q()}catch(X){$t(d,D,X)}}}c=c.next}while(c!==p)}}catch(X){$t(s,s.return,X)}}function iE(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{Y0(s,o)}catch(c){$t(r,r.return,c)}}}function rE(r,s,o){o.props=Ea(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){$t(r,s,c)}}function Uu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(d){$t(r,s,d)}}function Qi(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(d){$t(r,s,d)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){$t(r,s,d)}else o.current=null}function sE(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(d){$t(r,r.return,d)}}function Zp(r,s,o){try{var c=r.stateNode;E2(c,r.type,o,s),c[Ye]=s}catch(d){$t(r,r.return,d)}}function aE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&hs(r.type)||r.tag===4}function Jp(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||aE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&hs(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tg(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=hi));else if(c!==4&&(c===27&&hs(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(tg(r,s,o),r=r.sibling;r!==null;)tg(r,s,o),r=r.sibling}function vf(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&hs(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(vf(r,s,o),r=r.sibling;r!==null;)vf(r,s,o),r=r.sibling}function oE(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);nn(s,c,o),s[xe]=r,s[Ye]=o}catch(p){$t(r,r.return,p)}}var _r=!1,Ne=!1,eg=!1,lE=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function t2(r,s){if(r=r.containerInfo,bg=zf,r=T0(r),Qm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else t:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var T=0,S=-1,D=-1,q=0,X=0,tt=r,H=null;e:for(;;){for(var K;tt!==o||d!==0&&tt.nodeType!==3||(S=T+d),tt!==p||c!==0&&tt.nodeType!==3||(D=T+c),tt.nodeType===3&&(T+=tt.nodeValue.length),(K=tt.firstChild)!==null;)H=tt,tt=K;for(;;){if(tt===r)break e;if(H===o&&++q===d&&(S=T),H===p&&++X===c&&(D=T),(K=tt.nextSibling)!==null)break;tt=H,H=tt.parentNode}tt=K}o=S===-1||D===-1?null:{start:S,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Sg={focusedElem:r,selectionRange:o},zf=!1,Xe=s;Xe!==null;)if(s=Xe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,Xe=r;else for(;Xe!==null;){switch(s=Xe,p=s.alternate,r=s.flags,s.tag){case 0:if((r&4)!==0&&(r=s.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)d=r[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&p!==null){r=void 0,o=s,d=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var pt=Ea(o.type,d);r=c.getSnapshotBeforeUpdate(pt,p),c.__reactInternalSnapshotBeforeUpdate=r}catch(bt){$t(o,o.return,bt)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Ig(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Ig(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Xe=r;break}Xe=s.return}}function uE(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(r,o),c&4&&Lu(5,o);break;case 1:if(Tr(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(T){$t(o,o.return,T)}else{var d=Ea(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(d,s,r.__reactInternalSnapshotBeforeUpdate)}catch(T){$t(o,o.return,T)}}c&64&&iE(o),c&512&&Uu(o,o.return);break;case 3:if(Tr(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Y0(r,s)}catch(T){$t(o,o.return,T)}}break;case 27:s===null&&c&4&&oE(o);case 26:case 5:Tr(r,o),s===null&&c&4&&sE(o),c&512&&Uu(o,o.return);break;case 12:Tr(r,o);break;case 31:Tr(r,o),c&4&&fE(r,o);break;case 13:Tr(r,o),c&4&&dE(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=u2.bind(null,o),x2(r,o))));break;case 22:if(c=o.memoizedState!==null||_r,!c){s=s!==null&&s.memoizedState!==null||Ne,d=_r;var p=Ne;_r=c,(Ne=s)&&!p?Er(r,o,(o.subtreeFlags&8772)!==0):Tr(r,o),_r=d,Ne=p}break;case 30:break;default:Tr(r,o)}}function cE(r){var s=r.alternate;s!==null&&(r.alternate=null,cE(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&fo(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var de=null,bn=!1;function vr(r,s,o){for(o=o.child;o!==null;)hE(r,s,o),o=o.sibling}function hE(r,s,o){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(oi,o)}catch{}switch(o.tag){case 26:Ne||Qi(o,s),vr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ne||Qi(o,s);var c=de,d=bn;hs(o.type)&&(de=o.stateNode,bn=!1),vr(r,s,o),Yu(o.stateNode),de=c,bn=d;break;case 5:Ne||Qi(o,s);case 6:if(c=de,d=bn,de=null,vr(r,s,o),de=c,bn=d,de!==null)if(bn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(o.stateNode)}catch(p){$t(o,s,p)}else try{de.removeChild(o.stateNode)}catch(p){$t(o,s,p)}break;case 18:de!==null&&(bn?(r=de,ib(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),$o(r)):ib(de,o.stateNode));break;case 4:c=de,d=bn,de=o.stateNode.containerInfo,bn=!0,vr(r,s,o),de=c,bn=d;break;case 0:case 11:case 14:case 15:rs(2,o,s),Ne||rs(4,o,s),vr(r,s,o);break;case 1:Ne||(Qi(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&rE(o,s,c)),vr(r,s,o);break;case 21:vr(r,s,o);break;case 22:Ne=(c=Ne)||o.memoizedState!==null,vr(r,s,o),Ne=c;break;default:vr(r,s,o)}}function fE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{$o(r)}catch(o){$t(s,s.return,o)}}}function dE(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{$o(r)}catch(o){$t(s,s.return,o)}}function e2(r){switch(r.tag){case 31:case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new lE),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new lE),s;default:throw Error(i(435,r.tag))}}function Tf(r,s){var o=e2(r);s.forEach(function(c){if(!o.has(c)){o.add(c);var d=c2.bind(null,r,c);c.then(d,d)}})}function Sn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c],p=r,T=s,S=T;t:for(;S!==null;){switch(S.tag){case 27:if(hs(S.type)){de=S.stateNode,bn=!1;break t}break;case 5:de=S.stateNode,bn=!1;break t;case 3:case 4:de=S.stateNode.containerInfo,bn=!0;break t}S=S.return}if(de===null)throw Error(i(160));hE(p,T,d),de=null,bn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)mE(s,r),s=s.sibling}var yi=null;function mE(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Sn(s,r),wn(r),c&4&&(rs(3,r,r.return),Lu(3,r),rs(5,r,r.return));break;case 1:Sn(s,r),wn(r),c&512&&(Ne||o===null||Qi(o,o.return)),c&64&&_r&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var d=yi;if(Sn(s,r),wn(r),c&512&&(Ne||o===null||Qi(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){t:{c=r.type,o=r.memoizedProps,d=d.ownerDocument||d;e:switch(c){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Oi]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(c),d.head.insertBefore(p,d.querySelector("head > title"))),nn(p,c,o),p[xe]=r,De(p),c=p;break t;case"link":var T=mb("link","href",d).get(c+(o.href||""));if(T){for(var S=0;S<T.length;S++)if(p=T[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){T.splice(S,1);break e}}p=d.createElement(c),nn(p,c,o),d.head.appendChild(p);break;case"meta":if(T=mb("meta","content",d).get(c+(o.content||""))){for(S=0;S<T.length;S++)if(p=T[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){T.splice(S,1);break e}}p=d.createElement(c),nn(p,c,o),d.head.appendChild(p);break;default:throw Error(i(468,c))}p[xe]=r,De(p),c=p}r.stateNode=c}else pb(d,r.type,r.stateNode);else r.stateNode=db(d,c,r.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?pb(d,r.type,r.stateNode):db(d,c,r.memoizedProps)):c===null&&r.stateNode!==null&&Zp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Sn(s,r),wn(r),c&512&&(Ne||o===null||Qi(o,o.return)),o!==null&&c&4&&Zp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Sn(s,r),wn(r),c&512&&(Ne||o===null||Qi(o,o.return)),r.flags&32){d=r.stateNode;try{En(d,"")}catch(pt){$t(r,r.return,pt)}}c&4&&r.stateNode!=null&&(d=r.memoizedProps,Zp(r,d,o!==null?o.memoizedProps:d)),c&1024&&(eg=!0);break;case 6:if(Sn(s,r),wn(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(pt){$t(r,r.return,pt)}}break;case 3:if(kf=null,d=yi,yi=Of(s.containerInfo),Sn(s,r),yi=d,wn(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{$o(s.containerInfo)}catch(pt){$t(r,r.return,pt)}eg&&(eg=!1,pE(r));break;case 4:c=yi,yi=Of(r.stateNode.containerInfo),Sn(s,r),wn(r),yi=c;break;case 12:Sn(s,r),wn(r);break;case 31:Sn(s,r),wn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Tf(r,c)));break;case 13:Sn(s,r),wn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(bf=dn()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Tf(r,c)));break;case 22:d=r.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,q=_r,X=Ne;if(_r=q||d,Ne=X||D,Sn(s,r),Ne=X,_r=q,wn(r),c&8192)t:for(s=r.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||D||_r||Ne||ba(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){D=o=s;try{if(p=D.stateNode,d)T=p.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=D.stateNode;var tt=D.memoizedProps.style,H=tt!=null&&tt.hasOwnProperty("display")?tt.display:null;S.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(pt){$t(D,D.return,pt)}}}else if(s.tag===6){if(o===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(pt){$t(D,D.return,pt)}}}else if(s.tag===18){if(o===null){D=s;try{var K=D.stateNode;d?rb(K,!0):rb(D.stateNode,!1)}catch(pt){$t(D,D.return,pt)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Tf(r,o))));break;case 19:Sn(s,r),wn(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Tf(r,c)));break;case 30:break;case 21:break;default:Sn(s,r),wn(r)}}function wn(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(aE(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var d=o.stateNode,p=Jp(r);vf(r,p,d);break;case 5:var T=o.stateNode;o.flags&32&&(En(T,""),o.flags&=-33);var S=Jp(r);vf(r,S,T);break;case 3:case 4:var D=o.stateNode.containerInfo,q=Jp(r);tg(r,q,D);break;default:throw Error(i(161))}}catch(X){$t(r,r.return,X)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function pE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;pE(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Tr(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)uE(r,s.alternate,s),s=s.sibling}function ba(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:rs(4,s,s.return),ba(s);break;case 1:Qi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&rE(s,s.return,o),ba(s);break;case 27:Yu(s.stateNode);case 26:case 5:Qi(s,s.return),ba(s);break;case 22:s.memoizedState===null&&ba(s);break;case 30:ba(s);break;default:ba(s)}r=r.sibling}}function Er(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,d=r,p=s,T=p.flags;switch(p.tag){case 0:case 11:case 15:Er(d,p,o),Lu(4,p);break;case 1:if(Er(d,p,o),c=p,d=c.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){$t(c,c.return,q)}if(c=p,d=c.updateQueue,d!==null){var S=c.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)K0(D[d],S)}catch(q){$t(c,c.return,q)}}o&&T&64&&iE(p),Uu(p,p.return);break;case 27:oE(p);case 26:case 5:Er(d,p,o),o&&c===null&&T&4&&sE(p),Uu(p,p.return);break;case 12:Er(d,p,o);break;case 31:Er(d,p,o),o&&T&4&&fE(d,p);break;case 13:Er(d,p,o),o&&T&4&&dE(d,p);break;case 22:p.memoizedState===null&&Er(d,p,o),Uu(p,p.return);break;case 30:break;default:Er(d,p,o)}s=s.sibling}}function ng(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&wu(o))}function ig(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wu(r))}function _i(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gE(r,s,o,c),s=s.sibling}function gE(r,s,o,c){var d=s.flags;switch(s.tag){case 0:case 11:case 15:_i(r,s,o,c),d&2048&&Lu(9,s);break;case 1:_i(r,s,o,c);break;case 3:_i(r,s,o,c),d&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&wu(r)));break;case 12:if(d&2048){_i(r,s,o,c),r=s.stateNode;try{var p=s.memoizedProps,T=p.id,S=p.onPostCommit;typeof S=="function"&&S(T,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){$t(s,s.return,D)}}else _i(r,s,o,c);break;case 31:_i(r,s,o,c);break;case 13:_i(r,s,o,c);break;case 23:break;case 22:p=s.stateNode,T=s.alternate,s.memoizedState!==null?p._visibility&2?_i(r,s,o,c):Bu(r,s):p._visibility&2?_i(r,s,o,c):(p._visibility|=2,zo(r,s,o,c,(s.subtreeFlags&10256)!==0||!1)),d&2048&&ng(T,s);break;case 24:_i(r,s,o,c),d&2048&&ig(s.alternate,s);break;default:_i(r,s,o,c)}}function zo(r,s,o,c,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=r,T=s,S=o,D=c,q=T.flags;switch(T.tag){case 0:case 11:case 15:zo(p,T,S,D,d),Lu(8,T);break;case 23:break;case 22:var X=T.stateNode;T.memoizedState!==null?X._visibility&2?zo(p,T,S,D,d):Bu(p,T):(X._visibility|=2,zo(p,T,S,D,d)),d&&q&2048&&ng(T.alternate,T);break;case 24:zo(p,T,S,D,d),d&&q&2048&&ig(T.alternate,T);break;default:zo(p,T,S,D,d)}s=s.sibling}}function Bu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,d=c.flags;switch(c.tag){case 22:Bu(o,c),d&2048&&ng(c.alternate,c);break;case 24:Bu(o,c),d&2048&&ig(c.alternate,c);break;default:Bu(o,c)}s=s.sibling}}var zu=8192;function jo(r,s,o){if(r.subtreeFlags&zu)for(r=r.child;r!==null;)yE(r,s,o),r=r.sibling}function yE(r,s,o){switch(r.tag){case 26:jo(r,s,o),r.flags&zu&&r.memoizedState!==null&&j2(o,yi,r.memoizedState,r.memoizedProps);break;case 5:jo(r,s,o);break;case 3:case 4:var c=yi;yi=Of(r.stateNode.containerInfo),jo(r,s,o),yi=c;break;case 22:r.memoizedState===null&&(c=r.alternate,c!==null&&c.memoizedState!==null?(c=zu,zu=16777216,jo(r,s,o),zu=c):jo(r,s,o));break;default:jo(r,s,o)}}function _E(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function ju(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Xe=c,TE(c,r)}_E(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)vE(r),r=r.sibling}function vE(r){switch(r.tag){case 0:case 11:case 15:ju(r),r.flags&2048&&rs(9,r,r.return);break;case 3:ju(r);break;case 12:ju(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Ef(r)):ju(r);break;default:ju(r)}}function Ef(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];Xe=c,TE(c,r)}_E(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:rs(8,s,s.return),Ef(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ef(s));break;default:Ef(s)}r=r.sibling}}function TE(r,s){for(;Xe!==null;){var o=Xe;switch(o.tag){case 0:case 11:case 15:rs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:wu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,Xe=c;else t:for(o=r;Xe!==null;){c=Xe;var d=c.sibling,p=c.return;if(cE(c),c===o){Xe=null;break t}if(d!==null){d.return=p,Xe=d;break t}Xe=p}}}var n2={getCacheForType:function(r){var s=tn(Me),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o},cacheSignal:function(){return tn(Me).controller.signal}},i2=typeof WeakMap=="function"?WeakMap:Map,Yt=0,oe=null,Ot=null,Lt=0,Wt=0,Nn=null,ss=!1,Fo=!1,rg=!1,br=0,Te=0,as=0,Sa=0,sg=0,kn=0,qo=0,Fu=null,An=null,ag=!1,bf=0,EE=0,Sf=1/0,wf=null,os=null,Fe=0,ls=null,Ho=null,Sr=0,og=0,lg=null,bE=null,qu=0,ug=null;function Ln(){return(Yt&2)!==0&&Lt!==0?Lt&-Lt:W.T!==null?pg():wh()}function SE(){if(kn===0)if((Lt&536870912)===0||jt){var r=Ws;Ws<<=1,(Ws&3932160)===0&&(Ws=262144),kn=r}else kn=536870912;return r=Pn.current,r!==null&&(r.flags|=32),kn}function In(r,s,o){(r===oe&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)&&(Go(r,0),us(r,Lt,kn,!1)),$s(r,o),((Yt&2)===0||r!==oe)&&(r===oe&&((Yt&2)===0&&(Sa|=o),Te===4&&us(r,Lt,kn,!1)),Xi(r))}function wE(r,s,o){if((Yt&6)!==0)throw Error(i(327));var c=!o&&(s&127)===0&&(s&r.expiredLanes)===0||li(r,s),d=c?a2(r,s):hg(r,s,!0),p=c;do{if(d===0){Fo&&!c&&us(r,s,0,!1);break}else{if(o=r.current.alternate,p&&!r2(o)){d=hg(r,s,!1),p=!1;continue}if(d===2){if(p=s,r.errorRecoveryDisabledLanes&p)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;t:{var S=r;d=Fu;var D=S.current.memoizedState.isDehydrated;if(D&&(Go(S,T).flags|=256),T=hg(S,T,!1),T!==2){if(rg&&!D){S.errorRecoveryDisabledLanes|=p,Sa|=p,d=4;break t}p=An,An=d,p!==null&&(An===null?An=p:An.push.apply(An,p))}d=T}if(p=!1,d!==2)continue}}if(d===1){Go(r,0),us(r,s,0,!0);break}t:{switch(c=r,p=d,p){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:us(c,s,kn,!ss);break t;case 2:An=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(d=bf+300-dn(),10<d)){if(us(c,s,kn,!ss),Vi(c,0,!0)!==0)break t;Sr=s,c.timeoutHandle=eb(AE.bind(null,c,o,An,wf,ag,s,kn,Sa,qo,ss,p,"Throttled",-0,0),d);break t}AE(c,o,An,wf,ag,s,kn,Sa,qo,ss,p,null,-0,0)}}break}while(!0);Xi(r)}function AE(r,s,o,c,d,p,T,S,D,q,X,tt,H,K){if(r.timeoutHandle=-1,tt=s.subtreeFlags,tt&8192||(tt&16785408)===16785408){tt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},yE(s,p,tt);var pt=(p&62914560)===p?bf-dn():(p&4194048)===p?EE-dn():0;if(pt=F2(tt,pt),pt!==null){Sr=p,r.cancelPendingCommit=pt(PE.bind(null,r,s,p,o,c,d,T,S,D,X,tt,null,H,K)),us(r,p,T,!q);return}}PE(r,s,p,o,c,d,T,S,D)}function r2(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!Vn(p(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function us(r,s,o,c){s&=~sg,s&=~Sa,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var d=s;0<d;){var p=31-Se(d),T=1<<p;c[p]=-1,d&=~T}o!==0&&Zs(r,o,s)}function Af(){return(Yt&6)===0?(Hu(0),!1):!0}function cg(){if(Ot!==null){if(Wt===0)var r=Ot.return;else r=Ot,fr=ma=null,Ip(r),No=null,Iu=0,r=Ot;for(;r!==null;)nE(r.alternate,r),r=r.return;Ot=null}}function Go(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,w2(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Sr=0,cg(),oe=r,Ot=o=cr(r.current,null),Lt=s,Wt=0,Nn=null,ss=!1,Fo=li(r,s),rg=!1,qo=kn=sg=Sa=as=Te=0,An=Fu=null,ag=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var d=31-Se(c),p=1<<d;s|=r[d],c&=~p}return br=s,Gh(),o}function IE(r,s){xt=null,W.H=Ou,s===Oo||s===Jh?(s=F0(),Wt=3):s===mp?(s=F0(),Wt=4):Wt=s===Fp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,Ot===null&&(Te=1,mf(r,Yn(s,r.current)))}function RE(){var r=Pn.current;return r===null?!0:(Lt&4194048)===Lt?$n===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?r===$n:!1}function CE(){var r=W.H;return W.H=Ou,r===null?Ou:r}function xE(){var r=W.A;return W.A=n2,r}function If(){Te=4,ss||(Lt&4194048)!==Lt&&Pn.current!==null||(Fo=!0),(as&134217727)===0&&(Sa&134217727)===0||oe===null||us(oe,Lt,kn,!1)}function hg(r,s,o){var c=Yt;Yt|=2;var d=CE(),p=xE();(oe!==r||Lt!==s)&&(wf=null,Go(r,s)),s=!1;var T=Te;t:do try{if(Wt!==0&&Ot!==null){var S=Ot,D=Nn;switch(Wt){case 8:cg(),T=6;break t;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var q=Wt;if(Wt=0,Nn=null,Ko(r,S,D,q),o&&Fo){T=0;break t}break;default:q=Wt,Wt=0,Nn=null,Ko(r,S,D,q)}}s2(),T=Te;break}catch(X){IE(r,X)}while(!0);return s&&r.shellSuspendCounter++,fr=ma=null,Yt=c,W.H=d,W.A=p,Ot===null&&(oe=null,Lt=0,Gh()),T}function s2(){for(;Ot!==null;)DE(Ot)}function a2(r,s){var o=Yt;Yt|=2;var c=CE(),d=xE();oe!==r||Lt!==s?(wf=null,Sf=dn()+500,Go(r,s)):Fo=li(r,s);t:do try{if(Wt!==0&&Ot!==null){s=Ot;var p=Nn;e:switch(Wt){case 1:Wt=0,Nn=null,Ko(r,s,p,1);break;case 2:case 9:if(z0(p)){Wt=0,Nn=null,VE(s);break}s=function(){Wt!==2&&Wt!==9||oe!==r||(Wt=7),Xi(r)},p.then(s,s);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:z0(p)?(Wt=0,Nn=null,VE(s)):(Wt=0,Nn=null,Ko(r,s,p,7));break;case 5:var T=null;switch(Ot.tag){case 26:T=Ot.memoizedState;case 5:case 27:var S=Ot;if(T?gb(T):S.stateNode.complete){Wt=0,Nn=null;var D=S.sibling;if(D!==null)Ot=D;else{var q=S.return;q!==null?(Ot=q,Rf(q)):Ot=null}break e}}Wt=0,Nn=null,Ko(r,s,p,5);break;case 6:Wt=0,Nn=null,Ko(r,s,p,6);break;case 8:cg(),Te=6;break t;default:throw Error(i(462))}}o2();break}catch(X){IE(r,X)}while(!0);return fr=ma=null,W.H=c,W.A=d,Yt=o,Ot!==null?0:(oe=null,Lt=0,Gh(),Te)}function o2(){for(;Ot!==null&&!jm();)DE(Ot)}function DE(r){var s=tE(r.alternate,r,br);r.memoizedProps=r.pendingProps,s===null?Rf(r):Ot=s}function VE(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=QT(o,s,s.pendingProps,s.type,void 0,Lt);break;case 11:s=QT(o,s,s.pendingProps,s.type.render,s.ref,Lt);break;case 5:Ip(s);default:nE(o,s),s=Ot=x0(s,br),s=tE(o,s,br)}r.memoizedProps=r.pendingProps,s===null?Rf(r):Ot=s}function Ko(r,s,o,c){fr=ma=null,Ip(s),No=null,Iu=0;var d=s.return;try{if(XD(r,d,s,o,Lt)){Te=1,mf(r,Yn(o,r.current)),Ot=null;return}}catch(p){if(d!==null)throw Ot=d,p;Te=1,mf(r,Yn(o,r.current)),Ot=null;return}s.flags&32768?(jt||c===1?r=!0:Fo||(Lt&536870912)!==0?r=!1:(ss=r=!0,(c===2||c===9||c===3||c===6)&&(c=Pn.current,c!==null&&c.tag===13&&(c.flags|=16384))),ME(s,r)):Rf(s)}function Rf(r){var s=r;do{if((s.flags&32768)!==0){ME(s,ss);return}r=s.return;var o=ZD(s.alternate,s,br);if(o!==null){Ot=o;return}if(s=s.sibling,s!==null){Ot=s;return}Ot=s=r}while(s!==null);Te===0&&(Te=5)}function ME(r,s){do{var o=JD(r.alternate,r);if(o!==null){o.flags&=32767,Ot=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){Ot=r;return}Ot=r=o}while(r!==null);Te=6,Ot=null}function PE(r,s,o,c,d,p,T,S,D){r.cancelPendingCommit=null;do Cf();while(Fe!==0);if((Yt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(p=s.lanes|s.childLanes,p|=Jm,Hm(r,o,p,T,S,D),r===oe&&(Ot=oe=null,Lt=0),Ho=s,ls=r,Sr=o,og=p,lg=d,bE=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,h2(Br,function(){return UE(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,d=st.p,st.p=2,T=Yt,Yt|=4;try{t2(r,s,o)}finally{Yt=T,st.p=d,W.T=c}}Fe=1,OE(),NE(),kE()}}function OE(){if(Fe===1){Fe=0;var r=ls,s=Ho,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var c=st.p;st.p=2;var d=Yt;Yt|=4;try{mE(s,r);var p=Sg,T=T0(r.containerInfo),S=p.focusedElem,D=p.selectionRange;if(T!==S&&S&&S.ownerDocument&&v0(S.ownerDocument.documentElement,S)){if(D!==null&&Qm(S)){var q=D.start,X=D.end;if(X===void 0&&(X=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(X,S.value.length);else{var tt=S.ownerDocument||document,H=tt&&tt.defaultView||window;if(H.getSelection){var K=H.getSelection(),pt=S.textContent.length,bt=Math.min(D.start,pt),se=D.end===void 0?bt:Math.min(D.end,pt);!K.extend&&bt>se&&(T=se,se=bt,bt=T);var k=_0(S,bt),O=_0(S,se);if(k&&O&&(K.rangeCount!==1||K.anchorNode!==k.node||K.anchorOffset!==k.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var F=tt.createRange();F.setStart(k.node,k.offset),K.removeAllRanges(),bt>se?(K.addRange(F),K.extend(O.node,O.offset)):(F.setEnd(O.node,O.offset),K.addRange(F))}}}}for(tt=[],K=S;K=K.parentNode;)K.nodeType===1&&tt.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<tt.length;S++){var J=tt[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}zf=!!bg,Sg=bg=null}finally{Yt=d,st.p=c,W.T=o}}r.current=s,Fe=2}}function NE(){if(Fe===2){Fe=0;var r=ls,s=Ho,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var c=st.p;st.p=2;var d=Yt;Yt|=4;try{uE(r,s.alternate,s)}finally{Yt=d,st.p=c,W.T=o}}Fe=3}}function kE(){if(Fe===4||Fe===3){Fe=0,yh();var r=ls,s=Ho,o=Sr,c=bE;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Fe=5:(Fe=0,Ho=ls=null,LE(r,r.pendingLanes));var d=r.pendingLanes;if(d===0&&(os=null),ar(o),s=s.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(oi,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=W.T,d=st.p,st.p=2,W.T=null;try{for(var p=r.onRecoverableError,T=0;T<c.length;T++){var S=c[T];p(S.value,{componentStack:S.stack})}}finally{W.T=s,st.p=d}}(Sr&3)!==0&&Cf(),Xi(r),d=r.pendingLanes,(o&261930)!==0&&(d&42)!==0?r===ug?qu++:(qu=0,ug=r):qu=0,Hu(0)}}function LE(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,wu(s)))}function Cf(){return OE(),NE(),kE(),UE()}function UE(){if(Fe!==5)return!1;var r=ls,s=og;og=0;var o=ar(Sr),c=W.T,d=st.p;try{st.p=32>o?32:o,W.T=null,o=lg,lg=null;var p=ls,T=Sr;if(Fe=0,Ho=ls=null,Sr=0,(Yt&6)!==0)throw Error(i(331));var S=Yt;if(Yt|=4,vE(p.current),gE(p,p.current,T,o),Yt=S,Hu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(oi,p)}catch{}return!0}finally{st.p=d,W.T=c,LE(r,s)}}function BE(r,s,o){s=Yn(o,s),s=jp(r.stateNode,s,2),r=es(r,s,2),r!==null&&($s(r,2),Xi(r))}function $t(r,s,o){if(r.tag===3)BE(r,r,o);else for(;s!==null;){if(s.tag===3){BE(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(os===null||!os.has(c))){r=Yn(o,r),o=zT(2),c=es(s,o,2),c!==null&&(jT(o,c,s,r),$s(c,2),Xi(c));break}}s=s.return}}function fg(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new i2;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(o)||(rg=!0,d.add(o),r=l2.bind(null,r,s,o),s.then(r,r))}function l2(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,oe===r&&(Lt&o)===o&&(Te===4||Te===3&&(Lt&62914560)===Lt&&300>dn()-bf?(Yt&2)===0&&Go(r,0):sg|=o,qo===Lt&&(qo=0)),Xi(r)}function zE(r,s){s===0&&(s=Sh()),r=ha(r,s),r!==null&&($s(r,s),Xi(r))}function u2(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),zE(r,o)}function c2(r,s){var o=0;switch(r.tag){case 31:case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),zE(r,o)}function h2(r,s){return je(r,s)}var xf=null,Yo=null,dg=!1,Df=!1,mg=!1,cs=0;function Xi(r){r!==Yo&&r.next===null&&(Yo===null?xf=Yo=r:Yo=Yo.next=r),Df=!0,dg||(dg=!0,d2())}function Hu(r,s){if(!mg&&Df){mg=!0;do for(var o=!1,c=xf;c!==null;){if(r!==0){var d=c.pendingLanes;if(d===0)var p=0;else{var T=c.suspendedLanes,S=c.pingedLanes;p=(1<<31-Se(42|r)+1)-1,p&=d&~(T&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,HE(c,p))}else p=Lt,p=Vi(c,c===oe?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||li(c,p)||(o=!0,HE(c,p));c=c.next}while(o);mg=!1}}function f2(){jE()}function jE(){Df=dg=!1;var r=0;cs!==0&&S2()&&(r=cs);for(var s=dn(),o=null,c=xf;c!==null;){var d=c.next,p=FE(c,s);p===0?(c.next=null,o===null?xf=d:o.next=d,d===null&&(Yo=o)):(o=c,(r!==0||(p&3)!==0)&&(Df=!0)),c=d}Fe!==0&&Fe!==5||Hu(r),cs!==0&&(cs=0)}function FE(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,p=r.pendingLanes&-62914561;0<p;){var T=31-Se(p),S=1<<T,D=d[T];D===-1?((S&o)===0||(S&c)!==0)&&(d[T]=qm(S,s)):D<=s&&(r.expiredLanes|=S),p&=~S}if(s=oe,o=Lt,o=Vi(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(Wt===2||Wt===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&Ur(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||li(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&Ur(c),ar(o)){case 2:case 8:o=tu;break;case 32:o=Br;break;case 268435456:o=_h;break;default:o=Br}return c=qE.bind(null,r),o=je(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&Ur(c),r.callbackPriority=2,r.callbackNode=null,2}function qE(r,s){if(Fe!==0&&Fe!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Cf()&&r.callbackNode!==o)return null;var c=Lt;return c=Vi(r,r===oe?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(wE(r,c,s),FE(r,dn()),r.callbackNode!=null&&r.callbackNode===o?qE.bind(null,r):null)}function HE(r,s){if(Cf())return null;wE(r,s,!0)}function d2(){A2(function(){(Yt&6)!==0?je(Jl,f2):jE()})}function pg(){if(cs===0){var r=Mo;r===0&&(r=xi,xi<<=1,(xi&261888)===0&&(xi=256)),cs=r}return cs}function GE(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:yo(""+r)}function KE(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function m2(r,s,o,c,d){if(s==="submit"&&o&&o.stateNode===d){var p=GE((d[Ye]||null).action),T=c.submitter;T&&(s=(s=T[Ye]||null)?GE(s.formAction):T.getAttribute("formAction"),s!==null&&(p=s,T=null));var S=new Fi("action","action",null,c,d);r.push({event:S,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(cs!==0){var D=T?KE(d,T):new FormData(d);Np(o,{pending:!0,data:D,method:d.method,action:p},null,D)}}else typeof p=="function"&&(S.preventDefault(),D=T?KE(d,T):new FormData(d),Np(o,{pending:!0,data:D,method:d.method,action:p},p,D))},currentTarget:d}]})}}for(var gg=0;gg<Zm.length;gg++){var yg=Zm[gg],p2=yg.toLowerCase(),g2=yg[0].toUpperCase()+yg.slice(1);gi(p2,"on"+g2)}gi(S0,"onAnimationEnd"),gi(w0,"onAnimationIteration"),gi(A0,"onAnimationStart"),gi("dblclick","onDoubleClick"),gi("focusin","onFocus"),gi("focusout","onBlur"),gi(MD,"onTransitionRun"),gi(PD,"onTransitionStart"),gi(OD,"onTransitionCancel"),gi(I0,"onTransitionEnd"),Ui("onMouseEnter",["mouseout","mouseover"]),Ui("onMouseLeave",["mouseout","mouseover"]),Ui("onPointerEnter",["pointerout","pointerover"]),Ui("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gu));function YE(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],d=c.event;c=c.listeners;t:{var p=void 0;if(s)for(var T=c.length-1;0<=T;T--){var S=c[T],D=S.instance,q=S.currentTarget;if(S=S.listener,D!==p&&d.isPropagationStopped())break t;p=S,d.currentTarget=q;try{p(d)}catch(X){Hh(X)}d.currentTarget=null,p=D}else for(T=0;T<c.length;T++){if(S=c[T],D=S.instance,q=S.currentTarget,S=S.listener,D!==p&&d.isPropagationStopped())break t;p=S,d.currentTarget=q;try{p(d)}catch(X){Hh(X)}d.currentTarget=null,p=D}}}}function Nt(r,s){var o=s[ho];o===void 0&&(o=s[ho]=new Set);var c=r+"__bubble";o.has(c)||(QE(s,r,2,!1),o.add(c))}function _g(r,s,o){var c=0;s&&(c|=4),QE(o,r,c,s)}var Vf="_reactListening"+Math.random().toString(36).slice(2);function vg(r){if(!r[Vf]){r[Vf]=!0,iu.forEach(function(o){o!=="selectionchange"&&(y2.has(o)||_g(o,!1,r),_g(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Vf]||(s[Vf]=!0,_g("selectionchange",!1,s))}}function QE(r,s,o,c){switch(Sb(s)){case 2:var d=G2;break;case 8:d=K2;break;default:d=Og}o=d.bind(null,s,o,r),d=void 0,!ia||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(s,o,{capture:!0,passive:d}):r.addEventListener(s,o,!0):d!==void 0?r.addEventListener(s,o,{passive:d}):r.addEventListener(s,o,!1)}function Tg(r,s,o,c,d){var p=c;if((s&1)===0&&(s&2)===0&&c!==null)t:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var S=c.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=c.return;T!==null;){var D=T.tag;if((D===3||D===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Ni(S),T===null)return;if(D=T.tag,D===5||D===6||D===26||D===27){c=p=T;continue t}S=S.parentNode}}c=c.return}Gr(function(){var q=p,X=qn(o),tt=[];t:{var H=R0.get(r);if(H!==void 0){var K=Fi,pt=r;switch(r){case"keypress":if(sa(o)===0)break t;case"keydown":case"keyup":K=jh;break;case"focusin":pt="focus",K=oa;break;case"focusout":pt="blur",K=oa;break;case"beforeblur":case"afterblur":K=oa;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=gu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=_;break;case S0:case w0:case A0:K=Oh;break;case I0:K=w;break;case"scroll":case"scrollend":K=pu;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=Nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ur;break;case"toggle":case"beforetoggle":K=Ct}var bt=(s&4)!==0,se=!bt&&(r==="scroll"||r==="scrollend"),k=bt?H!==null?H+"Capture":null:H;bt=[];for(var O=q,F;O!==null;){var J=O;if(F=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||F===null||k===null||(J=fi(O,k),J!=null&&bt.push(Ku(O,J,F))),se)break;O=O.return}0<bt.length&&(H=new K(H,pt,null,o,X),tt.push({event:H,listeners:bt}))}}if((s&7)===0){t:{if(H=r==="mouseover"||r==="pointerover",K=r==="mouseout"||r==="pointerout",H&&o!==fu&&(pt=o.relatedTarget||o.fromElement)&&(Ni(pt)||pt[Pi]))break t;if((K||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,K?(pt=o.relatedTarget||o.toElement,K=q,pt=pt?Ni(pt):null,pt!==null&&(se=l(pt),bt=pt.tag,pt!==se||bt!==5&&bt!==27&&bt!==6)&&(pt=null)):(K=null,pt=q),K!==pt)){if(bt=gu,J="onMouseLeave",k="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(bt=ur,J="onPointerLeave",k="onPointerEnter",O="pointer"),se=K==null?H:xn(K),F=pt==null?H:xn(pt),H=new bt(J,O+"leave",K,o,X),H.target=se,H.relatedTarget=F,J=null,Ni(X)===q&&(bt=new bt(k,O+"enter",pt,o,X),bt.target=F,bt.relatedTarget=se,J=bt),se=J,K&&pt)e:{for(bt=_2,k=K,O=pt,F=0,J=k;J;J=bt(J))F++;J=0;for(var Tt=O;Tt;Tt=bt(Tt))J++;for(;0<F-J;)k=bt(k),F--;for(;0<J-F;)O=bt(O),J--;for(;F--;){if(k===O||O!==null&&k===O.alternate){bt=k;break e}k=bt(k),O=bt(O)}bt=null}else bt=null;K!==null&&XE(tt,H,K,bt,!1),pt!==null&&se!==null&&XE(tt,se,pt,bt,!0)}}t:{if(H=q?xn(q):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Ht=f0;else if(c0(H))if(d0)Ht=xD;else{Ht=RD;var _t=ID}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&go(q.elementType)&&(Ht=f0):Ht=CD;if(Ht&&(Ht=Ht(r,q))){h0(tt,Ht,o,X);break t}_t&&_t(r,H,q),r==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&uu(H,"number",H.value)}switch(_t=q?xn(q):window,r){case"focusin":(c0(_t)||_t.contentEditable==="true")&&(wo=_t,Xm=q,Eu=null);break;case"focusout":Eu=Xm=wo=null;break;case"mousedown":Wm=!0;break;case"contextmenu":case"mouseup":case"dragend":Wm=!1,E0(tt,o,X);break;case"selectionchange":if(VD)break;case"keydown":case"keyup":E0(tt,o,X)}var Mt;if(Kt)t:{switch(r){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else So?la(r,o)&&(Ut="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ut="onCompositionStart");Ut&&(Gi&&o.locale!=="ko"&&(So||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&So&&(Mt=mu()):(ji=X,du="value"in ji?ji.value:ji.textContent,So=!0)),_t=Mf(q,Ut),0<_t.length&&(Ut=new Hi(Ut,r,null,o,X),tt.push({event:Ut,listeners:_t}),Mt?Ut.data=Mt:(Mt=bo(o),Mt!==null&&(Ut.data=Mt)))),(Mt=Gn?bD(r,o):SD(r,o))&&(Ut=Mf(q,"onBeforeInput"),0<Ut.length&&(_t=new Hi("onBeforeInput","beforeinput",null,o,X),tt.push({event:_t,listeners:Ut}),_t.data=Mt)),m2(tt,r,q,o,X)}YE(tt,s)})}function Ku(r,s,o){return{instance:r,listener:s,currentTarget:o}}function Mf(r,s){for(var o=s+"Capture",c=[];r!==null;){var d=r,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=fi(r,o),d!=null&&c.unshift(Ku(r,d,p)),d=fi(r,s),d!=null&&c.push(Ku(r,d,p))),r.tag===3)return c;r=r.return}return[]}function _2(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function XE(r,s,o,c,d){for(var p=s._reactName,T=[];o!==null&&o!==c;){var S=o,D=S.alternate,q=S.stateNode;if(S=S.tag,D!==null&&D===c)break;S!==5&&S!==26&&S!==27||q===null||(D=q,d?(q=fi(o,p),q!=null&&T.unshift(Ku(o,q,D))):d||(q=fi(o,p),q!=null&&T.push(Ku(o,q,D)))),o=o.return}T.length!==0&&r.push({event:s,listeners:T})}var v2=/\r\n?/g,T2=/\u0000|\uFFFD/g;function WE(r){return(typeof r=="string"?r:""+r).replace(v2,`
`).replace(T2,"")}function $E(r,s){return s=WE(s),WE(r)===s}function re(r,s,o,c,d,p){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||En(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&En(r,""+c);break;case"className":Dn(r,"class",c);break;case"tabIndex":Dn(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(r,o,c);break;case"style":hu(r,c,p);break;case"data":if(s!=="object"){Dn(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=yo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&re(r,s,"name",d.name,d,null),re(r,s,"formEncType",d.formEncType,d,null),re(r,s,"formMethod",d.formMethod,d,null),re(r,s,"formTarget",d.formTarget,d,null)):(re(r,s,"encType",d.encType,d,null),re(r,s,"method",d.method,d,null),re(r,s,"target",d.target,d,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=yo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=hi);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=yo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Nt("beforetoggle",r),Nt("toggle",r),mo(r,"popover",c);break;case"xlinkActuate":Ve(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ve(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ve(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ve(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ve(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ve(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ve(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ve(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ve(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":mo(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vh.get(o)||o,mo(r,o,c))}}function Eg(r,s,o,c,d,p){switch(o){case"style":hu(r,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(d.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?En(r,c):(typeof c=="number"||typeof c=="bigint")&&En(r,""+c);break;case"onScroll":c!=null&&Nt("scroll",r);break;case"onScrollEnd":c!=null&&Nt("scrollend",r);break;case"onClick":c!=null&&(r.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ru.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),p=r[Ye]||null,p=p!=null?p[o]:null,typeof p=="function"&&r.removeEventListener(s,p,d),typeof c=="function")){typeof p!="function"&&p!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,d);break t}o in r?r[o]=c:c===!0?r.setAttribute(o,""):mo(r,o,c)}}}function nn(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",r),Nt("load",r);var c=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var T=o[p];if(T!=null)switch(p){case"src":c=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:re(r,s,p,T,o,null)}}d&&re(r,s,"srcSet",o.srcSet,o,null),c&&re(r,s,"src",o.src,o,null);return;case"input":Nt("invalid",r);var S=p=T=d=null,D=null,q=null;for(c in o)if(o.hasOwnProperty(c)){var X=o[c];if(X!=null)switch(c){case"name":d=X;break;case"type":T=X;break;case"checked":D=X;break;case"defaultChecked":q=X;break;case"value":p=X;break;case"defaultValue":S=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,s));break;default:re(r,s,c,X,o,null)}}Ch(r,p,S,D,q,T,d,!1);return;case"select":Nt("invalid",r),c=T=p=null;for(d in o)if(o.hasOwnProperty(d)&&(S=o[d],S!=null))switch(d){case"value":p=S;break;case"defaultValue":T=S;break;case"multiple":c=S;default:re(r,s,d,S,o,null)}s=p,o=T,r.multiple=!!c,s!=null?jr(r,!!c,s,!1):o!=null&&jr(r,!!c,o,!0);return;case"textarea":Nt("invalid",r),p=d=c=null;for(T in o)if(o.hasOwnProperty(T)&&(S=o[T],S!=null))switch(T){case"value":c=S;break;case"defaultValue":d=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:re(r,s,T,S,o,null)}Fr(r,c,d,p);return;case"option":for(D in o)o.hasOwnProperty(D)&&(c=o[D],c!=null)&&(D==="selected"?r.selected=c&&typeof c!="function"&&typeof c!="symbol":re(r,s,D,c,o,null));return;case"dialog":Nt("beforetoggle",r),Nt("toggle",r),Nt("cancel",r),Nt("close",r);break;case"iframe":case"object":Nt("load",r);break;case"video":case"audio":for(c=0;c<Gu.length;c++)Nt(Gu[c],r);break;case"image":Nt("error",r),Nt("load",r);break;case"details":Nt("toggle",r);break;case"embed":case"source":case"link":Nt("error",r),Nt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:re(r,s,q,c,o,null)}return;default:if(go(s)){for(X in o)o.hasOwnProperty(X)&&(c=o[X],c!==void 0&&Eg(r,s,X,c,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(c=o[S],c!=null&&re(r,s,S,c,o,null))}function E2(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,T=null,S=null,D=null,q=null,X=null;for(K in o){var tt=o[K];if(o.hasOwnProperty(K)&&tt!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=tt;default:c.hasOwnProperty(K)||re(r,s,K,null,c,tt)}}for(var H in c){var K=c[H];if(tt=o[H],c.hasOwnProperty(H)&&(K!=null||tt!=null))switch(H){case"type":p=K;break;case"name":d=K;break;case"checked":q=K;break;case"defaultChecked":X=K;break;case"value":T=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,s));break;default:K!==tt&&re(r,s,H,K,c,tt)}}po(r,T,S,D,q,X,p,d);return;case"select":K=T=S=H=null;for(p in o)if(D=o[p],o.hasOwnProperty(p)&&D!=null)switch(p){case"value":break;case"multiple":K=D;default:c.hasOwnProperty(p)||re(r,s,p,null,c,D)}for(d in c)if(p=c[d],D=o[d],c.hasOwnProperty(d)&&(p!=null||D!=null))switch(d){case"value":H=p;break;case"defaultValue":S=p;break;case"multiple":T=p;default:p!==D&&re(r,s,d,p,c,D)}s=S,o=T,c=K,H!=null?jr(r,!!o,H,!1):!!c!=!!o&&(s!=null?jr(r,!!o,s,!0):jr(r,!!o,o?[]:"",!1));return;case"textarea":K=H=null;for(S in o)if(d=o[S],o.hasOwnProperty(S)&&d!=null&&!c.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:re(r,s,S,null,c,d)}for(T in c)if(d=c[T],p=o[T],c.hasOwnProperty(T)&&(d!=null||p!=null))switch(T){case"value":H=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==p&&re(r,s,T,d,c,p)}xh(r,H,K);return;case"option":for(var pt in o)H=o[pt],o.hasOwnProperty(pt)&&H!=null&&!c.hasOwnProperty(pt)&&(pt==="selected"?r.selected=!1:re(r,s,pt,null,c,H));for(D in c)H=c[D],K=o[D],c.hasOwnProperty(D)&&H!==K&&(H!=null||K!=null)&&(D==="selected"?r.selected=H&&typeof H!="function"&&typeof H!="symbol":re(r,s,D,H,c,K));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var bt in o)H=o[bt],o.hasOwnProperty(bt)&&H!=null&&!c.hasOwnProperty(bt)&&re(r,s,bt,null,c,H);for(q in c)if(H=c[q],K=o[q],c.hasOwnProperty(q)&&H!==K&&(H!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,s));break;default:re(r,s,q,H,c,K)}return;default:if(go(s)){for(var se in o)H=o[se],o.hasOwnProperty(se)&&H!==void 0&&!c.hasOwnProperty(se)&&Eg(r,s,se,void 0,c,H);for(X in c)H=c[X],K=o[X],!c.hasOwnProperty(X)||H===K||H===void 0&&K===void 0||Eg(r,s,X,H,c,K);return}}for(var k in o)H=o[k],o.hasOwnProperty(k)&&H!=null&&!c.hasOwnProperty(k)&&re(r,s,k,null,c,H);for(tt in c)H=c[tt],K=o[tt],!c.hasOwnProperty(tt)||H===K||H==null&&K==null||re(r,s,tt,H,c,K)}function ZE(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function b2(){if(typeof performance.getEntriesByType=="function"){for(var r=0,s=0,o=performance.getEntriesByType("resource"),c=0;c<o.length;c++){var d=o[c],p=d.transferSize,T=d.initiatorType,S=d.duration;if(p&&S&&ZE(T)){for(T=0,S=d.responseEnd,c+=1;c<o.length;c++){var D=o[c],q=D.startTime;if(q>S)break;var X=D.transferSize,tt=D.initiatorType;X&&ZE(tt)&&(D=D.responseEnd,T+=X*(D<S?1:(S-q)/(D-q)))}if(--c,s+=8*(p+T)/(d.duration/1e3),r++,10<r)break}}if(0<r)return s/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var bg=null,Sg=null;function Pf(r){return r.nodeType===9?r:r.ownerDocument}function JE(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tb(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function wg(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ag=null;function S2(){var r=window.event;return r&&r.type==="popstate"?r===Ag?!1:(Ag=r,!0):(Ag=null,!1)}var eb=typeof setTimeout=="function"?setTimeout:void 0,w2=typeof clearTimeout=="function"?clearTimeout:void 0,nb=typeof Promise=="function"?Promise:void 0,A2=typeof queueMicrotask=="function"?queueMicrotask:typeof nb<"u"?function(r){return nb.resolve(null).then(r).catch(I2)}:eb;function I2(r){setTimeout(function(){throw r})}function hs(r){return r==="head"}function ib(r,s){var o=s,c=0;do{var d=o.nextSibling;if(r.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(c===0){r.removeChild(d),$o(s);return}c--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")c++;else if(o==="html")Yu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,Yu(o);for(var p=o.firstChild;p;){var T=p.nextSibling,S=p.nodeName;p[Oi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=T}}else o==="body"&&Yu(r.ownerDocument.body);o=d}while(o);$o(s)}function rb(r,s){var o=r;r=0;do{var c=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),c&&c.nodeType===8)if(o=c.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=c}while(o)}function Ig(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ig(o),fo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function R2(r,s,o,c){for(;r.nodeType===1;){var d=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[Oi])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(p=r.getAttribute("rel"),p==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(p!==d.rel||r.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||r.getAttribute("title")!==(d.title==null?null:d.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(p=r.getAttribute("src"),(p!==(d.src==null?null:d.src)||r.getAttribute("type")!==(d.type==null?null:d.type)||r.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&r.getAttribute("name")===p)return r}else return r;if(r=Zn(r.nextSibling),r===null)break}return null}function C2(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Zn(r.nextSibling),r===null))return null;return r}function sb(r,s){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!s||(r=Zn(r.nextSibling),r===null))return null;return r}function Rg(r){return r.data==="$?"||r.data==="$~"}function Cg(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function x2(r,s){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=s;else if(r.data!=="$?"||o.readyState!=="loading")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function Zn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return r}var xg=null;function ab(r){r=r.nextSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(s===0)return Zn(r.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}r=r.nextSibling}return null}function ob(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return r;s--}else o!=="/$"&&o!=="/&"||s++}r=r.previousSibling}return null}function lb(r,s,o){switch(s=Pf(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Yu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);fo(r)}var Jn=new Map,ub=new Set;function Of(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wr=st.d;st.d={f:D2,r:V2,D:M2,C:P2,L:O2,m:N2,X:L2,S:k2,M:U2};function D2(){var r=wr.f(),s=Af();return r||s}function V2(r){var s=Fn(r);s!==null&&s.tag===5&&s.type==="form"?IT(s):wr.r(r)}var Qo=typeof document>"u"?null:document;function cb(r,s,o){var c=Qo;if(c&&typeof s=="string"&&s){var d=Tn(s);d='link[rel="'+r+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),ub.has(d)||(ub.add(d),r={rel:r,crossOrigin:o,href:s},c.querySelector(d)===null&&(s=c.createElement("link"),nn(s,"link",r),De(s),c.head.appendChild(s)))}}function M2(r){wr.D(r),cb("dns-prefetch",r,null)}function P2(r,s){wr.C(r,s),cb("preconnect",r,s)}function O2(r,s,o){wr.L(r,s,o);var c=Qo;if(c&&r&&s){var d='link[rel="preload"][as="'+Tn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+Tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+Tn(o.imageSizes)+'"]')):d+='[href="'+Tn(r)+'"]';var p=d;switch(s){case"style":p=Xo(r);break;case"script":p=Wo(r)}Jn.has(p)||(r=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),Jn.set(p,r),c.querySelector(d)!==null||s==="style"&&c.querySelector(Qu(p))||s==="script"&&c.querySelector(Xu(p))||(s=c.createElement("link"),nn(s,"link",r),De(s),c.head.appendChild(s)))}}function N2(r,s){wr.m(r,s);var o=Qo;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+Tn(c)+'"][href="'+Tn(r)+'"]',p=d;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Wo(r)}if(!Jn.has(p)&&(r=v({rel:"modulepreload",href:r},s),Jn.set(p,r),o.querySelector(d)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xu(p)))return}c=o.createElement("link"),nn(c,"link",r),De(c),o.head.appendChild(c)}}}function k2(r,s,o){wr.S(r,s,o);var c=Qo;if(c&&r){var d=ki(c).hoistableStyles,p=Xo(r);s=s||"default";var T=d.get(p);if(!T){var S={loading:0,preload:null};if(T=c.querySelector(Qu(p)))S.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":s},o),(o=Jn.get(p))&&Dg(r,o);var D=T=c.createElement("link");De(D),nn(D,"link",r),D._p=new Promise(function(q,X){D.onload=q,D.onerror=X}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Nf(T,s,c)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(p,T)}}}function L2(r,s){wr.X(r,s);var o=Qo;if(o&&r){var c=ki(o).hoistableScripts,d=Wo(r),p=c.get(d);p||(p=o.querySelector(Xu(d)),p||(r=v({src:r,async:!0},s),(s=Jn.get(d))&&Vg(r,s),p=o.createElement("script"),De(p),nn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function U2(r,s){wr.M(r,s);var o=Qo;if(o&&r){var c=ki(o).hoistableScripts,d=Wo(r),p=c.get(d);p||(p=o.querySelector(Xu(d)),p||(r=v({src:r,async:!0,type:"module"},s),(s=Jn.get(d))&&Vg(r,s),p=o.createElement("script"),De(p),nn(p,"link",r),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(d,p))}}function hb(r,s,o,c){var d=(d=Vt.current)?Of(d):null;if(!d)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xo(o.href),o=ki(d).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Xo(o.href);var p=ki(d).hoistableStyles,T=p.get(r);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(r,T),(p=d.querySelector(Qu(r)))&&!p._p&&(T.instance=p,T.state.loading=5),Jn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(r,o),p||B2(d,r,o,T.state))),s&&c===null)throw Error(i(528,""));return T}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wo(o),o=ki(d).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Xo(r){return'href="'+Tn(r)+'"'}function Qu(r){return'link[rel="stylesheet"]['+r+"]"}function fb(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function B2(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),nn(s,"link",o),De(s),r.head.appendChild(s))}function Wo(r){return'[src="'+Tn(r)+'"]'}function Xu(r){return"script[async]"+r}function db(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Tn(o.href)+'"]');if(c)return s.instance=c,De(c),c;var d=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),De(c),nn(c,"style",d),Nf(c,o.precedence,r),s.instance=c;case"stylesheet":d=Xo(o.href);var p=r.querySelector(Qu(d));if(p)return s.state.loading|=4,s.instance=p,De(p),p;c=fb(o),(d=Jn.get(d))&&Dg(c,d),p=(r.ownerDocument||r).createElement("link"),De(p);var T=p;return T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),nn(p,"link",c),s.state.loading|=4,Nf(p,o.precedence,r),s.instance=p;case"script":return p=Wo(o.src),(d=r.querySelector(Xu(p)))?(s.instance=d,De(d),d):(c=o,(d=Jn.get(p))&&(c=v({},o),Vg(c,d)),r=r.ownerDocument||r,d=r.createElement("script"),De(d),nn(d,"link",c),r.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,Nf(c,o.precedence,r));return s.instance}function Nf(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=c.length?c[c.length-1]:null,p=d,T=0;T<c.length;T++){var S=c[T];if(S.dataset.precedence===s)p=S;else if(p!==d)break}p?p.parentNode.insertBefore(r,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function Dg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function Vg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var kf=null;function mb(r,s,o){if(kf===null){var c=new Map,d=kf=new Map;d.set(o,c)}else d=kf,c=d.get(o),c||(c=new Map,d.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),d=0;d<o.length;d++){var p=o[d];if(!(p[Oi]||p[xe]||r==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var T=p.getAttribute(s)||"";T=r+T;var S=c.get(T);S?S.push(p):c.set(T,[p])}}return c}function pb(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function z2(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(r=s.disabled,typeof s.precedence=="string"&&r==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gb(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function j2(r,s,o,c){if(o.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Xo(c.href),p=s.querySelector(Qu(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(r.count++,r=Lf.bind(r),s.then(r,r)),o.state.loading|=4,o.instance=p,De(p);return}p=s.ownerDocument||s,c=fb(c),(d=Jn.get(d))&&Dg(c,d),p=p.createElement("link"),De(p);var T=p;T._p=new Promise(function(S,D){T.onload=S,T.onerror=D}),nn(p,"link",c),o.instance=p}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Lf.bind(r),s.addEventListener("load",o),s.addEventListener("error",o))}}var Mg=0;function F2(r,s){return r.stylesheets&&r.count===0&&Bf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var c=setTimeout(function(){if(r.stylesheets&&Bf(r,r.stylesheets),r.unsuspend){var p=r.unsuspend;r.unsuspend=null,p()}},6e4+s);0<r.imgBytes&&Mg===0&&(Mg=62500*b2());var d=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Bf(r,r.stylesheets),r.unsuspend)){var p=r.unsuspend;r.unsuspend=null,p()}},(r.imgBytes>Mg?50:800)+s);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(c),clearTimeout(d)}}:null}function Lf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Uf=null;function Bf(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Uf=new Map,s.forEach(q2,r),Uf=null,Lf.call(r))}function q2(r,s){if(!(s.state.loading&4)){var o=Uf.get(r);if(o)var c=o.get(null);else{o=new Map,Uf.set(r,o);for(var d=r.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var T=d[p];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(o.set(T.dataset.precedence,T),c=T)}c&&o.set(null,c)}d=s.instance,T=d.getAttribute("data-precedence"),p=o.get(T)||c,p===c&&o.set(null,d),o.set(T,d),this.count++,c=Lf.bind(this),d.addEventListener("load",c),d.addEventListener("error",c),p?p.parentNode.insertBefore(d,p.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(d,r.firstChild)),s.state.loading|=4}}var Wu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:mt,_currentValue2:mt,_threadCount:0};function H2(r,s,o,c,d,p,T,S,D){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function yb(r,s,o,c,d,p,T,S,D,q,X,tt){return r=new H2(r,s,o,T,D,q,X,tt,S),s=1,p===!0&&(s|=24),p=Mn(3,null,null,s),r.current=p,p.stateNode=r,s=hp(),s.refCount++,r.pooledCache=s,s.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:s},pp(p),r}function _b(r){return r?(r=Ro,r):Ro}function vb(r,s,o,c,d,p){d=_b(d),c.context===null?c.context=d:c.pendingContext=d,c=ts(s),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=es(r,c,s),o!==null&&(In(o,r,s),Cu(o,r,s))}function Tb(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function Pg(r,s){Tb(r,s),(r=r.alternate)&&Tb(r,s)}function Eb(r){if(r.tag===13||r.tag===31){var s=ha(r,67108864);s!==null&&In(s,r,67108864),Pg(r,67108864)}}function bb(r){if(r.tag===13||r.tag===31){var s=Ln();s=Js(s);var o=ha(r,s);o!==null&&In(o,r,s),Pg(r,s)}}var zf=!0;function G2(r,s,o,c){var d=W.T;W.T=null;var p=st.p;try{st.p=2,Og(r,s,o,c)}finally{st.p=p,W.T=d}}function K2(r,s,o,c){var d=W.T;W.T=null;var p=st.p;try{st.p=8,Og(r,s,o,c)}finally{st.p=p,W.T=d}}function Og(r,s,o,c){if(zf){var d=Ng(c);if(d===null)Tg(r,s,c,jf,o),wb(r,c);else if(Q2(d,r,s,o,c))c.stopPropagation();else if(wb(r,c),s&4&&-1<Y2.indexOf(r)){for(;d!==null;){var p=Fn(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var T=Di(p.pendingLanes);if(T!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var D=1<<31-Se(T);S.entanglements[1]|=D,T&=~D}Xi(p),(Yt&6)===0&&(Sf=dn()+500,Hu(0))}}break;case 31:case 13:S=ha(p,2),S!==null&&In(S,p,2),Af(),Pg(p,2)}if(p=Ng(c),p===null&&Tg(r,s,c,jf,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else Tg(r,s,c,null,o)}}function Ng(r){return r=qn(r),kg(r)}var jf=null;function kg(r){if(jf=null,r=Ni(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===31){if(r=f(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return jf=r,null}function Sb(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xs()){case Jl:return 2;case tu:return 8;case Br:case Fm:return 32;case _h:return 268435456;default:return 32}default:return 32}}var Lg=!1,fs=null,ds=null,ms=null,$u=new Map,Zu=new Map,ps=[],Y2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wb(r,s){switch(r){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":ds=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":$u.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zu.delete(s.pointerId)}}function Ju(r,s,o,c,d,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Fn(s),s!==null&&Eb(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),r)}function Q2(r,s,o,c,d){switch(s){case"focusin":return fs=Ju(fs,r,s,o,c,d),!0;case"dragenter":return ds=Ju(ds,r,s,o,c,d),!0;case"mouseover":return ms=Ju(ms,r,s,o,c,d),!0;case"pointerover":var p=d.pointerId;return $u.set(p,Ju($u.get(p)||null,r,s,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,Zu.set(p,Ju(Zu.get(p)||null,r,s,o,c,d)),!0}return!1}function Ab(r){var s=Ni(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,ui(r.priority,function(){bb(o)});return}}else if(s===31){if(s=f(o),s!==null){r.blockedOn=s,ui(r.priority,function(){bb(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ff(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=Ng(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);fu=c,o.target.dispatchEvent(c),fu=null}else return s=Fn(o),s!==null&&Eb(s),r.blockedOn=o,!1;s.shift()}return!0}function Ib(r,s,o){Ff(r)&&o.delete(s)}function X2(){Lg=!1,fs!==null&&Ff(fs)&&(fs=null),ds!==null&&Ff(ds)&&(ds=null),ms!==null&&Ff(ms)&&(ms=null),$u.forEach(Ib),Zu.forEach(Ib)}function qf(r,s){r.blockedOn===s&&(r.blockedOn=null,Lg||(Lg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,X2)))}var Hf=null;function Rb(r){Hf!==r&&(Hf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Hf===r&&(Hf=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],d=r[s+2];if(typeof c!="function"){if(kg(c||o)===null)continue;break}var p=Fn(o);p!==null&&(r.splice(s,3),s-=3,Np(p,{pending:!0,data:d,method:o.method,action:c},c,d))}}))}function $o(r){function s(D){return qf(D,r)}fs!==null&&qf(fs,r),ds!==null&&qf(ds,r),ms!==null&&qf(ms,r),$u.forEach(s),Zu.forEach(s);for(var o=0;o<ps.length;o++){var c=ps[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<ps.length&&(o=ps[0],o.blockedOn===null);)Ab(o),o.blockedOn===null&&ps.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var d=o[c],p=o[c+1],T=d[Ye]||null;if(typeof p=="function")T||Rb(o);else if(T){var S=null;if(p&&p.hasAttribute("formAction")){if(d=p,T=p[Ye]||null)S=T.formAction;else if(kg(d)!==null)continue}else S=T.action;typeof S=="function"?o[c+1]=S:(o.splice(c,3),c-=3),Rb(o)}}}function Cb(){function r(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(T){return d=T})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),c||setTimeout(o,20)}function o(){if(!c&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,d=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){c=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Ug(r){this._internalRoot=r}Gf.prototype.render=Ug.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Ln();vb(o,c,r,s,null,null)},Gf.prototype.unmount=Ug.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;vb(r.current,2,null,r,null,null),Af(),s[Pi]=null}};function Gf(r){this._internalRoot=r}Gf.prototype.unstable_scheduleHydration=function(r){if(r){var s=wh();r={blockedOn:null,target:r,priority:s};for(var o=0;o<ps.length&&s!==0&&s<ps[o].priority;o++);ps.splice(o,0,r),o===0&&Ab(r)}};var xb=t.version;if(xb!=="19.2.4")throw Error(i(527,xb,"19.2.4"));st.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var W2={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kf.isDisabled&&Kf.supportsFiber)try{oi=Kf.inject(W2),$e=Kf}catch{}}return ec.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",d=kT,p=LT,T=UT;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),s=yb(r,1,!1,null,null,o,c,null,d,p,T,Cb),r[Pi]=s.current,vg(r),new Ug(s)},ec.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,d="",p=kT,T=LT,S=UT,D=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(T=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.formState!==void 0&&(D=o.formState)),s=yb(r,1,!0,s,o??null,c,d,D,p,T,S,Cb),s.context=_b(null),o=s.current,c=Ln(),c=Js(c),d=ts(c),d.callback=null,es(o,d,c),o=c,s.current.lanes=o,$s(s,o),Xi(s),r[Pi]=s.current,vg(r),new Gf(s)},ec.version="19.2.4",ec}var Bb;function oV(){if(Bb)return jg.exports;Bb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),jg.exports=aV(),jg.exports}var lV=oV();const c1=6048e5,uV=864e5,zb=Symbol.for("constructDateFrom");function ks(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&zb in n?n[zb](t):n instanceof Date?new n.constructor(t):new Date(t)}function Ii(n,t){return ks(t||n,n)}let cV={};function cm(){return cV}function Pc(n,t){const e=cm(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,a=Ii(n,t?.in),l=a.getDay(),u=(l<i?7:0)+l-i;return a.setDate(a.getDate()-u),a.setHours(0,0,0,0),a}function Cd(n,t){return Pc(n,{...t,weekStartsOn:1})}function h1(n,t){const e=Ii(n,t?.in),i=e.getFullYear(),a=ks(e,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=Cd(a),u=ks(e,0);u.setFullYear(i,0,4),u.setHours(0,0,0,0);const f=Cd(u);return e.getTime()>=l.getTime()?i+1:e.getTime()>=f.getTime()?i:i-1}function jb(n){const t=Ii(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function hV(n,...t){const e=ks.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function Fb(n,t){const e=Ii(n,t?.in);return e.setHours(0,0,0,0),e}function fV(n,t,e){const[i,a]=hV(e?.in,n,t),l=Fb(i),u=Fb(a),f=+l-jb(l),m=+u-jb(u);return Math.round((f-m)/uV)}function dV(n,t){const e=h1(n,t),i=ks(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),Cd(i)}function mV(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function pV(n){return!(!mV(n)&&typeof n!="number"||isNaN(+Ii(n)))}function gV(n,t){const e=Ii(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}const yV={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},_V=(n,t,e)=>{let i;const a=yV[n];return typeof a=="string"?i=a:t===1?i=a.one:i=a.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function Gg(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const vV={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},TV={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},EV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bV={date:Gg({formats:vV,defaultWidth:"full"}),time:Gg({formats:TV,defaultWidth:"full"}),dateTime:Gg({formats:EV,defaultWidth:"full"})},SV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wV=(n,t,e,i)=>SV[n];function nc(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let a;if(i==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,f=e?.width?String(e.width):u;a=n.formattingValues[f]||n.formattingValues[u]}else{const u=n.defaultWidth,f=e?.width?String(e.width):n.defaultWidth;a=n.values[f]||n.values[u]}const l=n.argumentCallback?n.argumentCallback(t):t;return a[l]}}const AV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},IV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},RV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},xV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VV=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},MV={ordinalNumber:VV,era:nc({values:AV,defaultWidth:"wide"}),quarter:nc({values:IV,defaultWidth:"wide",argumentCallback:n=>n-1}),month:nc({values:RV,defaultWidth:"wide"}),day:nc({values:CV,defaultWidth:"wide"}),dayPeriod:nc({values:xV,defaultWidth:"wide",formattingValues:DV,defaultFormattingWidth:"wide"})};function ic(n){return(t,e={})=>{const i=e.width,a=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],l=t.match(a);if(!l)return null;const u=l[0],f=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(f)?OV(f,v=>v.test(u)):PV(f,v=>v.test(u));let g;g=n.valueCallback?n.valueCallback(m):m,g=e.valueCallback?e.valueCallback(g):g;const y=t.slice(u.length);return{value:g,rest:y}}}function PV(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function OV(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function NV(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const a=i[0],l=t.match(n.parsePattern);if(!l)return null;let u=n.valueCallback?n.valueCallback(l[0]):l[0];u=e.valueCallback?e.valueCallback(u):u;const f=t.slice(a.length);return{value:u,rest:f}}}const kV=/^(\d+)(th|st|nd|rd)?/i,LV=/\d+/i,UV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BV={any:[/^b/i,/^(a|c)/i]},zV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},jV={any:[/1/i,/2/i,/3/i,/4/i]},FV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},HV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},GV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},KV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},QV={ordinalNumber:NV({matchPattern:kV,parsePattern:LV,valueCallback:n=>parseInt(n,10)}),era:ic({matchPatterns:UV,defaultMatchWidth:"wide",parsePatterns:BV,defaultParseWidth:"any"}),quarter:ic({matchPatterns:zV,defaultMatchWidth:"wide",parsePatterns:jV,defaultParseWidth:"any",valueCallback:n=>n+1}),month:ic({matchPatterns:FV,defaultMatchWidth:"wide",parsePatterns:qV,defaultParseWidth:"any"}),day:ic({matchPatterns:HV,defaultMatchWidth:"wide",parsePatterns:GV,defaultParseWidth:"any"}),dayPeriod:ic({matchPatterns:KV,defaultMatchWidth:"any",parsePatterns:YV,defaultParseWidth:"any"})},XV={code:"en-US",formatDistance:_V,formatLong:bV,formatRelative:wV,localize:MV,match:QV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WV(n,t){const e=Ii(n,t?.in);return fV(e,gV(e))+1}function $V(n,t){const e=Ii(n,t?.in),i=+Cd(e)-+dV(e);return Math.round(i/c1)+1}function f1(n,t){const e=Ii(n,t?.in),i=e.getFullYear(),a=cm(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,u=ks(t?.in||n,0);u.setFullYear(i+1,0,l),u.setHours(0,0,0,0);const f=Pc(u,t),m=ks(t?.in||n,0);m.setFullYear(i,0,l),m.setHours(0,0,0,0);const g=Pc(m,t);return+e>=+f?i+1:+e>=+g?i:i-1}function ZV(n,t){const e=cm(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,a=f1(n,t),l=ks(t?.in||n,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Pc(l,t)}function JV(n,t){const e=Ii(n,t?.in),i=+Pc(e,t)-+ZV(e,t);return Math.round(i/c1)+1}function Zt(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const ys={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return Zt(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):Zt(e+1,2)},d(n,t){return Zt(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];default:return e==="am"?"a.m.":"p.m."}},h(n,t){return Zt(n.getHours()%12||12,t.length)},H(n,t){return Zt(n.getHours(),t.length)},m(n,t){return Zt(n.getMinutes(),t.length)},s(n,t){return Zt(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),a=Math.trunc(i*Math.pow(10,e-3));return Zt(a,t.length)}},Zo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qb={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),a=i>0?i:1-i;return e.ordinalNumber(a,{unit:"year"})}return ys.y(n,t)},Y:function(n,t,e,i){const a=f1(n,i),l=a>0?a:1-a;if(t==="YY"){const u=l%100;return Zt(u,2)}return t==="Yo"?e.ordinalNumber(l,{unit:"year"}):Zt(l,t.length)},R:function(n,t){const e=h1(n);return Zt(e,t.length)},u:function(n,t){const e=n.getFullYear();return Zt(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return Zt(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return Zt(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return ys.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return Zt(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const a=JV(n,i);return t==="wo"?e.ordinalNumber(a,{unit:"week"}):Zt(a,t.length)},I:function(n,t,e){const i=$V(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):Zt(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):ys.d(n,t)},D:function(n,t,e){const i=WV(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):Zt(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Zt(l,2);case"eo":return e.ordinalNumber(l,{unit:"day"});case"eee":return e.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(a,{width:"short",context:"formatting"});default:return e.day(a,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const a=n.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Zt(l,t.length);case"co":return e.ordinalNumber(l,{unit:"day"});case"ccc":return e.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(a,{width:"narrow",context:"standalone"});case"cccccc":return e.day(a,{width:"short",context:"standalone"});default:return e.day(a,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),a=i===0?7:i;switch(t){case"i":return String(a);case"ii":return Zt(a,t.length);case"io":return e.ordinalNumber(a,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const a=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let a;switch(i===12?a=Zo.noon:i===0?a=Zo.midnight:a=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let a;switch(i>=17?a=Zo.evening:i>=12?a=Zo.afternoon:i>=4?a=Zo.morning:a=Zo.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(a,{width:"narrow",context:"formatting"});default:return e.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return ys.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):ys.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):Zt(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):ys.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):ys.s(n,t)},S:function(n,t){return ys.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return Gb(i);case"XXXX":case"XX":return Ia(i);default:return Ia(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return Gb(i);case"xxxx":case"xx":return Ia(i);default:return Ia(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hb(i,":");default:return"GMT"+Ia(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hb(i,":");default:return"GMT"+Ia(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return Zt(i,t.length)},T:function(n,t,e){return Zt(+n,t.length)}};function Hb(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Math.trunc(i/60),l=i%60;return l===0?e+String(a):e+String(a)+t+Zt(l,2)}function Gb(n,t){return n%60===0?(n>0?"-":"+")+Zt(Math.abs(n)/60,2):Ia(n,t)}function Ia(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),a=Zt(Math.trunc(i/60),2),l=Zt(i%60,2);return e+a+t+l}const Kb=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},d1=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},tM=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],a=e[2];if(!a)return Kb(n,t);let l;switch(i){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Kb(i,t)).replace("{{time}}",d1(a,t))},eM={p:d1,P:tM},nM=/^D+$/,iM=/^Y+$/,rM=["D","DD","YY","YYYY"];function sM(n){return nM.test(n)}function aM(n){return iM.test(n)}function oM(n,t,e){const i=lM(n,t,e);if(console.warn(i),rM.includes(n))throw new RangeError(i)}function lM(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const uM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hM=/^'([^]*?)'?$/,fM=/''/g,dM=/[a-zA-Z]/;function wy(n,t,e){const i=cm(),a=i.locale??XV,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,u=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,f=Ii(n,e?.in);if(!pV(f))throw new RangeError("Invalid time value");let m=t.match(cM).map(y=>{const v=y[0];if(v==="p"||v==="P"){const b=eM[v];return b(y,a.formatLong)}return y}).join("").match(uM).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const v=y[0];if(v==="'")return{isToken:!1,value:mM(y)};if(qb[v])return{isToken:!0,value:y};if(v.match(dM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+v+"`");return{isToken:!1,value:y}});a.localize.preprocessor&&(m=a.localize.preprocessor(f,m));const g={firstWeekContainsDate:l,weekStartsOn:u,locale:a};return m.map(y=>{if(!y.isToken)return y.value;const v=y.value;(aM(v)||sM(v))&&oM(v,t,String(n));const b=qb[v[0]];return b(f,v,a.localize,g)}).join("")}function mM(n){const t=n.match(hM);return t?t[1].replace(fM,"'"):n}var m1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Yb=Ba.createContext&&Ba.createContext(m1),pM=["attr","size","title"];function gM(n,t){if(n==null)return{};var e=yM(n,t),i,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(a=0;a<l.length;a++)i=l[a],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function yM(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function xd(){return xd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},xd.apply(this,arguments)}function Qb(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable})),e.push.apply(e,i)}return e}function Dd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?Qb(Object(e),!0).forEach(function(i){_M(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Qb(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function _M(n,t,e){return t=vM(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function vM(n){var t=TM(n,"string");return typeof t=="symbol"?t:t+""}function TM(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function p1(n){return n&&n.map((t,e)=>Ba.createElement(t.tag,Dd({key:e},t.attr),p1(t.child)))}function Ri(n){return t=>Ba.createElement(EM,xd({attr:Dd({},n.attr)},t),p1(n.child))}function EM(n){var t=e=>{var{attr:i,size:a,title:l}=n,u=gM(n,pM),f=a||e.size||"1em",m;return e.className&&(m=e.className),n.className&&(m=(m?m+" ":"")+n.className),Ba.createElement("svg",xd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,u,{className:m,style:Dd(Dd({color:n.color||e.color},e.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),l&&Ba.createElement("title",null,l),n.children)};return Yb!==void 0?Ba.createElement(Yb.Consumer,null,e=>t(e)):t(m1)}function bM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 160c16-63.16 76.43-95.41 208-96a15.94 15.94 0 0 1 16 16v288a16 16 0 0 1-16 16c-128 0-177.45 25.81-208 64-30.37-38-80-64-208-64-9.88 0-16-8.05-16-17.93V80a15.94 15.94 0 0 1 16-16c131.57.59 192 32.84 208 96zm0 0v288"},child:[]}]})(n)}function SM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"416",height:"384",x:"48",y:"80",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"48"},child:[]},{tag:"circle",attr:{cx:"296",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"232",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"376",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"312",r:"24"},child:[]},{tag:"circle",attr:{cx:"136",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"216",cy:"392",r:"24"},child:[]},{tag:"circle",attr:{cx:"296",cy:"392",r:"24"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M128 48v32m256-32v32"},child:[]},{tag:"path",attr:{fill:"none",strokeLinejoin:"round",strokeWidth:"32",d:"M464 160H48"},child:[]}]})(n)}function wM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"48",d:"m184 112 144 144-144 144"},child:[]}]})(n)}function AM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}function IM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M304 336v40a40 40 0 0 1-40 40H104a40 40 0 0 1-40-40V136a40 40 0 0 1 40-40h152c22.09 0 48 17.91 48 40v40m64 160 80-80-80-80m-192 80h256"},child:[]}]})(n)}function RM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m473.16 221.48-2.26-9.59H262.46v88.22H387c-12.93 61.4-72.93 93.72-121.94 93.72-35.66 0-73.25-15-98.13-39.11a140.08 140.08 0 0 1-41.8-98.88c0-37.16 16.7-74.33 41-98.78s61-38.13 97.49-38.13c41.79 0 71.74 22.19 82.94 32.31l62.69-62.36C390.86 72.72 340.34 32 261.6 32c-60.75 0-119 23.27-161.58 65.71C58 139.5 36.25 199.93 36.25 256s20.58 113.48 61.3 155.6c43.51 44.92 105.13 68.4 168.58 68.4 57.73 0 112.45-22.62 151.45-63.66 38.34-40.4 58.17-96.3 58.17-154.9 0-24.67-2.48-39.32-2.59-39.96z"},child:[]}]})(n)}function CM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"48",d:"M88 152h336M88 256h336M88 360h336"},child:[]}]})(n)}function xM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M160 136c0-30.62 4.51-61.61 16-88C99.57 81.27 48 159.32 48 248c0 119.29 96.71 216 216 216 88.68 0 166.73-51.57 200-128-26.39 11.49-57.38 16-88 16-119.29 0-216-96.71-216-216z"},child:[]}]})(n)}function DM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M344 144c-3.92 52.87-44 96-88 96s-84.15-43.12-88-96c-4-55 35-96 88-96s92 42 88 96z"},child:[]},{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 304c-87 0-175.3 48-191.64 138.6C62.39 453.52 68.57 464 80 464h352c11.44 0 17.62-10.48 15.65-21.4C431.3 352 343 304 256 304z"},child:[]}]})(n)}function VM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 48v48m0 320v48m147.08-355.08-33.94 33.94M142.86 369.14l-33.94 33.94M464 256h-48m-320 0H48m355.08 147.08-33.94-33.94M142.86 142.86l-33.94-33.94"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(n)}function MM(n){return Ri({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M256 64C150 64 64 150 64 256s86 192 192 192 192-86 192-192S362 64 256 64z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 128v144h96"},child:[]}]})(n)}const Ay={"Block E":["E101","E102","E103","E104","E201","E202","E203","E204","E301","E302","E303","E304"],"Block F":["F102","F103","F104","F201","F202","F301","F302","F303","F304","F403","F404"]},PM=["07:00 - 09:00","09:00 - 11:00","11:00 - 13:00","13:00 - 15:00","15:00 - 17:00","17:00 - 19:00"];wy(new Date,"yyyy-MM-dd");const OM=()=>{};var Xb={};const g1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},NM=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[e++];t[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[e++],u=n[e++],f=n[e++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const l=n[e++],u=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return t.join("")},y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const l=n[a],u=a+1<n.length,f=u?n[a+1]:0,m=a+2<n.length,g=m?n[a+2]:0,y=l>>2,v=(l&3)<<4|f>>4;let b=(f&15)<<2|g>>6,I=g&63;m||(I=64,u||(b=64)),i.push(e[y],e[v],e[b],e[I])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(g1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):NM(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const l=e[n.charAt(a++)],f=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const v=a<n.length?e[n.charAt(a)]:64;if(++a,l==null||f==null||g==null||v==null)throw new kM;const b=l<<2|f>>4;if(i.push(b),g!==64){const I=f<<4&240|g>>2;if(i.push(I),v!==64){const V=g<<6&192|v;i.push(V)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class kM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LM=function(n){const t=g1(n);return y1.encodeByteArray(t,!0)},Vd=function(n){return LM(n).replace(/\./g,"")},_1=function(n){try{return y1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const UM=()=>v1().__FIREBASE_DEFAULTS__,BM=()=>{if(typeof process>"u"||typeof Xb>"u")return;const n=Xb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&_1(n[1]);return t&&JSON.parse(t)},hm=()=>{try{return OM()||UM()||BM()||zM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},T1=n=>hm()?.emulatorHosts?.[n],jM=n=>{const t=T1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},E1=()=>hm()?.config,b1=n=>hm()?.[`_${n}`];class FM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function zl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S1(n){return(await fetch(n,{credentials:"include"})).ok}function qM(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Vd(JSON.stringify(e)),Vd(JSON.stringify(u)),""].join(".")}const vc={};function HM(){const n={prod:[],emulator:[]};for(const t of Object.keys(vc))vc[t]?n.emulator.push(t):n.prod.push(t);return n}function GM(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Wb=!1;function w1(n,t){if(typeof window>"u"||typeof document>"u"||!zl(window.location.host)||vc[n]===t||vc[n]||Wb)return;vc[n]=t;function e(b){return`__firebase__banner__${b}`}const i="__firebase__banner",l=HM().prod.length>0;function u(){const b=document.getElementById(i);b&&b.remove()}function f(b){b.style.display="flex",b.style.background="#7faaf0",b.style.position="fixed",b.style.bottom="5px",b.style.left="5px",b.style.padding=".5em",b.style.borderRadius="5px",b.style.alignItems="center"}function m(b,I){b.setAttribute("width","24"),b.setAttribute("id",I),b.setAttribute("height","24"),b.setAttribute("viewBox","0 0 24 24"),b.setAttribute("fill","none"),b.style.marginLeft="-6px"}function g(){const b=document.createElement("span");return b.style.cursor="pointer",b.style.marginLeft="16px",b.style.fontSize="24px",b.innerHTML=" &times;",b.onclick=()=>{Wb=!0,u()},b}function y(b,I){b.setAttribute("id",I),b.innerText="Learn more",b.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",b.setAttribute("target","__blank"),b.style.paddingLeft="5px",b.style.textDecoration="underline"}function v(){const b=GM(i),I=e("text"),V=document.getElementById(I)||document.createElement("span"),U=e("learnmore"),z=document.getElementById(U)||document.createElement("a"),Q=e("preprendIcon"),$=document.getElementById(Q)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(b.created){const Y=b.element;f(Y),y(z,U);const it=g();m($,Q),Y.append($,V,z,it),document.body.appendChild(Y)}l?(V.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function KM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function A1(){const n=hm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QM(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function XM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WM(){const n=Ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function I1(){return!A1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R1(){return!A1()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function C1(){try{return typeof indexedDB=="object"}catch{return!1}}function $M(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const ZM="FirebaseError";class kr extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=ZM,Object.setPrototypeOf(this,kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jc.prototype.create)}}class Jc{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,l=this.errors[t],u=l?JM(l,i):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new kr(a,f,i)}}function JM(n,t){return n.replace(tP,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const tP=/\{\$([^}]+)}/g;function eP(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Ka(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const l=n[a],u=t[a];if($b(l)&&$b(u)){if(!Ka(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function $b(n){return n!==null&&typeof n=="object"}function th(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function nP(n,t){const e=new iP(n,t);return e.subscribe.bind(e)}class iP{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");rP(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Kg),a.error===void 0&&(a.error=Kg),a.complete===void 0&&(a.complete=Kg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rP(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Kg(){}function fn(n){return n&&n._delegate?n._delegate:n}class Ya{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ra="[DEFAULT]";class sP{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new FM;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oP(t))try{this.getOrInitializeService({instanceIdentifier:Ra})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(t=Ra){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ra){return this.instances.has(t)}getOptions(t=Ra){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&u.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&t(l,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:aP(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ra){return this.component?this.component.multipleInstances?t:Ra:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aP(n){return n===Ra?void 0:n}function oP(n){return n.instantiationMode==="EAGER"}class lP{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new sP(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Bt||(Bt={}));const uP={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},cP=Bt.INFO,hP={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},fP=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=hP[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class D_{constructor(t){this.name=t,this._logLevel=cP,this._logHandler=fP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uP[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const dP=(n,t)=>t.some(e=>n instanceof e);let Zb,Jb;function mP(){return Zb||(Zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pP(){return Jb||(Jb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const x1=new WeakMap,Iy=new WeakMap,D1=new WeakMap,Yg=new WeakMap,V_=new WeakMap;function gP(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{e(xs(n.result)),a()},u=()=>{i(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&x1.set(e,n)}).catch(()=>{}),V_.set(t,n),t}function yP(n){if(Iy.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{e(),a()},u=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});Iy.set(n,t)}let Ry={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Iy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||D1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return xs(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function _P(n){Ry=n(Ry)}function vP(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Qg(this),t,...e);return D1.set(i,t.sort?t.sort():[t]),xs(i)}:pP().includes(n)?function(...t){return n.apply(Qg(this),t),xs(x1.get(this))}:function(...t){return xs(n.apply(Qg(this),t))}}function TP(n){return typeof n=="function"?vP(n):(n instanceof IDBTransaction&&yP(n),dP(n,mP())?new Proxy(n,Ry):n)}function xs(n){if(n instanceof IDBRequest)return gP(n);if(Yg.has(n))return Yg.get(n);const t=TP(n);return t!==n&&(Yg.set(n,t),V_.set(t,n)),t}const Qg=n=>V_.get(n);function EP(n,t,{blocked:e,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(n,t),f=xs(u);return i&&u.addEventListener("upgradeneeded",m=>{i(xs(u.result),m.oldVersion,m.newVersion,xs(u.transaction),m)}),e&&u.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const bP=["get","getKey","getAll","getAllKeys","count"],SP=["put","add","delete","clear"],Xg=new Map;function tS(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Xg.get(t))return Xg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=SP.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||bP.includes(e)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return i&&(g=g.index(f.shift())),(await Promise.all([g[e](...f),a&&m.done]))[0]};return Xg.set(t,l),l}_P(n=>({...n,get:(t,e,i)=>tS(t,e)||n.get(t,e,i),has:(t,e)=>!!tS(t,e)||n.has(t,e)}));class wP{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(AP(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function AP(n){return n.getComponent()?.type==="VERSION"}const Cy="@firebase/app",eS="0.14.8";const Vr=new D_("@firebase/app"),IP="@firebase/app-compat",RP="@firebase/analytics-compat",CP="@firebase/analytics",xP="@firebase/app-check-compat",DP="@firebase/app-check",VP="@firebase/auth",MP="@firebase/auth-compat",PP="@firebase/database",OP="@firebase/data-connect",NP="@firebase/database-compat",kP="@firebase/functions",LP="@firebase/functions-compat",UP="@firebase/installations",BP="@firebase/installations-compat",zP="@firebase/messaging",jP="@firebase/messaging-compat",FP="@firebase/performance",qP="@firebase/performance-compat",HP="@firebase/remote-config",GP="@firebase/remote-config-compat",KP="@firebase/storage",YP="@firebase/storage-compat",QP="@firebase/firestore",XP="@firebase/ai",WP="@firebase/firestore-compat",$P="firebase",ZP="12.9.0";const xy="[DEFAULT]",JP={[Cy]:"fire-core",[IP]:"fire-core-compat",[CP]:"fire-analytics",[RP]:"fire-analytics-compat",[DP]:"fire-app-check",[xP]:"fire-app-check-compat",[VP]:"fire-auth",[MP]:"fire-auth-compat",[PP]:"fire-rtdb",[OP]:"fire-data-connect",[NP]:"fire-rtdb-compat",[kP]:"fire-fn",[LP]:"fire-fn-compat",[UP]:"fire-iid",[BP]:"fire-iid-compat",[zP]:"fire-fcm",[jP]:"fire-fcm-compat",[FP]:"fire-perf",[qP]:"fire-perf-compat",[HP]:"fire-rc",[GP]:"fire-rc-compat",[KP]:"fire-gcs",[YP]:"fire-gcs-compat",[QP]:"fire-fst",[WP]:"fire-fst-compat",[XP]:"fire-vertex","fire-js":"fire-js",[$P]:"fire-js-all"};const Md=new Map,tO=new Map,Dy=new Map;function nS(n,t){try{n.container.addComponent(t)}catch(e){Vr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Sl(n){const t=n.name;if(Dy.has(t))return Vr.debug(`There were multiple attempts to register component ${t}.`),!1;Dy.set(t,n);for(const e of Md.values())nS(e,n);for(const e of tO.values())nS(e,n);return!0}function M_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ti(n){return n==null?!1:n.settings!==void 0}const eO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new Jc("app","Firebase",eO);class nO{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ya("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}const jl=ZP;function V1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:xy,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Ds.create("bad-app-name",{appName:String(a)});if(e||(e=E1()),!e)throw Ds.create("no-options");const l=Md.get(a);if(l){if(Ka(e,l.options)&&Ka(i,l.config))return l;throw Ds.create("duplicate-app",{appName:a})}const u=new lP(a);for(const m of Dy.values())u.addComponent(m);const f=new nO(e,i,u);return Md.set(a,f),f}function M1(n=xy){const t=Md.get(n);if(!t&&n===xy&&E1())return V1();if(!t)throw Ds.create("no-app",{appName:n});return t}function Vs(n,t,e){let i=JP[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),l=t.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${t}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Vr.warn(u.join(" "));return}Sl(new Ya(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const iO="firebase-heartbeat-database",rO=1,Oc="firebase-heartbeat-store";let Wg=null;function P1(){return Wg||(Wg=EP(iO,rO,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Oc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Ds.create("idb-open",{originalErrorMessage:n.message})})),Wg}async function sO(n){try{const e=(await P1()).transaction(Oc),i=await e.objectStore(Oc).get(O1(n));return await e.done,i}catch(t){if(t instanceof kr)Vr.warn(t.message);else{const e=Ds.create("idb-get",{originalErrorMessage:t?.message});Vr.warn(e.message)}}}async function iS(n,t){try{const i=(await P1()).transaction(Oc,"readwrite");await i.objectStore(Oc).put(t,O1(n)),await i.done}catch(e){if(e instanceof kr)Vr.warn(e.message);else{const i=Ds.create("idb-set",{originalErrorMessage:e?.message});Vr.warn(i.message)}}}function O1(n){return`${n.name}!${n.options.appId}`}const aO=1024,oO=30;class lO{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new cO(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=rS();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>oO){const a=hO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Vr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rS(),{heartbeatsToSend:e,unsentEntries:i}=uO(this._heartbeatsCache.heartbeats),a=Vd(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Vr.warn(t),""}}}function rS(){return new Date().toISOString().substring(0,10)}function uO(n,t=aO){const e=[];let i=n.slice();for(const a of n){const l=e.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),sS(e)>t){l.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),sS(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class cO{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return C1()?$M().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await sO(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return iS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return iS(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function sS(n){return Vd(JSON.stringify({version:2,heartbeats:n})).length}function hO(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function fO(n){Sl(new Ya("platform-logger",t=>new wP(t),"PRIVATE")),Sl(new Ya("heartbeat",t=>new lO(t),"PRIVATE")),Vs(Cy,eS,n),Vs(Cy,eS,"esm2020"),Vs("fire-js","")}fO("");function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dO=N1,k1=new Jc("auth","Firebase",N1());const Pd=new D_("@firebase/auth");function mO(n,...t){Pd.logLevel<=Bt.WARN&&Pd.warn(`Auth (${jl}): ${n}`,...t)}function sd(n,...t){Pd.logLevel<=Bt.ERROR&&Pd.error(`Auth (${jl}): ${n}`,...t)}function ir(n,...t){throw O_(n,...t)}function Si(n,...t){return O_(n,...t)}function P_(n,t,e){const i={...dO(),[t]:e};return new Jc("auth","Firebase",i).create(t,{appName:n.name})}function Ms(n){return P_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function L1(n,t,e){const i=e;if(!(t instanceof i))throw i.name!==t.constructor.name&&ir(n,"argument-error"),P_(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function O_(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return k1.create(n,...t)}function St(n,t,...e){if(!n)throw O_(t,...e)}function Ir(n){const t="INTERNAL ASSERTION FAILED: "+n;throw sd(t),new Error(t)}function Mr(n,t){n||Ir(t)}function Vy(){return typeof self<"u"&&self.location?.href||""}function pO(){return aS()==="http:"||aS()==="https:"}function aS(){return typeof self<"u"&&self.location?.protocol||null}function gO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pO()||QM()||"connection"in navigator)?navigator.onLine:!0}function yO(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class eh{constructor(t,e){this.shortDelay=t,this.longDelay=e,Mr(e>t,"Short delay should be less than long delay!"),this.isMobile=KM()||XM()}get(){return gO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function N_(n,t){Mr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class U1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const vO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TO=new eh(3e4,6e4);function k_(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Fl(n,t,e,i,a={}){return B1(n,a,async()=>{let l={},u={};i&&(t==="GET"?u=i:l={body:JSON.stringify(i)});const f=th({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:m,...l};return YM()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&zl(n.emulatorConfig.host)&&(g.credentials="include"),U1.fetch()(await z1(n,n.config.apiHost,e,f),g)})}async function B1(n,t,e){n._canInitEmulator=!1;const i={..._O,...t};try{const a=new bO(n),l=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Yf(n,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yf(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Yf(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw Yf(n,"user-disabled",u);const y=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw P_(n,y,g);ir(n,y)}}catch(a){if(a instanceof kr)throw a;ir(n,"network-request-failed",{message:String(a)})}}async function EO(n,t,e,i,a={}){const l=await Fl(n,t,e,i,a);return"mfaPendingCredential"in l&&ir(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function z1(n,t,e,i){const a=`${t}${e}?${i}`,l=n,u=l.config.emulator?N_(n.config,a):`${n.config.apiScheme}://${a}`;return vO.includes(e)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}class bO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Si(this.auth,"network-request-failed")),TO.get())})}}function Yf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Si(n,t,i);return a.customData._tokenResponse=e,a}async function SO(n,t){return Fl(n,"POST","/v1/accounts:delete",t)}async function Od(n,t){return Fl(n,"POST","/v1/accounts:lookup",t)}function Tc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wO(n,t=!1){const e=fn(n),i=await e.getIdToken(t),a=L_(i);St(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l?.sign_in_provider;return{claims:a,token:i,authTime:Tc($g(a.auth_time)),issuedAtTime:Tc($g(a.iat)),expirationTime:Tc($g(a.exp)),signInProvider:u||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $g(n){return Number(n)*1e3}function L_(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const a=_1(e);return a?JSON.parse(a):(sd("Failed to decode base64 JWT payload"),null)}catch(a){return sd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function oS(n){const t=L_(n);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Nc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof kr&&AO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function AO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class IO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class My{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Tc(this.lastLoginAt),this.creationTime=Tc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Nd(n){const t=n.auth,e=await n.getIdToken(),i=await Nc(n,Od(t,{idToken:e}));St(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?j1(a.providerUserInfo):[],u=CO(n.providerData,l),f=n.isAnonymous,m=!(n.email&&a.passwordHash)&&!u?.length,g=f?m:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new My(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function RO(n){const t=fn(n);await Nd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function CO(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function j1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function xO(n,t){const e=await B1(n,{},async()=>{const i=th({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,u=await z1(n,a,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:f,body:i};return n.emulatorConfig&&zl(n.emulatorConfig.host)&&(m.credentials="include"),U1.fetch()(u,m)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function DO(n,t){return Fl(n,"POST","/v2/accounts:revokeToken",k_(n,t))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):oS(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){St(t.length!==0,"internal-error");const e=oS(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:l}=await xO(t,e);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:l}=e,u=new yl;return i&&(St(typeof i=="string","internal-error",{appName:t}),u.refreshToken=i),a&&(St(typeof a=="string","internal-error",{appName:t}),u.accessToken=a),l&&(St(typeof l=="number","internal-error",{appName:t}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Ir("not implemented")}}function _s(n,t){St(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class bi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new IO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new My(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Nc(this,this.stsTokenManager.getToken(this.auth,t));return St(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return wO(this,t)}reload(){return RO(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new bi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Nd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await Nc(this,SO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,l=e.phoneNumber??void 0,u=e.photoURL??void 0,f=e.tenantId??void 0,m=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:v,emailVerified:b,isAnonymous:I,providerData:V,stsTokenManager:U}=e;St(v&&U,t,"internal-error");const z=yl.fromJSON(this.name,U);St(typeof v=="string",t,"internal-error"),_s(i,t.name),_s(a,t.name),St(typeof b=="boolean",t,"internal-error"),St(typeof I=="boolean",t,"internal-error"),_s(l,t.name),_s(u,t.name),_s(f,t.name),_s(m,t.name),_s(g,t.name),_s(y,t.name);const Q=new bi({uid:v,auth:t,email:a,emailVerified:b,displayName:i,isAnonymous:I,photoURL:u,phoneNumber:l,tenantId:f,stsTokenManager:z,createdAt:g,lastLoginAt:y});return V&&Array.isArray(V)&&(Q.providerData=V.map($=>({...$}))),m&&(Q._redirectEventId=m),Q}static async _fromIdTokenResponse(t,e,i=!1){const a=new yl;a.updateFromServerResponse(e);const l=new bi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Nd(l),l}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];St(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?j1(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!l?.length,f=new yl;f.updateFromIdToken(i);const m=new bi({uid:a.localId,auth:t,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new My(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(m,g),m}}const lS=new Map;function Rr(n){Mr(n instanceof Function,"Expected a class definition");let t=lS.get(n);return t?(Mr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,lS.set(n,t),t)}class F1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}F1.type="NONE";const uS=F1;function ad(n,t,e){return`firebase:${n}:${t}:${e}`}class _l{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=ad(this.userKey,a.apiKey,l),this.fullPersistenceKey=ad("persistence",a.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Od(this.auth,{idToken:t}).catch(()=>{});return e?bi._fromGetAccountInfoResponse(this.auth,e,t):null}return bi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new _l(Rr(uS),t,i);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Rr(uS);const u=ad(i,t.config.apiKey,t.name);let f=null;for(const g of e)try{const y=await g._get(u);if(y){let v;if(typeof y=="string"){const b=await Od(t,{idToken:y}).catch(()=>{});if(!b)break;v=await bi._fromGetAccountInfoResponse(t,b,y)}else v=bi._fromJSON(t,y);g!==l&&(f=v),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new _l(l,t,i):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(e.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new _l(l,t,i))}}function cS(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(K1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(q1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Q1(t))return"Blackberry";if(X1(t))return"Webos";if(H1(t))return"Safari";if((t.includes("chrome/")||G1(t))&&!t.includes("edge/"))return"Chrome";if(Y1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function q1(n=Ge()){return/firefox\//i.test(n)}function H1(n=Ge()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function G1(n=Ge()){return/crios\//i.test(n)}function K1(n=Ge()){return/iemobile/i.test(n)}function Y1(n=Ge()){return/android/i.test(n)}function Q1(n=Ge()){return/blackberry/i.test(n)}function X1(n=Ge()){return/webos/i.test(n)}function U_(n=Ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VO(n=Ge()){return U_(n)&&!!window.navigator?.standalone}function MO(){return WM()&&document.documentMode===10}function W1(n=Ge()){return U_(n)||Y1(n)||X1(n)||Q1(n)||/windows phone/i.test(n)||K1(n)}function $1(n,t=[]){let e;switch(n){case"Browser":e=cS(Ge());break;case"Worker":e=`${cS(Ge())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${jl}/${i}`}class PO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((u,f)=>{try{const m=t(l);u(m)}catch(m){f(m)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function OO(n,t={}){return Fl(n,"GET","/v2/passwordPolicy",k_(n,t))}const NO=6;class kO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??NO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class LO{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hS(this),this.idTokenSubscription=new hS(this),this.beforeStateQueue=new PO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=k1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Rr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await _l.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Od(this,{idToken:t}),i=await bi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,u=i?._redirectEventId,f=await this.tryRedirectSignIn(t);(!l||l===u)&&f?.user&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Nd(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=yO()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Ms(this));const e=t?fn(t):null;return e&&St(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await OO(this),e=new kO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Jc("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await DO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Rr(t)||this._popupRedirectResolver;St(e,this,"argument-error"),this.redirectPersistenceManager=await _l.create(this,[Rr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const l=typeof e=="function"?e:e.next.bind(e);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,i,a);return()=>{u=!0,m()}}else{const m=t.addObserver(e);return()=>{u=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&mO(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ql(n){return fn(n)}class hS{constructor(t){this.auth=t,this.observer=null,this.addObserver=nP(e=>this.observer=e)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let B_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UO(n){B_=n}function BO(n){return B_.loadJS(n)}function zO(){return B_.gapiScript}function jO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function FO(n,t){const e=M_(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),l=e.getOptions();if(Ka(l,t??{}))return a;ir(a,"already-initialized")}return e.initialize({options:t})}function qO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Rr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function HO(n,t,e){const i=ql(n);St(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,l=Z1(t),{host:u,port:f}=GO(t),m=f===null?"":`:${f}`,g={url:`${l}//${u}${m}/`},y=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){St(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),St(Ka(g,i.config.emulator)&&Ka(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,zl(u)?(S1(`${l}//${u}${m}`),w1("Auth",!0)):KO()}function Z1(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function GO(n){const t=Z1(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:fS(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:fS(u)}}}function fS(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function KO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class J1{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ir("not implemented")}_getIdTokenResponse(t){return Ir("not implemented")}_linkToIdToken(t,e){return Ir("not implemented")}_getReauthenticationResolver(t){return Ir("not implemented")}}async function vl(n,t){return EO(n,"POST","/v1/accounts:signInWithIdp",k_(n,t))}const YO="http://localhost";class Qa extends J1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Qa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):ir("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...l}=e;if(!i||!a)return null;const u=new Qa(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(t){const e=this.buildRequest();return vl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,vl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,vl(t,e)}buildRequest(){const t={requestUri:YO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=th(e)}return t}}class fm{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class nh extends fm{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ss extends nh{constructor(){super("facebook.com")}static credential(t){return Qa._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ss.credentialFromTaggedObject(t)}static credentialFromError(t){return Ss.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ss.credential(t.oauthAccessToken)}catch{return null}}}Ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ss.PROVIDER_ID="facebook.com";class Ar extends nh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Qa._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Ar.credential(e,i)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";class ws extends nh{constructor(){super("github.com")}static credential(t){return Qa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ws.credentialFromTaggedObject(t)}static credentialFromError(t){return ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ws.credential(t.oauthAccessToken)}catch{return null}}}ws.GITHUB_SIGN_IN_METHOD="github.com";ws.PROVIDER_ID="github.com";class As extends nh{constructor(){super("twitter.com")}static credential(t,e){return Qa._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return As.credentialFromTaggedObject(t)}static credentialFromError(t){return As.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return As.credential(e,i)}catch{return null}}}As.TWITTER_SIGN_IN_METHOD="twitter.com";As.PROVIDER_ID="twitter.com";class wl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const l=await bi._fromIdTokenResponse(t,i,a),u=dS(i);return new wl({user:l,providerId:u,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=dS(i);return new wl({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function dS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class kd extends kr{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,kd.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new kd(t,e,i,a)}}function tI(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kd._fromErrorAndOperation(n,l,t,i):l})}async function QO(n,t,e=!1){const i=await Nc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return wl._forOperation(n,"link",i)}async function XO(n,t,e=!1){const{auth:i}=n;if(ti(i.app))return Promise.reject(Ms(i));const a="reauthenticate";try{const l=await Nc(n,tI(i,a,t,n),e);St(l.idToken,i,"internal-error");const u=L_(l.idToken);St(u,i,"internal-error");const{sub:f}=u;return St(n.uid===f,i,"user-mismatch"),wl._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&ir(i,"user-mismatch"),l}}async function WO(n,t,e=!1){if(ti(n.app))return Promise.reject(Ms(n));const i="signIn",a=await tI(n,i,t),l=await wl._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(l.user),l}function $O(n,t){return fn(n).setPersistence(t)}function ZO(n,t,e,i){return fn(n).onIdTokenChanged(t,e,i)}function JO(n,t,e){return fn(n).beforeAuthStateChanged(t,e)}function tN(n,t,e,i){return fn(n).onAuthStateChanged(t,e,i)}function eN(n){return fn(n).signOut()}const Ld="__sak";class eI{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Ld,"1"),this.storage.removeItem(Ld),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nN=1e3,iN=10;class nI extends eI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=W1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!e&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);MO()&&l!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,iN):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}nI.type="LOCAL";const iI=nI;class rI extends eI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}rI.type="SESSION";const sI=rI;function rN(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class dm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new dm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:l}=e.data,u=this.handlersMap[a];if(!u?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const f=Array.from(u).map(async g=>g(e.origin,l)),m=await rN(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];function z_(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class sN{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const g=z_("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const b=v;if(b.data.eventId===g)switch(b.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(b.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}function tr(){return window}function aN(n){tr().location.href=n}function aI(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function oN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lN(){return navigator?.serviceWorker?.controller||null}function uN(){return aI()?self:null}const oI="firebaseLocalStorageDb",cN=1,Ud="firebaseLocalStorage",lI="fbase_key";class ih{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function mm(n,t){return n.transaction([Ud],t?"readwrite":"readonly").objectStore(Ud)}function hN(){const n=indexedDB.deleteDatabase(oI);return new ih(n).toPromise()}function Py(){const n=indexedDB.open(oI,cN);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ud,{keyPath:lI})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ud)?t(i):(i.close(),await hN(),t(await Py()))})})}async function mS(n,t,e){const i=mm(n,!0).put({[lI]:t,value:e});return new ih(i).toPromise()}async function fN(n,t){const e=mm(n,!1).get(t),i=await new ih(e).toPromise();return i===void 0?null:i.value}function pS(n,t){const e=mm(n,!0).delete(t);return new ih(e).toPromise()}const dN=800,mN=3;class uI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Py(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>mN)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(uN()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await oN(),!this.activeServiceWorker)return;this.sender=new sN(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Py();return await mS(t,Ld,"1"),await pS(t,Ld),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>mS(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>fN(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pS(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const l=mm(a,!1).getAll();return new ih(l).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:l}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uI.type="LOCAL";const pN=uI;new eh(3e4,6e4);function j_(n,t){return t?Rr(t):(St(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class F_ extends J1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return vl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return vl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return vl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function gN(n){return WO(n.auth,new F_(n),n.bypassAuthState)}function yN(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),XO(e,new F_(n),n.bypassAuthState)}async function _N(n){const{auth:t,user:e}=n;return St(e,t,"internal-error"),QO(e,new F_(n),n.bypassAuthState)}class cI{constructor(t,e,i,a,l=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:l,error:u,type:f}=t;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:e,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gN;case"linkViaPopup":case"linkViaRedirect":return _N;case"reauthViaPopup":case"reauthViaRedirect":return yN;default:ir(this.auth,"internal-error")}}resolve(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vN=new eh(2e3,1e4);async function TN(n,t,e){if(ti(n.app))return Promise.reject(Si(n,"operation-not-supported-in-this-environment"));const i=ql(n);L1(n,t,fm);const a=j_(i,e);return new Na(i,"signInViaPopup",t,a).executeNotNull()}class Na extends cI{constructor(t,e,i,a,l){super(t,e,a,l),this.provider=i,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){Mr(this.filter.length===1,"Popup operations only handle one event");const t=z_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vN.get())};t()}}Na.currentPopupAction=null;const EN="pendingRedirect",od=new Map;class bN extends cI{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=od.get(this.auth._key());if(!t){try{const i=await SN(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}od.set(this.auth._key(),t)}return this.bypassAuthState||od.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function SN(n,t){const e=fI(t),i=hI(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}async function wN(n,t){return hI(n)._set(fI(t),"true")}function AN(n,t){od.set(n._key(),t)}function hI(n){return Rr(n._redirectPersistence)}function fI(n){return ad(EN,n.config.apiKey,n.name)}function IN(n,t,e){return RN(n,t,e)}async function RN(n,t,e){if(ti(n.app))return Promise.reject(Ms(n));const i=ql(n);L1(n,t,fm),await i._initializationPromise;const a=j_(i,e);return await wN(a,i),a._openRedirect(i,t,"signInViaRedirect")}async function CN(n,t){return await ql(n)._initializationPromise,dI(n,t,!1)}async function dI(n,t,e=!1){if(ti(n.app))return Promise.reject(Ms(n));const i=ql(n),a=j_(i,t),u=await new bN(i,a,e).execute();return u&&!e&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,t)),u}const xN=600*1e3;class DN{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!VN(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!mI(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Si(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xN&&this.cachedEventUids.clear(),this.cachedEventUids.has(gS(t))}saveEventToCache(t){this.cachedEventUids.add(gS(t)),this.lastProcessedEventTime=Date.now()}}function gS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function mI({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function VN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mI(n);default:return!1}}async function MN(n,t={}){return Fl(n,"GET","/v1/projects",t)}const PN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ON=/^https?/;async function NN(n){if(n.config.emulator)return;const{authorizedDomains:t}=await MN(n);for(const e of t)try{if(kN(e))return}catch{}ir(n,"unauthorized-domain")}function kN(n){const t=Vy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&u.hostname===i}if(!ON.test(e))return!1;if(PN.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const LN=new eh(3e4,6e4);function yS(){const n=tr().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function UN(n){return new Promise((t,e)=>{function i(){yS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yS(),e(Si(n,"network-request-failed"))},timeout:LN.get()})}if(tr().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(tr().gapi?.load)i();else{const a=jO("iframefcb");return tr()[a]=()=>{gapi.load?i():e(Si(n,"network-request-failed"))},BO(`${zO()}?onload=${a}`).catch(l=>e(l))}}).catch(t=>{throw ld=null,t})}let ld=null;function BN(n){return ld=ld||UN(n),ld}const zN=new eh(5e3,15e3),jN="__/auth/iframe",FN="emulator/auth/iframe",qN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},HN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GN(n){const t=n.config;St(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?N_(t,FN):`https://${n.config.authDomain}/${jN}`,i={apiKey:t.apiKey,appName:n.name,v:jl},a=HN.get(n.config.apiHost);a&&(i.eid=a);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${th(i).slice(1)}`}async function KN(n){const t=await BN(n),e=tr().gapi;return St(e,n,"internal-error"),t.open({where:document.body,url:GN(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qN,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Si(n,"network-request-failed"),f=tr().setTimeout(()=>{l(u)},zN.get());function m(){tr().clearTimeout(f),a(i)}i.ping(m).then(m,()=>{l(u)})}))}const YN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,XN=600,WN="_blank",$N="http://localhost";class _S{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(n,t,e,i=QN,a=XN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m={...YN,width:i.toString(),height:a.toString(),top:l,left:u},g=Ge().toLowerCase();e&&(f=G1(g)?WN:e),q1(g)&&(t=t||$N,m.scrollbars="yes");const y=Object.entries(m).reduce((b,[I,V])=>`${b}${I}=${V},`,"");if(VO(g)&&f!=="_self")return JN(t||"",f),new _S(null);const v=window.open(t||"",f,y);St(v,n,"popup-blocked");try{v.focus()}catch{}return new _S(v)}function JN(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const tk="__/auth/handler",ek="emulator/auth/handler",nk=encodeURIComponent("fac");async function vS(n,t,e,i,a,l){St(n.config.authDomain,n,"auth-domain-config-required"),St(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:jl,eventId:a};if(t instanceof fm){t.setDefaultLanguage(n.languageCode),u.providerId=t.providerId||"",eP(t.getCustomParameters())||(u.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,v]of Object.entries({}))u[y]=v}if(t instanceof nh){const y=t.getScopes().filter(v=>v!=="");y.length>0&&(u.scopes=y.join(","))}n.tenantId&&(u.tid=n.tenantId);const f=u;for(const y of Object.keys(f))f[y]===void 0&&delete f[y];const m=await n._getAppCheckToken(),g=m?`#${nk}=${encodeURIComponent(m)}`:"";return`${ik(n)}?${th(f).slice(1)}${g}`}function ik({config:n}){return n.emulator?N_(n,ek):`https://${n.authDomain}/${tk}`}const Zg="webStorageSupport";class rk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sI,this._completeRedirectFn=dI,this._overrideRedirectResult=AN}async _openPopup(t,e,i,a){Mr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const l=await vS(t,e,i,Vy(),a);return ZN(t,l,z_())}async _openRedirect(t,e,i,a){await this._originValidation(t);const l=await vS(t,e,i,Vy(),a);return aN(l),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:l}=this.eventManagers[e];return a?Promise.resolve(a):(Mr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await KN(t),i=new DN(t);return e.register("authEvent",a=>(St(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Zg,{type:Zg},a=>{const l=a?.[0]?.[Zg];l!==void 0&&e(!!l),ir(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=NN(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return W1()||H1()||U_()}}const sk=rk;var TS="@firebase/auth",ES="1.12.0";class ak{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ok(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lk(n){Sl(new Ya("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=i.options;St(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:u,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(n)},g=new LO(i,a,l,m);return qO(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Sl(new Ya("auth-internal",t=>{const e=ql(t.getProvider("auth").getImmediate());return(i=>new ak(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vs(TS,ES,ok(n)),Vs(TS,ES,"esm2020")}const uk=300,ck=b1("authIdTokenMaxAge")||uk;let bS=null;const hk=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>ck)return;const a=e?.token;bS!==a&&(bS=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function fk(n=M1()){const t=M_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=FO(n,{popupRedirectResolver:sk,persistence:[pN,iI,sI]}),i=b1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=hk(l.toString());JO(e,u,()=>u(e.currentUser)),ZO(e,f=>u(f))}}const a=T1("auth");return a&&HO(e,`http://${a}`),e}function dk(){return document.getElementsByTagName("head")?.[0]??document}UO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const l=Si("internal-error");l.customData=a,e(l)},i.type="text/javascript",i.charset="UTF-8",dk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lk("Browser");var mk="firebase",pk="12.9.0";Vs(mk,pk,"app");var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ps,pI;(function(){var n;function t(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(P,M,L){for(var x=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)x[ae-2]=arguments[ae];return A.prototype[M].apply(P,x)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(C,A,R){R||(R=0);const P=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)P[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)P[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let L=C.g[3],x;x=A+(L^R&(M^L))+P[0]+3614090360&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[1]+3905402710&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[2]+606105819&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[3]+3250441966&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(L^R&(M^L))+P[4]+4118548399&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[5]+1200080426&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[6]+2821735955&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[7]+4249261313&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(L^R&(M^L))+P[8]+1770035416&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[9]+2336552879&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[10]+4294925233&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[11]+2304563134&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(L^R&(M^L))+P[12]+1804603682&4294967295,A=R+(x<<7&4294967295|x>>>25),x=L+(M^A&(R^M))+P[13]+4254626195&4294967295,L=A+(x<<12&4294967295|x>>>20),x=M+(R^L&(A^R))+P[14]+2792965006&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(A^M&(L^A))+P[15]+1236535329&4294967295,R=M+(x<<22&4294967295|x>>>10),x=A+(M^L&(R^M))+P[1]+4129170786&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[6]+3225465664&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[11]+643717713&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[0]+3921069994&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(M^L&(R^M))+P[5]+3593408605&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[10]+38016083&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[15]+3634488961&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[4]+3889429448&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(M^L&(R^M))+P[9]+568446438&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[14]+3275163606&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[3]+4107603335&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[8]+1163531501&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(M^L&(R^M))+P[13]+2850285829&4294967295,A=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(A^R))+P[2]+4243563512&4294967295,L=A+(x<<9&4294967295|x>>>23),x=M+(A^R&(L^A))+P[7]+1735328473&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^A&(M^L))+P[12]+2368359562&4294967295,R=M+(x<<20&4294967295|x>>>12),x=A+(R^M^L)+P[5]+4294588738&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[8]+2272392833&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[11]+1839030562&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[14]+4259657740&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(R^M^L)+P[1]+2763975236&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[4]+1272893353&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[7]+4139469664&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[10]+3200236656&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(R^M^L)+P[13]+681279174&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[0]+3936430074&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[3]+3572445317&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[6]+76029189&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(R^M^L)+P[9]+3654602809&4294967295,A=R+(x<<4&4294967295|x>>>28),x=L+(A^R^M)+P[12]+3873151461&4294967295,L=A+(x<<11&4294967295|x>>>21),x=M+(L^A^R)+P[15]+530742520&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^A)+P[2]+3299628645&4294967295,R=M+(x<<23&4294967295|x>>>9),x=A+(M^(R|~L))+P[0]+4096336452&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[7]+1126891415&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[14]+2878612391&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[5]+4237533241&4294967295,R=M+(x<<21&4294967295|x>>>11),x=A+(M^(R|~L))+P[12]+1700485571&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[3]+2399980690&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[10]+4293915773&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[1]+2240044497&4294967295,R=M+(x<<21&4294967295|x>>>11),x=A+(M^(R|~L))+P[8]+1873313359&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[15]+4264355552&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[6]+2734768916&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[13]+1309151649&4294967295,R=M+(x<<21&4294967295|x>>>11),x=A+(M^(R|~L))+P[4]+4149444226&4294967295,A=R+(x<<6&4294967295|x>>>26),x=L+(R^(A|~M))+P[11]+3174756917&4294967295,L=A+(x<<10&4294967295|x>>>22),x=M+(A^(L|~R))+P[2]+718787259&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}i.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,P=this.C;let M=this.h,L=0;for(;L<A;){if(M==0)for(;L<=R;)a(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<A;)if(P[M++]=C.charCodeAt(L++),M==this.blockSize){a(this,P),M=0;break}}else for(;L<A;)if(P[M++]=C[L++],M==this.blockSize){a(this,P),M=0;break}}this.h=M,this.o+=A},i.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)C[A++]=this.g[R]>>>P&255;return C};function l(C,A){var R=f;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function u(C,A){this.h=A;const R=[];let P=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;P&&L==A||(R[M]=L,P=!1)}this.g=R}var f={};function m(C){return-128<=C&&C<128?l(C,function(A){return new u([A|0],A<0?-1:0)}):new u([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return v;if(C<0)return z(g(-C));const A=[];let R=1;for(let P=0;C>=R;P++)A[P]=C/R|0,R*=4294967296;return new u(A,0)}function y(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return z(y(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=g(Math.pow(A,8));let P=v;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+M),A);M<8?(M=g(Math.pow(A,M)),P=P.j(M).add(g(x))):(P=P.j(R),P=P.add(g(x)))}return P}var v=m(0),b=m(1),I=m(16777216);n=u.prototype,n.m=function(){if(U(this))return-z(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},n.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(V(this))return"0";if(U(this))return"-"+z(this).toString(C);const A=g(Math.pow(C,6));var R=this;let P="";for(;;){const M=it(R,A).g;R=Q(R,M.j(A));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,V(R))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},n.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function V(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function U(C){return C.h==-1}n.l=function(C){return C=Q(this,C),U(C)?-1:V(C)?0:1};function z(C){const A=C.g.length,R=[];for(let P=0;P<A;P++)R[P]=~C.g[P];return new u(R,~C.h).add(b)}n.abs=function(){return U(this)?z(this):this},n.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let P=0;for(let M=0;M<=A;M++){let L=P+(this.i(M)&65535)+(C.i(M)&65535),x=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=x>>>16,L&=65535,x&=65535,R[M]=x<<16|L}return new u(R,R[R.length-1]&-2147483648?-1:0)};function Q(C,A){return C.add(z(A))}n.j=function(C){if(V(this)||V(C))return v;if(U(this))return U(C)?z(this).j(z(C)):z(z(this).j(C));if(U(C))return z(this.j(z(C)));if(this.l(I)<0&&C.l(I)<0)return g(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var P=0;P<2*A;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<C.g.length;M++){const L=this.i(P)>>>16,x=this.i(P)&65535,ae=C.i(M)>>>16,_e=C.i(M)&65535;R[2*P+2*M]+=x*_e,$(R,2*P+2*M),R[2*P+2*M+1]+=L*_e,$(R,2*P+2*M+1),R[2*P+2*M+1]+=x*ae,$(R,2*P+2*M+1),R[2*P+2*M+2]+=L*ae,$(R,2*P+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new u(R,0)};function $(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function Y(C,A){this.g=C,this.h=A}function it(C,A){if(V(A))throw Error("division by zero");if(V(C))return new Y(v,v);if(U(C))return A=it(z(C),A),new Y(z(A.g),z(A.h));if(U(A))return A=it(C,z(A)),new Y(z(A.g),A.h);if(C.g.length>30){if(U(C)||U(A))throw Error("slowDivide_ only works with positive integers.");for(var R=b,P=A;P.l(C)<=0;)R=rt(R),P=rt(P);var M=ut(R,1),L=ut(P,1);for(P=ut(P,2),R=ut(R,2);!V(P);){var x=L.add(P);x.l(C)<=0&&(M=M.add(R),L=x),P=ut(P,1),R=ut(R,1)}return A=Q(C,M.j(A)),new Y(M,A)}for(M=v;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=g(R),x=L.j(A);U(x)||x.l(C)>0;)R-=P,L=g(R),x=L.j(A);V(L)&&(L=b),M=M.add(L),C=Q(C,x)}return new Y(M,C)}n.B=function(C){return it(this,C).h},n.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)&C.i(P);return new u(R,this.h&C.h)},n.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)|C.i(P);return new u(R,this.h|C.h)},n.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)^C.i(P);return new u(R,this.h^C.h)};function rt(C){const A=C.g.length+1,R=[];for(let P=0;P<A;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new u(R,C.h)}function ut(C,A){const R=A>>5;A%=32;const P=C.g.length-R,M=[];for(let L=0;L<P;L++)M[L]=A>0?C.i(L+R)>>>A|C.i(L+R+1)<<32-A:C.i(L+R);return new u(M,C.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,pI=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=y,Ps=u}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var Qf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var gI,fc,yI,ud,Oy,_I,vI,TI;(function(){var n,t=Object.defineProperty;function e(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qf=="object"&&Qf];for(var _=0;_<h.length;++_){var E=h[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(h,_){if(_)t:{var E=i;h=h.split(".");for(var w=0;w<h.length-1;w++){var j=h[w];if(!(j in E))break t;E=E[j]}h=h[h.length-1],w=E[h],_=_(w),_!=w&&_!=null&&t(E,h,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(_){var E=[],w;for(w in _)Object.prototype.hasOwnProperty.call(_,w)&&E.push([w,_[w]]);return E}});var l=l||{},u=this||self;function f(h){var _=typeof h;return _=="object"&&h!=null||_=="function"}function m(h,_,E){return h.call.apply(h.bind,arguments)}function g(h,_,E){return g=m,g.apply(null,arguments)}function y(h,_){var E=Array.prototype.slice.call(arguments,1);return function(){var w=E.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function v(h,_){function E(){}E.prototype=_.prototype,h.Z=_.prototype,h.prototype=new E,h.prototype.constructor=h,h.Ob=function(w,j,G){for(var lt=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)lt[Ct-2]=arguments[Ct];return _.prototype[j].apply(w,lt)}}var b=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function I(h){const _=h.length;if(_>0){const E=Array(_);for(let w=0;w<_;w++)E[w]=h[w];return E}return[]}function V(h,_){for(let w=1;w<arguments.length;w++){const j=arguments[w];var E=typeof j;if(E=E!="object"?E:j?Array.isArray(j)?"array":E:"null",E=="array"||E=="object"&&typeof j.length=="number"){E=h.length||0;const G=j.length||0;h.length=E+G;for(let lt=0;lt<G;lt++)h[E+lt]=j[lt]}else h.push(j)}}class U{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function z(h){u.setTimeout(()=>{throw h},0)}function Q(){var h=C;let _=null;return h.g&&(_=h.g,h.g=h.g.next,h.g||(h.h=null),_.next=null),_}class ${constructor(){this.h=this.g=null}add(_,E){const w=Y.get();w.set(_,E),this.h?this.h.next=w:this.g=w,this.h=w}}var Y=new U(()=>new it,h=>h.reset());class it{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let rt,ut=!1,C=new $,A=()=>{const h=Promise.resolve(void 0);rt=()=>{h.then(R)}};function R(){for(var h;h=Q();){try{h.h.call(h.g)}catch(E){z(E)}var _=Y;_.j(h),_.h<100&&(_.h++,h.next=_.g,_.g=h)}ut=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(h,_){this.type=h,this.g=this.target=_,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var h=!1,_=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};u.addEventListener("test",E,_),u.removeEventListener("test",E,_)}catch{}return h})();function x(h){return/^[\s\xa0]*$/.test(h)}function ae(h,_){M.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,_)}v(ae,M),ae.prototype.init=function(h,_){const E=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=_,_=h.relatedTarget,_||(E=="mouseover"?_=h.fromElement:E=="mouseout"&&(_=h.toElement)),this.relatedTarget=_,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var _e="closure_listenable_"+(Math.random()*1e6|0),W=0;function st(h,_,E,w,j){this.listener=h,this.proxy=null,this.src=_,this.type=E,this.capture=!!w,this.ha=j,this.key=++W,this.da=this.fa=!1}function mt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Dt(h,_,E){for(const w in h)_.call(E,h[w],w,h)}function kt(h,_){for(const E in h)_.call(void 0,h[E],E,h)}function N(h){const _={};for(const E in h)_[E]=h[E];return _}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ft(h,_){let E,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(E in w)h[E]=w[E];for(let G=0;G<et.length;G++)E=et[G],Object.prototype.hasOwnProperty.call(w,E)&&(h[E]=w[E])}}function dt(h){this.src=h,this.g={},this.h=0}dt.prototype.add=function(h,_,E,w,j){const G=h.toString();h=this.g[G],h||(h=this.g[G]=[],this.h++);const lt=Vt(h,_,w,j);return lt>-1?(_=h[lt],E||(_.fa=!1)):(_=new st(_,this.src,G,!!w,j),_.fa=E,h.push(_)),_};function wt(h,_){const E=_.type;if(E in h.g){var w=h.g[E],j=Array.prototype.indexOf.call(w,_,void 0),G;(G=j>=0)&&Array.prototype.splice.call(w,j,1),G&&(mt(_),h.g[E].length==0&&(delete h.g[E],h.h--))}}function Vt(h,_,E,w){for(let j=0;j<h.length;++j){const G=h[j];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==w)return j}return-1}var Ft="closure_lm_"+(Math.random()*1e6|0),ze={};function he(h,_,E,w,j){if(Array.isArray(_)){for(let G=0;G<_.length;G++)he(h,_[G],E,w,j);return null}return E=Zl(E),h&&h[_e]?h.J(_,E,f(w)?!!w.capture:!1,j):Ys(h,_,E,!1,w,j)}function Ys(h,_,E,w,j,G){if(!_)throw Error("Invalid event type");const lt=f(j)?!!j.capture:!!j;let Ct=Qs(h);if(Ct||(h[Ft]=Ct=new dt(h)),E=Ct.add(_,E,w,lt,G),E.proxy)return E;if(w=oo(),E.proxy=w,w.src=h,w.listener=E,h.addEventListener)L||(j=lt),j===void 0&&(j=!1),h.addEventListener(_.toString(),w,j);else if(h.attachEvent)h.attachEvent(Ci(_.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return E}function oo(){function h(E){return _.call(h.src,h.listener,E)}const _=Wl;return h}function lo(h,_,E,w,j){if(Array.isArray(_))for(var G=0;G<_.length;G++)lo(h,_[G],E,w,j);else w=f(w)?!!w.capture:!!w,E=Zl(E),h&&h[_e]?(h=h.i,G=String(_).toString(),G in h.g&&(_=h.g[G],E=Vt(_,E,w,j),E>-1&&(mt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete h.g[G],h.h--)))):h&&(h=Qs(h))&&(_=h.g[_.toString()],h=-1,_&&(h=Vt(_,E,w,j)),(E=h>-1?_[h]:null)&&uo(E))}function uo(h){if(typeof h!="number"&&h&&!h.da){var _=h.src;if(_&&_[_e])wt(_.i,h);else{var E=h.type,w=h.proxy;_.removeEventListener?_.removeEventListener(E,w,h.capture):_.detachEvent?_.detachEvent(Ci(E),w):_.addListener&&_.removeListener&&_.removeListener(w),(E=Qs(_))?(wt(E,h),E.h==0&&(E.src=null,_[Ft]=null)):mt(h)}}}function Ci(h){return h in ze?ze[h]:ze[h]="on"+h}function Wl(h,_){if(h.da)h=!0;else{_=new ae(_,this);const E=h.listener,w=h.ha||h.src;h.fa&&uo(h),h=E.call(w,_)}return h}function Qs(h){return h=h[Ft],h instanceof dt?h:null}var $l="__closure_events_fn_"+(Math.random()*1e9>>>0);function Zl(h){return typeof h=="function"?h:(h[$l]||(h[$l]=function(_){return h.handleEvent(_)}),h[$l])}function Re(){P.call(this),this.i=new dt(this),this.M=this,this.G=null}v(Re,P),Re.prototype[_e]=!0,Re.prototype.removeEventListener=function(h,_,E,w){lo(this,h,_,E,w)};function je(h,_){var E,w=h.G;if(w)for(E=[];w;w=w.G)E.push(w);if(h=h.M,w=_.type||_,typeof _=="string")_=new M(_,h);else if(_ instanceof M)_.target=_.target||h;else{var j=_;_=new M(w,h),ft(_,j)}j=!0;let G,lt;if(E)for(lt=E.length-1;lt>=0;lt--)G=_.g=E[lt],j=Ur(G,w,!0,_)&&j;if(G=_.g=h,j=Ur(G,w,!0,_)&&j,j=Ur(G,w,!1,_)&&j,E)for(lt=0;lt<E.length;lt++)G=_.g=E[lt],j=Ur(G,w,!1,_)&&j}Re.prototype.N=function(){if(Re.Z.N.call(this),this.i){var h=this.i;for(const _ in h.g){const E=h.g[_];for(let w=0;w<E.length;w++)mt(E[w]);delete h.g[_],h.h--}}this.G=null},Re.prototype.J=function(h,_,E,w){return this.i.add(String(h),_,!1,E,w)},Re.prototype.K=function(h,_,E,w){return this.i.add(String(h),_,!0,E,w)};function Ur(h,_,E,w){if(_=h.i.g[String(_)],!_)return!0;_=_.concat();let j=!0;for(let G=0;G<_.length;++G){const lt=_[G];if(lt&&!lt.da&&lt.capture==E){const Ct=lt.listener,we=lt.ha||lt.src;lt.fa&&wt(h.i,lt),j=Ct.call(we,w)!==!1&&j}}return j&&!w.defaultPrevented}function jm(h,_){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=g(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:u.setTimeout(h,_||0)}function yh(h){h.g=jm(()=>{h.g=null,h.i&&(h.i=!1,yh(h))},h.l);const _=h.h;h.h=null,h.m.apply(null,_)}class dn extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:yh(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xs(h){P.call(this),this.h=h,this.g={}}v(Xs,P);var Jl=[];function tu(h){Dt(h.g,function(_,E){this.g.hasOwnProperty(E)&&uo(_)},h),h.g={}}Xs.prototype.N=function(){Xs.Z.N.call(this),tu(this)},Xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Br=u.JSON.stringify,Fm=u.JSON.parse,_h=class{stringify(h){return u.JSON.stringify(h,void 0)}parse(h){return u.JSON.parse(h,void 0)}};function vh(){}function Th(){}var oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $e(){M.call(this,"d")}v($e,M);function jn(){M.call(this,"c")}v(jn,M);var Se={},Eh=null;function co(){return Eh=Eh||new Re}Se.Ia="serverreachability";function bh(h){M.call(this,Se.Ia,h)}v(bh,M);function xi(h){const _=co();je(_,new bh(_))}Se.STAT_EVENT="statevent";function Ws(h,_){M.call(this,Se.STAT_EVENT,h),this.stat=_}v(Ws,M);function Ce(h){const _=co();je(_,new Ws(_,h))}Se.Ja="timingevent";function Di(h,_){M.call(this,Se.Ja,h),this.size=_}v(Di,M);function Vi(h,_){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){h()},_)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function qm(h,_,E,w,j,G){h.info(function(){if(h.g)if(G){var lt="",Ct=G.split("&");for(let Kt=0;Kt<Ct.length;Kt++){var we=Ct[Kt].split("=");if(we.length>1){const fe=we[0];we=we[1];const Gn=fe.split("_");lt=Gn.length>=2&&Gn[1]=="type"?lt+(fe+"="+we+"&"):lt+(fe+"=redacted&")}}}else lt=null;else lt=G;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+_+`
`+E+`
`+lt})}function Sh(h,_,E,w,j,G,lt){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+_+`
`+E+`
`+G+" "+lt})}function Mi(h,_,E,w){h.info(function(){return"XMLHTTP TEXT ("+_+"): "+Hm(h,E)+(w?" "+w:"")})}function $s(h,_){h.info(function(){return"TIMEOUT: "+_})}li.prototype.info=function(){};function Hm(h,_){if(!h.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(h=0;h<G.length;h++)if(Array.isArray(G[h])){var E=G[h];if(!(E.length<2)){var w=E[1];if(Array.isArray(w)&&!(w.length<1)){var j=w[0];if(j!="noop"&&j!="stop"&&j!="close")for(let lt=1;lt<w.length;lt++)w[lt]=""}}}}return Br(G)}catch{return _}}var Zs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},eu={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},nu;function Js(){}v(Js,vh),Js.prototype.g=function(){return new XMLHttpRequest},nu=new Js;function ar(h){return encodeURIComponent(String(h))}function wh(h){var _=1;h=h.split(":");const E=[];for(;_>0&&h.length;)E.push(h.shift()),_--;return h.length&&E.push(h.join(":")),E}function ui(h,_,E,w){this.j=h,this.i=_,this.l=E,this.S=w||1,this.V=new Xs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var xe={},Ye={};function Pi(h,_,E){h.M=1,h.A=ta(Ve(_)),h.u=E,h.R=!0,ho(h,null)}function ho(h,_){h.F=Date.now(),Oi(h),h.B=Ve(h.A);var E=h.B,w=h.S;Array.isArray(w)||(w=[String(w)]),go(E.i,"t",w),h.C=0,E=h.j.L,h.h=new ci,h.g=Bh(h.j,E?_:null,!h.u),h.P>0&&(h.O=new dn(g(h.Y,h,h.g),h.P)),_=h.V,E=h.g,w=h.ba;var j="readystatechange";Array.isArray(j)||(j&&(Jl[0]=j.toString()),j=Jl);for(let G=0;G<j.length;G++){const lt=he(E,j[G],w||_.handleEvent,!1,_.h||_);if(!lt)break;_.g[lt.key]=lt}_=h.J?N(h.J):{},h.u?(h.v||(h.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,_)):(h.v="GET",h.g.ea(h.B,h.v,null,_)),xi(),qm(h.i,h.v,h.B,h.l,h.S,h.u)}ui.prototype.ba=function(h){h=h.target;const _=this.O;_&&di(h)==3?_.j():this.Y(h)},ui.prototype.Y=function(h){try{if(h==this.g)t:{const Ct=di(this.g),we=this.g.ya(),Kt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Ze(this.g)))){this.K||Ct!=4||we==7||(we==8||Kt<=0?xi(3):xi(2)),Ni(this);var _=this.g.ca();this.X=_;var E=Gm(this);if(this.o=_==200,Sh(this.i,this.v,this.B,this.l,this.S,Ct,_),this.o){if(this.U&&!this.L){e:{if(this.g){var w,j=this.g;if((w=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(w)){var G=w;break e}}G=null}if(h=G)Mi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ki(this,h);else{this.o=!1,this.m=3,Ce(12),xn(this),Fn(this);break t}}if(this.R){h=!0;let fe;for(;!this.K&&this.C<E.length;)if(fe=Ih(this,E),fe==Ye){Ct==4&&(this.m=4,Ce(14),h=!1),Mi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==xe){this.m=4,Ce(15),Mi(this.i,this.l,E,"[Invalid Chunk]"),h=!1;break}else Mi(this.i,this.l,fe,null),ki(this,fe);if(Ah(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||E.length!=0||this.h.h||(this.m=1,Ce(16),h=!1),this.o=this.o&&h,!h)Mi(this.i,this.l,E,"[Invalid Chunked Response]"),xn(this),Fn(this);else if(E.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),yu(lt),lt.P=!0,Ce(11))}}else Mi(this.i,this.l,E,null),ki(this,E);Ct==4&&xn(this),this.o&&!this.K&&(Ct==4?Nh(this.j,this):(this.o=!1,Oi(this)))}else lr(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),xn(this),Fn(this)}}}catch{}};function Gm(h){if(!Ah(h))return h.g.la();const _=Ze(h.g);if(_==="")return"";let E="";const w=_.length,j=di(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return xn(h),Fn(h),"";h.h.i=new u.TextDecoder}for(let G=0;G<w;G++)h.h.h=!0,E+=h.h.i.decode(_[G],{stream:!(j&&G==w-1)});return _.length=0,h.h.g+=E,h.C=0,h.h.g}function Ah(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Ih(h,_){var E=h.C,w=_.indexOf(`
`,E);return w==-1?Ye:(E=Number(_.substring(E,w)),isNaN(E)?xe:(w+=1,w+E>_.length?Ye:(_=_.slice(w,w+E),h.C=w+E,_)))}ui.prototype.cancel=function(){this.K=!0,xn(this)};function Oi(h){h.T=Date.now()+h.H,fo(h,h.H)}function fo(h,_){if(h.D!=null)throw Error("WatchDog timer not null");h.D=Vi(g(h.aa,h),_)}function Ni(h){h.D&&(u.clearTimeout(h.D),h.D=null)}ui.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?($s(this.i,this.B),this.M!=2&&(xi(),Ce(17)),xn(this),this.m=2,Fn(this)):fo(this,this.T-h)};function Fn(h){h.j.I==0||h.K||Nh(h.j,h)}function xn(h){Ni(h);var _=h.O;_&&typeof _.dispose=="function"&&_.dispose(),h.O=null,tu(h.V),h.g&&(_=h.g,h.g=null,_.abort(),_.dispose())}function ki(h,_){try{var E=h.j;if(E.I!=0&&(E.g==h||Ui(E.h,h))){if(!h.L&&Ui(E.h,h)&&E.I==3){try{var w=E.Ba.g.parse(_)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<h.F)Eo(E),Yr(E);else break t;oa(E),Ce(18)}}else E.xa=j[1],0<E.xa-E.K&&j[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Vi(g(E.Va,E),6e3));Li(E.h)<=1&&E.ta&&(E.ta=void 0)}else Hi(E,11)}else if((h.L||E.g==h)&&Eo(E),!x(_))for(j=E.Ba.g.parse(_),_=0;_<j.length;_++){let Kt=j[_];const fe=Kt[0];if(!(fe<=E.K))if(E.K=fe,Kt=Kt[1],E.I==2)if(Kt[0]=="c"){E.M=Kt[1],E.ba=Kt[2];const Gn=Kt[3];Gn!=null&&(E.ka=Gn,E.j.info("VER="+E.ka));const Gi=Kt[4];Gi!=null&&(E.za=Gi,E.j.info("SVER="+E.za));const mi=Kt[5];mi!=null&&typeof mi=="number"&&mi>0&&(w=1.5*mi,E.O=w,E.j.info("backChannelRequestTimeoutMs_="+w)),w=E;const pi=h.g;if(pi){const la=pi.g?pi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(la){var G=w.h;G.g||la.indexOf("spdy")==-1&&la.indexOf("quic")==-1&&la.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(su(G,G.h),G.h=null))}if(w.G){const bo=pi.g?pi.g.getResponseHeader("X-HTTP-Session-Id"):null;bo&&(w.wa=bo,Xt(w.J,w.G,bo))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-h.F,E.j.info("Handshake RTT: "+E.T+"ms")),w=E;var lt=h;if(w.na=Uh(w,w.L?w.ba:null,w.W),lt.L){au(w.h,lt);var Ct=lt,we=w.O;we&&(Ct.H=we),Ct.D&&(Ni(Ct),Oi(Ct)),w.g=lt}else Ph(w);E.i.length>0&&qi(E)}else Kt[0]!="stop"&&Kt[0]!="close"||Hi(E,7);else E.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Hi(E,7):pu(E):Kt[0]!="noop"&&E.l&&E.l.qa(Kt),E.A=0)}}xi(4)}catch{}}var De=class{constructor(h,_){this.g=h,this.map=_}};function iu(h){this.l=h||10,u.PerformanceNavigationTiming?(h=u.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ru(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Li(h){return h.h?1:h.g?h.g.size:0}function Ui(h,_){return h.h?h.h==_:h.g?h.g.has(_):!1}function su(h,_){h.g?h.g.add(_):h.h=_}function au(h,_){h.h&&h.h==_?h.h=null:h.g&&h.g.has(_)&&h.g.delete(_)}iu.prototype.cancel=function(){if(this.i=ou(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ou(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let _=h.i;for(const E of h.g.values())_=_.concat(E.G);return _}return I(h.i)}var Rh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mo(h,_){if(h){h=h.split("&");for(let E=0;E<h.length;E++){const w=h[E].indexOf("=");let j,G=null;w>=0?(j=h[E].substring(0,w),G=h[E].substring(w+1)):j=h[E],_(j,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Dn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;h instanceof Dn?(this.l=h.l,Qe(this,h.j),this.o=h.o,this.g=h.g,zr(this,h.u),this.h=h.h,lu(this,Vh(h.i)),this.m=h.m):h&&(_=String(h).match(Rh))?(this.l=!1,Qe(this,_[1]||"",!0),this.o=Bi(_[2]||""),this.g=Bi(_[3]||"",!0),zr(this,_[4]),this.h=Bi(_[5]||"",!0),lu(this,_[6]||"",!0),this.m=Bi(_[7]||"")):(this.l=!1,this.i=new Fr(null,this.l))}Dn.prototype.toString=function(){const h=[];var _=this.j;_&&h.push(ea(_,po,!0),":");var E=this.g;return(E||_=="file")&&(h.push("//"),(_=this.o)&&h.push(ea(_,po,!0),"@"),h.push(ar(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&h.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(ea(E,E.charAt(0)=="/"?uu:Ch,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",ea(E,xh)),h.join("")},Dn.prototype.resolve=function(h){const _=Ve(this);let E=!!h.j;E?Qe(_,h.j):E=!!h.o,E?_.o=h.o:E=!!h.g,E?_.g=h.g:E=h.u!=null;var w=h.h;if(E)zr(_,h.u);else if(E=!!h.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var j=_.h.lastIndexOf("/");j!=-1&&(w=_.h.slice(0,j+1)+w)}if(j=w,j==".."||j==".")w="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){w=j.lastIndexOf("/",0)==0,j=j.split("/");const G=[];for(let lt=0;lt<j.length;){const Ct=j[lt++];Ct=="."?w&&lt==j.length&&G.push(""):Ct==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),w&&lt==j.length&&G.push("")):(G.push(Ct),w=!0)}w=G.join("/")}else w=j}return E?_.h=w:E=h.i.toString()!=="",E?lu(_,Vh(h.i)):E=!!h.m,E&&(_.m=h.m),_};function Ve(h){return new Dn(h)}function Qe(h,_,E){h.j=E?Bi(_,!0):_,h.j&&(h.j=h.j.replace(/:$/,""))}function zr(h,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);h.u=_}else h.u=null}function lu(h,_,E){_ instanceof Fr?(h.i=_,yo(h.i,h.l)):(E||(_=ea(_,jr)),h.i=new Fr(_,h.l))}function Xt(h,_,E){h.i.set(_,E)}function ta(h){return Xt(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function Bi(h,_){return h?_?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ea(h,_,E){return typeof h=="string"?(h=encodeURI(h).replace(_,Tn),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Tn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var po=/[#\/\?@]/g,Ch=/[#\?:]/g,uu=/[#\?]/g,jr=/[#\?@]/g,xh=/#/g;function Fr(h,_){this.h=this.g=null,this.i=h||null,this.j=!!_}function En(h){h.g||(h.g=new Map,h.h=0,h.i&&mo(h.i,function(_,E){h.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Fr.prototype,n.add=function(h,_){En(this),this.i=null,h=qr(this,h);let E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(_),this.h+=1,this};function Dh(h,_){En(h),_=qr(h,_),h.g.has(_)&&(h.i=null,h.h-=h.g.get(_).length,h.g.delete(_))}function cu(h,_){return En(h),_=qr(h,_),h.g.has(_)}n.forEach=function(h,_){En(this),this.g.forEach(function(E,w){E.forEach(function(j){h.call(_,j,w,this)},this)},this)};function hu(h,_){En(h);let E=[];if(typeof _=="string")cu(h,_)&&(E=E.concat(h.g.get(qr(h,_))));else for(h=Array.from(h.g.values()),_=0;_<h.length;_++)E=E.concat(h[_]);return E}n.set=function(h,_){return En(this),this.i=null,h=qr(this,h),cu(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[_]),this.h+=1,this},n.get=function(h,_){return h?(h=hu(this,h),h.length>0?String(h[0]):_):_};function go(h,_,E){Dh(h,_),E.length>0&&(h.i=null,h.g.set(qr(h,_),I(E)),h.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],_=Array.from(this.g.keys());for(let w=0;w<_.length;w++){var E=_[w];const j=ar(E);E=hu(this,E);for(let G=0;G<E.length;G++){let lt=j;E[G]!==""&&(lt+="="+ar(E[G])),h.push(lt)}}return this.i=h.join("&")};function Vh(h){const _=new Fr;return _.i=h.i,h.g&&(_.g=new Map(h.g),_.h=h.h),_}function qr(h,_){return _=String(_),h.j&&(_=_.toLowerCase()),_}function yo(h,_){_&&!h.j&&(En(h),h.i=null,h.g.forEach(function(E,w){const j=w.toLowerCase();w!=j&&(Dh(this,w),go(this,j,E))},h)),h.j=_}function hi(h,_){const E=new li;if(u.Image){const w=new Image;w.onload=y(qn,E,"TestLoadImage: loaded",!0,_,w),w.onerror=y(qn,E,"TestLoadImage: error",!1,_,w),w.onabort=y(qn,E,"TestLoadImage: abort",!1,_,w),w.ontimeout=y(qn,E,"TestLoadImage: timeout",!1,_,w),u.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else _(!1)}function fu(h,_){const E=new li,w=new AbortController,j=setTimeout(()=>{w.abort(),qn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(h,{signal:w.signal}).then(G=>{clearTimeout(j),G.ok?qn(E,"TestPingServer: ok",!0,_):qn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(j),qn(E,"TestPingServer: error",!1,_)})}function qn(h,_,E,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(E)}catch{}}function Hr(){this.g=new _h}function zi(h){this.i=h.Sb||null,this.h=h.ab||!1}v(zi,vh),zi.prototype.g=function(){return new na(this.i,this.h)};function na(h,_){Re.call(this),this.H=h,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(na,Re),n=na.prototype,n.open=function(h,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=_,this.readyState=1,fi(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(_.body=h),(this.H||u).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},n.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;_o(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function _o(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}n.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var _=h.value?h.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!h.done}))&&(this.response=this.responseText+=_)}h.done?Gr(this):fi(this),this.readyState==3&&_o(this)}},n.Oa=function(h){this.g&&(this.response=this.responseText=h,Gr(this))},n.Na=function(h){this.g&&(this.response=h,Gr(this))},n.ga=function(){this.g&&Gr(this)};function Gr(h){h.readyState=4,h.l=null,h.j=null,h.B=null,fi(h)}n.setRequestHeader=function(h,_){this.A.append(h,_)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=_.next();return h.join(`\r
`)};function fi(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(na.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hn(h){let _="";return Dt(h,function(E,w){_+=w,_+=":",_+=E,_+=`\r
`}),_}function ia(h,_,E){t:{for(w in E){var w=!1;break t}w=!0}w||(E=Hn(E),typeof h=="string"?E!=null&&ar(E):Xt(h,_,E))}function ne(h){Re.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(ne,Re);var ji=/^https?$/i,du=["POST","PUT"];n=ne.prototype,n.Fa=function(h){this.H=h},n.ea=function(h,_,E,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);_=_?_.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():nu.g(),this.g.onreadystatechange=b(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(h),!0),this.B=!1}catch(G){ra(this,G);return}if(h=E||"",E=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)E.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())E.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),j=u.FormData&&h instanceof u.FormData,!(Array.prototype.indexOf.call(du,_,void 0)>=0)||w||j||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,lt]of E)this.g.setRequestHeader(G,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(G){ra(this,G)}};function ra(h,_){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=_,h.o=5,mu(h),or(h)}function mu(h){h.A||(h.A=!0,je(h,"complete"),je(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,je(this,"complete"),je(this,"abort"),or(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),or(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?sa(this):this.Xa())},n.Xa=function(){sa(this)};function sa(h){if(h.h&&typeof l<"u"){if(h.v&&di(h)==4)setTimeout(h.Ca.bind(h),0);else if(je(h,"readystatechange"),di(h)==4){h.h=!1;try{const G=h.ca();t:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var w;if(w=G===0){let lt=String(h.D).match(Rh)[1]||null;!lt&&u.self&&u.self.location&&(lt=u.self.location.protocol.slice(0,-1)),w=!ji.test(lt?lt.toLowerCase():"")}E=w}if(E)je(h,"complete"),je(h,"success");else{h.o=6;try{var j=di(h)>2?h.g.statusText:""}catch{j=""}h.l=j+" ["+h.ca()+"]",mu(h)}}finally{or(h)}}}}function or(h,_){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const E=h.g;h.g=null,_||je(h,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function di(h){return h.g?h.g.readyState:0}n.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(h){if(this.g){var _=this.g.responseText;return h&&_.indexOf(h)==0&&(_=_.substring(h.length)),Fm(_)}};function Ze(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function lr(h){const _={};h=(h.g&&di(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(x(h[w]))continue;var E=wh(h[w]);const j=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[j]||[];_[j]=G,G.push(E)}kt(_,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fi(h,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||_}function Kr(h){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Fi("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Fi("baseRetryDelayMs",5e3,h),this.Za=Fi("retryDelaySeedMs",1e4,h),this.Ta=Fi("forwardChannelMaxRetries",2,h),this.va=Fi("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new iu(h&&h.concurrentRequestLimit),this.Ba=new Hr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Kr.prototype,n.ka=8,n.I=1,n.connect=function(h,_,E,w){Ce(0),this.W=h,this.H=_||{},E&&w!==void 0&&(this.H.OSID=E,this.H.OAID=w),this.F=this.X,this.J=Uh(this,null,this.W),qi(this)};function pu(h){if(vo(h),h.I==3){var _=h.V++,E=Ve(h.J);if(Xt(E,"SID",h.M),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),aa(h,E),_=new ui(h,h.j,_),_.M=2,_.A=ta(Ve(E)),E=!1,u.navigator&&u.navigator.sendBeacon)try{E=u.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&u.Image&&(new Image().src=_.A,E=!0),E||(_.g=Bh(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Oi(_)}Lh(h)}function Yr(h){h.g&&(yu(h),h.g.cancel(),h.g=null)}function vo(h){Yr(h),h.v&&(u.clearTimeout(h.v),h.v=null),Eo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&u.clearTimeout(h.m),h.m=null)}function qi(h){if(!ru(h.h)&&!h.m){h.m=!0;var _=h.Ea;rt||A(),ut||(rt(),ut=!0),C.add(_,h),h.D=0}}function To(h,_){return Li(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=_.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=Vi(g(h.Ea,h,_),kh(h,h.D)),h.D++,!0)}n.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const j=new ui(this,this.j,h);let G=this.o;if(this.U&&(G?(G=N(G),ft(G,this.U)):G=this.U),this.u!==null||this.R||(j.J=G,G=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var w=this.i[E];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break e}w=void 0}if(w===void 0)break;if(_+=w,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Mh(this,j,_),E=Ve(this.J),Xt(E,"RID",h),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),aa(this,E),G&&(this.R?_="headers="+ar(Hn(G))+"&"+_:this.u&&ia(E,this.u,G)),su(this.h,j),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",_),Xt(E,"SID","null"),j.U=!0,Pi(j,E,null)):Pi(j,E,_),this.I=2}}else this.I==3&&(h?gu(this,h):this.i.length==0||ru(this.h)||gu(this))};function gu(h,_){var E;_?E=_.l:E=h.V++;const w=Ve(h.J);Xt(w,"SID",h.M),Xt(w,"RID",E),Xt(w,"AID",h.K),aa(h,w),h.u&&h.o&&ia(w,h.u,h.o),E=new ui(h,h.j,E,h.D+1),h.u===null&&(E.J=h.o),_&&(h.i=_.G.concat(h.i)),_=Mh(h,E,1e3),E.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),su(h.h,E),Pi(E,w,_)}function aa(h,_){h.H&&Dt(h.H,function(E,w){Xt(_,w,E)}),h.l&&Dt({},function(E,w){Xt(_,w,E)})}function Mh(h,_,E){E=Math.min(h.i.length,E);const w=h.l?g(h.l.Ka,h.l,h):null;t:{var j=h.i;let Ct=-1;for(;;){const we=["count="+E];Ct==-1?E>0?(Ct=j[0].g,we.push("ofs="+Ct)):Ct=0:we.push("ofs="+Ct);let Kt=!0;for(let fe=0;fe<E;fe++){var G=j[fe].g;const Gn=j[fe].map;if(G-=Ct,G<0)Ct=Math.max(0,j[fe].g-100),Kt=!1;else try{G="req"+G+"_"||"";try{var lt=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Gi,mi]of lt){let pi=mi;f(mi)&&(pi=Br(mi)),we.push(G+Gi+"="+encodeURIComponent(pi))}}catch(Gi){throw we.push(G+"type="+encodeURIComponent("_badmap")),Gi}}catch{w&&w(Gn)}}if(Kt){lt=we.join("&");break t}}lt=void 0}return h=h.i.splice(0,E),_.G=h,lt}function Ph(h){if(!h.g&&!h.v){h.Y=1;var _=h.Da;rt||A(),ut||(rt(),ut=!0),C.add(_,h),h.A=0}}function oa(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=Vi(g(h.Da,h),kh(h,h.A)),h.A++,!0)}n.Da=function(){if(this.v=null,Oh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=Vi(g(this.Wa,this),h)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Yr(this),Oh(this))};function yu(h){h.B!=null&&(u.clearTimeout(h.B),h.B=null)}function Oh(h){h.g=new ui(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var _=Ve(h.na);Xt(_,"RID","rpc"),Xt(_,"SID",h.M),Xt(_,"AID",h.K),Xt(_,"CI",h.F?"0":"1"),!h.F&&h.ia&&Xt(_,"TO",h.ia),Xt(_,"TYPE","xmlhttp"),aa(h,_),h.u&&h.o&&ia(_,h.u,h.o),h.O&&(h.g.H=h.O);var E=h.g;h=h.ba,E.M=1,E.A=ta(Ve(_)),E.u=null,E.R=!0,ho(E,h)}n.Va=function(){this.C!=null&&(this.C=null,Yr(this),oa(this),Ce(19))};function Eo(h){h.C!=null&&(u.clearTimeout(h.C),h.C=null)}function Nh(h,_){var E=null;if(h.g==_){Eo(h),yu(h),h.g=null;var w=2}else if(Ui(h.h,_))E=_.G,au(h.h,_),w=1;else return;if(h.I!=0){if(_.o)if(w==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var j=h.D;w=co(),je(w,new Di(w,E)),qi(h)}else Ph(h);else if(j=_.m,j==3||j==0&&_.X>0||!(w==1&&To(h,_)||w==2&&oa(h)))switch(E&&E.length>0&&(_=h.h,_.i=_.i.concat(E)),j){case 1:Hi(h,5);break;case 4:Hi(h,10);break;case 3:Hi(h,6);break;default:Hi(h,2)}}}function kh(h,_){let E=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(E*=2),E*_}function Hi(h,_){if(h.j.info("Error code "+_),_==2){var E=g(h.bb,h),w=h.Ua;const j=!w;w=new Dn(w||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||Qe(w,"https"),ta(w),j?hi(w.toString(),E):fu(w.toString(),E)}else Ce(2);h.I=0,h.l&&h.l.pa(_),Lh(h),vo(h)}n.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Lh(h){if(h.I=0,h.ja=[],h.l){const _=ou(h.h);(_.length!=0||h.i.length!=0)&&(V(h.ja,_),V(h.ja,h.i),h.h.i.length=0,I(h.i),h.i.length=0),h.l.oa()}}function Uh(h,_,E){var w=E instanceof Dn?Ve(E):new Dn(E);if(w.g!="")_&&(w.g=_+"."+w.g),zr(w,w.u);else{var j=u.location;w=j.protocol,_=_?_+"."+j.hostname:j.hostname,j=+j.port;const G=new Dn(null);w&&Qe(G,w),_&&(G.g=_),j&&zr(G,j),E&&(G.h=E),w=G}return E=h.G,_=h.wa,E&&_&&Xt(w,E,_),Xt(w,"VER",h.ka),aa(h,w),w}function Bh(h,_,E){if(_&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=h.Aa&&!h.ma?new ne(new zi({ab:E})):new ne(h.ma),_.Fa(h.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function zh(){}n=zh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qr(){}Qr.prototype.g=function(h,_){return new mn(h,_)};function mn(h,_){Re.call(this),this.g=new Kr(_),this.l=h,this.h=_&&_.messageUrlParams||null,h=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(h?h["X-WebChannel-Content-Type"]=_.messageContentType:h={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(h?h["X-WebChannel-Client-Profile"]=_.sa:h={"X-WebChannel-Client-Profile":_.sa}),this.g.U=h,(h=_&&_.Qb)&&!x(h)&&(this.g.u=h),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,h=this.h,h!==null&&_ in h&&(h=this.h,_ in h&&delete h[_])),this.j=new ur(this)}v(mn,Re),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){pu(this.g)},mn.prototype.o=function(h){var _=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.v&&(E={},E.__data__=Br(h),h=E);_.i.push(new De(_.Ya++,h)),_.I==3&&qi(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,pu(this.g),delete this.g,mn.Z.N.call(this)};function jh(h){$e.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var _=h.__sm__;if(_){t:{for(const E in _){h=E;break t}h=void 0}(this.i=h)&&(h=this.i,_=_!==null&&h in _?_[h]:void 0),this.data=_}else this.data=h}v(jh,$e);function Fh(){jn.call(this),this.status=1}v(Fh,jn);function ur(h){this.g=h}v(ur,zh),ur.prototype.ra=function(){je(this.g,"a")},ur.prototype.qa=function(h){je(this.g,new jh(h))},ur.prototype.pa=function(h){je(this.g,new Fh)},ur.prototype.oa=function(){je(this.g,"b")},Qr.prototype.createWebChannel=Qr.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,TI=function(){return new Qr},vI=function(){return co()},_I=Se,Oy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zs.NO_ERROR=0,Zs.TIMEOUT=8,Zs.HTTP_ERROR=6,ud=Zs,eu.COMPLETE="complete",yI=eu,Th.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Re.prototype.listen=Re.prototype.J,fc=Th,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,gI=ne}).apply(typeof Qf<"u"?Qf:typeof self<"u"?self:typeof window<"u"?window:{});class sn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");let Hl="12.9.0";function gk(n){Hl=n}const Xa=new D_("@firebase/firestore");function al(){return Xa.logLevel}function at(n,...t){if(Xa.logLevel<=Bt.DEBUG){const e=t.map(q_);Xa.debug(`Firestore (${Hl}): ${n}`,...e)}}function gn(n,...t){if(Xa.logLevel<=Bt.ERROR){const e=t.map(q_);Xa.error(`Firestore (${Hl}): ${n}`,...e)}}function Ls(n,...t){if(Xa.logLevel<=Bt.WARN){const e=t.map(q_);Xa.warn(`Firestore (${Hl}): ${n}`,...e)}}function q_(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function yt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,EI(n,i,e)}function EI(n,t,e){let i=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw gn(i),new Error(i)}function vt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||EI(t,a,i)}function It(n,t){return n}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends kr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class bI{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(sn.UNAUTHENTICATED)))}shutdown(){}}class _k{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class vk{constructor(t){this.t=t,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){vt(this.o===void 0,42304);let i=this.i;const a=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,t.enqueueRetryable((()=>a(this.currentUser)))};const u=()=>{const m=l;t.enqueueRetryable((async()=>{await m.promise,await a(this.currentUser)}))},f=m=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>f(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}}),0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vt(typeof i.accessToken=="string",31837,{l:i}),new bI(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return vt(t===null||typeof t=="string",2055,{h:t}),new sn(t)}}class Tk{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Ek{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new Tk(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(sn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class wS{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bk{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){vt(this.o===void 0,3512);const i=l=>{l.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,at("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable((()=>i(l)))};const a=l=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new wS(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(vt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new wS(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sk(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class H_{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Sk(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<e&&(i+=t.charAt(a[l]%62))}return i}}function At(n,t){return n<t?-1:n>t?1:0}function Ny(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),l=t.charAt(i);if(a!==l)return Jg(a)===Jg(l)?At(a,l):Jg(a)?1:-1}return At(n.length,t.length)}const wk=55296,Ak=57343;function Jg(n){const t=n.charCodeAt(0);return t>=wk&&t<=Ak}function Al(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}function SI(n){return n+"\0"}const AS="__name__";class $i{constructor(t,e,i){e===void 0?e=0:e>t.length&&yt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&yt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return $i.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $i?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const l=$i.compareSegments(t.get(a),e.get(a));if(l!==0)return l}return At(t.length,e.length)}static compareSegments(t,e){const i=$i.isNumericId(t),a=$i.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?$i.extractNumericId(t).compare($i.extractNumericId(e)):Ny(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ps.fromString(t.substring(4,t.length-2))}}class Qt extends $i{construct(t,e,i){return new Qt(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new Qt(e)}static emptyPath(){return new Qt([])}}const Ik=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ge extends $i{construct(t,e,i){return new ge(t,e,i)}static isValidIdentifier(t){return Ik.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===AS}static keyField(){return new ge([AS])}static fromServerFormat(t){const e=[];let i="",a=0;const l=()=>{if(i.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;a<t.length;){const f=t[a];if(f==="\\"){if(a+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(i+=f,a++):(l(),a++)}if(l(),u)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ge(e)}static emptyPath(){return new ge([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Qt.fromString(t))}static fromName(t){return new ht(Qt.fromString(t).popFirst(5))}static empty(){return new ht(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Qt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Qt.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Qt(t.slice()))}}function wI(n,t,e){if(!e)throw new ct(Z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Rk(n,t,e,i){if(t===!0&&i===!0)throw new ct(Z.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function IS(n){if(!ht.isDocumentKey(n))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RS(n){if(ht.isDocumentKey(n))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function AI(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function pm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":yt(12329,{type:typeof n})}function Dr(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=pm(n);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ue(n,t){const e={typeString:n};return t&&(e.value=t),e}function rh(n,t){if(!AI(n))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,l="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const u=n[i];if(a&&typeof u!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&u!==l.value){e=`Expected '${i}' field to equal '${l.value}'`;break}}if(e)throw new ct(Z.INVALID_ARGUMENT,e);return!0}const CS=-62135596800,xS=1e6;class Jt{static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*xS);return new Jt(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<CS)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/xS}_compareTo(t){return this.seconds===t.seconds?At(this.nanoseconds,t.nanoseconds):At(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Jt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(rh(t,Jt._jsonSchema))return new Jt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-CS;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Jt._jsonSchemaVersion="firestore/timestamp/1.0",Jt._jsonSchema={type:Ue("string",Jt._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new Jt(0,0))}static max(){return new Et(new Jt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kc=-1;class Bd{constructor(t,e,i,a){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=a}}function ky(n){return n.fields.find((t=>t.kind===2))}function Ca(n){return n.fields.filter((t=>t.kind!==2))}Bd.UNKNOWN_ID=-1;class cd{constructor(t,e){this.fieldPath=t,this.kind=e}}class Lc{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Lc(0,zn.min())}}function Ck(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Et.fromTimestamp(i===1e9?new Jt(e+1,0):new Jt(e,i));return new zn(a,ht.empty(),t)}function II(n){return new zn(n.readTime,n.key,kc)}class zn{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new zn(Et.min(),ht.empty(),kc)}static max(){return new zn(Et.max(),ht.empty(),kc)}}function G_(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=ht.comparator(n.documentKey,t.documentKey),e!==0?e:At(n.largestBatchId,t.largestBatchId))}const RI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function io(n){if(n.code!==Z.FAILED_PRECONDITION||n.message!==RI)throw n;at("LocalStore","Unexpectedly lost primary lease")}class B{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new B(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof B?e:B.resolve(e)}catch(e){return B.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):B.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):B.reject(e)}static resolve(t){return new B(((e,i)=>{e(t)}))}static reject(t){return new B(((e,i)=>{i(t)}))}static waitFor(t){return new B(((e,i)=>{let a=0,l=0,u=!1;t.forEach((f=>{++a,f.next((()=>{++l,u&&l===a&&e()}),(m=>i(m)))})),u=!0,l===a&&e()}))}static or(t){let e=B.resolve(!1);for(const i of t)e=e.next((a=>a?B.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,l)=>{i.push(e.call(this,a,l))})),this.waitFor(i)}static mapArray(t,e){return new B(((i,a)=>{const l=t.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;e(t[g]).next((y=>{u[g]=y,++f,f===l&&i(u)}),(y=>a(y)))}}))}static doWhile(t,e){return new B(((i,a)=>{const l=()=>{t()===!0?e().next((()=>{l()}),a):i()};l()}))}}const Un="SimpleDb";class gm{static open(t,e,i,a){try{return new gm(e,t.transaction(a,i))}catch(l){throw new Ec(e,l)}}constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.S=new xr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{e.error?this.S.reject(new Ec(t,e.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=K_(i.target.error);this.S.reject(new Ec(t,a))}}get D(){return this.S.promise}abort(t){t&&this.S.reject(t),this.aborted||(at(Un,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const t=this.transaction;this.aborted||typeof t.commit!="function"||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Dk(e)}}class Os{static delete(t){return at(Un,"Removing database:",t),Va(v1().indexedDB.deleteDatabase(t)).toPromise()}static v(){if(!C1())return!1;if(Os.F())return!0;const t=Ge(),e=Os.M(t),i=0<e&&e<10,a=xI(t),l=0<a&&a<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(t,e){return t.store(e)}static M(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(t,e,i){this.name=t,this.version=e,this.N=i,this.B=null,Os.M(Ge())===12.2&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(t){return this.db||(at(Un,"Opening database:",this.name),this.db=await new Promise(((e,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const u=l.target.result;e(u)},a.onblocked=()=>{i(new Ec(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const u=l.target.error;u.name==="VersionError"?i(new ct(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):u.name==="InvalidStateError"?i(new ct(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u)):i(new Ec(t,u))},a.onupgradeneeded=l=>{at(Un,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const u=l.target.result;this.N.k(u,a.transaction,l.oldVersion,this.version).next((()=>{at(Un,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=e=>this.K(e)),this.db}q(t){this.K=t,this.db&&(this.db.onversionchange=e=>t(e))}async runTransaction(t,e,i,a){const l=e==="readonly";let u=0;for(;;){++u;try{this.db=await this.L(t);const f=gm.open(this.db,t,l?"readonly":"readwrite",i),m=a(f).next((g=>(f.C(),g))).catch((g=>(f.abort(g),B.reject(g)))).toPromise();return m.catch((()=>{})),await f.D,m}catch(f){const m=f,g=m.name!=="FirebaseError"&&u<3;if(at(Un,"Transaction failed with error:",m.message,"Retrying:",g),this.close(),!g)return Promise.reject(m)}}}close(){this.db&&this.db.close(),this.db=void 0}}function xI(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}class xk{constructor(t){this.U=t,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(t){this.U=t}done(){this.$=!0}j(t){this.W=t}delete(){return Va(this.U.delete())}}class Ec extends ct{constructor(t,e){super(Z.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Hs(n){return n.name==="IndexedDbTransactionError"}class Dk{constructor(t){this.store=t}put(t,e){let i;return e!==void 0?(at(Un,"PUT",this.store.name,t,e),i=this.store.put(e,t)):(at(Un,"PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Va(i)}add(t){return at(Un,"ADD",this.store.name,t,t),Va(this.store.add(t))}get(t){return Va(this.store.get(t)).next((e=>(e===void 0&&(e=null),at(Un,"GET",this.store.name,t,e),e)))}delete(t){return at(Un,"DELETE",this.store.name,t),Va(this.store.delete(t))}count(){return at(Un,"COUNT",this.store.name),Va(this.store.count())}H(t,e){const i=this.options(t,e),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new B(((u,f)=>{l.onerror=m=>{f(m.target.error)},l.onsuccess=m=>{u(m.target.result)}}))}{const l=this.cursor(i),u=[];return this.J(l,((f,m)=>{u.push(m)})).next((()=>u))}}Z(t,e){const i=this.store.getAll(t,e===null?void 0:e);return new B(((a,l)=>{i.onerror=u=>{l(u.target.error)},i.onsuccess=u=>{a(u.target.result)}}))}X(t,e){at(Un,"DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const a=this.cursor(i);return this.J(a,((l,u,f)=>f.delete()))}ee(t,e){let i;e?i=t:(i={},e=t);const a=this.cursor(i);return this.J(a,e)}te(t){const e=this.cursor({});return new B(((i,a)=>{e.onerror=l=>{const u=K_(l.target.error);a(u)},e.onsuccess=l=>{const u=l.target.result;u?t(u.primaryKey,u.value).next((f=>{f?u.continue():i()})):i()}}))}J(t,e){const i=[];return new B(((a,l)=>{t.onerror=u=>{l(u.target.error)},t.onsuccess=u=>{const f=u.target.result;if(!f)return void a();const m=new xk(f),g=e(f.primaryKey,f.value,m);if(g instanceof B){const y=g.catch((v=>(m.done(),B.reject(v))));i.push(y)}m.isDone?a():m.G===null?f.continue():f.continue(m.G)}})).next((()=>B.waitFor(i)))}options(t,e){let i;return t!==void 0&&(typeof t=="string"?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Va(n){return new B(((t,e)=>{n.onsuccess=i=>{const a=i.target.result;t(a)},n.onerror=i=>{const a=K_(i.target.error);e(a)}}))}let DS=!1;function K_(n){const t=Os.M(Ge());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return DS||(DS=!0,setTimeout((()=>{throw i}),0)),i}}return n}const bc="IndexBackfiller";class Vk{constructor(t,e){this.asyncQueue=t,this.ne=e,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(t){at(bc,`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(async()=>{this.task=null;try{const e=await this.ne.ie();at(bc,`Documents written: ${e}`)}catch(e){Hs(e)?at(bc,"Ignoring IndexedDB error during index backfill: ",e):await io(e)}await this.re(6e4)}))}}class Mk{constructor(t,e){this.localStore=t,this.persistence=e}async ie(t=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(e=>this.se(e,t)))}se(t,e){const i=new Set;let a=e,l=!0;return B.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next((u=>{if(u!==null&&!i.has(u))return at(bc,`Processing collection: ${u}`),this.oe(t,u,a).next((f=>{a-=f,i.add(u)}));l=!1})))).next((()=>e-a))}oe(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next((a=>this.localStore.localDocuments.getNextDocuments(t,e,a,i).next((l=>{const u=l.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next((()=>this._e(a,l))).next((f=>(at(bc,`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(t,e,f)))).next((()=>u.size))}))))}_e(t,e){let i=t;return e.changes.forEach(((a,l)=>{const u=II(l);G_(u,i)>0&&(i=u)})),new zn(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ni{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ni.ce=-1;const za=-1;function ym(n){return n==null}function Uc(n){return n===0&&1/n==-1/0}function Pk(n){return typeof n=="number"&&Number.isInteger(n)&&!Uc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const zd="";function hn(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=VS(t)),t=Ok(n.get(e),t);return VS(t)}function Ok(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const l=n.charAt(a);switch(l){case"\0":e+="";break;case zd:e+="";break;default:e+=l}}return e}function VS(n){return n+zd+""}function Zi(n){const t=n.length;if(vt(t>=2,64408,{path:n}),t===2)return vt(n.charAt(0)===zd&&n.charAt(1)==="",56145,{path:n}),Qt.emptyPath();const e=t-2,i=[];let a="";for(let l=0;l<t;){const u=n.indexOf(zd,l);switch((u<0||u>e)&&yt(50515,{path:n}),n.charAt(u+1)){case"":const f=n.substring(l,u);let m;a.length===0?m=f:(a+=f,m=a,a=""),i.push(m);break;case"":a+=n.substring(l,u),a+="\0";break;case"":a+=n.substring(l,u+1);break;default:yt(61167,{path:n})}l=u+2}return new Qt(i)}const xa="remoteDocuments",sh="owner",Jo="owner",Bc="mutationQueues",Nk="userId",Ei="mutations",MS="batchId",ka="userMutationsIndex",PS=["userId","batchId"];function hd(n,t){return[n,hn(t)]}function DI(n,t,e){return[n,hn(t),e]}const kk={},Il="documentMutations",jd="remoteDocumentsV14",Lk=["prefixPath","collectionGroup","readTime","documentId"],fd="documentKeyIndex",Uk=["prefixPath","collectionGroup","documentId"],VI="collectionGroupIndex",Bk=["collectionGroup","readTime","prefixPath","documentId"],zc="remoteDocumentGlobal",Ly="remoteDocumentGlobalKey",Rl="targets",MI="queryTargetsIndex",zk=["canonicalId","targetId"],Cl="targetDocuments",jk=["targetId","path"],Y_="documentTargetsIndex",Fk=["path","targetId"],Fd="targetGlobalKey",ja="targetGlobal",jc="collectionParents",qk=["collectionId","parent"],xl="clientMetadata",Hk="clientId",_m="bundles",Gk="bundleId",vm="namedQueries",Kk="name",Q_="indexConfiguration",Yk="indexId",Uy="collectionGroupIndex",Qk="collectionGroup",Sc="indexState",Xk=["indexId","uid"],PI="sequenceNumberIndex",Wk=["uid","sequenceNumber"],wc="indexEntries",$k=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],OI="documentKeyIndex",Zk=["indexId","uid","orderedDocumentKey"],Tm="documentOverlays",Jk=["userId","collectionPath","documentId"],By="collectionPathOverlayIndex",t4=["userId","collectionPath","largestBatchId"],NI="collectionGroupOverlayIndex",e4=["userId","collectionGroup","largestBatchId"],X_="globals",n4="name",kI=[Bc,Ei,Il,xa,Rl,sh,ja,Cl,xl,zc,jc,_m,vm],i4=[...kI,Tm],LI=[Bc,Ei,Il,jd,Rl,sh,ja,Cl,xl,zc,jc,_m,vm,Tm],UI=LI,W_=[...UI,Q_,Sc,wc],r4=W_,BI=[...W_,X_],s4=BI;class zy extends CI{constructor(t,e){super(),this.le=t,this.currentSequenceNumber=e}}function Ke(n,t){const e=It(n);return Os.O(e.le,t)}function OS(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ro(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function zI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class pe{constructor(t,e){this.comparator=t,this.root=e||an.EMPTY}insert(t,e){return new pe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xf(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xf(this.root,t,this.comparator,!0)}}class Xf{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&a&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(l===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,e,i,a,l){this.key=t,this.value=e,this.color=i??an.RED,this.left=a??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,l){return new an(t??this.key,e??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,e,i),null):l===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return an.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,e,i,a,l){return this}insert(t,e,i){return new an(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ee{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NS(this.data.getIterator())}getIteratorFrom(t){return new NS(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof ee)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new ee(this.comparator);return e.data=t,e}}class NS{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function tl(n){return n.hasNext()?n.getNext():void 0}class ii{constructor(t){this.fields=t,t.sort(ge.comparator)}static empty(){return new ii([])}unionWith(t){let e=new ee(ge.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ii(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Al(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class jI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Be{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jI("Invalid base64 string: "+l):l}})(t);return new Be(e)}static fromUint8Array(t){const e=(function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l})(t);return new Be(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return At(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const a4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(n){if(vt(!!n,39018),typeof n=="string"){let t=0;const e=a4.exec(n);if(vt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:me(n.seconds),nanos:me(n.nanos)}}function me(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Or(n){return typeof n=="string"?Be.fromBase64String(n):Be.fromUint8Array(n)}const FI="server_timestamp",qI="__type__",HI="__previous_value__",GI="__local_write_time__";function $_(n){return(n?.mapValue?.fields||{})[qI]?.stringValue===FI}function Em(n){const t=n.mapValue.fields[HI];return $_(t)?Em(t):t}function Fc(n){const t=Pr(n.mapValue.fields[GI].timestampValue);return new Jt(t.seconds,t.nanos)}class o4{constructor(t,e,i,a,l,u,f,m,g,y,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g,this.isUsingEmulator=y,this.apiKey=v}}const qd="(default)";class Wa{constructor(t,e){this.projectId=t,this.database=e||qd}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database===qd}isEqual(t){return t instanceof Wa&&t.projectId===this.projectId&&t.database===this.database}}function l4(n,t){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(n.options.projectId,t)}const Z_="__type__",KI="__max__",Rs={mapValue:{fields:{__type__:{stringValue:KI}}}},J_="__vector__",Dl="value",dd={nullValue:"NULL_VALUE"};function Us(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$_(n)?4:YI(n)?9007199254740991:bm(n)?10:11:yt(28295,{value:n})}function rr(n,t){if(n===t)return!0;const e=Us(n);if(e!==Us(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Fc(n).isEqual(Fc(t));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Pr(a.timestampValue),f=Pr(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,l){return Or(a.bytesValue).isEqual(Or(l.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,l){return me(a.geoPointValue.latitude)===me(l.geoPointValue.latitude)&&me(a.geoPointValue.longitude)===me(l.geoPointValue.longitude)})(n,t);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return me(a.integerValue)===me(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=me(a.doubleValue),f=me(l.doubleValue);return u===f?Uc(u)===Uc(f):isNaN(u)&&isNaN(f)}return!1})(n,t);case 9:return Al(n.arrayValue.values||[],t.arrayValue.values||[],rr);case 10:case 11:return(function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(OS(u)!==OS(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!rr(u[m],f[m])))return!1;return!0})(n,t);default:return yt(52216,{left:n})}}function qc(n,t){return(n.values||[]).find((e=>rr(e,t)))!==void 0}function Bs(n,t){if(n===t)return 0;const e=Us(n),i=Us(t);if(e!==i)return At(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return At(n.booleanValue,t.booleanValue);case 2:return(function(l,u){const f=me(l.integerValue||l.doubleValue),m=me(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1})(n,t);case 3:return kS(n.timestampValue,t.timestampValue);case 4:return kS(Fc(n),Fc(t));case 5:return Ny(n.stringValue,t.stringValue);case 6:return(function(l,u){const f=Or(l),m=Or(u);return f.compareTo(m)})(n.bytesValue,t.bytesValue);case 7:return(function(l,u){const f=l.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const y=At(f[g],m[g]);if(y!==0)return y}return At(f.length,m.length)})(n.referenceValue,t.referenceValue);case 8:return(function(l,u){const f=At(me(l.latitude),me(u.latitude));return f!==0?f:At(me(l.longitude),me(u.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return LS(n.arrayValue,t.arrayValue);case 10:return(function(l,u){const f=l.fields||{},m=u.fields||{},g=f[Dl]?.arrayValue,y=m[Dl]?.arrayValue,v=At(g?.values?.length||0,y?.values?.length||0);return v!==0?v:LS(g,y)})(n.mapValue,t.mapValue);case 11:return(function(l,u){if(l===Rs.mapValue&&u===Rs.mapValue)return 0;if(l===Rs.mapValue)return 1;if(u===Rs.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=u.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let v=0;v<m.length&&v<y.length;++v){const b=Ny(m[v],y[v]);if(b!==0)return b;const I=Bs(f[m[v]],g[y[v]]);if(I!==0)return I}return At(m.length,y.length)})(n.mapValue,t.mapValue);default:throw yt(23264,{he:e})}}function kS(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return At(n,t);const e=Pr(n),i=Pr(t),a=At(e.seconds,i.seconds);return a!==0?a:At(e.nanos,i.nanos)}function LS(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const l=Bs(e[a],i[a]);if(l)return l}return At(e.length,i.length)}function Vl(n){return jy(n)}function jy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Pr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Or(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return ht.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const l of e.values||[])a?a=!1:i+=",",i+=jy(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${jy(e.fields[u])}`;return a+"}"})(n.mapValue):yt(61005,{value:n})}function md(n){switch(Us(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Em(n);return t?16+md(t):16;case 5:return 2*n.stringValue.length;case 6:return Or(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+md(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return ro(i.fields,((l,u)=>{a+=l.length+md(u)})),a})(n.mapValue);default:throw yt(13486,{value:n})}}function Hc(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Fy(n){return!!n&&"integerValue"in n}function Gc(n){return!!n&&"arrayValue"in n}function US(n){return!!n&&"nullValue"in n}function BS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function pd(n){return!!n&&"mapValue"in n}function bm(n){return(n?.mapValue?.fields||{})[Z_]?.stringValue===J_}function Ac(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ro(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Ac(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Ac(n.arrayValue.values[e]);return t}return{...n}}function YI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===KI}const QI={mapValue:{fields:{[Z_]:{stringValue:J_},[Dl]:{arrayValue:{}}}}};function u4(n){return"nullValue"in n?dd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hc(Wa.empty(),ht.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?bm(n)?QI:{mapValue:{}}:yt(35942,{value:n})}function c4(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hc(Wa.empty(),ht.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?QI:"mapValue"in n?bm(n)?{mapValue:{}}:Rs:yt(61959,{value:n})}function zS(n,t){const e=Bs(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function jS(n,t){const e=Bs(n.value,t.value);return e!==0?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class Rn{constructor(t){this.value=t}static empty(){return new Rn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!pd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ac(e)}setAll(t){let e=ge.emptyPath(),i={},a=[];t.forEach(((u,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,i,a),i={},a=[],e=f.popLast()}u?i[f.lastSegment()]=Ac(u):a.push(f.lastSegment())}));const l=this.getFieldsMap(e);this.applyChanges(l,i,a)}delete(t){const e=this.field(t.popLast());pd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];pd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){ro(e,((a,l)=>t[a]=l));for(const a of i)delete t[a]}clone(){return new Rn(Ac(this.value))}}function XI(n){const t=[];return ro(n.fields,((e,i)=>{const a=new ge([e]);if(pd(i)){const l=XI(i.mapValue).fields;if(l.length===0)t.push(a);else for(const u of l)t.push(a.child(u))}else t.push(a)})),new ii(t)}class be{constructor(t,e,i,a,l,u,f){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(t){return new be(t,0,Et.min(),Et.min(),Et.min(),Rn.empty(),0)}static newFoundDocument(t,e,i,a){return new be(t,1,e,Et.min(),i,a,0)}static newNoDocument(t,e){return new be(t,2,e,Et.min(),Et.min(),Rn.empty(),0)}static newUnknownDocument(t,e){return new be(t,3,e,Et.min(),Et.min(),Rn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Rn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof be&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new be(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ml{constructor(t,e){this.position=t,this.inclusive=e}}function FS(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const l=t[a],u=n.position[a];if(l.field.isKeyField()?i=ht.comparator(ht.fromName(u.referenceValue),e.key):i=Bs(u,e.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function qS(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rr(n.position[e],t.position[e]))return!1;return!0}class Hd{constructor(t,e="asc"){this.field=t,this.dir=e}}function h4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class WI{}class zt extends WI{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new f4(t,e,i):e==="array-contains"?new p4(t,i):e==="in"?new nR(t,i):e==="not-in"?new g4(t,i):e==="array-contains-any"?new y4(t,i):new zt(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new d4(t,i):new m4(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Bs(e,this.value)):e!==null&&Us(this.value)===Us(e)&&this.matchesComparison(Bs(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class te extends WI{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new te(t,e)}matches(t){return Pl(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Pl(n){return n.op==="and"}function qy(n){return n.op==="or"}function tv(n){return $I(n)&&Pl(n)}function $I(n){for(const t of n.filters)if(t instanceof te)return!1;return!0}function Hy(n){if(n instanceof zt)return n.field.canonicalString()+n.op.toString()+Vl(n.value);if(tv(n))return n.filters.map((t=>Hy(t))).join(",");{const t=n.filters.map((e=>Hy(e))).join(",");return`${n.op}(${t})`}}function ZI(n,t){return n instanceof zt?(function(i,a){return a instanceof zt&&i.op===a.op&&i.field.isEqual(a.field)&&rr(i.value,a.value)})(n,t):n instanceof te?(function(i,a){return a instanceof te&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,u,f)=>l&&ZI(u,a.filters[f])),!0):!1})(n,t):void yt(19439)}function JI(n,t){const e=n.filters.concat(t);return te.create(e,n.op)}function tR(n){return n instanceof zt?(function(e){return`${e.field.canonicalString()} ${e.op} ${Vl(e.value)}`})(n):n instanceof te?(function(e){return e.op.toString()+" {"+e.getFilters().map(tR).join(" ,")+"}"})(n):"Filter"}class f4 extends zt{constructor(t,e,i){super(t,e,i),this.key=ht.fromName(i.referenceValue)}matches(t){const e=ht.comparator(t.key,this.key);return this.matchesComparison(e)}}class d4 extends zt{constructor(t,e){super(t,"in",e),this.keys=eR("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class m4 extends zt{constructor(t,e){super(t,"not-in",e),this.keys=eR("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function eR(n,t){return(t.arrayValue?.values||[]).map((e=>ht.fromName(e.referenceValue)))}class p4 extends zt{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gc(e)&&qc(e.arrayValue,this.value)}}class nR extends zt{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&qc(this.value.arrayValue,e)}}class g4 extends zt{constructor(t,e){super(t,"not-in",e)}matches(t){if(qc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!qc(this.value.arrayValue,e)}}class y4 extends zt{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gc(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>qc(this.value.arrayValue,i)))}}class _4{constructor(t,e=null,i=[],a=[],l=null,u=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Te=null}}function Gy(n,t=null,e=[],i=[],a=null,l=null,u=null){return new _4(n,t,e,i,a,l,u)}function $a(n){const t=It(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Hy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),ym(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Vl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Vl(i))).join(",")),t.Te=e}return t.Te}function ah(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!h4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!ZI(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!qS(n.startAt,t.startAt)&&qS(n.endAt,t.endAt)}function Gd(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Kd(n,t){return n.filters.filter((e=>e instanceof zt&&e.field.isEqual(t)))}function HS(n,t,e){let i=dd,a=!0;for(const l of Kd(n,t)){let u=dd,f=!0;switch(l.op){case"<":case"<=":u=u4(l.value);break;case"==":case"in":case">=":u=l.value;break;case">":u=l.value,f=!1;break;case"!=":case"not-in":u=dd}zS({value:i,inclusive:a},{value:u,inclusive:f})<0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];zS({value:i,inclusive:a},{value:u,inclusive:e.inclusive})<0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}function GS(n,t,e){let i=Rs,a=!0;for(const l of Kd(n,t)){let u=Rs,f=!0;switch(l.op){case">=":case">":u=c4(l.value),f=!1;break;case"==":case"in":case"<=":u=l.value;break;case"<":u=l.value,f=!1;break;case"!=":case"not-in":u=Rs}jS({value:i,inclusive:a},{value:u,inclusive:f})>0&&(i=u,a=f)}if(e!==null){for(let l=0;l<n.orderBy.length;++l)if(n.orderBy[l].field.isEqual(t)){const u=e.position[l];jS({value:i,inclusive:a},{value:u,inclusive:e.inclusive})>0&&(i=u,a=e.inclusive);break}}return{value:i,inclusive:a}}class oh{constructor(t,e=null,i=[],a=[],l=null,u="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function v4(n,t,e,i,a,l,u,f){return new oh(n,t,e,i,a,l,u,f)}function Sm(n){return new oh(n)}function KS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function T4(n){return ht.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function iR(n){return n.collectionGroup!==null}function Ic(n){const t=It(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const l of t.explicitOrderBy)t.Ie.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new ee(ge.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((g=>{g.isInequality()&&(f=f.add(g.field))}))})),f})(t).forEach((l=>{e.has(l.canonicalString())||l.isKeyField()||t.Ie.push(new Hd(l,i))})),e.has(ge.keyField().canonicalString())||t.Ie.push(new Hd(ge.keyField(),i))}return t.Ie}function si(n){const t=It(n);return t.Ee||(t.Ee=E4(t,Ic(n))),t.Ee}function E4(n,t){if(n.limitType==="F")return Gy(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Hd(a.field,l)}));const e=n.endAt?new Ml(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ml(n.startAt.position,n.startAt.inclusive):null;return Gy(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Ky(n,t){const e=n.filters.concat([t]);return new oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Yy(n,t,e){return new oh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function wm(n,t){return ah(si(n),si(t))&&n.limitType===t.limitType}function rR(n){return`${$a(si(n))}|lt:${n.limitType}`}function ol(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>tR(a))).join(", ")}]`),ym(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Vl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Vl(a))).join(",")),`Target(${i})`})(si(n))}; limitType=${n.limitType})`}function lh(n,t){return t.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ht.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,t)&&(function(i,a){for(const l of Ic(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(u,f,m){const g=FS(u,f,m);return u.inclusive?g<=0:g<0})(i.startAt,Ic(i),a)||i.endAt&&!(function(u,f,m){const g=FS(u,f,m);return u.inclusive?g>=0:g>0})(i.endAt,Ic(i),a))})(n,t)}function b4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sR(n){return(t,e)=>{let i=!1;for(const a of Ic(n)){const l=S4(a,t,e);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function S4(n,t,e){const i=n.field.isKeyField()?ht.comparator(t.key,e.key):(function(l,u,f){const m=u.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Bs(m,g):yt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return yt(19790,{direction:n.dir})}}class Lr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,t))return l}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return void(a[l]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){ro(this.inner,((e,i)=>{for(const[a,l]of i)t(a,l)}))}isEmpty(){return zI(this.inner)}size(){return this.innerSize}}const w4=new pe(ht.comparator);function Bn(){return w4}const aR=new pe(ht.comparator);function dc(...n){let t=aR;for(const e of n)t=t.insert(e.key,e);return t}function oR(n){let t=aR;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ji(){return Rc()}function lR(){return Rc()}function Rc(){return new Lr((n=>n.toString()),((n,t)=>n.isEqual(t)))}const A4=new pe(ht.comparator),I4=new ee(ht.comparator);function Pt(...n){let t=I4;for(const e of n)t=t.add(e);return t}const R4=new ee(At);function C4(){return R4}function ev(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function uR(n){return{integerValue:""+n}}function x4(n,t){return Pk(t)?uR(t):ev(n,t)}class Am{constructor(){this._=void 0}}function D4(n,t,e){return n instanceof Ol?(function(a,l){const u={fields:{[qI]:{stringValue:FI},[GI]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&$_(l)&&(l=Em(l)),l&&(u.fields[HI]=l),{mapValue:u}})(e,t):n instanceof Nl?hR(n,t):n instanceof kl?fR(n,t):(function(a,l){const u=cR(a,l),f=YS(u)+YS(a.Ae);return Fy(u)&&Fy(a.Ae)?uR(f):ev(a.serializer,f)})(n,t)}function V4(n,t,e){return n instanceof Nl?hR(n,t):n instanceof kl?fR(n,t):e}function cR(n,t){return n instanceof Kc?(function(i){return Fy(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(t)?t:{integerValue:0}:null}class Ol extends Am{}class Nl extends Am{constructor(t){super(),this.elements=t}}function hR(n,t){const e=dR(t);for(const i of n.elements)e.some((a=>rr(a,i)))||e.push(i);return{arrayValue:{values:e}}}class kl extends Am{constructor(t){super(),this.elements=t}}function fR(n,t){let e=dR(t);for(const i of n.elements)e=e.filter((a=>!rr(a,i)));return{arrayValue:{values:e}}}class Kc extends Am{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function YS(n){return me(n.integerValue||n.doubleValue)}function dR(n){return Gc(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class mR{constructor(t,e){this.field=t,this.transform=e}}function M4(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Nl&&a instanceof Nl||i instanceof kl&&a instanceof kl?Al(i.elements,a.elements,rr):i instanceof Kc&&a instanceof Kc?rr(i.Ae,a.Ae):i instanceof Ol&&a instanceof Ol})(n.transform,t.transform)}class P4{constructor(t,e){this.version=t,this.transformResults=e}}class Cn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Cn}static exists(t){return new Cn(void 0,t)}static updateTime(t){return new Cn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Im{}function pR(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Rm(n.key,Cn.none()):new Gl(n.key,n.data,Cn.none());{const e=n.data,i=Rn.empty();let a=new ee(ge.comparator);for(let l of t.fields)if(!a.has(l)){let u=e.field(l);u===null&&l.length>1&&(l=l.popLast(),u=e.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Gs(n.key,i,new ii(a.toArray()),Cn.none())}}function O4(n,t,e){n instanceof Gl?(function(a,l,u){const f=a.value.clone(),m=XS(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,t,e):n instanceof Gs?(function(a,l,u){if(!gd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=XS(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(gR(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,t,e):(function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()})(0,t,e)}function Cc(n,t,e,i){return n instanceof Gl?(function(l,u,f,m){if(!gd(l.precondition,u))return f;const g=l.value.clone(),y=WS(l.fieldTransforms,m,u);return g.setAll(y),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null})(n,t,e,i):n instanceof Gs?(function(l,u,f,m){if(!gd(l.precondition,u))return f;const g=WS(l.fieldTransforms,m,u),y=u.data;return y.setAll(gR(l)),y.setAll(g),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,t,e,i):(function(l,u,f){return gd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f})(n,t,e)}function N4(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),l=cR(i.transform,a||null);l!=null&&(e===null&&(e=Rn.empty()),e.set(i.field,l))}return e||null}function QS(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Al(i,a,((l,u)=>M4(l,u)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Gl extends Im{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Gs extends Im{constructor(t,e,i,a,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function gR(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function XS(n,t,e){const i=new Map;vt(n.length===e.length,32656,{Ve:e.length,de:n.length});for(let a=0;a<e.length;a++){const l=n[a],u=l.transform,f=t.data.field(l.field);i.set(l.field,V4(u,f,e[a]))}return i}function WS(n,t,e){const i=new Map;for(const a of n){const l=a.transform,u=e.data.field(a.field);i.set(a.field,D4(l,u,t))}return i}class Rm extends Im{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yR extends Im{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class nv{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(t.key)&&O4(l,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Cc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Cc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=lR();return this.mutations.forEach((a=>{const l=t.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=e.has(a.key)?null:f;const m=pR(u,f);m!==null&&i.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Et.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&Al(this.mutations,t.mutations,((e,i)=>QS(e,i)))&&Al(this.baseMutations,t.baseMutations,((e,i)=>QS(e,i)))}}class iv{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){vt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return A4})();const l=t.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new iv(t,e,i,a)}}class rv{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class k4{constructor(t,e){this.count=t,this.unchangedNames=e}}var ke,qt;function L4(n){switch(n){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:n})}}function _R(n){if(n===void 0)return gn("GRPC error has no .code"),Z.UNKNOWN;switch(n){case ke.OK:return Z.OK;case ke.CANCELLED:return Z.CANCELLED;case ke.UNKNOWN:return Z.UNKNOWN;case ke.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ke.INTERNAL:return Z.INTERNAL;case ke.UNAVAILABLE:return Z.UNAVAILABLE;case ke.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ke.NOT_FOUND:return Z.NOT_FOUND;case ke.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ke.ABORTED:return Z.ABORTED;case ke.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ke.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:n})}}(qt=ke||(ke={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function U4(){return new TextEncoder}const B4=new Ps([4294967295,4294967295],0);function $S(n){const t=U4().encode(n),e=new pI;return e.update(t),new Uint8Array(e.digest())}function ZS(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Ps([e,i],0),new Ps([a,l],0)]}class sv{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new mc(`Invalid padding: ${e}`);if(i<0)throw new mc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new mc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new mc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Ps.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(Ps.fromNumber(i)));return a.compare(B4)===1&&(a=new Ps([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=$S(t),[i,a]=ZS(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);if(!this.we(u))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),u=new sv(l,a,e);return i.forEach((f=>u.insert(f))),u}insert(t){if(this.ge===0)return;const e=$S(t),[i,a]=ZS(e);for(let l=0;l<this.hashCount;l++){const u=this.ye(i,a,l);this.be(u)}}be(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class mc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cm{constructor(t,e,i,a,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,uh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Cm(Et.min(),a,new pe(At),Bn(),Pt())}}class uh{constructor(t,e,i,a,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new uh(i,e,Pt(),Pt(),Pt())}}class yd{constructor(t,e,i,a){this.Se=t,this.removedTargetIds=e,this.key=i,this.De=a}}class vR{constructor(t,e){this.targetId=t,this.Ce=e}}class TR{constructor(t,e,i=Be.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class JS{constructor(){this.ve=0,this.Fe=tw(),this.Me=Be.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),e=Pt(),i=Pt();return this.Fe.forEach(((a,l)=>{switch(l){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:yt(38017,{changeType:l})}})),new uh(this.Me,this.xe,t,e,i)}Ke(){this.Oe=!1,this.Fe=tw()}qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,vt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class z4{constructor(t){this.Ge=t,this.ze=new Map,this.je=Bn(),this.He=Wf(),this.Je=Wf(),this.Ze=new pe(At)}Xe(t){for(const e of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(t.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.Qe(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const l=a.target;if(Gd(l))if(i===0){const u=new ht(l.path);this.et(e,u,be.newNoDocument(u,Et.min()))}else vt(i===1,20013,{expectedCount:i});else{const u=this._t(e);if(u!==i){const f=this.ut(t),m=f?this.ct(f,t,u):1;if(m!==0){this.it(e);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=e;let u,f;try{u=Or(i).toUint8Array()}catch(m){if(m instanceof jI)return Ls("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new sv(u,a,l)}catch(m){return Ls(m instanceof mc?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.ge===0?null:f}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((l=>{const u=this.Ge.ht(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.et(e,l,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((l,u)=>{const f=this.ot(u);if(f){if(l.current&&Gd(f.target)){const m=new ht(f.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,be.newNoDocument(m,t))}l.Be&&(e.set(u,l.ke()),l.Ke())}}));let i=Pt();this.Je.forEach(((l,u)=>{let f=!0;u.forEachWhile((m=>{const g=this.ot(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.je.forEach(((l,u)=>u.setReadTime(t)));const a=new Cm(t,e,this.Ze,this.je,i);return this.je=Bn(),this.He=Wf(),this.Je=Wf(),this.Ze=new pe(At),a}Ye(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).qe(e.key,i),this.je=this.je.insert(e.key,e),this.He=this.He.insert(e.key,this.It(e.key).add(t)),this.Je=this.Je.insert(e.key,this.Rt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.qe(e,1):a.Ue(e),this.Je=this.Je.insert(e,this.Rt(e).delete(t)),this.Je=this.Je.insert(e,this.Rt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let e=this.ze.get(t);return e||(e=new JS,this.ze.set(t,e)),e}Rt(t){let e=this.Je.get(t);return e||(e=new ee(At),this.Je=this.Je.insert(t,e)),e}It(t){let e=this.He.get(t);return e||(e=new ee(At),this.He=this.He.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||at("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new JS),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Wf(){return new pe(ht.comparator)}function tw(){return new pe(ht.comparator)}const j4={asc:"ASCENDING",desc:"DESCENDING"},F4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q4={and:"AND",or:"OR"};class H4{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Qy(n,t){return n.useProto3Json||ym(t)?t:{value:t}}function Ll(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ER(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function G4(n,t){return Ll(n,t.toTimestamp())}function vn(n){return vt(!!n,49232),Et.fromTimestamp((function(e){const i=Pr(e);return new Jt(i.seconds,i.nanos)})(n))}function av(n,t){return Xy(n,t).canonicalString()}function Xy(n,t){const e=(function(a){return new Qt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function bR(n){const t=Qt.fromString(n);return vt(VR(t),10190,{key:t.toString()}),t}function Yd(n,t){return av(n.databaseId,t.path)}function Fa(n,t){const e=bR(t);if(e.get(1)!==n.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ht(AR(e))}function SR(n,t){return av(n.databaseId,t)}function wR(n){const t=bR(n);return t.length===4?Qt.emptyPath():AR(t)}function Wy(n){return new Qt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function AR(n){return vt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function ew(n,t,e){return{name:Yd(n,t),fields:e.value.mapValue.fields}}function K4(n,t,e){const i=Fa(n,t.name),a=vn(t.updateTime),l=t.createTime?vn(t.createTime):Et.min(),u=new Rn({mapValue:{fields:t.fields}}),f=be.newFoundDocument(i,a,l,u);return e&&f.setHasCommittedMutations(),e?f.setHasCommittedMutations():f}function Y4(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:yt(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(vt(y===void 0||typeof y=="string",58123),Be.fromBase64String(y||"")):(vt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Be.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),u=t.targetChange.cause,f=u&&(function(g){const y=g.code===void 0?Z.UNKNOWN:_R(g.code);return new ct(y,g.message||"")})(u);e=new TR(i,a,l,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Fa(n,i.document.name),l=vn(i.document.updateTime),u=i.document.createTime?vn(i.document.createTime):Et.min(),f=new Rn({mapValue:{fields:i.document.fields}}),m=be.newFoundDocument(a,l,u,f),g=i.targetIds||[],y=i.removedTargetIds||[];e=new yd(g,y,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Fa(n,i.document),l=i.readTime?vn(i.readTime):Et.min(),u=be.newNoDocument(a,l),f=i.removedTargetIds||[];e=new yd([],f,u.key,u)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Fa(n,i.document),l=i.removedTargetIds||[];e=new yd([],l,a,null)}else{if(!("filter"in t))return yt(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new k4(a,l),f=i.targetId;e=new vR(f,u)}}return e}function Qd(n,t){let e;if(t instanceof Gl)e={update:ew(n,t.key,t.value)};else if(t instanceof Rm)e={delete:Yd(n,t.key)};else if(t instanceof Gs)e={update:ew(n,t.key,t.data),updateMask:J4(t.fieldMask)};else{if(!(t instanceof yR))return yt(16599,{dt:t.type});e={verify:Yd(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(l,u){const f=u.transform;if(f instanceof Ol)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Nl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Kc)return{fieldPath:u.field.canonicalString(),increment:f.Ae};throw yt(20930,{transform:u.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:G4(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:yt(27497)})(n,t.precondition)),e}function $y(n,t){const e=t.currentDocument?(function(l){return l.updateTime!==void 0?Cn.updateTime(vn(l.updateTime)):l.exists!==void 0?Cn.exists(l.exists):Cn.none()})(t.currentDocument):Cn.none(),i=t.updateTransforms?t.updateTransforms.map((a=>(function(u,f){let m=null;if("setToServerValue"in f)vt(f.setToServerValue==="REQUEST_TIME",16630,{proto:f}),m=new Ol;else if("appendMissingElements"in f){const y=f.appendMissingElements.values||[];m=new Nl(y)}else if("removeAllFromArray"in f){const y=f.removeAllFromArray.values||[];m=new kl(y)}else"increment"in f?m=new Kc(u,f.increment):yt(16584,{proto:f});const g=ge.fromServerFormat(f.fieldPath);return new mR(g,m)})(n,a))):[];if(t.update){t.update.name;const a=Fa(n,t.update.name),l=new Rn({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=(function(m){const g=m.fieldPaths||[];return new ii(g.map((y=>ge.fromServerFormat(y))))})(t.updateMask);return new Gs(a,l,u,e,i)}return new Gl(a,l,e,i)}if(t.delete){const a=Fa(n,t.delete);return new Rm(a,e)}if(t.verify){const a=Fa(n,t.verify);return new yR(a,e)}return yt(1463,{proto:t})}function Q4(n,t){return n&&n.length>0?(vt(t!==void 0,14353),n.map((e=>(function(a,l){let u=a.updateTime?vn(a.updateTime):vn(l);return u.isEqual(Et.min())&&(u=vn(l)),new P4(u,a.transformResults||[])})(e,t)))):[]}function IR(n,t){return{documents:[SR(n,t.path)]}}function RR(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=SR(n,a);const l=(function(g){if(g.length!==0)return DR(te.create(g,"and"))})(t.filters);l&&(e.structuredQuery.where=l);const u=(function(g){if(g.length!==0)return g.map((y=>(function(b){return{field:ll(b.field),direction:W4(b.dir)}})(y)))})(t.orderBy);u&&(e.structuredQuery.orderBy=u);const f=Qy(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function CR(n){let t=wR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){vt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let l=[];e.where&&(l=(function(v){const b=xR(v);return b instanceof te&&tv(b)?b.getFilters():[b]})(e.where));let u=[];e.orderBy&&(u=(function(v){return v.map((b=>(function(V){return new Hd(ul(V.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(b)))})(e.orderBy));let f=null;e.limit&&(f=(function(v){let b;return b=typeof v=="object"?v.value:v,ym(b)?null:b})(e.limit));let m=null;e.startAt&&(m=(function(v){const b=!!v.before,I=v.values||[];return new Ml(I,b)})(e.startAt));let g=null;return e.endAt&&(g=(function(v){const b=!v.before,I=v.values||[];return new Ml(I,b)})(e.endAt)),v4(t,a,u,l,f,"F",m,g)}function X4(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function xR(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=ul(e.unaryFilter.field);return zt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=ul(e.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ul(e.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ul(e.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return zt.create(ul(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return te.create(e.compositeFilter.filters.map((i=>xR(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(e.compositeFilter.op))})(n):yt(30097,{filter:n})}function W4(n){return j4[n]}function $4(n){return F4[n]}function Z4(n){return q4[n]}function ll(n){return{fieldPath:n.canonicalString()}}function ul(n){return ge.fromServerFormat(n.fieldPath)}function DR(n){return n instanceof zt?(function(e){if(e.op==="=="){if(BS(e.value))return{unaryFilter:{field:ll(e.field),op:"IS_NAN"}};if(US(e.value))return{unaryFilter:{field:ll(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(BS(e.value))return{unaryFilter:{field:ll(e.field),op:"IS_NOT_NAN"}};if(US(e.value))return{unaryFilter:{field:ll(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ll(e.field),op:$4(e.op),value:e.value}}})(n):n instanceof te?(function(e){const i=e.getFilters().map((a=>DR(a)));return i.length===1?i[0]:{compositeFilter:{op:Z4(e.op),filters:i}}})(n):yt(54877,{filter:n})}function J4(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function VR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function MR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class Cr{constructor(t,e,i,a,l=Et.min(),u=Et.min(),f=Be.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new Cr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PR{constructor(t){this.yt=t}}function t3(n,t){let e;if(t.document)e=K4(n.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=ht.fromSegments(t.noDocument.path),a=Ja(t.noDocument.readTime);e=be.newNoDocument(i,a),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return yt(56709);{const i=ht.fromSegments(t.unknownDocument.path),a=Ja(t.unknownDocument.version);e=be.newUnknownDocument(i,a)}}return t.readTime&&e.setReadTime((function(a){const l=new Jt(a[0],a[1]);return Et.fromTimestamp(l)})(t.readTime)),e}function nw(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:Xd(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document=(function(l,u){return{name:Yd(l,u.key),fields:u.data.value.mapValue.fields,updateTime:Ll(l,u.version.toTimestamp()),createTime:Ll(l,u.createTime.toTimestamp())}})(n.yt,t);else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Za(t.version)};else{if(!t.isUnknownDocument())return yt(57904,{document:t});i.unknownDocument={path:e.path.toArray(),version:Za(t.version)}}return i}function Xd(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Za(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ja(n){const t=new Jt(n.seconds,n.nanoseconds);return Et.fromTimestamp(t)}function Ma(n,t){const e=(t.baseMutations||[]).map((l=>$y(n.yt,l)));for(let l=0;l<t.mutations.length-1;++l){const u=t.mutations[l];if(l+1<t.mutations.length&&t.mutations[l+1].transform!==void 0){const f=t.mutations[l+1];u.updateTransforms=f.transform.fieldTransforms,t.mutations.splice(l+1,1),++l}}const i=t.mutations.map((l=>$y(n.yt,l))),a=Jt.fromMillis(t.localWriteTimeMs);return new nv(t.batchId,a,e,i)}function pc(n){const t=Ja(n.readTime),e=n.lastLimboFreeSnapshotVersion!==void 0?Ja(n.lastLimboFreeSnapshotVersion):Et.min();let i;return i=(function(l){return l.documents!==void 0})(n.query)?(function(l){const u=l.documents.length;return vt(u===1,1966,{count:u}),si(Sm(wR(l.documents[0])))})(n.query):(function(l){return si(CR(l))})(n.query),new Cr(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Be.fromBase64String(n.resumeToken))}function OR(n,t){const e=Za(t.snapshotVersion),i=Za(t.lastLimboFreeSnapshotVersion);let a;a=Gd(t.target)?IR(n.yt,t.target):RR(n.yt,t.target).ft;const l=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$a(t.target),readTime:e,resumeToken:l,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function NR(n){const t=CR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Yy(t,t.limit,"L"):t}function ty(n,t){return new rv(t.largestBatchId,$y(n.yt,t.overlayMutation))}function iw(n,t){const e=t.path.lastSegment();return[n,hn(t.path.popLast()),e]}function rw(n,t,e,i){return{indexId:n,uid:t,sequenceNumber:e,readTime:Za(i.readTime),documentKey:hn(i.documentKey.path),largestBatchId:i.largestBatchId}}class e3{getBundleMetadata(t,e){return sw(t).get(e).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:Ja(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(t,e){return sw(t).put((function(a){return{bundleId:a.id,createTime:Za(vn(a.createTime)),version:a.version}})(e))}getNamedQuery(t,e){return aw(t).get(e).next((i=>{if(i)return(function(l){return{name:l.name,query:NR(l.bundledQuery),readTime:Ja(l.readTime)}})(i)}))}saveNamedQuery(t,e){return aw(t).put((function(a){return{name:a.name,readTime:Za(vn(a.readTime)),bundledQuery:a.bundledQuery}})(e))}}function sw(n){return Ke(n,_m)}function aw(n){return Ke(n,vm)}class xm{constructor(t,e){this.serializer=t,this.userId=e}static wt(t,e){const i=e.uid||"";return new xm(t,i)}getOverlay(t,e){return rc(t).get(iw(this.userId,e)).next((i=>i?ty(this.serializer,i):null))}getOverlays(t,e){const i=Ji();return B.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){const a=[];return i.forEach(((l,u)=>{const f=new rv(e,u);a.push(this.bt(t,f))})),B.waitFor(a)}removeOverlaysForBatchId(t,e,i){const a=new Set;e.forEach((u=>a.add(hn(u.getCollectionPath()))));const l=[];return a.forEach((u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);l.push(rc(t).X(By,f))})),B.waitFor(l)}getOverlaysForCollection(t,e,i){const a=Ji(),l=hn(e),u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return rc(t).H(By,u).next((f=>{for(const m of f){const g=ty(this.serializer,m);a.set(g.getKey(),g)}return a}))}getOverlaysForCollectionGroup(t,e,i,a){const l=Ji();let u;const f=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return rc(t).ee({index:NI,range:f},((m,g,y)=>{const v=ty(this.serializer,g);l.size()<a||v.largestBatchId===u?(l.set(v.getKey(),v),u=v.largestBatchId):y.done()})).next((()=>l))}bt(t,e){return rc(t).put((function(a,l,u){const[f,m,g]=iw(l,u.mutation.key);return{userId:l,collectionPath:m,documentId:g,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Qd(a.yt,u.mutation)}})(this.serializer,this.userId,e))}}function rc(n){return Ke(n,Tm)}class n3{St(t){return Ke(t,X_)}getSessionToken(t){return this.St(t).get("sessionToken").next((e=>{const i=e?.value;return i?Be.fromUint8Array(i):Be.EMPTY_BYTE_STRING}))}setSessionToken(t,e){return this.St(t).put({name:"sessionToken",value:e.toUint8Array()})}}class Pa{constructor(){}Dt(t,e){this.Ct(t,e),e.vt()}Ct(t,e){if("nullValue"in t)this.Ft(e,5);else if("booleanValue"in t)this.Ft(e,10),e.Mt(t.booleanValue?1:0);else if("integerValue"in t)this.Ft(e,15),e.Mt(me(t.integerValue));else if("doubleValue"in t){const i=me(t.doubleValue);isNaN(i)?this.Ft(e,13):(this.Ft(e,15),Uc(i)?e.Mt(0):e.Mt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Ft(e,20),typeof i=="string"&&(i=Pr(i)),e.xt(`${i.seconds||""}`),e.Mt(i.nanos||0)}else if("stringValue"in t)this.Ot(t.stringValue,e),this.Nt(e);else if("bytesValue"in t)this.Ft(e,30),e.Bt(Or(t.bytesValue)),this.Nt(e);else if("referenceValue"in t)this.Lt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Ft(e,45),e.Mt(i.latitude||0),e.Mt(i.longitude||0)}else"mapValue"in t?YI(t)?this.Ft(e,Number.MAX_SAFE_INTEGER):bm(t)?this.kt(t.mapValue,e):(this.Kt(t.mapValue,e),this.Nt(e)):"arrayValue"in t?(this.qt(t.arrayValue,e),this.Nt(e)):yt(19022,{Ut:t})}Ot(t,e){this.Ft(e,25),this.$t(t,e)}$t(t,e){e.xt(t)}Kt(t,e){const i=t.fields||{};this.Ft(e,55);for(const a of Object.keys(i))this.Ot(a,e),this.Ct(i[a],e)}kt(t,e){const i=t.fields||{};this.Ft(e,53);const a=Dl,l=i[a].arrayValue?.values?.length||0;this.Ft(e,15),e.Mt(me(l)),this.Ot(a,e),this.Ct(i[a],e)}qt(t,e){const i=t.values||[];this.Ft(e,50);for(const a of i)this.Ct(a,e)}Lt(t,e){this.Ft(e,37),ht.fromName(t).path.forEach((i=>{this.Ft(e,60),this.$t(i,e)}))}Ft(t,e){t.Mt(e)}Nt(t){t.Mt(2)}}Pa.Wt=new Pa;const el=255;function i3(n){if(n===0)return 8;let t=0;return n>>4||(t+=4,n<<=4),n>>6||(t+=2,n<<=2),n>>7||(t+=1),t}function ow(n){const t=64-(function(i){let a=0;for(let l=0;l<8;++l){const u=i3(255&i[l]);if(a+=u,u!==8)break}return a})(n);return Math.ceil(t/8)}class r3{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Gt(i.value),i=e.next();this.zt()}jt(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ht(i.value),i=e.next();this.Jt()}Zt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=e.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(e<"\uD800"||"\uDBFF"<e)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=e.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(t){const e=this.en(t),i=ow(e);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=255&e[a]}nn(t){const e=this.en(t),i=ow(e);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=e.length-i;a<e.length;++a)this.buffer[this.position++]=~(255&e[a])}rn(){this.sn(el),this.sn(255)}_n(){this.an(el),this.an(255)}reset(){this.position=0}seed(t){this.tn(t.length),this.buffer.set(t,this.position),this.position+=t.length}un(){return this.buffer.slice(0,this.position)}en(t){const e=(function(l){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,l,!1),new Uint8Array(u.buffer)})(t),i=!!(128&e[0]);e[0]^=i?255:128;for(let a=1;a<e.length;++a)e[a]^=i?255:0;return e}Gt(t){const e=255&t;e===0?(this.sn(0),this.sn(255)):e===el?(this.sn(el),this.sn(0)):this.sn(e)}Ht(t){const e=255&t;e===0?(this.an(0),this.an(255)):e===el?(this.an(el),this.an(0)):this.an(t)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(t){this.tn(1),this.buffer[this.position++]=t}an(t){this.tn(1),this.buffer[this.position++]=~t}tn(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class s3{constructor(t){this.cn=t}Bt(t){this.cn.Qt(t)}xt(t){this.cn.Zt(t)}Mt(t){this.cn.Yt(t)}vt(){this.cn.rn()}}class a3{constructor(t){this.cn=t}Bt(t){this.cn.jt(t)}xt(t){this.cn.Xt(t)}Mt(t){this.cn.nn(t)}vt(){this.cn._n()}}class sc{constructor(){this.cn=new r3,this.ascending=new s3(this.cn),this.descending=new a3(this.cn)}seed(t){this.cn.seed(t)}ln(t){return t===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Oa{constructor(t,e,i,a){this.hn=t,this.Pn=e,this.Tn=i,this.In=a}En(){const t=this.In.length,e=t===0||this.In[t-1]===255?t+1:t,i=new Uint8Array(e);return i.set(this.In,0),e!==t?i.set([0],this.In.length):++i[i.length-1],new Oa(this.hn,this.Pn,this.Tn,i)}Rn(t,e,i){return{indexId:this.hn,uid:t,arrayValue:_d(this.Tn),directionalValue:_d(this.In),orderedDocumentKey:_d(e),documentKey:i.path.toArray()}}An(t,e,i){const a=this.Rn(t,e,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function vs(n,t){let e=n.hn-t.hn;return e!==0?e:(e=lw(n.Tn,t.Tn),e!==0?e:(e=lw(n.In,t.In),e!==0?e:ht.comparator(n.Pn,t.Pn)))}function lw(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(i!==0)return i}return n.length-t.length}function _d(n){return R1()?(function(e){let i="";for(let a=0;a<e.length;a++)i+=String.fromCharCode(e[a]);return i})(n):n}function uw(n){return typeof n!="string"?n:(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(n)}class cw{constructor(t){this.Vn=new ee(((e,i)=>ge.comparator(e.field,i.field))),this.collectionId=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment(),this.dn=t.orderBy,this.mn=[];for(const e of t.filters){const i=e;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(t){if(vt(t.collectionGroup===this.collectionId,49279),this.fn)return!1;const e=ky(t);if(e!==void 0&&!this.pn(e))return!1;const i=Ca(t);let a=new Set,l=0,u=0;for(;l<i.length&&this.pn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const f=this.Vn.getIterator().getNext();if(!a.has(f.field.canonicalString())){const m=i[l];if(!this.yn(f,m)||!this.wn(this.dn[u++],m))return!1}++l}for(;l<i.length;++l){const f=i[l];if(u>=this.dn.length||!this.wn(this.dn[u++],f))return!1}return!0}bn(){if(this.fn)return null;let t=new ee(ge.comparator);const e=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")e.push(new cd(i.field,2));else{if(t.has(i.field))continue;t=t.add(i.field),e.push(new cd(i.field,0))}for(const i of this.dn)i.field.isKeyField()||t.has(i.field)||(t=t.add(i.field),e.push(new cd(i.field,i.dir==="asc"?0:1)));return new Bd(Bd.UNKNOWN_ID,this.collectionId,e,Lc.empty())}pn(t){for(const e of this.mn)if(this.yn(e,t))return!0;return!1}yn(t,e){if(t===void 0||!t.field.isEqual(e.fieldPath))return!1;const i=t.op==="array-contains"||t.op==="array-contains-any";return e.kind===2===i}wn(t,e){return!!t.field.isEqual(e.fieldPath)&&(e.kind===0&&t.dir==="asc"||e.kind===1&&t.dir==="desc")}}function kR(n){if(vt(n instanceof zt||n instanceof te,20012),n instanceof zt){if(n instanceof nR){const e=n.value.arrayValue?.values?.map((i=>zt.create(n.field,"==",i)))||[];return te.create(e,"or")}return n}const t=n.filters.map((e=>kR(e)));return te.create(t,n.op)}function o3(n){if(n.getFilters().length===0)return[];const t=t_(kR(n));return vt(LR(t),7391),Zy(t)||Jy(t)?[t]:t.getFilters()}function Zy(n){return n instanceof zt}function Jy(n){return n instanceof te&&tv(n)}function LR(n){return Zy(n)||Jy(n)||(function(e){if(e instanceof te&&qy(e)){for(const i of e.getFilters())if(!Zy(i)&&!Jy(i))return!1;return!0}return!1})(n)}function t_(n){if(vt(n instanceof zt||n instanceof te,34018),n instanceof zt)return n;if(n.filters.length===1)return t_(n.filters[0]);const t=n.filters.map((i=>t_(i)));let e=te.create(t,n.op);return e=Wd(e),LR(e)?e:(vt(e instanceof te,64498),vt(Pl(e),40251),vt(e.filters.length>1,57927),e.filters.reduce(((i,a)=>ov(i,a))))}function ov(n,t){let e;return vt(n instanceof zt||n instanceof te,38388),vt(t instanceof zt||t instanceof te,25473),e=n instanceof zt?t instanceof zt?(function(a,l){return te.create([a,l],"and")})(n,t):hw(n,t):t instanceof zt?hw(t,n):(function(a,l){if(vt(a.filters.length>0&&l.filters.length>0,48005),Pl(a)&&Pl(l))return JI(a,l.getFilters());const u=qy(a)?a:l,f=qy(a)?l:a,m=u.filters.map((g=>ov(g,f)));return te.create(m,"or")})(n,t),Wd(e)}function hw(n,t){if(Pl(t))return JI(t,n.getFilters());{const e=t.filters.map((i=>ov(n,i)));return te.create(e,"or")}}function Wd(n){if(vt(n instanceof zt||n instanceof te,11850),n instanceof zt)return n;const t=n.getFilters();if(t.length===1)return Wd(t[0]);if($I(n))return n;const e=t.map((a=>Wd(a))),i=[];return e.forEach((a=>{a instanceof zt?i.push(a):a instanceof te&&(a.op===n.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:te.create(i,n.op)}class l3{constructor(){this.Sn=new lv}addToCollectionParentIndex(t,e){return this.Sn.add(e),B.resolve()}getCollectionParents(t,e){return B.resolve(this.Sn.getEntries(e))}addFieldIndex(t,e){return B.resolve()}deleteFieldIndex(t,e){return B.resolve()}deleteAllFieldIndexes(t){return B.resolve()}createTargetIndexes(t,e){return B.resolve()}getDocumentsMatchingTarget(t,e){return B.resolve(null)}getIndexType(t,e){return B.resolve(0)}getFieldIndexes(t,e){return B.resolve([])}getNextCollectionGroupToUpdate(t){return B.resolve(null)}getMinOffset(t,e){return B.resolve(zn.min())}getMinOffsetFromCollectionGroup(t,e){return B.resolve(zn.min())}updateCollectionGroup(t,e,i){return B.resolve()}updateIndexEntries(t,e){return B.resolve()}}class lv{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new ee(Qt.comparator),l=!a.has(i);return this.index[e]=a.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new ee(Qt.comparator)).toArray()}}const fw="IndexedDbIndexManager",$f=new Uint8Array(0);class u3{constructor(t,e){this.databaseId=e,this.Dn=new lv,this.Cn=new Lr((i=>$a(i)),((i,a)=>ah(i,a))),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Dn.has(e)){const i=e.lastSegment(),a=e.popLast();t.addOnCommittedListener((()=>{this.Dn.add(e)}));const l={collectionId:i,parent:hn(a)};return dw(t).put(l)}return B.resolve()}getCollectionParents(t,e){const i=[],a=IDBKeyRange.bound([e,""],[SI(e),""],!1,!0);return dw(t).H(a).next((l=>{for(const u of l){if(u.collectionId!==e)break;i.push(Zi(u.parent))}return i}))}addFieldIndex(t,e){const i=ac(t),a=(function(f){return{indexId:f.indexId,collectionGroup:f.collectionGroup,fields:f.fields.map((m=>[m.fieldPath.canonicalString(),m.kind]))}})(e);delete a.indexId;const l=i.add(a);if(e.indexState){const u=il(t);return l.next((f=>{u.put(rw(f,this.uid,e.indexState.sequenceNumber,e.indexState.offset))}))}return l.next()}deleteFieldIndex(t,e){const i=ac(t),a=il(t),l=nl(t);return i.delete(e.indexId).next((()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))))}deleteAllFieldIndexes(t){const e=ac(t),i=nl(t),a=il(t);return e.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(t,e){return B.forEach(this.vn(e),(i=>this.getIndexType(t,i).next((a=>{if(a===0||a===1){const l=new cw(i).bn();if(l!=null)return this.addFieldIndex(t,l)}}))))}getDocumentsMatchingTarget(t,e){const i=nl(t);let a=!0;const l=new Map;return B.forEach(this.vn(e),(u=>this.Fn(t,u).next((f=>{a&&(a=!!f),l.set(u,f)})))).next((()=>{if(a){let u=Pt();const f=[];return B.forEach(l,((m,g)=>{at(fw,`Using index ${(function(Y){return`id=${Y.indexId}|cg=${Y.collectionGroup}|f=${Y.fields.map((it=>`${it.fieldPath}:${it.kind}`)).join(",")}`})(m)} to execute ${$a(e)}`);const y=(function(Y,it){const rt=ky(it);if(rt===void 0)return null;for(const ut of Kd(Y,rt.fieldPath))switch(ut.op){case"array-contains-any":return ut.value.arrayValue.values||[];case"array-contains":return[ut.value]}return null})(g,m),v=(function(Y,it){const rt=new Map;for(const ut of Ca(it))for(const C of Kd(Y,ut.fieldPath))switch(C.op){case"==":case"in":rt.set(ut.fieldPath.canonicalString(),C.value);break;case"not-in":case"!=":return rt.set(ut.fieldPath.canonicalString(),C.value),Array.from(rt.values())}return null})(g,m),b=(function(Y,it){const rt=[];let ut=!0;for(const C of Ca(it)){const A=C.kind===0?HS(Y,C.fieldPath,Y.startAt):GS(Y,C.fieldPath,Y.startAt);rt.push(A.value),ut&&(ut=A.inclusive)}return new Ml(rt,ut)})(g,m),I=(function(Y,it){const rt=[];let ut=!0;for(const C of Ca(it)){const A=C.kind===0?GS(Y,C.fieldPath,Y.endAt):HS(Y,C.fieldPath,Y.endAt);rt.push(A.value),ut&&(ut=A.inclusive)}return new Ml(rt,ut)})(g,m),V=this.Mn(m,g,b),U=this.Mn(m,g,I),z=this.xn(m,g,v),Q=this.On(m.indexId,y,V,b.inclusive,U,I.inclusive,z);return B.forEach(Q,($=>i.Z($,e.limit).next((Y=>{Y.forEach((it=>{const rt=ht.fromSegments(it.documentKey);u.has(rt)||(u=u.add(rt),f.push(rt))}))}))))})).next((()=>f))}return B.resolve(null)}))}vn(t){let e=this.Cn.get(t);return e||(t.filters.length===0?e=[t]:e=o3(te.create(t.filters,"and")).map((i=>Gy(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt))),this.Cn.set(t,e),e)}On(t,e,i,a,l,u,f){const m=(e!=null?e.length:1)*Math.max(i.length,l.length),g=m/(e!=null?e.length:1),y=[];for(let v=0;v<m;++v){const b=e?this.Nn(e[v/g]):$f,I=this.Bn(t,b,i[v%g],a),V=this.Ln(t,b,l[v%g],u),U=f.map((z=>this.Bn(t,b,z,!0)));y.push(...this.createRange(I,V,U))}return y}Bn(t,e,i,a){const l=new Oa(t,ht.empty(),e,i);return a?l:l.En()}Ln(t,e,i,a){const l=new Oa(t,ht.empty(),e,i);return a?l.En():l}Fn(t,e){const i=new cw(e),a=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,a).next((l=>{let u=null;for(const f of l)i.gn(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u}))}getIndexType(t,e){let i=2;const a=this.vn(e);return B.forEach(a,(l=>this.Fn(t,l).next((u=>{u?i!==0&&u.fields.length<(function(m){let g=new ee(ge.comparator),y=!1;for(const v of m.filters)for(const b of v.getFlattenedFilters())b.field.isKeyField()||(b.op==="array-contains"||b.op==="array-contains-any"?y=!0:g=g.add(b.field));for(const v of m.orderBy)v.field.isKeyField()||(g=g.add(v.field));return g.size+(y?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(u){return u.limit!==null})(e)&&a.length>1&&i===2?1:i))}kn(t,e){const i=new sc;for(const a of Ca(t)){const l=e.data.field(a.fieldPath);if(l==null)return null;const u=i.ln(a.kind);Pa.Wt.Dt(l,u)}return i.un()}Nn(t){const e=new sc;return Pa.Wt.Dt(t,e.ln(0)),e.un()}Kn(t,e){const i=new sc;return Pa.Wt.Dt(Hc(this.databaseId,e),i.ln((function(l){const u=Ca(l);return u.length===0?0:u[u.length-1].kind})(t))),i.un()}xn(t,e,i){if(i===null)return[];let a=[];a.push(new sc);let l=0;for(const u of Ca(t)){const f=i[l++];for(const m of a)if(this.qn(e,u.fieldPath)&&Gc(f))a=this.Un(a,u,f);else{const g=m.ln(u.kind);Pa.Wt.Dt(f,g)}}return this.$n(a)}Mn(t,e,i){return this.xn(t,e,i.position)}$n(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].un();return e}Un(t,e,i){const a=[...t],l=[];for(const u of i.arrayValue.values||[])for(const f of a){const m=new sc;m.seed(f.un()),Pa.Wt.Dt(u,m.ln(e.kind)),l.push(m)}return l}qn(t,e){return!!t.filters.find((i=>i instanceof zt&&i.field.isEqual(e)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(t,e){const i=ac(t),a=il(t);return(e?i.H(Uy,IDBKeyRange.bound(e,e)):i.H()).next((l=>{const u=[];return B.forEach(l,(f=>a.get([f.indexId,this.uid]).next((m=>{u.push((function(y,v){const b=v?new Lc(v.sequenceNumber,new zn(Ja(v.readTime),new ht(Zi(v.documentKey)),v.largestBatchId)):Lc.empty(),I=y.fields.map((([V,U])=>new cd(ge.fromServerFormat(V),U)));return new Bd(y.indexId,y.collectionGroup,I,b)})(f,m))})))).next((()=>u))}))}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next((e=>e.length===0?null:(e.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:At(i.collectionGroup,a.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(t,e,i){const a=ac(t),l=il(t);return this.Wn(t).next((u=>a.H(Uy,IDBKeyRange.bound(e,e)).next((f=>B.forEach(f,(m=>l.put(rw(m.indexId,this.uid,u,i))))))))}updateIndexEntries(t,e){const i=new Map;return B.forEach(e,((a,l)=>{const u=i.get(a.collectionGroup);return(u?B.resolve(u):this.getFieldIndexes(t,a.collectionGroup)).next((f=>(i.set(a.collectionGroup,f),B.forEach(f,(m=>this.Qn(t,a,m).next((g=>{const y=this.Gn(l,m);return g.isEqual(y)?B.resolve():this.zn(t,l,m,g,y)})))))))}))}jn(t,e,i,a){return nl(t).put(a.Rn(this.uid,this.Kn(i,e.key),e.key))}Hn(t,e,i,a){return nl(t).delete(a.An(this.uid,this.Kn(i,e.key),e.key))}Qn(t,e,i){const a=nl(t);let l=new ee(vs);return a.ee({index:OI,range:IDBKeyRange.only([i.indexId,this.uid,_d(this.Kn(i,e))])},((u,f)=>{l=l.add(new Oa(i.indexId,e,uw(f.arrayValue),uw(f.directionalValue)))})).next((()=>l))}Gn(t,e){let i=new ee(vs);const a=this.kn(e,t);if(a==null)return i;const l=ky(e);if(l!=null){const u=t.data.field(l.fieldPath);if(Gc(u))for(const f of u.arrayValue.values||[])i=i.add(new Oa(e.indexId,t.key,this.Nn(f),a))}else i=i.add(new Oa(e.indexId,t.key,$f,a));return i}zn(t,e,i,a,l){at(fw,"Updating index entries for document '%s'",e.key);const u=[];return(function(m,g,y,v,b){const I=m.getIterator(),V=g.getIterator();let U=tl(I),z=tl(V);for(;U||z;){let Q=!1,$=!1;if(U&&z){const Y=y(U,z);Y<0?$=!0:Y>0&&(Q=!0)}else U!=null?$=!0:Q=!0;Q?(v(z),z=tl(V)):$?(b(U),U=tl(I)):(U=tl(I),z=tl(V))}})(a,l,vs,(f=>{u.push(this.jn(t,e,i,f))}),(f=>{u.push(this.Hn(t,e,i,f))})),B.waitFor(u)}Wn(t){let e=1;return il(t).ee({index:PI,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),e=a.sequenceNumber+1})).next((()=>e))}createRange(t,e,i){i=i.sort(((u,f)=>vs(u,f))).filter(((u,f,m)=>!f||vs(u,m[f-1])!==0));const a=[];a.push(t);for(const u of i){const f=vs(u,t),m=vs(u,e);if(f===0)a[0]=t.En();else if(f>0&&m<0)a.push(u),a.push(u.En());else if(m>0)break}a.push(e);const l=[];for(let u=0;u<a.length;u+=2){if(this.Jn(a[u],a[u+1]))return[];const f=a[u].An(this.uid,$f,ht.empty()),m=a[u+1].An(this.uid,$f,ht.empty());l.push(IDBKeyRange.bound(f,m))}return l}Jn(t,e){return vs(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(mw)}getMinOffset(t,e){return B.mapArray(this.vn(e),(i=>this.Fn(t,i).next((a=>a||yt(44426))))).next(mw)}}function dw(n){return Ke(n,jc)}function nl(n){return Ke(n,wc)}function ac(n){return Ke(n,Q_)}function il(n){return Ke(n,Sc)}function mw(n){vt(n.length!==0,28825);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const a=n[i].indexState.offset;G_(a,t)<0&&(t=a),e<a.largestBatchId&&(e=a.largestBatchId)}return new zn(t.readTime,t.documentKey,e)}const pw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},UR=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}function BR(n,t,e){const i=n.store(Ei),a=n.store(Il),l=[],u=IDBKeyRange.only(e.batchId);let f=0;const m=i.ee({range:u},((y,v,b)=>(f++,b.delete())));l.push(m.next((()=>{vt(f===1,47070,{batchId:e.batchId})})));const g=[];for(const y of e.mutations){const v=DI(t,y.key.path,e.batchId);l.push(a.delete(v)),g.push(y.key)}return B.waitFor(l).next((()=>g))}function $d(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw yt(14731);t=n.noDocument}return JSON.stringify(t).length}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(UR,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Dm{constructor(t,e,i,a){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(t,e,i,a){vt(t.uid!=="",64387);const l=t.isAuthenticated()?t.uid:"";return new Dm(l,e,i,a)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ts(t).ee({index:ka,range:i},((a,l,u)=>{e=!1,u.done()})).next((()=>e))}addMutationBatch(t,e,i,a){const l=cl(t),u=Ts(t);return u.add({}).next((f=>{vt(typeof f=="number",49019);const m=new nv(f,e,i,a),g=(function(I,V,U){const z=U.baseMutations.map(($=>Qd(I.yt,$))),Q=U.mutations.map(($=>Qd(I.yt,$)));return{userId:V,batchId:U.batchId,localWriteTimeMs:U.localWriteTime.toMillis(),baseMutations:z,mutations:Q}})(this.serializer,this.userId,m),y=[];let v=new ee(((b,I)=>At(b.canonicalString(),I.canonicalString())));for(const b of a){const I=DI(this.userId,b.key.path,f);v=v.add(b.key.path.popLast()),y.push(u.put(g)),y.push(l.put(I,kk))}return v.forEach((b=>{y.push(this.indexManager.addToCollectionParentIndex(t,b))})),t.addOnCommittedListener((()=>{this.Zn[f]=m.keys()})),B.waitFor(y).next((()=>m))}))}lookupMutationBatch(t,e){return Ts(t).get(e).next((i=>i?(vt(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:e}),Ma(this.serializer,i)):null))}Xn(t,e){return this.Zn[e]?B.resolve(this.Zn[e]):this.lookupMutationBatch(t,e).next((i=>{if(i){const a=i.keys();return this.Zn[e]=a,a}return null}))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return Ts(t).ee({index:ka,range:a},((u,f,m)=>{f.userId===this.userId&&(vt(f.batchId>=i,47524,{Yn:i}),l=Ma(this.serializer,f)),m.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=za;return Ts(t).ee({index:ka,range:e,reverse:!0},((a,l,u)=>{i=l.batchId,u.done()})).next((()=>i))}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,za],[this.userId,Number.POSITIVE_INFINITY]);return Ts(t).H(ka,e).next((i=>i.map((a=>Ma(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=hd(this.userId,e.path),a=IDBKeyRange.lowerBound(i),l=[];return cl(t).ee({range:a},((u,f,m)=>{const[g,y,v]=u,b=Zi(y);if(g===this.userId&&e.path.isEqual(b))return Ts(t).get(v).next((I=>{if(!I)throw yt(61480,{er:u,batchId:v});vt(I.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:I.userId,batchId:v}),l.push(Ma(this.serializer,I))}));m.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ee(At);const a=[];return e.forEach((l=>{const u=hd(this.userId,l.path),f=IDBKeyRange.lowerBound(u),m=cl(t).ee({range:f},((g,y,v)=>{const[b,I,V]=g,U=Zi(I);b===this.userId&&l.path.isEqual(U)?i=i.add(V):v.done()}));a.push(m)})),B.waitFor(a).next((()=>this.tr(t,i)))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1,l=hd(this.userId,i),u=IDBKeyRange.lowerBound(l);let f=new ee(At);return cl(t).ee({range:u},((m,g,y)=>{const[v,b,I]=m,V=Zi(b);v===this.userId&&i.isPrefixOf(V)?V.length===a&&(f=f.add(I)):y.done()})).next((()=>this.tr(t,f)))}tr(t,e){const i=[],a=[];return e.forEach((l=>{a.push(Ts(t).get(l).next((u=>{if(u===null)throw yt(35274,{batchId:l});vt(u.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:u.userId,batchId:l}),i.push(Ma(this.serializer,u))})))})),B.waitFor(a).next((()=>i))}removeMutationBatch(t,e){return BR(t.le,this.userId,e).next((i=>(t.addOnCommittedListener((()=>{this.nr(e.batchId)})),B.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(t,a))))))}nr(t){delete this.Zn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next((e=>{if(!e)return B.resolve();const i=IDBKeyRange.lowerBound((function(u){return[u]})(this.userId)),a=[];return cl(t).ee({range:i},((l,u,f)=>{if(l[0]===this.userId){const m=Zi(l[1]);a.push(m)}else f.done()})).next((()=>{vt(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(t,e){return zR(t,this.userId,e)}ir(t){return jR(t).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:za,lastStreamToken:""}))}}function zR(n,t,e){const i=hd(t,e.path),a=i[1],l=IDBKeyRange.lowerBound(i);let u=!1;return cl(n).ee({range:l,Y:!0},((f,m,g)=>{const[y,v,b]=f;y===t&&v===a&&(u=!0),g.done()})).next((()=>u))}function Ts(n){return Ke(n,Ei)}function cl(n){return Ke(n,Il)}function jR(n){return Ke(n,Bc)}class to{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new to(0)}static ar(){return new to(-1)}}class c3{constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.ur(t).next((e=>{const i=new to(e.highestTargetId);return e.highestTargetId=i.next(),this.cr(t,e).next((()=>e.highestTargetId))}))}getLastRemoteSnapshotVersion(t){return this.ur(t).next((e=>Et.fromTimestamp(new Jt(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(t){return this.ur(t).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(t,e,i){return this.ur(t).next((a=>(a.highestListenSequenceNumber=e,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),e>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=e),this.cr(t,a))))}addTargetData(t,e){return this.lr(t,e).next((()=>this.ur(t).next((i=>(i.targetCount+=1,this.hr(e,i),this.cr(t,i))))))}updateTargetData(t,e){return this.lr(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next((()=>rl(t).delete(e.targetId))).next((()=>this.ur(t))).next((i=>(vt(i.targetCount>0,8065),i.targetCount-=1,this.cr(t,i))))}removeTargets(t,e,i){let a=0;const l=[];return rl(t).ee(((u,f)=>{const m=pc(f);m.sequenceNumber<=e&&i.get(m.targetId)===null&&(a++,l.push(this.removeTargetData(t,m)))})).next((()=>B.waitFor(l))).next((()=>a))}forEachTarget(t,e){return rl(t).ee(((i,a)=>{const l=pc(a);e(l)}))}ur(t){return gw(t).get(Fd).next((e=>(vt(e!==null,2888),e)))}cr(t,e){return gw(t).put(Fd,e)}lr(t,e){return rl(t).put(OR(this.serializer,e))}hr(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.ur(t).next((e=>e.targetCount))}getTargetData(t,e){const i=$a(e),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return rl(t).ee({range:a,index:MI},((u,f,m)=>{const g=pc(f);ah(e,g.target)&&(l=g,m.done())})).next((()=>l))}addMatchingKeys(t,e,i){const a=[],l=Is(t);return e.forEach((u=>{const f=hn(u.path);a.push(l.put({targetId:i,path:f})),a.push(this.referenceDelegate.addReference(t,i,u))})),B.waitFor(a)}removeMatchingKeys(t,e,i){const a=Is(t);return B.forEach(e,(l=>{const u=hn(l.path);return B.waitFor([a.delete([i,u]),this.referenceDelegate.removeReference(t,i,l)])}))}removeMatchingKeysForTargetId(t,e){const i=Is(t),a=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),a=Is(t);let l=Pt();return a.ee({range:i,Y:!0},((u,f,m)=>{const g=Zi(u[1]),y=new ht(g);l=l.add(y)})).next((()=>l))}containsKey(t,e){const i=hn(e.path),a=IDBKeyRange.bound([i],[SI(i)],!1,!0);let l=0;return Is(t).ee({index:Y_,Y:!0,range:a},(([u,f],m,g)=>{u!==0&&(l++,g.done())})).next((()=>l>0))}At(t,e){return rl(t).get(e).next((i=>i?pc(i):null))}}function rl(n){return Ke(n,Rl)}function gw(n){return Ke(n,ja)}function Is(n){return Ke(n,Cl)}const yw="LruGarbageCollector",h3=1048576;function _w([n,t],[e,i]){const a=At(n,e);return a===0?At(t,i):a}class f3{constructor(t){this.Pr=t,this.buffer=new ee(_w),this.Tr=0}Ir(){return++this.Tr}Er(t){const e=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();_w(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class FR{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){at(yw,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Hs(e)?at(yw,"Ignoring IndexedDB error during garbage collection: ",e):await io(e)}await this.Ar(3e5)}))}}class d3{constructor(t,e){this.Vr=t,this.params=e}calculateTargetCount(t,e){return this.Vr.dr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return B.resolve(ni.ce);const i=new f3(e);return this.Vr.forEachTarget(t,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(t,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.Vr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Vr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(pw)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pw):this.gr(t,e)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,e){let i,a,l,u,f,m,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(t,a)))).next((v=>(i=v,f=Date.now(),this.removeTargets(t,i,e)))).next((v=>(l=v,m=Date.now(),this.removeOrphanedDocuments(t,i)))).next((v=>(g=Date.now(),al()<=Bt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(m-f)+`ms
	Removed ${v} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function qR(n,t){return new d3(n,t)}class m3{constructor(t,e){this.db=t,this.garbageCollector=qR(this,e)}dr(t){const e=this.pr(t);return this.db.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}mr(t,e){return this.yr(t,((i,a)=>e(a)))}addReference(t,e,i){return Zf(t,i)}removeReference(t,e,i){return Zf(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return Zf(t,e)}wr(t,e){return(function(a,l){let u=!1;return jR(a).te((f=>zR(a,f,l).next((m=>(m&&(u=!0),B.resolve(!m)))))).next((()=>u))})(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(t,((u,f)=>{if(f<=e){const m=this.wr(t,u).next((g=>{if(!g)return l++,i.getEntry(t,u).next((()=>(i.removeEntry(u,Et.min()),Is(t).delete((function(v){return[0,hn(v.path)]})(u)))))}));a.push(m)}})).next((()=>B.waitFor(a))).next((()=>i.apply(t))).next((()=>l))}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return Zf(t,e)}yr(t,e){const i=Is(t);let a,l=ni.ce;return i.ee({index:Y_},(([u,f],{path:m,sequenceNumber:g})=>{u===0?(l!==ni.ce&&e(new ht(Zi(a)),l),l=g,a=m):l=ni.ce})).next((()=>{l!==ni.ce&&e(new ht(Zi(a)),l)}))}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Zf(n,t){return Is(n).put((function(i,a){return{targetId:0,path:hn(i.path),sequenceNumber:a}})(t,n.currentSequenceNumber))}class HR{constructor(){this.changes=new Lr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,be.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?B.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class p3{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return wa(t).put(i)}removeEntry(t,e,i){return wa(t).delete((function(l,u){const f=l.path.toArray();return[f.slice(0,f.length-2),f[f.length-2],Xd(u),f[f.length-1]]})(e,i))}updateMetadata(t,e){return this.getMetadata(t).next((i=>(i.byteSize+=e,this.br(t,i))))}getEntry(t,e){let i=be.newInvalidDocument(e);return wa(t).ee({index:fd,range:IDBKeyRange.only(oc(e))},((a,l)=>{i=this.Sr(e,l)})).next((()=>i))}Dr(t,e){let i={size:0,document:be.newInvalidDocument(e)};return wa(t).ee({index:fd,range:IDBKeyRange.only(oc(e))},((a,l)=>{i={document:this.Sr(e,l),size:$d(l)}})).next((()=>i))}getEntries(t,e){let i=Bn();return this.Cr(t,e,((a,l)=>{const u=this.Sr(a,l);i=i.insert(a,u)})).next((()=>i))}vr(t,e){let i=Bn(),a=new pe(ht.comparator);return this.Cr(t,e,((l,u)=>{const f=this.Sr(l,u);i=i.insert(l,f),a=a.insert(l,$d(u))})).next((()=>({documents:i,Fr:a})))}Cr(t,e,i){if(e.isEmpty())return B.resolve();let a=new ee(Ew);e.forEach((m=>a=a.add(m)));const l=IDBKeyRange.bound(oc(a.first()),oc(a.last())),u=a.getIterator();let f=u.getNext();return wa(t).ee({index:fd,range:l},((m,g,y)=>{const v=ht.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;f&&Ew(f,v)<0;)i(f,null),f=u.getNext();f&&f.isEqual(v)&&(i(f,g),f=u.hasNext()?u.getNext():null),f?y.j(oc(f)):y.done()})).next((()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null}))}getDocumentsMatchingQuery(t,e,i,a,l){const u=e.path,f=[u.popLast().toArray(),u.lastSegment(),Xd(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],m=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return wa(t).H(IDBKeyRange.bound(f,m,!0)).next((g=>{l?.incrementDocumentReadCount(g.length);let y=Bn();for(const v of g){const b=this.Sr(ht.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);b.isFoundDocument()&&(lh(e,b)||a.has(b.key))&&(y=y.insert(b.key,b))}return y}))}getAllFromCollectionGroup(t,e,i,a){let l=Bn();const u=Tw(e,i),f=Tw(e,zn.max());return wa(t).ee({index:VI,range:IDBKeyRange.bound(u,f,!0)},((m,g,y)=>{const v=this.Sr(ht.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);l=l.insert(v.key,v),l.size===a&&y.done()})).next((()=>l))}newChangeBuffer(t){return new g3(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next((e=>e.byteSize))}getMetadata(t){return vw(t).get(Ly).next((e=>(vt(!!e,20021),e)))}br(t,e){return vw(t).put(Ly,e)}Sr(t,e){if(e){const i=t3(this.serializer,e);if(!(i.isNoDocument()&&i.version.isEqual(Et.min())))return i}return be.newInvalidDocument(t)}}function GR(n){return new p3(n)}class g3 extends HR{constructor(t,e){super(),this.Mr=t,this.trackRemovals=e,this.Or=new Lr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(t){const e=[];let i=0,a=new ee(((l,u)=>At(l.canonicalString(),u.canonicalString())));return this.changes.forEach(((l,u)=>{const f=this.Or.get(l);if(e.push(this.Mr.removeEntry(t,l,f.readTime)),u.isValidDocument()){const m=nw(this.Mr.serializer,u);a=a.add(l.path.popLast());const g=$d(m);i+=g-f.size,e.push(this.Mr.addEntry(t,l,m))}else if(i-=f.size,this.trackRemovals){const m=nw(this.Mr.serializer,u.convertToNoDocument(Et.min()));e.push(this.Mr.addEntry(t,l,m))}})),a.forEach((l=>{e.push(this.Mr.indexManager.addToCollectionParentIndex(t,l))})),e.push(this.Mr.updateMetadata(t,i)),B.waitFor(e)}getFromCache(t,e){return this.Mr.Dr(t,e).next((i=>(this.Or.set(e,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(t,e){return this.Mr.vr(t,e).next((({documents:i,Fr:a})=>(a.forEach(((l,u)=>{this.Or.set(l,{size:u,readTime:i.get(l).readTime})})),i)))}}function vw(n){return Ke(n,zc)}function wa(n){return Ke(n,jd)}function oc(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Tw(n,t){const e=t.documentKey.path.toArray();return[n,Xd(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function Ew(n,t){const e=n.path.toArray(),i=t.path.toArray();let a=0;for(let l=0;l<e.length-2&&l<i.length-2;++l)if(a=At(e[l],i[l]),a)return a;return a=At(e.length,i.length),a||(a=At(e[e.length-2],i[i.length-2]),a||At(e[e.length-1],i[i.length-1]))}class y3{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class KR{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Cc(i.mutation,a,ii.empty(),Jt.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Pt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Pt()){const a=Ji();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((l=>{let u=dc();return l.forEach(((f,m)=>{u=u.insert(f,m.overlayedDocument)})),u}))))}getOverlayedDocuments(t,e){const i=Ji();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Pt())))}populateOverlays(t,e,i){const a=[];return i.forEach((l=>{e.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(t,a).next((l=>{l.forEach(((u,f)=>{e.set(u,f)}))}))}computeViews(t,e,i,a){let l=Bn();const u=Rc(),f=(function(){return Rc()})();return e.forEach(((m,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Gs)?l=l.insert(g.key,g):y!==void 0?(u.set(g.key,y.mutation.getFieldMask()),Cc(y.mutation,g,y.mutation.getFieldMask(),Jt.now())):u.set(g.key,ii.empty())})),this.recalculateAndSaveOverlays(t,l).next((m=>(m.forEach(((g,y)=>u.set(g,y))),e.forEach(((g,y)=>f.set(g,new y3(y,u.get(g)??null)))),f)))}recalculateAndSaveOverlays(t,e){const i=Rc();let a=new pe(((u,f)=>u-f)),l=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((u=>{for(const f of u)f.keys().forEach((m=>{const g=e.get(m);if(g===null)return;let y=i.get(m)||ii.empty();y=f.applyToLocalView(g,y),i.set(m,y);const v=(a.get(f.batchId)||Pt()).add(m);a=a.insert(f.batchId,v)}))})).next((()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,y=m.value,v=lR();y.forEach((b=>{if(!l.has(b)){const I=pR(e.get(b),i.get(b));I!==null&&v.set(b,I),l=l.add(b)}})),u.push(this.documentOverlayCache.saveOverlays(t,g,v))}return B.waitFor(u)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return T4(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):iR(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-l.size):B.resolve(Ji());let f=kc,m=l;return u.next((g=>B.forEach(g,((y,v)=>(f<v.largestBatchId&&(f=v.largestBatchId),l.get(y)?B.resolve():this.remoteDocumentCache.getEntry(t,y).next((b=>{m=m.insert(y,b)}))))).next((()=>this.populateOverlays(t,g,l))).next((()=>this.computeViews(t,m,g,Pt()))).next((y=>({batchId:f,changes:oR(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new ht(e)).next((i=>{let a=dc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const l=e.collectionGroup;let u=dc();return this.indexManager.getCollectionParents(t,l).next((f=>B.forEach(f,(m=>{const g=(function(v,b){return new oh(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(e,m.child(l));return this.getDocumentsMatchingCollectionQuery(t,g,i,a).next((y=>{y.forEach(((v,b)=>{u=u.insert(v,b)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,a)))).next((u=>{l.forEach(((m,g)=>{const y=g.getKey();u.get(y)===null&&(u=u.insert(y,be.newInvalidDocument(y)))}));let f=dc();return u.forEach(((m,g)=>{const y=l.get(m);y!==void 0&&Cc(y.mutation,g,ii.empty(),Jt.now()),lh(e,g)&&(f=f.insert(m,g))})),f}))}}class _3{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,e){return B.resolve(this.Nr.get(e))}saveBundleMetadata(t,e){return this.Nr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:vn(a.createTime)}})(e)),B.resolve()}getNamedQuery(t,e){return B.resolve(this.Br.get(e))}saveNamedQuery(t,e){return this.Br.set(e.name,(function(a){return{name:a.name,query:NR(a.bundledQuery),readTime:vn(a.readTime)}})(e)),B.resolve()}}class v3{constructor(){this.overlays=new pe(ht.comparator),this.Lr=new Map}getOverlay(t,e){return B.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ji();return B.forEach(e,(a=>this.getOverlay(t,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,l)=>{this.bt(t,e,l)})),B.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),B.resolve()}getOverlaysForCollection(t,e,i){const a=Ji(),l=e.length+1,u=new ht(e.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>i&&a.set(m.getKey(),m)}return B.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let l=new pe(((g,y)=>g-y));const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=l.get(g.largestBatchId);y===null&&(y=Ji(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const f=Ji(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((g,y)=>f.set(g,y))),!(f.size()>=a)););return B.resolve(f)}bt(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new rv(e,i));let l=this.Lr.get(e);l===void 0&&(l=Pt(),this.Lr.set(e,l)),this.Lr.set(e,l.add(i.key))}}class T3{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(t){return B.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,B.resolve()}}class uv{constructor(){this.kr=new ee(We.Kr),this.qr=new ee(We.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,e){const i=new We(t,e);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Wr(new We(t,e))}Qr(t,e){t.forEach((i=>this.removeReference(i,e)))}Gr(t){const e=new ht(new Qt([])),i=new We(e,t),a=new We(e,t+1),l=[];return this.qr.forEachInRange([i,a],(u=>{this.Wr(u),l.push(u.key)})),l}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const e=new ht(new Qt([])),i=new We(e,t),a=new We(e,t+1);let l=Pt();return this.qr.forEachInRange([i,a],(u=>{l=l.add(u.key)})),l}containsKey(t){const e=new We(t,0),i=this.kr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class We{constructor(t,e){this.key=t,this.Hr=e}static Kr(t,e){return ht.comparator(t.key,e.key)||At(t.Hr,e.Hr)}static Ur(t,e){return At(t.Hr,e.Hr)||ht.comparator(t.key,e.key)}}class E3{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Yn=1,this.Jr=new ee(We.Kr)}checkEmpty(t){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new nv(l,e,i,a);this.mutationQueue.push(u);for(const f of a)this.Jr=this.Jr.add(new We(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return B.resolve(u)}lookupMutationBatch(t,e){return B.resolve(this.Zr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.Xr(i),l=a<0?0:a;return B.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?za:this.Yn-1)}getAllMutationBatches(t){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new We(e,0),a=new We(e,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(u=>{const f=this.Zr(u.Hr);l.push(f)})),B.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ee(At);return e.forEach((a=>{const l=new We(a,0),u=new We(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,u],(f=>{i=i.add(f.Hr)}))})),B.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let l=i;ht.isDocumentKey(l)||(l=l.child(""));const u=new We(new ht(l),0);let f=new ee(At);return this.Jr.forEachWhile((m=>{const g=m.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.Hr)),!0)}),u),B.resolve(this.Yr(f))}Yr(t){const e=[];return t.forEach((i=>{const a=this.Zr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){vt(this.ei(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return B.forEach(e.mutations,(a=>{const l=new We(a.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Jr=i}))}nr(t){}containsKey(t,e){const i=new We(e,0),a=this.Jr.firstAfterOrEqual(i);return B.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,B.resolve()}ei(t,e){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const e=this.Xr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class b3{constructor(t){this.ti=t,this.docs=(function(){return new pe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),l=a?a.size:0,u=this.ti(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return B.resolve(i?i.document.mutableCopy():be.newInvalidDocument(e))}getEntries(t,e){let i=Bn();return e.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():be.newInvalidDocument(a))})),B.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let l=Bn();const u=e.path,f=new ht(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||G_(II(y),i)<=0||(a.has(y.key)||lh(e,y))&&(l=l.insert(y.key,y.mutableCopy()))}return B.resolve(l)}getAllFromCollectionGroup(t,e,i,a){yt(9500)}ni(t,e){return B.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new S3(this)}getSize(t){return B.resolve(this.size)}}class S3 extends HR{constructor(t){super(),this.Mr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Mr.addEntry(t,a)):this.Mr.removeEntry(i)})),B.waitFor(e)}getFromCache(t,e){return this.Mr.getEntry(t,e)}getAllFromCache(t,e){return this.Mr.getEntries(t,e)}}class w3{constructor(t){this.persistence=t,this.ri=new Lr((e=>$a(e)),ah),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new uv,this.targetCount=0,this.oi=to._r()}forEachTarget(t,e){return this.ri.forEach(((i,a)=>e(a))),B.resolve()}getLastRemoteSnapshotVersion(t){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return B.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ii&&(this.ii=e),B.resolve()}lr(t){this.ri.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.oi=new to(e),this.highestTargetId=e),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,e){return this.lr(e),this.targetCount+=1,B.resolve()}updateTargetData(t,e){return this.lr(e),B.resolve()}removeTargetData(t,e){return this.ri.delete(e.target),this.si.Gr(e.targetId),this.targetCount-=1,B.resolve()}removeTargets(t,e,i){let a=0;const l=[];return this.ri.forEach(((u,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.ri.delete(u),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),a++)})),B.waitFor(l).next((()=>a))}getTargetCount(t){return B.resolve(this.targetCount)}getTargetData(t,e){const i=this.ri.get(e)||null;return B.resolve(i)}addMatchingKeys(t,e,i){return this.si.$r(e,i),B.resolve()}removeMatchingKeys(t,e,i){this.si.Qr(e,i);const a=this.persistence.referenceDelegate,l=[];return a&&e.forEach((u=>{l.push(a.markPotentiallyOrphaned(t,u))})),B.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.si.Gr(e),B.resolve()}getMatchingKeysForTargetId(t,e){const i=this.si.jr(e);return B.resolve(i)}containsKey(t,e){return B.resolve(this.si.containsKey(e))}}class cv{constructor(t,e){this._i={},this.overlays={},this.ai=new ni(0),this.ui=!1,this.ui=!0,this.ci=new T3,this.referenceDelegate=t(this),this.li=new w3(this),this.indexManager=new l3,this.remoteDocumentCache=(function(a){return new b3(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new PR(e),this.Pi=new _3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new v3,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this._i[t.toKey()];return i||(i=new E3(e,this.referenceDelegate),this._i[t.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,e,i){at("MemoryPersistence","Starting transaction:",t);const a=new A3(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(t,e){return B.or(Object.values(this._i).map((i=>()=>i.containsKey(t,e))))}}class A3 extends CI{constructor(t){super(),this.currentSequenceNumber=t}}class Vm{constructor(t){this.persistence=t,this.Ri=new uv,this.Ai=null}static Vi(t){return new Vm(t)}get di(){if(this.Ai)return this.Ai;throw yt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.di.delete(i.toString()),B.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.di.add(i.toString()),B.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),B.resolve()}removeTarget(t,e){this.Ri.Gr(e.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(t,e)))}Ti(){this.Ai=new Set}Ii(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,(i=>{const a=ht.fromPath(i);return this.mi(t,a).next((l=>{l||e.removeEntry(a,Et.min())}))})).next((()=>(this.Ai=null,e.apply(t))))}updateLimboDocument(t,e){return this.mi(t,e).next((i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())}))}hi(t){return 0}mi(t,e){return B.or([()=>B.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ei(t,e)])}}class Zd{constructor(t,e){this.persistence=t,this.fi=new Lr((i=>hn(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=qR(this,e)}static Vi(t,e){return new Zd(t,e)}Ti(){}Ii(t){return B.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}pr(t){let e=0;return this.mr(t,(i=>{e++})).next((()=>e))}mr(t,e){return B.forEach(this.fi,((i,a)=>this.wr(t,i,a).next((l=>l?B.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(t,(u=>this.wr(t,u,e).next((f=>{f||(i++,l.removeEntry(u,Et.min()))})))).next((()=>l.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.fi.set(e,t.currentSequenceNumber),B.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),B.resolve()}removeReference(t,e,i){return this.fi.set(i,t.currentSequenceNumber),B.resolve()}updateLimboDocument(t,e){return this.fi.set(e,t.currentSequenceNumber),B.resolve()}hi(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=md(t.data.value)),e}wr(t,e,i){return B.or([()=>this.persistence.Ei(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.fi.get(e);return B.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class I3{constructor(t){this.serializer=t}k(t,e,i,a){const l=new gm("createOrUpgrade",e);i<1&&a>=1&&((function(m){m.createObjectStore(sh)})(t),(function(m){m.createObjectStore(Bc,{keyPath:Nk}),m.createObjectStore(Ei,{keyPath:MS,autoIncrement:!0}).createIndex(ka,PS,{unique:!0}),m.createObjectStore(Il)})(t),bw(t),(function(m){m.createObjectStore(xa)})(t));let u=B.resolve();return i<3&&a>=3&&(i!==0&&((function(m){m.deleteObjectStore(Cl),m.deleteObjectStore(Rl),m.deleteObjectStore(ja)})(t),bw(t)),u=u.next((()=>(function(m){const g=m.store(ja),y={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Et.min().toTimestamp(),targetCount:0};return g.put(Fd,y)})(l)))),i<4&&a>=4&&(i!==0&&(u=u.next((()=>(function(m,g){return g.store(Ei).H().next((v=>{m.deleteObjectStore(Ei),m.createObjectStore(Ei,{keyPath:MS,autoIncrement:!0}).createIndex(ka,PS,{unique:!0});const b=g.store(Ei),I=v.map((V=>b.put(V)));return B.waitFor(I)}))})(t,l)))),u=u.next((()=>{(function(m){m.createObjectStore(xl,{keyPath:Hk})})(t)}))),i<5&&a>=5&&(u=u.next((()=>this.gi(l)))),i<6&&a>=6&&(u=u.next((()=>((function(m){m.createObjectStore(zc)})(t),this.pi(l))))),i<7&&a>=7&&(u=u.next((()=>this.yi(l)))),i<8&&a>=8&&(u=u.next((()=>this.wi(t,l)))),i<9&&a>=9&&(u=u.next((()=>{(function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")})(t)}))),i<10&&a>=10&&(u=u.next((()=>this.bi(l)))),i<11&&a>=11&&(u=u.next((()=>{(function(m){m.createObjectStore(_m,{keyPath:Gk})})(t),(function(m){m.createObjectStore(vm,{keyPath:Kk})})(t)}))),i<12&&a>=12&&(u=u.next((()=>{(function(m){const g=m.createObjectStore(Tm,{keyPath:Jk});g.createIndex(By,t4,{unique:!1}),g.createIndex(NI,e4,{unique:!1})})(t)}))),i<13&&a>=13&&(u=u.next((()=>(function(m){const g=m.createObjectStore(jd,{keyPath:Lk});g.createIndex(fd,Uk),g.createIndex(VI,Bk)})(t))).next((()=>this.Si(t,l))).next((()=>t.deleteObjectStore(xa)))),i<14&&a>=14&&(u=u.next((()=>this.Di(t,l)))),i<15&&a>=15&&(u=u.next((()=>(function(m){m.createObjectStore(Q_,{keyPath:Yk,autoIncrement:!0}).createIndex(Uy,Qk,{unique:!1}),m.createObjectStore(Sc,{keyPath:Xk}).createIndex(PI,Wk,{unique:!1}),m.createObjectStore(wc,{keyPath:$k}).createIndex(OI,Zk,{unique:!1})})(t)))),i<16&&a>=16&&(u=u.next((()=>{e.objectStore(Sc).clear()})).next((()=>{e.objectStore(wc).clear()}))),i<17&&a>=17&&(u=u.next((()=>{(function(m){m.createObjectStore(X_,{keyPath:n4})})(t)}))),i<18&&a>=18&&R1()&&(u=u.next((()=>{e.objectStore(Sc).clear()})).next((()=>{e.objectStore(wc).clear()}))),u}pi(t){let e=0;return t.store(xa).ee(((i,a)=>{e+=$d(a)})).next((()=>{const i={byteSize:e};return t.store(zc).put(Ly,i)}))}gi(t){const e=t.store(Bc),i=t.store(Ei);return e.H().next((a=>B.forEach(a,(l=>{const u=IDBKeyRange.bound([l.userId,za],[l.userId,l.lastAcknowledgedBatchId]);return i.H(ka,u).next((f=>B.forEach(f,(m=>{vt(m.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:m.batchId});const g=Ma(this.serializer,m);return BR(t,l.userId,g).next((()=>{}))}))))}))))}yi(t){const e=t.store(Cl),i=t.store(xa);return t.store(ja).get(Fd).next((a=>{const l=[];return i.ee(((u,f)=>{const m=new Qt(u),g=(function(v){return[0,hn(v)]})(m);l.push(e.get(g).next((y=>y?B.resolve():(v=>e.put({targetId:0,path:hn(v),sequenceNumber:a.highestListenSequenceNumber}))(m))))})).next((()=>B.waitFor(l)))}))}wi(t,e){t.createObjectStore(jc,{keyPath:qk});const i=e.store(jc),a=new lv,l=u=>{if(a.add(u)){const f=u.lastSegment(),m=u.popLast();return i.put({collectionId:f,parent:hn(m)})}};return e.store(xa).ee({Y:!0},((u,f)=>{const m=new Qt(u);return l(m.popLast())})).next((()=>e.store(Il).ee({Y:!0},(([u,f,m],g)=>{const y=Zi(f);return l(y.popLast())}))))}bi(t){const e=t.store(Rl);return e.ee(((i,a)=>{const l=pc(a),u=OR(this.serializer,l);return e.put(u)}))}Si(t,e){const i=e.store(xa),a=[];return i.ee(((l,u)=>{const f=e.store(jd),m=(function(v){return v.document?new ht(Qt.fromString(v.document.name).popFirst(5)):v.noDocument?ht.fromSegments(v.noDocument.path):v.unknownDocument?ht.fromSegments(v.unknownDocument.path):yt(36783)})(u).path.toArray(),g={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};a.push(f.put(g))})).next((()=>B.waitFor(a)))}Di(t,e){const i=e.store(Ei),a=GR(this.serializer),l=new cv(Vm.Vi,this.serializer.yt);return i.H().next((u=>{const f=new Map;return u.forEach((m=>{let g=f.get(m.userId)??Pt();Ma(this.serializer,m).keys().forEach((y=>g=g.add(y))),f.set(m.userId,g)})),B.forEach(f,((m,g)=>{const y=new sn(g),v=xm.wt(this.serializer,y),b=l.getIndexManager(y),I=Dm.wt(y,this.serializer,b,l.referenceDelegate);return new KR(a,I,v,b).recalculateAndSaveOverlaysForDocumentKeys(new zy(e,ni.ce),m).next()}))}))}}function bw(n){n.createObjectStore(Cl,{keyPath:jk}).createIndex(Y_,Fk,{unique:!0}),n.createObjectStore(Rl,{keyPath:"targetId"}).createIndex(MI,zk,{unique:!0}),n.createObjectStore(ja)}const Es="IndexedDbPersistence",ey=18e5,ny=5e3,iy="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",R3="main";class hv{constructor(t,e,i,a,l,u,f,m,g,y,v=18){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Ci=l,this.window=u,this.document=f,this.Fi=g,this.Mi=y,this.xi=v,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=b=>Promise.resolve(),!hv.v())throw new ct(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new m3(this,a),this.Ki=e+R3,this.serializer=new PR(m),this.qi=new Os(this.Ki,this.xi,new I3(this.serializer)),this.ci=new n3,this.li=new c3(this.referenceDelegate,this.serializer),this.remoteDocumentCache=GR(this.serializer),this.Pi=new e3,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,y===!1&&gn(Es,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ct(Z.FAILED_PRECONDITION,iy);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(t=>this.li.getHighestSequenceNumber(t)))})).then((t=>{this.ai=new ni(t,this.Fi)})).then((()=>{this.ui=!0})).catch((t=>(this.qi&&this.qi.close(),Promise.reject(t))))}zi(t){return this.ki=async e=>{if(this.started)return t(e)},t(this.isPrimary)}setDatabaseDeletedListener(t){this.qi.q((async e=>{e.newVersion===null&&await t()}))}setNetworkEnabled(t){this.networkEnabled!==t&&(this.networkEnabled=t,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(t=>Jf(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(t).next((e=>{e||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(t))).next((e=>this.isPrimary&&!e?this.Ji(t).next((()=>!1)):!!e&&this.Zi(t).next((()=>!0)))))).catch((t=>{if(Hs(t))return at(Es,"Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return at(Es,"Releasing owner lease after error during lease refresh",t),!1})).then((t=>{this.isPrimary!==t&&this.Ci.enqueueRetryable((()=>this.ki(t))),this.isPrimary=t}))}ji(t){return lc(t).get(Jo).next((e=>B.resolve(this.Xi(e))))}Yi(t){return Jf(t).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,ey)){this.Li=Date.now();const t=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const i=Ke(e,xl);return i.H().next((a=>{const l=this.ns(a,ey),u=a.filter((f=>l.indexOf(f)===-1));return B.forEach(u,(f=>i.delete(f.clientId))).next((()=>u))}))})).catch((()=>[]));if(this.Ui)for(const e of t)this.Ui.removeItem(this.rs(e.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(t){return!!t&&t.ownerId===this.clientId}Hi(t){return this.Mi?B.resolve(!0):lc(t).get(Jo).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,ny)&&!this.ss(e.ownerId)){if(this.Xi(e)&&this.networkEnabled)return!0;if(!this.Xi(e)){if(!e.allowTabSynchronization)throw new ct(Z.FAILED_PRECONDITION,iy);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jf(t).H().next((i=>this.ns(i,ny).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,u=!this.inForeground&&a.inForeground,f=this.networkEnabled===a.networkEnabled;if(l||u&&f)return!0}return!1}))===void 0))})).next((e=>(this.isPrimary!==e&&at(Es,`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[sh,xl],(t=>{const e=new zy(t,ni.ce);return this.Ji(e).next((()=>this.Yi(e)))})),this.qi.close(),this.ls()}ns(t,e){return t.filter((i=>this.ts(i.updateTimeMs,e)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(t=>Jf(t).H().next((e=>this.ns(e,ey).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(t,e){return Dm.wt(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new u3(t,this.serializer.yt.databaseId)}getDocumentOverlayCache(t){return xm.wt(this.serializer,t)}getBundleCache(){return this.Pi}runTransaction(t,e,i){at(Es,"Starting transaction:",t);const a=e==="readonly"?"readonly":"readwrite",l=(function(m){return m===18?s4:m===17?BI:m===16?r4:m===15?W_:m===14?UI:m===13?LI:m===12?i4:m===11?kI:void yt(60245)})(this.xi);let u;return this.qi.runTransaction(t,a,l,(f=>(u=new zy(f,this.ai?this.ai.next():ni.ce),e==="readwrite-primary"?this.ji(u).next((m=>!!m||this.Hi(u))).next((m=>{if(!m)throw gn(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new ct(Z.FAILED_PRECONDITION,RI);return i(u)})).next((m=>this.Zi(u).next((()=>m)))):this.Ps(u).next((()=>i(u)))))).then((f=>(u.raiseOnCommittedEvent(),f)))}Ps(t){return lc(t).get(Jo).next((e=>{if(e!==null&&this.ts(e.leaseTimestampMs,ny)&&!this.ss(e.ownerId)&&!this.Xi(e)&&!(this.Mi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ct(Z.FAILED_PRECONDITION,iy)}))}Zi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return lc(t).put(Jo,e)}static v(){return Os.v()}Ji(t){const e=lc(t);return e.get(Jo).next((i=>this.Xi(i)?(at(Es,"Releasing primary lease."),e.delete(Jo)):B.resolve()))}ts(t,e){const i=Date.now();return!(t<i-e)&&(!(t>i)||(gn(`Detected an update time that is in the future: ${t} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const t=/(?:Version|Mobile)\/1[456]/;I1()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(t){try{const e=this.Ui?.getItem(this.rs(t))!==null;return at(Es,`Client '${t}' ${e?"is":"is not"} zombied in LocalStorage`),e}catch(e){return gn(Es,"Failed to get zombied client id.",e),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(t){gn("Failed to set zombie client id.",t)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function lc(n){return Ke(n,sh)}function Jf(n){return Ke(n,xl)}function C3(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class fv{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Ts=i,this.Is=a}static Es(t,e){let i=Pt(),a=Pt();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new fv(t,e.fromCache,i,a)}}class x3{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class YR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return I1()?8:xI(Ge())>0?6:4})()}initialize(t,e){this.fs=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const l={result:null};return this.gs(t,e).next((u=>{l.result=u})).next((()=>{if(!l.result)return this.ps(t,e,a,i).next((u=>{l.result=u}))})).next((()=>{if(l.result)return;const u=new x3;return this.ys(t,e,u).next((f=>{if(l.result=f,this.As)return this.ws(t,e,u,f.size)}))})).next((()=>l.result))}ws(t,e,i,a){return i.documentReadCount<this.Vs?(al()<=Bt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",ol(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),B.resolve()):(al()<=Bt.DEBUG&&at("QueryEngine","Query:",ol(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(al()<=Bt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",ol(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,si(e))):B.resolve())}gs(t,e){if(KS(e))return B.resolve(null);let i=si(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Yy(e,null,"F"),i=si(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((l=>{const u=Pt(...l);return this.fs.getDocuments(t,u).next((f=>this.indexManager.getMinOffset(t,i).next((m=>{const g=this.bs(e,f);return this.Ss(e,g,u,m.readTime)?this.gs(t,Yy(e,null,"F")):this.Ds(t,g,e,m)}))))})))))}ps(t,e,i,a){return KS(e)||a.isEqual(Et.min())?B.resolve(null):this.fs.getDocuments(t,i).next((l=>{const u=this.bs(e,l);return this.Ss(e,u,i,a)?B.resolve(null):(al()<=Bt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ol(e)),this.Ds(t,u,e,Ck(a,kc)).next((f=>f)))}))}bs(t,e){let i=new ee(sR(t));return e.forEach(((a,l)=>{lh(t,l)&&(i=i.add(l))})),i}Ss(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const l=t.limitType==="F"?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(t,e,i){return al()<=Bt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",ol(e)),this.fs.getDocumentsMatchingQuery(t,e,zn.min(),i)}Ds(t,e,i,a){return this.fs.getDocumentsMatchingQuery(t,i,a).next((l=>(e.forEach((u=>{l=l.insert(u.key,u)})),l)))}}const dv="LocalStore",D3=3e8;class V3{constructor(t,e,i,a){this.persistence=t,this.Cs=e,this.serializer=a,this.vs=new pe(At),this.Fs=new Lr((l=>$a(l)),ah),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(i)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new KR(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.vs)))}}function QR(n,t,e,i){return new V3(n,t,e,i)}async function XR(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,e.Os(t),e.mutationQueue.getAllMutationBatches(i)))).next((l=>{const u=[],f=[];let m=Pt();for(const g of a){u.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){f.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return e.localDocuments.getDocuments(i,m).next((g=>({Ns:g,removedBatchIds:u,addedBatchIds:f})))}))}))}function M3(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),l=e.xs.newChangeBuffer({trackRemovals:!0});return(function(f,m,g,y){const v=g.batch,b=v.keys();let I=B.resolve();return b.forEach((V=>{I=I.next((()=>y.getEntry(m,V))).next((U=>{const z=g.docVersions.get(V);vt(z!==null,48541),U.version.compareTo(z)<0&&(v.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))}))})),I.next((()=>f.mutationQueue.removeMutationBatch(m,v)))})(e,i,t,l).next((()=>l.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let m=Pt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function WR(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.li.getLastRemoteSnapshotVersion(e)))}function P3(n,t){const e=It(n),i=t.snapshotVersion;let a=e.vs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const u=e.xs.newChangeBuffer({trackRemovals:!0});a=e.vs;const f=[];t.targetChanges.forEach(((y,v)=>{const b=a.get(v);if(!b)return;f.push(e.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>e.li.addMatchingKeys(l,y.addedDocuments,v))));let I=b.withSequenceNumber(l.currentSequenceNumber);t.targetMismatches.get(v)!==null?I=I.withResumeToken(Be.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):y.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(y.resumeToken,i)),a=a.insert(v,I),(function(U,z,Q){return U.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=D3?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0})(b,I,y)&&f.push(e.li.updateTargetData(l,I))}));let m=Bn(),g=Pt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,y))})),f.push(O3(l,u,t.documentUpdates).next((y=>{m=y.Bs,g=y.Ls}))),!i.isEqual(Et.min())){const y=e.li.getLastRemoteSnapshotVersion(l).next((v=>e.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(y)}return B.waitFor(f).next((()=>u.apply(l))).next((()=>e.localDocuments.getLocalViewOfDocuments(l,m,g))).next((()=>m))})).then((l=>(e.vs=a,l)))}function O3(n,t,e){let i=Pt(),a=Pt();return e.forEach((l=>i=i.add(l))),t.getEntries(n,i).next((l=>{let u=Bn();return e.forEach(((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Et.min())?(t.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(m),u=u.insert(f,m)):at(dv,"Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)})),{Bs:u,Ls:a}}))}function N3(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=za),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function k3(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.li.getTargetData(i,t).next((l=>l?(a=l,B.resolve(a)):e.li.allocateTargetId(i).next((u=>(a=new Cr(t,u,"TargetPurposeListen",i.currentSequenceNumber),e.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.vs=e.vs.insert(i.targetId,i),e.Fs.set(t,i.targetId)),i}))}async function e_(n,t,e){const i=It(n),a=i.vs.get(t),l=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",l,(u=>i.persistence.referenceDelegate.removeTarget(u,a)))}catch(u){if(!Hs(u))throw u;at(dv,`Failed to update sequence numbers for target ${t}: ${u}`)}i.vs=i.vs.remove(t),i.Fs.delete(a.target)}function Sw(n,t,e){const i=It(n);let a=Et.min(),l=Pt();return i.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,g,y){const v=It(m),b=v.Fs.get(y);return b!==void 0?B.resolve(v.vs.get(b)):v.li.getTargetData(g,y)})(i,u,si(t)).next((f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(u,f.targetId).next((m=>{l=m}))})).next((()=>i.Cs.getDocumentsMatchingQuery(u,t,e?a:Et.min(),e?l:Pt()))).next((f=>(L3(i,b4(t),f),{documents:f,ks:l})))))}function L3(n,t,e){let i=n.Ms.get(t)||Et.min();e.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Ms.set(t,i)}class ww{constructor(){this.activeTargetIds=C4()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class $R{constructor(){this.vo=new ww,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,e,i){this.Fo[t]=e}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new ww,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class U3{Mo(t){}shutdown(){}}const Aw="ConnectivityMonitor";class Iw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){at(Aw,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){at(Aw,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let td=null;function n_(){return td===null?td=(function(){return 268435456+Math.round(2147483648*Math.random())})():td++,"0x"+td.toString(16)}const ry="RestConnection",B3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class z3{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=e+"://"+t.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===qd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(t,e,i,a,l){const u=n_(),f=this.Qo(t,e.toUriEncodedString());at(ry,`Sending RPC '${t}' ${u}:`,f,i);const m={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(m,a,l);const{host:g}=new URL(f),y=zl(g);return this.zo(t,f,m,i,y).then((v=>(at(ry,`Received RPC '${t}' ${u}: `,v),v)),(v=>{throw Ls(ry,`RPC '${t}' ${u} failed with error: `,v,"url: ",f,"request:",i),v}))}jo(t,e,i,a,l,u){return this.Wo(t,e,i,a,l)}Go(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,l)=>t[l]=a)),i&&i.headers.forEach(((a,l)=>t[l]=a))}Qo(t,e){const i=B3[t];let a=`${this.qo}/v1/${e}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class j3{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}const ln="WebChannelConnection",uc=(n,t,e)=>{n.listen(t,(i=>{try{e(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class Tl extends z3{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Tl.c_){const t=vI();uc(t,_I.STAT_EVENT,(e=>{e.stat===Oy.PROXY?at(ln,"STAT_EVENT: detected buffering proxy"):e.stat===Oy.NOPROXY&&at(ln,"STAT_EVENT: detected no buffering proxy")})),Tl.c_=!0}}zo(t,e,i,a,l){const u=n_();return new Promise(((f,m)=>{const g=new gI;g.setWithCredentials(!0),g.listenOnce(yI.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case ud.NO_ERROR:const v=g.getResponseJson();at(ln,`XHR for RPC '${t}' ${u} received:`,JSON.stringify(v)),f(v);break;case ud.TIMEOUT:at(ln,`RPC '${t}' ${u} timed out`),m(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ud.HTTP_ERROR:const b=g.getStatus();if(at(ln,`RPC '${t}' ${u} failed with status:`,b,"response text:",g.getResponseText()),b>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I?.error;if(V&&V.status&&V.message){const U=(function(Q){const $=Q.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf($)>=0?$:Z.UNKNOWN})(V.status);m(new ct(U,V.message))}else m(new ct(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:u,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{at(ln,`RPC '${t}' ${u} completed.`)}}));const y=JSON.stringify(a);at(ln,`RPC '${t}' ${u} sending request:`,a),g.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=n_(),l=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=this.createWebChannelTransport(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Go(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const g=l.join("");at(ln,`Creating RPC '${t}' stream ${a}: ${g}`,f);const y=u.createWebChannel(g,f);this.I_(y);let v=!1,b=!1;const I=new j3({Ho:V=>{b?at(ln,`Not sending because RPC '${t}' stream ${a} is closed:`,V):(v||(at(ln,`Opening RPC '${t}' stream ${a} transport.`),y.open(),v=!0),at(ln,`RPC '${t}' stream ${a} sending:`,V),y.send(V))},Jo:()=>y.close()});return uc(y,fc.EventType.OPEN,(()=>{b||(at(ln,`RPC '${t}' stream ${a} transport opened.`),I.i_())})),uc(y,fc.EventType.CLOSE,(()=>{b||(b=!0,at(ln,`RPC '${t}' stream ${a} transport closed`),I.o_(),this.E_(y))})),uc(y,fc.EventType.ERROR,(V=>{b||(b=!0,Ls(ln,`RPC '${t}' stream ${a} transport errored. Name:`,V.name,"Message:",V.message),I.o_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),uc(y,fc.EventType.MESSAGE,(V=>{if(!b){const U=V.data[0];vt(!!U,16349);const z=U,Q=z?.error||z[0]?.error;if(Q){at(ln,`RPC '${t}' stream ${a} received error:`,Q);const $=Q.status;let Y=(function(ut){const C=ke[ut];if(C!==void 0)return _R(C)})($),it=Q.message;$==="NOT_FOUND"&&it.includes("database")&&it.includes("does not exist")&&it.includes(this.databaseId.database)&&Ls(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),Y===void 0&&(Y=Z.INTERNAL,it="Unknown error status: "+$+" with message "+Q.message),b=!0,I.o_(new ct(Y,it)),y.close()}else at(ln,`RPC '${t}' stream ${a} received:`,U),I.__(U)}})),Tl.u_(),setTimeout((()=>{I.s_()}),0),I}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((e=>e===t))}Go(t,e,i){super.Go(t,e,i),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return TI()}}function F3(n){return new Tl(n)}function q3(){return typeof window<"u"?window:null}function vd(){return typeof document<"u"?document:null}function Mm(n){return new H4(n,!0)}Tl.c_=!1;class ZR{constructor(t,e,i=1e3,a=1.5,l=6e4){this.Ci=t,this.timerId=e,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const e=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&at("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Rw="PersistentStream";class JR{constructor(t,e,i,a,l,u,f,m){this.Ci=t,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ZR(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===Z.RESOURCE_EXHAUSTED?(gn(e.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(e)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new ct(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.Q_(this.D_);this.stream=this.j_(t,e),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Rw,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return e=>{this.Ci.enqueueAndForget((()=>this.D_===t?e():(at(Rw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class H3 extends JR{constructor(t,e,i,a,l,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}j_(t,e){return this.connection.T_("Listen",t,e)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=Y4(this.serializer,t),i=(function(l){if(!("targetChange"in l))return Et.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Et.min():u.readTime?vn(u.readTime):Et.min()})(t);return this.listener.J_(e,i)}Z_(t){const e={};e.database=Wy(this.serializer),e.addTarget=(function(l,u){let f;const m=u.target;if(f=Gd(m)?{documents:IR(l,m)}:{query:RR(l,m).ft},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=ER(l,u.resumeToken);const g=Qy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Et.min())>0){f.readTime=Ll(l,u.snapshotVersion.toTimestamp());const g=Qy(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f})(this.serializer,t);const i=X4(this.serializer,t);i&&(e.labels=i),this.K_(e)}X_(t){const e={};e.database=Wy(this.serializer),e.removeTarget=t,this.K_(e)}}class G3 extends JR{constructor(t,e,i,a,l,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,u),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}H_(t){return vt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,vt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){vt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Q4(t.writeResults,t.commitTime),i=vn(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Wy(this.serializer),this.K_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>Qd(this.serializer,i)))};this.K_(e)}}class K3{}class Y3 extends K3{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Wo(t,Xy(e,i),a,l,u))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ct(Z.UNKNOWN,l.toString())}))}jo(t,e,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.jo(t,Xy(e,i),a,u,f,l))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(Z.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function Q3(n,t,e,i){return new Y3(n,t,e,i)}class X3{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(gn(e),this.aa=!1):at("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const eo="RemoteStore";class W3{constructor(t,e,i,a,l){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((u=>{i.enqueueAndForget((async()=>{so(this)&&(at(eo,"Restarting streams for network reachability change."),await(async function(m){const g=It(m);g.Ea.add(4),await ch(g),g.Va.set("Unknown"),g.Ea.delete(4),await Pm(g)})(this))}))})),this.Va=new X3(i,a)}}async function Pm(n){if(so(n))for(const t of n.Ra)await t(!0)}async function ch(n){for(const t of n.Ra)await t(!1)}function tC(n,t){const e=It(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),yv(e)?gv(e):Kl(e).O_()&&pv(e,t))}function mv(n,t){const e=It(n),i=Kl(e);e.Ia.delete(t),i.O_()&&eC(e,t),e.Ia.size===0&&(i.O_()?i.L_():so(e)&&e.Va.set("Unknown"))}function pv(n,t){if(n.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Kl(n).Z_(t)}function eC(n,t){n.da.$e(t),Kl(n).X_(t)}function gv(n){n.da=new z4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Kl(n).start(),n.Va.ua()}function yv(n){return so(n)&&!Kl(n).x_()&&n.Ia.size>0}function so(n){return It(n).Ea.size===0}function nC(n){n.da=void 0}async function $3(n){n.Va.set("Online")}async function Z3(n){n.Ia.forEach(((t,e)=>{pv(n,t)}))}async function J3(n,t){nC(n),yv(n)?(n.Va.ha(t),gv(n)):n.Va.set("Unknown")}async function t6(n,t,e){if(n.Va.set("Online"),t instanceof TR&&t.state===2&&t.cause)try{await(async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Ia.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Ia.delete(f),a.da.removeTarget(f))})(n,t)}catch(i){at(eo,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Jd(n,i)}else if(t instanceof yd?n.da.Xe(t):t instanceof vR?n.da.st(t):n.da.tt(t),!e.isEqual(Et.min()))try{const i=await WR(n.localStore);e.compareTo(i)>=0&&await(function(l,u){const f=l.da.Tt(u);return f.targetChanges.forEach(((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.Ia.get(g);y&&l.Ia.set(g,y.withResumeToken(m.resumeToken,u))}})),f.targetMismatches.forEach(((m,g)=>{const y=l.Ia.get(m);if(!y)return;l.Ia.set(m,y.withResumeToken(Be.EMPTY_BYTE_STRING,y.snapshotVersion)),eC(l,m);const v=new Cr(y.target,m,g,y.sequenceNumber);pv(l,v)})),l.remoteSyncer.applyRemoteEvent(f)})(n,e)}catch(i){at(eo,"Failed to raise snapshot:",i),await Jd(n,i)}}async function Jd(n,t,e){if(!Hs(t))throw t;n.Ea.add(1),await ch(n),n.Va.set("Offline"),e||(e=()=>WR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{at(eo,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Pm(n)}))}function iC(n,t){return t().catch((e=>Jd(n,e,t)))}async function hh(n){const t=It(n),e=zs(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:za;for(;e6(t);)try{const a=await N3(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,n6(t,a)}catch(a){await Jd(t,a)}rC(t)&&sC(t)}function e6(n){return so(n)&&n.Ta.length<10}function n6(n,t){n.Ta.push(t);const e=zs(n);e.O_()&&e.Y_&&e.ea(t.mutations)}function rC(n){return so(n)&&!zs(n).x_()&&n.Ta.length>0}function sC(n){zs(n).start()}async function i6(n){zs(n).ra()}async function r6(n){const t=zs(n);for(const e of n.Ta)t.ea(e.mutations)}async function s6(n,t,e){const i=n.Ta.shift(),a=iv.from(i,t,e);await iC(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await hh(n)}async function a6(n,t){t&&zs(n).Y_&&await(async function(i,a){if((function(u){return L4(u)&&u!==Z.ABORTED})(a.code)){const l=i.Ta.shift();zs(i).B_(),await iC(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await hh(i)}})(n,t),rC(n)&&sC(n)}async function Cw(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),at(eo,"RemoteStore received new credentials");const i=so(e);e.Ea.add(3),await ch(e),i&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Pm(e)}async function o6(n,t){const e=It(n);t?(e.Ea.delete(2),await Pm(e)):t||(e.Ea.add(2),await ch(e),e.Va.set("Unknown"))}function Kl(n){return n.ma||(n.ma=(function(e,i,a){const l=It(e);return l.sa(),new H3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:$3.bind(null,n),Yo:Z3.bind(null,n),t_:J3.bind(null,n),J_:t6.bind(null,n)}),n.Ra.push((async t=>{t?(n.ma.B_(),yv(n)?gv(n):n.Va.set("Unknown")):(await n.ma.stop(),nC(n))}))),n.ma}function zs(n){return n.fa||(n.fa=(function(e,i,a){const l=It(e);return l.sa(),new G3(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:i6.bind(null,n),t_:a6.bind(null,n),ta:r6.bind(null,n),na:s6.bind(null,n)}),n.Ra.push((async t=>{t?(n.fa.B_(),await hh(n)):(await n.fa.stop(),n.Ta.length>0&&(at(eo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class _v{constructor(t,e,i,a,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,l){const u=Date.now()+i,f=new _v(t,e,u,a,l);return f.start(i),f}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vv(n,t){if(gn("AsyncQueue",`${t}: ${n}`),Hs(n))return new ct(Z.UNAVAILABLE,`${t}: ${n}`);throw n}class El{static emptySet(t){return new El(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||ht.comparator(e.key,i.key):(e,i)=>ht.comparator(e.key,i.key),this.keyedMap=dc(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof El)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new El;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class xw{constructor(){this.ga=new pe(ht.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):yt(63341,{Vt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Ul{constructor(t,e,i,a,l,u,f,m,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,a,l){const u=[];return e.forEach((f=>{u.push({type:0,doc:f})})),new Ul(t,e,El.emptySet(e),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&wm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class l6{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class u6{constructor(){this.queries=Dw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=It(e),l=a.queries;a.queries=Dw(),l.forEach(((u,f)=>{for(const m of f.ba)m.onError(i)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function Dw(){return new Lr((n=>rR(n)),wm)}async function aC(n,t){const e=It(n);let i=3;const a=t.query;let l=e.queries.get(a);l?!l.Sa()&&t.Da()&&(i=2):(l=new l6,i=t.Da()?0:1);try{switch(i){case 0:l.wa=await e.onListen(a,!0);break;case 1:l.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(u){const f=vv(u,`Initialization of query '${ol(t.query)}' failed`);return void t.onError(f)}e.queries.set(a,l),l.ba.push(t),t.va(e.onlineState),l.wa&&t.Fa(l.wa)&&Tv(e)}async function oC(n,t){const e=It(n),i=t.query;let a=3;const l=e.queries.get(i);if(l){const u=l.ba.indexOf(t);u>=0&&(l.ba.splice(u,1),l.ba.length===0?a=t.Da()?0:1:!l.Sa()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function c6(n,t){const e=It(n);let i=!1;for(const a of t){const l=a.query,u=e.queries.get(l);if(u){for(const f of u.ba)f.Fa(a)&&(i=!0);u.wa=a}}i&&Tv(e)}function h6(n,t,e){const i=It(n),a=i.queries.get(t);if(a)for(const l of a.ba)l.onError(e);i.queries.delete(t)}function Tv(n){n.Ca.forEach((t=>{t.next()}))}var i_,Vw;(Vw=i_||(i_={})).Ma="default",Vw.Cache="cache";class lC{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new Ul(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.Ka||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ul.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==i_.Cache}}class uC{constructor(t){this.key=t}}class cC{constructor(t){this.key=t}}class f6{constructor(t,e){this.query=t,this.Za=e,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Pt(),this.mutatedKeys=Pt(),this.eu=sR(t),this.tu=new El(this.eu)}get nu(){return this.Za}ru(t,e){const i=e?e.iu:new xw,a=e?e.tu:this.tu;let l=e?e.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,v)=>{const b=a.get(y),I=lh(this.query,v)?v:null,V=!!b&&this.mutatedKeys.has(b.key),U=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let z=!1;b&&I?b.data.isEqual(I.data)?V!==U&&(i.track({type:3,doc:I}),z=!0):this.su(b,I)||(i.track({type:2,doc:I}),z=!0,(m&&this.eu(I,m)>0||g&&this.eu(I,g)<0)&&(f=!0)):!b&&I?(i.track({type:0,doc:I}),z=!0):b&&!I&&(i.track({type:1,doc:b}),z=!0,(m||g)&&(f=!0)),z&&(I?(u=u.add(I),l=U?l.add(y):l.delete(y)):(u=u.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),l=l.delete(y.key),i.track({type:1,doc:y})}return{tu:u,iu:i,Ss:f,mutatedKeys:l}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const l=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const u=t.iu.ya();u.sort(((y,v)=>(function(I,V){const U=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Vt:z})}};return U(I)-U(V)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(i),a=a??!1;const f=e&&!a?this._u():[],m=this.Ya.size===0&&this.current&&!a?1:0,g=m!==this.Xa;return this.Xa=m,u.length!==0||g?{snapshot:new Ul(this.query,t.tu,l,u,t.mutatedKeys,m===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:f}:{au:f}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new xw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Za=this.Za.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Za=this.Za.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Pt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const e=[];return t.forEach((i=>{this.Ya.has(i)||e.push(new cC(i))})),this.Ya.forEach((i=>{t.has(i)||e.push(new uC(i))})),e}cu(t){this.Za=t.ks,this.Ya=Pt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ul.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ev="SyncEngine";class d6{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class m6{constructor(t){this.key=t,this.hu=!1}}class p6{constructor(t,e,i,a,l,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Lr((f=>rR(f)),wm),this.Iu=new Map,this.Eu=new Set,this.Ru=new pe(ht.comparator),this.Au=new Map,this.Vu=new uv,this.du={},this.mu=new Map,this.fu=to.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function g6(n,t,e=!0){const i=gC(n);let a;const l=i.Tu.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await hC(i,t,e,!0),a}async function y6(n,t){const e=gC(n);await hC(e,t,!0,!1)}async function hC(n,t,e,i){const a=await k3(n.localStore,si(t)),l=a.targetId,u=n.sharedClientState.addLocalQueryTarget(l,e);let f;return i&&(f=await _6(n,t,l,u==="current",a.resumeToken)),n.isPrimaryClient&&e&&tC(n.remoteStore,a),f}async function _6(n,t,e,i,a){n.pu=(v,b,I)=>(async function(U,z,Q,$){let Y=z.view.ru(Q);Y.Ss&&(Y=await Sw(U.localStore,z.query,!1).then((({documents:C})=>z.view.ru(C,Y))));const it=$&&$.targetChanges.get(z.targetId),rt=$&&$.targetMismatches.get(z.targetId)!=null,ut=z.view.applyChanges(Y,U.isPrimaryClient,it,rt);return Pw(U,z.targetId,ut.au),ut.snapshot})(n,v,b,I);const l=await Sw(n.localStore,t,!0),u=new f6(t,l.ks),f=u.ru(l.documents),m=uh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),g=u.applyChanges(f,n.isPrimaryClient,m);Pw(n,e,g.au);const y=new d6(t,e,u);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function v6(n,t,e){const i=It(n),a=i.Tu.get(t),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((u=>!wm(u,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await e_(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&mv(i.remoteStore,a.targetId),r_(i,a.targetId)})).catch(io)):(r_(i,a.targetId),await e_(i.localStore,a.targetId,!0))}async function T6(n,t){const e=It(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),mv(e.remoteStore,i.targetId))}async function E6(n,t,e){const i=yC(n);try{const a=await(function(u,f){const m=It(u),g=Jt.now(),y=f.reduce(((I,V)=>I.add(V.key)),Pt());let v,b;return m.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let V=Bn(),U=Pt();return m.xs.getEntries(I,y).next((z=>{V=z,V.forEach(((Q,$)=>{$.isValidDocument()||(U=U.add(Q))}))})).next((()=>m.localDocuments.getOverlayedDocuments(I,V))).next((z=>{v=z;const Q=[];for(const $ of f){const Y=N4($,v.get($.key).overlayedDocument);Y!=null&&Q.push(new Gs($.key,Y,XI(Y.value.mapValue),Cn.exists(!0)))}return m.mutationQueue.addMutationBatch(I,g,Q,f)})).next((z=>{b=z;const Q=z.applyToLocalDocumentSet(v,U);return m.documentOverlayCache.saveOverlays(I,z.batchId,Q)}))})).then((()=>({batchId:b.batchId,changes:oR(v)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(u,f,m){let g=u.du[u.currentUser.toKey()];g||(g=new pe(At)),g=g.insert(f,m),u.du[u.currentUser.toKey()]=g})(i,a.batchId,e),await fh(i,a.changes),await hh(i.remoteStore)}catch(a){const l=vv(a,"Failed to persist write");e.reject(l)}}async function fC(n,t){const e=It(n);try{const i=await P3(e.localStore,t);t.targetChanges.forEach(((a,l)=>{const u=e.Au.get(l);u&&(vt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.hu=!0:a.modifiedDocuments.size>0?vt(u.hu,14607):a.removedDocuments.size>0&&(vt(u.hu,42227),u.hu=!1))})),await fh(e,i,t)}catch(i){await io(i)}}function Mw(n,t,e){const i=It(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((l,u)=>{const f=u.view.va(t);f.snapshot&&a.push(f.snapshot)})),(function(u,f){const m=It(u);m.onlineState=f;let g=!1;m.queries.forEach(((y,v)=>{for(const b of v.ba)b.va(f)&&(g=!0)})),g&&Tv(m)})(i.eventManager,t),a.length&&i.Pu.J_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function b6(n,t,e){const i=It(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),l=a&&a.key;if(l){let u=new pe(ht.comparator);u=u.insert(l,be.newNoDocument(l,Et.min()));const f=Pt().add(l),m=new Cm(Et.min(),new Map,new pe(At),u,f);await fC(i,m),i.Ru=i.Ru.remove(l),i.Au.delete(t),bv(i)}else await e_(i.localStore,t,!1).then((()=>r_(i,t,e))).catch(io)}async function S6(n,t){const e=It(n),i=t.batch.batchId;try{const a=await M3(e.localStore,t);mC(e,i,null),dC(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await fh(e,a)}catch(a){await io(a)}}async function w6(n,t,e){const i=It(n);try{const a=await(function(u,f){const m=It(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return m.mutationQueue.lookupMutationBatch(g,f).next((v=>(vt(v!==null,37113),y=v.keys(),m.mutationQueue.removeMutationBatch(g,v)))).next((()=>m.mutationQueue.performConsistencyCheck(g))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,f))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>m.localDocuments.getDocuments(g,y)))}))})(i.localStore,t);mC(i,t,e),dC(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await fh(i,a)}catch(a){await io(a)}}function dC(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function mC(n,t,e){const i=It(n);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(t);l&&(e?l.reject(e):l.resolve(),a=a.remove(t)),i.du[i.currentUser.toKey()]=a}}function r_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Vu.Gr(t).forEach((i=>{n.Vu.containsKey(i)||pC(n,i)}))}function pC(n,t){n.Eu.delete(t.path.canonicalString());const e=n.Ru.get(t);e!==null&&(mv(n.remoteStore,e),n.Ru=n.Ru.remove(t),n.Au.delete(e),bv(n))}function Pw(n,t,e){for(const i of e)i instanceof uC?(n.Vu.addReference(i.key,t),A6(n,i)):i instanceof cC?(at(Ev,"Document no longer in limbo: "+i.key),n.Vu.removeReference(i.key,t),n.Vu.containsKey(i.key)||pC(n,i.key)):yt(19791,{wu:i})}function A6(n,t){const e=t.key,i=e.path.canonicalString();n.Ru.get(e)||n.Eu.has(i)||(at(Ev,"New document in limbo: "+e),n.Eu.add(i),bv(n))}function bv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new ht(Qt.fromString(t)),i=n.fu.next();n.Au.set(i,new m6(e)),n.Ru=n.Ru.insert(e,i),tC(n.remoteStore,new Cr(si(Sm(e.path)),i,"TargetPurposeLimboResolution",ni.ce))}}async function fh(n,t,e){const i=It(n),a=[],l=[],u=[];i.Tu.isEmpty()||(i.Tu.forEach(((f,m)=>{u.push(i.pu(m,t,e).then((g=>{if((g||e)&&i.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(m.targetId)?.current;i.sharedClientState.updateQueryState(m.targetId,y?"current":"not-current")}if(g){a.push(g);const y=fv.Es(m.targetId,g);l.push(y)}})))})),await Promise.all(u),i.Pu.J_(a),await(async function(m,g){const y=It(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>B.forEach(g,(b=>B.forEach(b.Ts,(I=>y.persistence.referenceDelegate.addReference(v,b.targetId,I))).next((()=>B.forEach(b.Is,(I=>y.persistence.referenceDelegate.removeReference(v,b.targetId,I)))))))))}catch(v){if(!Hs(v))throw v;at(dv,"Failed to update sequence numbers: "+v)}for(const v of g){const b=v.targetId;if(!v.fromCache){const I=y.vs.get(b),V=I.snapshotVersion,U=I.withLastLimboFreeSnapshotVersion(V);y.vs=y.vs.insert(b,U)}}})(i.localStore,l))}async function I6(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){at(Ev,"User change. New user:",t.toKey());const i=await XR(e.localStore,t);e.currentUser=t,(function(l,u){l.mu.forEach((f=>{f.forEach((m=>{m.reject(new ct(Z.CANCELLED,u))}))})),l.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await fh(e,i.Ns)}}function R6(n,t){const e=It(n),i=e.Au.get(t);if(i&&i.hu)return Pt().add(i.key);{let a=Pt();const l=e.Iu.get(t);if(!l)return a;for(const u of l){const f=e.Tu.get(u);a=a.unionWith(f.view.nu)}return a}}function gC(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=fC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=b6.bind(null,t),t.Pu.J_=c6.bind(null,t.eventManager),t.Pu.yu=h6.bind(null,t.eventManager),t}function yC(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=S6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=w6.bind(null,t),t}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mm(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return QR(this.persistence,new YR,t.initialUser,this.serializer)}Cu(t){return new cv(Vm.Vi,this.serializer)}Du(t){return new $R}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class C6 extends Yc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){vt(this.persistence.referenceDelegate instanceof Zd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new FR(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new cv((i=>Zd.Vi(i,e)),this.serializer)}}class x6 extends Yc{constructor(t,e,i){super(),this.xu=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(t){await super.initialize(t),await this.xu.initialize(this,t),await yC(this.xu.syncEngine),await hh(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(t){return QR(this.persistence,new YR,t.initialUser,this.serializer)}Fu(t,e){const i=this.persistence.referenceDelegate.garbageCollector;return new FR(i,t.asyncQueue,e)}Mu(t,e){const i=new Mk(e,this.persistence);return new Vk(t.asyncQueue,i)}Cu(t){const e=C3(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new hv(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,q3(),vd(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(t){return new $R}}class tm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Mw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=I6.bind(null,this.syncEngine),await o6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new u6})()}createDatastore(t){const e=Mm(t.databaseInfo.databaseId),i=F3(t.databaseInfo);return Q3(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,l,u,f){return new W3(i,a,l,u,f)})(this.localStore,this.datastore,t.asyncQueue,(e=>Mw(this.syncEngine,e,0)),(function(){return Iw.v()?new Iw:new U3})())}createSyncEngine(t,e){return(function(a,l,u,f,m,g,y){const v=new p6(a,l,u,f,m,g);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=It(e);at(eo,"RemoteStore shutting down."),i.Ea.add(5),await ch(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}tm.provider={build:()=>new tm};class _C{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):gn("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const js="FirestoreClient";class D6{constructor(t,e,i,a,l){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this._databaseInfo=a,this.user=sn.UNAUTHENTICATED,this.clientId=H_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async u=>{at(js,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(i,(u=>(at(js,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=vv(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function sy(n,t){n.asyncQueue.verifyOperationInProgress(),at(js,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await XR(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function Ow(n,t){n.asyncQueue.verifyOperationInProgress();const e=await V6(n);at(js,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Cw(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>Cw(t.remoteStore,a))),n._onlineComponents=t}async function V6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){at(js,"Using user provided OfflineComponentProvider");try{await sy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Ls("Error using user provided cache. Falling back to memory cache: "+e),await sy(n,new Yc)}}else at(js,"Using default OfflineComponentProvider"),await sy(n,new C6(void 0));return n._offlineComponents}async function vC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(at(js,"Using user provided OnlineComponentProvider"),await Ow(n,n._uninitializedComponentsProvider._online)):(at(js,"Using default OnlineComponentProvider"),await Ow(n,new tm))),n._onlineComponents}function M6(n){return vC(n).then((t=>t.syncEngine))}async function s_(n){const t=await vC(n),e=t.eventManager;return e.onListen=g6.bind(null,t.syncEngine),e.onUnlisten=v6.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=y6.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=T6.bind(null,t.syncEngine),e}function P6(n,t,e,i){const a=new _C(i),l=new lC(t,a,e);return n.asyncQueue.enqueueAndForget((async()=>aC(await s_(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>oC(await s_(n),l)))}}function O6(n,t,e={}){const i=new xr;return n.asyncQueue.enqueueAndForget((async()=>(function(l,u,f,m,g){const y=new _C({next:b=>{y.Nu(),u.enqueueAndForget((()=>oC(l,v))),b.fromCache&&m.source==="server"?g.reject(new ct(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(b)},error:b=>g.reject(b)}),v=new lC(f,y,{includeMetadataChanges:!0,Ka:!0});return aC(l,v)})(await s_(n),n.asyncQueue,t,e,i))),i.promise}function N6(n,t){const e=new xr;return n.asyncQueue.enqueueAndForget((async()=>E6(await M6(n),t,e))),e.promise}function TC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const k6="ComponentProvider",Nw=new Map;function L6(n,t,e,i,a){return new o4(n,t,e,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,TC(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const EC="firestore.googleapis.com",kw=!0;class Lw{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=EC,this.ssl=kw}else this.host=t.host,this.ssl=t.ssl??kw;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=UR;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<h3)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Rk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=TC(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Om{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new yk;switch(i.type){case"firstParty":return new Ek(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Nw.get(e);i&&(at(k6,"Removing Datastore"),Nw.delete(e),i.terminate())})(this),Promise.resolve()}}function U6(n,t,e,i={}){n=Dr(n,Om);const a=zl(t),l=n._getSettings(),u={...l,emulatorOptions:n._getEmulatorOptions()},f=`${t}:${e}`;a&&(S1(`https://${f}`),w1("Firestore",!0)),l.host!==EC&&l.host!==f&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...l,host:f,ssl:a,emulatorOptions:i};if(!Ka(m,u)&&(n._setSettings(m),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=sn.MOCK_USER;else{g=qM(i.mockUserToken,n._app?.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new sn(v)}n._authCredentials=new _k(new bI(g,y))}}class ao{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ao(this.firestore,t,this._query)}}class He{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new He(this.firestore,t,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(rh(e,He._jsonSchema))return new He(t,i||null,new ht(Qt.fromString(e.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Ue("string",He._jsonSchemaVersion),referencePath:Ue("string")};class Ns extends ao{constructor(t,e,i){super(t,e,Sm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new He(this.firestore,null,new ht(t))}withConverter(t){return new Ns(this.firestore,t,this._path)}}function ay(n,t,...e){if(n=fn(n),wI("collection","path",t),n instanceof Om){const i=Qt.fromString(t,...e);return RS(i),new Ns(n,null,i)}{if(!(n instanceof He||n instanceof Ns))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(t,...e));return RS(i),new Ns(n.firestore,null,i)}}function bC(n,t,...e){if(n=fn(n),arguments.length===1&&(t=H_.newId()),wI("doc","path",t),n instanceof Om){const i=Qt.fromString(t,...e);return IS(i),new He(n,null,new ht(i))}{if(!(n instanceof He||n instanceof Ns))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qt.fromString(t,...e));return IS(i),new He(n.firestore,n instanceof Ns?n.converter:null,new ht(i))}}const Uw="AsyncQueue";class Bw{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ZR(this,"async_queue_retry"),this._c=()=>{const i=vd();i&&at(Uw,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=vd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=vd();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!Hs(t))throw t;at(Uw,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,gn("INTERNAL UNHANDLED ERROR: ",zw(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=_v.createAndSchedule(this,t,e,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&yt(47125,{Pc:zw(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function zw(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class no extends Om{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new Bw,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Bw(t),this._firestoreClient=void 0,await t}}}function B6(n,t){const e=typeof n=="object"?n:M1(),i=typeof n=="string"?n:qd,a=M_(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=jM("firestore");l&&U6(a,...l)}return a}function Sv(n){if(n._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||SC(n),n._firestoreClient}function SC(n){const t=n._freezeSettings(),e=L6(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new D6(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}function z6(n,t){Ls("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings();return j6(n,tm.provider,{build:i=>new x6(i,e.cacheSizeBytes,t?.forceOwnership)}),Promise.resolve()}function j6(n,t,e){if((n=Dr(n,no))._firestoreClient||n._terminated)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(n._componentsProvider||n._getSettings().localCache)throw new ct(Z.FAILED_PRECONDITION,"SDK cache is already specified.");n._componentsProvider={_online:t,_offline:e},SC(n)}class ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ei(Be.fromBase64String(t))}catch(e){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ei(Be.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(rh(t,ei._jsonSchema))return ei.fromBase64String(t.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:Ue("string",ei._jsonSchemaVersion),bytes:Ue("string")};class wC{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wv{constructor(t){this._methodName=t}}class er{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return At(this._lat,t._lat)||At(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:er._jsonSchemaVersion}}static fromJSON(t){if(rh(t,er._jsonSchema))return new er(t.latitude,t.longitude)}}er._jsonSchemaVersion="firestore/geoPoint/1.0",er._jsonSchema={type:Ue("string",er._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class wi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,t._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(rh(t,wi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new wi(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:Ue("string",wi._jsonSchemaVersion),vectorValues:Ue("object")};const F6=/^__.*__$/;class q6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Gs(t,this.data,this.fieldMask,e,this.fieldTransforms):new Gl(t,this.data,e,this.fieldTransforms)}}function AC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{dataSource:n})}}class Av{constructor(t,e,i,a,l,u){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new Av({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePathSegment(t),i}childContextForFieldPath(t){const e=this.path?.child(t),i=this.contextWith({path:e,arrayElement:!1});return i.validatePath(),i}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return em(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(AC(this.dataSource)&&F6.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class H6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Mm(t)}createContext(t,e,i,a=!1){return new Av({dataSource:t,methodName:e,targetDoc:i,path:ge.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function IC(n){const t=n._freezeSettings(),e=Mm(n._databaseId);return new H6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function G6(n,t,e,i,a,l={}){const u=n.createContext(l.merge||l.mergeFields?2:0,t,e,a);xC("Data must be an object, but it was:",u,i);const f=RC(i,u);let m,g;if(l.merge)m=new ii(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const b=Nm(t,v,e);if(!u.contains(b))throw new ct(Z.INVALID_ARGUMENT,`Field '${b}' is specified in your field mask but missing from your input data.`);X6(y,b)||y.push(b)}m=new ii(y),g=u.fieldTransforms.filter((v=>m.covers(v.field)))}else m=null,g=u.fieldTransforms;return new q6(new Rn(f),m,g)}class Iv extends wv{_toFieldTransform(t){return new mR(t.path,new Ol)}isEqual(t){return t instanceof Iv}}function K6(n,t,e,i=!1){return Rv(e,n.createContext(i?4:3,t))}function Rv(n,t){if(CC(n=fn(n)))return xC("Unsupported field value:",t,n),RC(n,t);if(n instanceof wv)return(function(i,a){if(!AC(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(i,a){const l=[];let u=0;for(const f of i){let m=Rv(f,a.childContextForArray(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}})(n,t)}return(function(i,a){if((i=fn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return x4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Jt.fromDate(i);return{timestampValue:Ll(a.serializer,l)}}if(i instanceof Jt){const l=new Jt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ll(a.serializer,l)}}if(i instanceof er)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ei)return{bytesValue:ER(a.serializer,i._byteString)};if(i instanceof He){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.createError(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:av(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof wi)return(function(u,f){const m=u instanceof wi?u.toArray():u;return{mapValue:{fields:{[Z_]:{stringValue:J_},[Dl]:{arrayValue:{values:m.map((y=>{if(typeof y!="number")throw f.createError("VectorValues must only contain numeric values.");return ev(f.serializer,y)}))}}}}}})(i,a);if(MR(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${pm(i)}`)})(n,t)}function RC(n,t){const e={};return zI(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ro(n,((i,a)=>{const l=Rv(a,t.childContextForField(i));l!=null&&(e[i]=l)})),{mapValue:{fields:e}}}function CC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof er||n instanceof ei||n instanceof He||n instanceof wv||n instanceof wi||MR(n))}function xC(n,t,e){if(!CC(e)||!AI(e)){const i=pm(e);throw i==="an object"?t.createError(n+" a custom object"):t.createError(n+" "+i)}}function Nm(n,t,e){if((t=fn(t))instanceof wC)return t._internalPath;if(typeof t=="string")return Q6(n,t);throw em("Field path arguments must be of type string or ",n,!1,void 0,e)}const Y6=new RegExp("[~\\*/\\[\\]]");function Q6(n,t,e){if(t.search(Y6)>=0)throw em(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new wC(...t.split("."))._internalPath}catch{throw em(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function em(n,t,e,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${i}`),u&&(m+=` in document ${a}`),m+=")"),new ct(Z.INVALID_ARGUMENT,f+n+m)}function X6(n,t){return n.some((e=>e.isEqual(t)))}class W6{convertValue(t,e="none"){switch(Us(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Or(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ro(t,((a,l)=>{i[a]=this.convertValue(l,e)})),i}convertVectorValue(t){const e=t.fields?.[Dl].arrayValue?.values?.map((i=>me(i.doubleValue)));return new wi(e)}convertGeoPoint(t){return new er(me(t.latitude),me(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Em(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Fc(t));default:return null}}convertTimestamp(t){const e=Pr(t);return new Jt(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Qt.fromString(t);vt(VR(i),9688,{name:t});const a=new Wa(i.get(1),i.get(3)),l=new ht(i.popFirst(5));return a.isEqual(e)||gn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}class Cv extends W6{constructor(t){super(),this.firestore=t}convertBytes(t){return new ei(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new He(this.firestore,null,e)}}function $6(){return new Iv("serverTimestamp")}const jw="@firebase/firestore",Fw="4.11.0";function qw(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class DC{constructor(t,e,i,a,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Z6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(t){if(this._document){const e=this._document.data.field(Nm("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class Z6 extends DC{data(){return super.data()}}function VC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xv{}class J6 extends xv{}function Hw(n,t,...e){let i=[];t instanceof xv&&i.push(t),i=i.concat(e),(function(l){const u=l.filter((m=>m instanceof Dv)).length,f=l.filter((m=>m instanceof km)).length;if(u>1||u>0&&f>0)throw new ct(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class km extends J6{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new km(t,e,i)}_apply(t){const e=this._parse(t);return MC(t._query,e),new ao(t.firestore,t.converter,Ky(t._query,e))}_parse(t){const e=IC(t.firestore);return(function(l,u,f,m,g,y,v){let b;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Kw(v,y);const V=[];for(const U of v)V.push(Gw(m,l,U));b={arrayValue:{values:V}}}else b=Gw(m,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Kw(v,y),b=K6(f,u,v,y==="in"||y==="not-in");return zt.create(g,y,b)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}function cc(n,t,e){const i=t,a=Nm("where",n);return km._create(a,i,e)}class Dv extends xv{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Dv(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:te.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)MC(u,m),u=Ky(u,m)})(t._query,e),new ao(t.firestore,t.converter,Ky(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gw(n,t,e){if(typeof(e=fn(e))=="string"){if(e==="")throw new ct(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iR(t)&&e.indexOf("/")!==-1)throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Qt.fromString(e));if(!ht.isDocumentKey(i))throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hc(n,new ht(i))}if(e instanceof He)return Hc(n,e._key);throw new ct(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${pm(e)}.`)}function Kw(n,t){if(!Array.isArray(n)||n.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function MC(n,t){const e=(function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function tL(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class gc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qa extends DC{constructor(t,e,i,a,l,u){super(t,e,i,a,u),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Td(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Nm("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=qa._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}qa._jsonSchemaVersion="firestore/documentSnapshot/1.0",qa._jsonSchema={type:Ue("string",qa._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Td extends qa{data(t={}){return super.data(t)}}class Ha{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new gc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Td(this._firestore,this._userDataWriter,i.key,i,new gc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map((f=>{const m=new Td(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const m=new Td(a._firestore,a._userDataWriter,f.doc.key,f.doc,new gc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),y=u.indexOf(f.doc.key)),{type:eL(f.type),doc:m,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=H_.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(e.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function eL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:n})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:Ue("string",Ha._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};function nL(n){n=Dr(n,ao);const t=Dr(n.firestore,no),e=Sv(t),i=new Cv(t);return VC(n._query),O6(e,n._query).then((a=>new Ha(t,i,n,a)))}function iL(n){return PC(Dr(n.firestore,no),[new Rm(n._key,Cn.none())])}function rL(n,t){const e=Dr(n.firestore,no),i=bC(n),a=tL(n.converter,t),l=IC(n.firestore);return PC(e,[G6(l,"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,Cn.exists(!1))]).then((()=>i))}function sL(n,...t){n=fn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||qw(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(qw(t[i])){const g=t[i];t[i]=g.next?.bind(g),t[i+1]=g.error?.bind(g),t[i+2]=g.complete?.bind(g)}let l,u,f;if(n instanceof He)u=Dr(n.firestore,no),f=Sm(n._key.path),l={next:g=>{t[i]&&t[i](aL(u,n,g))},error:t[i+1],complete:t[i+2]};else{const g=Dr(n,ao);u=Dr(g.firestore,no),f=g._query;const y=new Cv(u);l={next:v=>{t[i]&&t[i](new Ha(u,y,g,v))},error:t[i+1],complete:t[i+2]},VC(n._query)}const m=Sv(u);return P6(m,f,a,l)}function PC(n,t){const e=Sv(n);return N6(e,t)}function aL(n,t,e){const i=e.docs.get(t._key),a=new Cv(n);return new qa(n,a,t._key,i,new gc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){gk(jl),Sl(new Ya("firestore",((i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),f=new no(new vk(i.getProvider("auth-internal")),new bk(u,i.getProvider("app-check-internal")),l4(u,a),u);return l={useFetchStreams:e,...l},f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Vs(jw,Fw,t),Vs(jw,Fw,"esm2020")})();const oL={apiKey:"AIzaSyAUo9Hw0KKEfu-sGYC-YAIazVb4BH34YXQ",authDomain:"class-claim.firebaseapp.com",projectId:"class-claim",storageBucket:"class-claim.firebasestorage.app",messagingSenderId:"997912799584",appId:"1:997912799584:web:3dce64fcb94d3926cd9605",measurementId:"G-VXYPG7JFP5"},OC=V1(oL),yc=B6(OC);z6(yc).catch(n=>{n.code=="failed-precondition"?console.warn("Firestore persistence failed: multiple tabs open"):n.code=="unimplemented"&&console.warn("Firestore persistence not supported in this browser")});const sl=fk(OC),Yw=new Ar,NC=ot.createContext(),Vv=()=>ot.useContext(NC),lL=({children:n})=>{const[t,e]=ot.useState(null),[i,a]=ot.useState(!0),l=async()=>{try{await $O(sl,iI);const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)&&!m?await IN(sl,Yw):await TN(sl,Yw)}catch(m){throw console.error("Login failed:",m),m}},u=()=>eN(sl);ot.useEffect(()=>{CN(sl).catch(g=>{console.error("Redirect login failed:",g)});const m=tN(sl,g=>{e(g),a(!1)});return()=>m()},[]);const f={user:t,login:l,logout:u,loading:i};return nt.jsx(NC.Provider,{value:f,children:!i&&n})},kC=ot.createContext(),uL=()=>ot.useContext(kC),cL=({children:n})=>{const[t,e]=ot.useState(()=>{const a=localStorage.getItem("theme");return a||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")});ot.useEffect(()=>{const a=window.document.documentElement;t==="dark"?a.classList.add("dark"):a.classList.remove("dark"),localStorage.setItem("theme",t)},[t]);const i=()=>{e(a=>a==="light"?"dark":"light")};return nt.jsx(kC.Provider,{value:{theme:t,toggleTheme:i},children:n})},hL=({selectedRoom:n,onSelectRoom:t,className:e=""})=>{const[i,a]=ot.useState("Block E"),{user:l,login:u,logout:f}=Vv(),{theme:m,toggleTheme:g}=uL(),y=async()=>{try{await u()}catch(b){console.error("Login failed:",b)}},v=async()=>{try{await f()}catch(b){console.error("Logout failed:",b)}};return nt.jsxs("div",{className:`flex flex-col h-full bg-white dark:bg-gray-800 border-r border-gray-100 dark:border-gray-700 transition-colors duration-200 ${e}`,children:[nt.jsxs("div",{className:"p-6",children:[nt.jsxs("h1",{className:"text-2xl font-bold bg-gradient-to-r from-red-600 to-red-800 bg-clip-text text-transparent flex items-center gap-2",children:[nt.jsx("img",{src:"/Class-Claim/logo.png",alt:"ClassClaim Logo",className:"h-8 w-auto"}),"ClassClaim"]}),nt.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Central University"})]}),nt.jsx("div",{className:"flex p-4 gap-2 border-b border-gray-50 dark:border-gray-700",children:Object.keys(Ay).map(b=>nt.jsx("button",{onClick:()=>a(b),className:`
              flex-1 py-2 px-3 rounded-xl text-sm font-medium transition-all
              ${i===b?"bg-red-50 text-red-700 shadow-sm dark:bg-red-900/20 dark:text-red-400":"text-gray-500 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-700"}
            `,children:b},b))}),nt.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-1",children:[nt.jsxs("h3",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 uppercase tracking-wider mb-3 px-2",children:[i," Rooms"]}),Ay[i].map(b=>nt.jsxs("button",{onClick:()=>t(b),className:`
              w-full flex items-center justify-between p-3 rounded-xl text-sm font-medium transition-all
              ${n===b?"bg-gray-900 text-white shadow-lg shadow-gray-200 dark:bg-black dark:shadow-gray-900":"text-gray-600 hover:bg-gray-50 dark:text-gray-300 dark:hover:bg-gray-700"}
            `,children:[b,n===b&&nt.jsx(wM,{})]},b))]}),nt.jsxs("div",{className:"p-4 border-t border-gray-50 dark:border-gray-700 space-y-3",children:[nt.jsxs("button",{onClick:g,className:"w-full flex items-center justify-between p-2 rounded-lg text-sm text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:[nt.jsxs("span",{className:"flex items-center gap-2",children:[m==="dark"?nt.jsx(xM,{}):nt.jsx(VM,{}),m==="dark"?"Dark Mode":"Light Mode"]}),nt.jsx("div",{className:`
            w-10 h-5 rounded-full relative transition-colors duration-200
            ${m==="dark"?"bg-red-600":"bg-gray-200"}
          `,children:nt.jsx("div",{className:`
              absolute top-1 left-1 w-3 h-3 rounded-full bg-white transition-transform duration-200
              ${m==="dark"?"translate-x-5":"translate-x-0"}
            `})})]}),l?nt.jsxs("div",{className:"flex items-center gap-3 pt-2 border-t border-gray-50 dark:border-gray-700",children:[nt.jsx("img",{src:l.photoURL,alt:l.displayName,className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-600"}),nt.jsxs("div",{className:"flex-1 min-w-0 text-left",children:[nt.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:l.displayName}),nt.jsxs("button",{onClick:v,className:"text-xs text-red-600 hover:text-red-700 dark:text-red-400 dark:hover:text-red-300 flex items-center gap-1",children:[nt.jsx(IM,{})," Sign Out"]})]})]}):nt.jsxs("button",{onClick:y,className:"w-full py-2.5 px-4 bg-white dark:bg-gray-700 border border-gray-200 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 text-gray-700 dark:text-white rounded-xl text-sm font-medium transition-all flex items-center justify-center gap-2",children:[nt.jsx(RM,{className:"text-red-600 text-lg"}),"Sign in with Google"]})]})]})},Mv=ot.createContext({});function Pv(n){const t=ot.useRef(null);return t.current===null&&(t.current=n()),t.current}const LC=typeof window<"u",UC=LC?ot.useLayoutEffect:ot.useEffect,Lm=ot.createContext(null);function Ov(n,t){n.indexOf(t)===-1&&n.push(t)}function nm(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const sr=(n,t,e)=>e>t?t:e<n?n:e;let Nv=()=>{};const Nr={},BC=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function zC(n){return typeof n=="object"&&n!==null}const jC=n=>/^0[^.\s]+$/u.test(n);function kv(n){let t;return()=>(t===void 0&&(t=n()),t)}const ai=n=>n,fL=(n,t)=>e=>t(n(e)),dh=(...n)=>n.reduce(fL),Qc=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class Lv{constructor(){this.subscriptions=[]}add(t){return Ov(this.subscriptions,t),()=>nm(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ai=n=>n*1e3,ri=n=>n/1e3;function FC(n,t){return t?n*(1e3/t):0}const qC=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,dL=1e-7,mL=12;function pL(n,t,e,i,a){let l,u,f=0;do u=t+(e-t)/2,l=qC(u,i,a)-n,l>0?e=u:t=u;while(Math.abs(l)>dL&&++f<mL);return u}function mh(n,t,e,i){if(n===t&&e===i)return ai;const a=l=>pL(l,0,1,n,e);return l=>l===0||l===1?l:qC(a(l),t,i)}const HC=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,GC=n=>t=>1-n(1-t),KC=mh(.33,1.53,.69,.99),Uv=GC(KC),YC=HC(Uv),QC=n=>(n*=2)<1?.5*Uv(n):.5*(2-Math.pow(2,-10*(n-1))),Bv=n=>1-Math.sin(Math.acos(n)),XC=GC(Bv),WC=HC(Bv),gL=mh(.42,0,1,1),yL=mh(0,0,.58,1),$C=mh(.42,0,.58,1),_L=n=>Array.isArray(n)&&typeof n[0]!="number",ZC=n=>Array.isArray(n)&&typeof n[0]=="number",vL={linear:ai,easeIn:gL,easeInOut:$C,easeOut:yL,circIn:Bv,circInOut:WC,circOut:XC,backIn:Uv,backInOut:YC,backOut:KC,anticipate:QC},TL=n=>typeof n=="string",Qw=n=>{if(ZC(n)){Nv(n.length===4);const[t,e,i,a]=n;return mh(t,e,i,a)}else if(TL(n))return vL[n];return n},ed=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function EL(n,t){let e=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1};function m(y){u.has(y)&&(g.schedule(y),n()),y(f)}const g={schedule:(y,v=!1,b=!1)=>{const V=b&&a?e:i;return v&&u.add(y),V.has(y)||V.add(y),y},cancel:y=>{i.delete(y),u.delete(y)},process:y=>{if(f=y,a){l=!0;return}a=!0,[e,i]=[i,e],e.forEach(m),e.clear(),a=!1,l&&(l=!1,g.process(y))}};return g}const bL=40;function JC(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>e=!0,u=ed.reduce((Y,it)=>(Y[it]=EL(l),Y),{}),{setup:f,read:m,resolveKeyframes:g,preUpdate:y,update:v,preRender:b,render:I,postRender:V}=u,U=()=>{const Y=Nr.useManualTiming?a.timestamp:performance.now();e=!1,Nr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(Y-a.timestamp,bL),1)),a.timestamp=Y,a.isProcessing=!0,f.process(a),m.process(a),g.process(a),y.process(a),v.process(a),b.process(a),I.process(a),V.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(U))},z=()=>{e=!0,i=!0,a.isProcessing||n(U)};return{schedule:ed.reduce((Y,it)=>{const rt=u[it];return Y[it]=(ut,C=!1,A=!1)=>(e||z(),rt.schedule(ut,C,A)),Y},{}),cancel:Y=>{for(let it=0;it<ed.length;it++)u[ed[it]].cancel(Y)},state:a,steps:u}}const{schedule:le,cancel:Fs,state:rn,steps:oy}=JC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ai,!0);let Ed;function SL(){Ed=void 0}const yn={now:()=>(Ed===void 0&&yn.set(rn.isProcessing||Nr.useManualTiming?rn.timestamp:performance.now()),Ed),set:n=>{Ed=n,queueMicrotask(SL)}},tx=n=>t=>typeof t=="string"&&t.startsWith(n),ex=tx("--"),wL=tx("var(--"),zv=n=>wL(n)?AL.test(n.split("/*")[0].trim()):!1,AL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function Xw(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Yl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Xc={...Yl,transform:n=>sr(0,1,n)},nd={...Yl,default:1},xc=n=>Math.round(n*1e5)/1e5,jv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function IL(n){return n==null}const RL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Fv=(n,t)=>e=>!!(typeof e=="string"&&RL.test(e)&&e.startsWith(n)||t&&!IL(e)&&Object.prototype.hasOwnProperty.call(e,t)),nx=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,l,u,f]=i.match(jv);return{[n]:parseFloat(a),[t]:parseFloat(l),[e]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},CL=n=>sr(0,255,n),ly={...Yl,transform:n=>Math.round(CL(n))},La={test:Fv("rgb","red"),parse:nx("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+ly.transform(n)+", "+ly.transform(t)+", "+ly.transform(e)+", "+xc(Xc.transform(i))+")"};function xL(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const a_={test:Fv("#"),parse:xL,transform:La.transform},ph=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),bs=ph("deg"),nr=ph("%"),gt=ph("px"),DL=ph("vh"),VL=ph("vw"),Ww={...nr,parse:n=>nr.parse(n)/100,transform:n=>nr.transform(n*100)},fl={test:Fv("hsl","hue"),parse:nx("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+nr.transform(xc(t))+", "+nr.transform(xc(e))+", "+xc(Xc.transform(i))+")"},Le={test:n=>La.test(n)||a_.test(n)||fl.test(n),parse:n=>La.test(n)?La.parse(n):fl.test(n)?fl.parse(n):a_.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?La.transform(n):fl.transform(n),getAnimatableNone:n=>{const t=Le.parse(n);return t.alpha=0,Le.transform(t)}},ML=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function PL(n){return isNaN(n)&&typeof n=="string"&&(n.match(jv)?.length||0)+(n.match(ML)?.length||0)>0}const ix="number",rx="color",OL="var",NL="var(",$w="${}",kL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wc(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let l=0;const f=t.replace(kL,m=>(Le.test(m)?(i.color.push(l),a.push(rx),e.push(Le.parse(m))):m.startsWith(NL)?(i.var.push(l),a.push(OL),e.push(m)):(i.number.push(l),a.push(ix),e.push(parseFloat(m))),++l,$w)).split($w);return{values:e,split:f,indexes:i,types:a}}function sx(n){return Wc(n).values}function ax(n){const{split:t,types:e}=Wc(n),i=t.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],a[u]!==void 0){const f=e[u];f===ix?l+=xc(a[u]):f===rx?l+=Le.transform(a[u]):l+=a[u]}return l}}const LL=n=>typeof n=="number"?0:Le.test(n)?Le.getAnimatableNone(n):n;function UL(n){const t=sx(n);return ax(n)(t.map(LL))}const qs={test:PL,parse:sx,createTransformer:ax,getAnimatableNone:UL};function uy(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function BL({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,l=0,u=0;if(!t)a=l=u=e;else{const f=e<.5?e*(1+t):e+t-e*t,m=2*e-f;a=uy(m,f,n+1/3),l=uy(m,f,n),u=uy(m,f,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function im(n,t){return e=>e>0?t:n}const ye=(n,t,e)=>n+(t-n)*e,cy=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},zL=[a_,La,fl],jL=n=>zL.find(t=>t.test(n));function Zw(n){const t=jL(n);if(!t)return!1;let e=t.parse(n);return t===fl&&(e=BL(e)),e}const Jw=(n,t)=>{const e=Zw(n),i=Zw(t);if(!e||!i)return im(n,t);const a={...e};return l=>(a.red=cy(e.red,i.red,l),a.green=cy(e.green,i.green,l),a.blue=cy(e.blue,i.blue,l),a.alpha=ye(e.alpha,i.alpha,l),La.transform(a))},o_=new Set(["none","hidden"]);function FL(n,t){return o_.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function qL(n,t){return e=>ye(n,t,e)}function qv(n){return typeof n=="number"?qL:typeof n=="string"?zv(n)?im:Le.test(n)?Jw:KL:Array.isArray(n)?ox:typeof n=="object"?Le.test(n)?Jw:HL:im}function ox(n,t){const e=[...n],i=e.length,a=n.map((l,u)=>qv(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)e[u]=a[u](l);return e}}function HL(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=qv(n[a])(n[a],t[a]));return a=>{for(const l in i)e[l]=i[l](a);return e}}function GL(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],u=n.indexes[l][i[l]],f=n.values[u]??0;e[a]=f,i[l]++}return e}const KL=(n,t)=>{const e=qs.createTransformer(t),i=Wc(n),a=Wc(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?o_.has(n)&&!a.values.length||o_.has(t)&&!i.values.length?FL(n,t):dh(ox(GL(i,a),a.values),e):im(n,t)};function lx(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?ye(n,t,e):qv(n)(n,t)}const YL=n=>{const t=({timestamp:e})=>n(e);return{start:(e=!0)=>le.update(t,e),stop:()=>Fs(t),now:()=>rn.isProcessing?rn.timestamp:yn.now()}},ux=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let l=0;l<a;l++)i+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},rm=2e4;function Hv(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<rm;)t+=e,i=n.next(t);return t>=rm?1/0:t}function QL(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(Hv(i),rm);return{type:"keyframes",ease:l=>i.next(a*l).value/t,duration:ri(a)}}const XL=5;function cx(n,t,e){const i=Math.max(t-XL,0);return FC(e-n(i),t-i)}const Ee={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hy=.001;function WL({duration:n=Ee.duration,bounce:t=Ee.bounce,velocity:e=Ee.velocity,mass:i=Ee.mass}){let a,l,u=1-t;u=sr(Ee.minDamping,Ee.maxDamping,u),n=sr(Ee.minDuration,Ee.maxDuration,ri(n)),u<1?(a=g=>{const y=g*u,v=y*n,b=y-e,I=l_(g,u),V=Math.exp(-v);return hy-b/I*V},l=g=>{const v=g*u*n,b=v*e+e,I=Math.pow(u,2)*Math.pow(g,2)*n,V=Math.exp(-v),U=l_(Math.pow(g,2),u);return(-a(g)+hy>0?-1:1)*((b-I)*V)/U}):(a=g=>{const y=Math.exp(-g*n),v=(g-e)*n+1;return-hy+y*v},l=g=>{const y=Math.exp(-g*n),v=(e-g)*(n*n);return y*v});const f=5/n,m=ZL(a,l,f);if(n=Ai(n),isNaN(m))return{stiffness:Ee.stiffness,damping:Ee.damping,duration:n};{const g=Math.pow(m,2)*i;return{stiffness:g,damping:u*2*Math.sqrt(i*g),duration:n}}}const $L=12;function ZL(n,t,e){let i=e;for(let a=1;a<$L;a++)i=i-n(i)/t(i);return i}function l_(n,t){return n*Math.sqrt(1-t*t)}const JL=["duration","bounce"],t5=["stiffness","damping","mass"];function tA(n,t){return t.some(e=>n[e]!==void 0)}function e5(n){let t={velocity:Ee.velocity,stiffness:Ee.stiffness,damping:Ee.damping,mass:Ee.mass,isResolvedFromDuration:!1,...n};if(!tA(n,t5)&&tA(n,JL))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,l=2*sr(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:Ee.mass,stiffness:a,damping:l}}else{const e=WL(n);t={...t,...e,mass:Ee.mass},t.isResolvedFromDuration=!0}return t}function sm(n=Ee.visualDuration,t=Ee.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const l=e.keyframes[0],u=e.keyframes[e.keyframes.length-1],f={done:!1,value:l},{stiffness:m,damping:g,mass:y,duration:v,velocity:b,isResolvedFromDuration:I}=e5({...e,velocity:-ri(e.velocity||0)}),V=b||0,U=g/(2*Math.sqrt(m*y)),z=u-l,Q=ri(Math.sqrt(m/y)),$=Math.abs(z)<5;i||(i=$?Ee.restSpeed.granular:Ee.restSpeed.default),a||(a=$?Ee.restDelta.granular:Ee.restDelta.default);let Y;if(U<1){const rt=l_(Q,U);Y=ut=>{const C=Math.exp(-U*Q*ut);return u-C*((V+U*Q*z)/rt*Math.sin(rt*ut)+z*Math.cos(rt*ut))}}else if(U===1)Y=rt=>u-Math.exp(-Q*rt)*(z+(V+Q*z)*rt);else{const rt=Q*Math.sqrt(U*U-1);Y=ut=>{const C=Math.exp(-U*Q*ut),A=Math.min(rt*ut,300);return u-C*((V+U*Q*z)*Math.sinh(A)+rt*z*Math.cosh(A))/rt}}const it={calculatedDuration:I&&v||null,next:rt=>{const ut=Y(rt);if(I)f.done=rt>=v;else{let C=rt===0?V:0;U<1&&(C=rt===0?Ai(V):cx(Y,rt,ut));const A=Math.abs(C)<=i,R=Math.abs(u-ut)<=a;f.done=A&&R}return f.value=f.done?u:ut,f},toString:()=>{const rt=Math.min(Hv(it),rm),ut=ux(C=>it.next(rt*C).value,rt,30);return rt+"ms "+ut},toTransition:()=>{}};return it}sm.applyToOptions=n=>{const t=QL(n,100,sm);return n.ease=t.ease,n.duration=Ai(t.duration),n.type="keyframes",n};function u_({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:m,restDelta:g=.5,restSpeed:y}){const v=n[0],b={done:!1,value:v},I=A=>f!==void 0&&A<f||m!==void 0&&A>m,V=A=>f===void 0?m:m===void 0||Math.abs(f-A)<Math.abs(m-A)?f:m;let U=e*t;const z=v+U,Q=u===void 0?z:u(z);Q!==z&&(U=Q-v);const $=A=>-U*Math.exp(-A/i),Y=A=>Q+$(A),it=A=>{const R=$(A),P=Y(A);b.done=Math.abs(R)<=g,b.value=b.done?Q:P};let rt,ut;const C=A=>{I(b.value)&&(rt=A,ut=sm({keyframes:[b.value,V(b.value)],velocity:cx(Y,A,b.value),damping:a,stiffness:l,restDelta:g,restSpeed:y}))};return C(0),{calculatedDuration:null,next:A=>{let R=!1;return!ut&&rt===void 0&&(R=!0,it(A),C(A)),rt!==void 0&&A>=rt?ut.next(A-rt):(!R&&it(A),b)}}}function n5(n,t,e){const i=[],a=e||Nr.mix||lx,l=n.length-1;for(let u=0;u<l;u++){let f=a(n[u],n[u+1]);if(t){const m=Array.isArray(t)?t[u]||ai:t;f=dh(m,f)}i.push(f)}return i}function i5(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const l=n.length;if(Nv(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),t=[...t].reverse());const f=n5(t,i,a),m=f.length,g=y=>{if(u&&y<n[0])return t[0];let v=0;if(m>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const b=Qc(n[v],n[v+1],y);return f[v](b)};return e?y=>g(sr(n[0],n[l-1],y)):g}function r5(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=Qc(0,t,i);n.push(ye(e,1,a))}}function s5(n){const t=[0];return r5(t,n.length-1),t}function a5(n,t){return n.map(e=>e*t)}function o5(n,t){return n.map(()=>t||$C).splice(0,n.length-1)}function Dc({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=_L(i)?i.map(Qw):Qw(i),l={done:!1,value:t[0]},u=a5(e&&e.length===t.length?e:s5(t),n),f=i5(u,t,{ease:Array.isArray(a)?a:o5(t,a)});return{calculatedDuration:n,next:m=>(l.value=f(m),l.done=m>=n,l)}}const l5=n=>n!==null;function Gv(n,{repeat:t,repeatType:e="loop"},i,a=1){const l=n.filter(l5),f=a<0||t&&e!=="loop"&&t%2===1?0:l.length-1;return!f||i===void 0?l[f]:i}const u5={decay:u_,inertia:u_,tween:Dc,keyframes:Dc,spring:sm};function hx(n){typeof n.type=="string"&&(n.type=u5[n.type])}class Kv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,e){return this.finished.then(t,e)}}const c5=n=>n/100;class Yv extends Kv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:e}=this.options;e&&e.updatedAt!==yn.now()&&this.tick(yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;hx(t);const{type:e=Dc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=t;let{keyframes:f}=t;const m=e||Dc;m!==Dc&&typeof f[0]!="number"&&(this.mixKeyframes=dh(c5,lx(f[0],f[1])),f=[0,100]);const g=m({...t,keyframes:f});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...f].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=Hv(g));const{calculatedDuration:y}=g;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=g}updateTime(t){const e=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=e}tick(t,e=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:g=0,keyframes:y,repeat:v,repeatType:b,repeatDelay:I,type:V,onUpdate:U,finalKeyframe:z}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),e?this.currentTime=t:this.updateTime(t);const Q=this.currentTime-g*(this.playbackSpeed>=0?1:-1),$=this.playbackSpeed>=0?Q<0:Q>a;this.currentTime=Math.max(Q,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let Y=this.currentTime,it=i;if(v){const A=Math.min(this.currentTime,a)/f;let R=Math.floor(A),P=A%1;!P&&A>=1&&(P=1),P===1&&R--,R=Math.min(R,v+1),R%2&&(b==="reverse"?(P=1-P,I&&(P-=I/f)):b==="mirror"&&(it=u)),Y=sr(0,1,P)*f}const rt=$?{done:!1,value:y[0]}:it.next(Y);l&&(rt.value=l(rt.value));let{done:ut}=rt;!$&&m!==null&&(ut=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ut);return C&&V!==u_&&(rt.value=Gv(y,this.options,z,this.speed)),U&&U(rt.value),C&&this.finish(),rt}then(t,e){return this.finished.then(t,e)}get duration(){return ri(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(this.currentTime)}set time(t){t=Ai(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yn.now());const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=ri(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=YL,startTime:e}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=e??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function h5(n){for(let t=1;t<n.length;t++)n[t]??(n[t]=n[t-1])}const Ua=n=>n*180/Math.PI,c_=n=>{const t=Ua(Math.atan2(n[1],n[0]));return h_(t)},f5={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:c_,rotateZ:c_,skewX:n=>Ua(Math.atan(n[1])),skewY:n=>Ua(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},h_=n=>(n=n%360,n<0&&(n+=360),n),eA=c_,nA=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),iA=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),d5={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nA,scaleY:iA,scale:n=>(nA(n)+iA(n))/2,rotateX:n=>h_(Ua(Math.atan2(n[6],n[5]))),rotateY:n=>h_(Ua(Math.atan2(-n[2],n[0]))),rotateZ:eA,rotate:eA,skewX:n=>Ua(Math.atan(n[4])),skewY:n=>Ua(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function f_(n){return n.includes("scale")?1:0}function d_(n,t){if(!n||n==="none")return f_(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=d5,a=e;else{const f=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=f5,a=f}if(!a)return f_(t);const l=i[t],u=a[1].split(",").map(p5);return typeof l=="function"?l(u):u[l]}const m5=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return d_(e,t)};function p5(n){return parseFloat(n.trim())}const Ql=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xl=new Set(Ql),rA=n=>n===Yl||n===gt,g5=new Set(["x","y","z"]),y5=Ql.filter(n=>!g5.has(n));function _5(n){const t=[];return y5.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const Cs={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>d_(t,"x"),y:(n,{transform:t})=>d_(t,"y")};Cs.translateX=Cs.x;Cs.translateY=Cs.y;const Ga=new Set;let m_=!1,p_=!1,g_=!1;function fx(){if(p_){const n=Array.from(Ga).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=_5(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([l,u])=>{i.getValue(l)?.set(u)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}p_=!1,m_=!1,Ga.forEach(n=>n.complete(g_)),Ga.clear()}function dx(){Ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(p_=!0)})}function v5(){g_=!0,dx(),fx(),g_=!1}class Qv{constructor(t,e,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ga.add(this),m_||(m_=!0,le.read(dx),le.resolveKeyframes(fx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;if(t[0]===null){const l=a?.get(),u=t[t.length-1];if(l!==void 0)t[0]=l;else if(i&&e){const f=i.readValue(e,u);f!=null&&(t[0]=f)}t[0]===void 0&&(t[0]=u),a&&l===void 0&&a.set(t[0])}h5(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ga.delete(this)}cancel(){this.state==="scheduled"&&(Ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const T5=n=>n.startsWith("--");function E5(n,t,e){T5(t)?n.style.setProperty(t,e):n.style[t]=e}const b5=kv(()=>window.ScrollTimeline!==void 0),S5={};function w5(n,t){const e=kv(n);return()=>S5[t]??e()}const mx=w5(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),_c=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,sA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_c([0,.65,.55,1]),circOut:_c([.55,0,1,.45]),backIn:_c([.31,.01,.66,-.59]),backOut:_c([.33,1.53,.69,.99])};function px(n,t){if(n)return typeof n=="function"?mx()?ux(n,t):"ease-out":ZC(n)?_c(n):Array.isArray(n)?n.map(e=>px(e,t)||sA.easeOut):sA[n]}function A5(n,t,e,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:m}={},g=void 0){const y={[t]:e};m&&(y.offset=m);const v=px(f,a);Array.isArray(v)&&(y.easing=v);const b={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return g&&(b.pseudoElement=g),n.animate(y,b)}function gx(n){return typeof n=="function"&&"applyToOptions"in n}function I5({type:n,...t}){return gx(n)&&mx()?n.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class yx extends Kv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:e,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=t,Nv(typeof t.type!="string");const g=I5(t);this.animation=A5(e,i,a,g,l),g.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=Gv(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(y):E5(e,i,y),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const t=this.options?.element;!this.isPseudoElement&&t?.isConnected&&this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return ri(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+ri(t)}get time(){return ri(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ai(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:e}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&b5()?(this.animation.timeline=t,ai):e(this)}}const _x={anticipate:QC,backInOut:YC,circInOut:WC};function R5(n){return n in _x}function C5(n){typeof n.ease=="string"&&R5(n.ease)&&(n.ease=_x[n.ease])}const fy=10;class x5 extends yx{constructor(t){C5(t),hx(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:e,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!e)return;if(t!==void 0){e.set(t);return}const f=new Yv({...u,autoplay:!1}),m=Math.max(fy,yn.now()-this.startTime),g=sr(0,fy,m-fy);e.setWithVelocity(f.sample(Math.max(0,m-g)).value,f.sample(m).value,g),f.stop()}}const aA=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(qs.test(n)||n==="0")&&!n.startsWith("url("));function D5(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function V5(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const l=n[n.length-1],u=aA(a,t),f=aA(l,t);return!u||!f?!1:D5(n)||(e==="spring"||gx(e))&&i}function y_(n){n.duration=0,n.type="keyframes"}const M5=new Set(["opacity","clipPath","filter","transform"]),P5=kv(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function O5(n){const{motionValue:t,name:e,repeatDelay:i,repeatType:a,damping:l,type:u}=n;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:g}=t.owner.getProps();return P5()&&e&&M5.has(e)&&(e!=="transform"||!g)&&!m&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const N5=40;class k5 extends Kv{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:m,motionValue:g,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=yn.now();const b={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:l,repeatType:u,name:m,motionValue:g,element:y,...v},I=y?.KeyframeResolver||Qv;this.keyframeResolver=new I(f,(V,U,z)=>this.onKeyframesResolved(V,U,b,!z),m,g,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,e,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:m,isHandoff:g,onUpdate:y}=i;this.resolvedAt=yn.now(),V5(t,l,u,f)||((Nr.instantAnimations||!m)&&y?.(Gv(t,i,e)),t[0]=t[t.length-1],y_(i),i.repeat=0);const b={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>N5?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:e,...i,keyframes:t},I=!g&&O5(b),V=b.motionValue?.owner?.current,U=I?new x5({...b,element:V}):new Yv(b);U.finished.then(()=>{this.notifyFinished()}).catch(ai),this.pendingTimeline&&(this.stopTimeline=U.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=U}get finished(){return this._animation?this.animation.finished:this._finished}then(t,e){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),v5()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function vx(n,t,e,i=0,a=1){const l=Array.from(n).sort((g,y)=>g.sortNodePosition(y)).indexOf(t),u=n.size,f=(u-1)*i;return typeof e=="function"?e(l,u):a===1?l*i:f-l*i}const L5=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function U5(n){const t=L5.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function Tx(n,t,e=1){const[i,a]=U5(n);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return BC(u)?parseFloat(u):u}return zv(a)?Tx(a,t,e+1):a}const B5={type:"spring",stiffness:500,damping:25,restSpeed:10},z5=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),j5={type:"keyframes",duration:.8},F5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},q5=(n,{keyframes:t})=>t.length>2?j5:Xl.has(n)?n.startsWith("scale")?z5(t[1]):B5:F5,H5=n=>n!==null;function G5(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(H5),l=t&&e!=="loop"&&t%2===1?0:a.length-1;return a[l]}function Ex(n,t){if(n?.inherit&&t){const{inherit:e,...i}=n;return{...t,...i}}return n}function Xv(n,t){const e=n?.[t]??n?.default??n;return e!==n?Ex(e,n):e}function K5({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:m,elapsed:g,...y}){return!!Object.keys(y).length}const Wv=(n,t,e,i={},a,l)=>u=>{const f=Xv(i,n)||{},m=f.delay||i.delay||0;let{elapsed:g=0}=i;g=g-Ai(m);const y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-g,onUpdate:b=>{t.set(b),f.onUpdate&&f.onUpdate(b)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:n,motionValue:t,element:l?void 0:a};K5(f)||Object.assign(y,q5(n,y)),y.duration&&(y.duration=Ai(y.duration)),y.repeatDelay&&(y.repeatDelay=Ai(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y_(y),y.delay===0&&(v=!0)),(Nr.instantAnimations||Nr.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,y_(y),y.delay=0),y.allowFlatten=!f.type&&!f.ease,v&&!l&&t.get()!==void 0){const b=G5(y.keyframes,f);if(b!==void 0){le.update(()=>{y.onUpdate(b),y.onComplete()});return}}return f.isSync?new Yv(y):new k5(y)};function oA(n){const t=[{},{}];return n?.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function $v(n,t,e,i){if(typeof t=="function"){const[a,l]=oA(i);t=t(e!==void 0?e:n.custom,a,l)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,l]=oA(i);t=t(e!==void 0?e:n.custom,a,l)}return t}function bl(n,t,e){const i=n.getProps();return $v(i,t,e!==void 0?e:i.custom,n)}const bx=new Set(["width","height","top","left","right","bottom",...Ql]),lA=30,Y5=n=>!isNaN(parseFloat(n));class Q5{constructor(t,e={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const a=yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=yn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Y5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new Lv);const i=this.events[t].add(e);return t==="change"?()=>{i(),le.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>lA)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,lA);return FC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bl(n,t){return new Q5(n,t)}const __=n=>Array.isArray(n);function X5(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,Bl(e))}function W5(n){return __(n)?n[n.length-1]||0:n}function $5(n,t){const e=bl(n,t);let{transitionEnd:i={},transition:a={},...l}=e||{};l={...l,...i};for(const u in l){const f=W5(l[u]);X5(n,u,f)}}const cn=n=>!!(n&&n.getVelocity);function Z5(n){return!!(cn(n)&&n.add)}function v_(n,t){const e=n.getValue("willChange");if(Z5(e))return e.add(t);if(!e&&Nr.WillChange){const i=new Nr.WillChange("auto");n.addValue("willChange",i),i.add(t)}}function Zv(n){return n.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const J5="framerAppearId",Sx="data-"+Zv(J5);function wx(n){return n.props[Sx]}function t9({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function Ax(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:l,transitionEnd:u,...f}=t;const m=n.getDefaultTransition();l=l?Ex(l,m):m;const g=l?.reduceMotion;i&&(l=i);const y=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const b in f){const I=n.getValue(b,n.latestValues[b]??null),V=f[b];if(V===void 0||v&&t9(v,b))continue;const U={delay:e,...Xv(l||{},b)},z=I.get();if(z!==void 0&&!I.isAnimating&&!Array.isArray(V)&&V===z&&!U.velocity)continue;let Q=!1;if(window.MotionHandoffAnimation){const it=wx(n);if(it){const rt=window.MotionHandoffAnimation(it,b,le);rt!==null&&(U.startTime=rt,Q=!0)}}v_(n,b);const $=g??n.shouldReduceMotion;I.start(Wv(b,I,V,$&&bx.has(b)?{type:!1}:U,n,Q));const Y=I.animation;Y&&y.push(Y)}if(u){const b=()=>le.update(()=>{u&&$5(n,u)});y.length?Promise.all(y).then(b):b()}return y}function T_(n,t,e={}){const i=bl(n,t,e.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const l=i?()=>Promise.all(Ax(n,i,e)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:y,staggerDirection:v}=a;return e9(n,t,m,g,y,v,e)}:()=>Promise.resolve(),{when:f}=a;if(f){const[m,g]=f==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(e.delay)])}function e9(n,t,e=0,i=0,a=0,l=1,u){const f=[];for(const m of n.variantChildren)m.notify("AnimationStart",t),f.push(T_(m,t,{...u,delay:e+(typeof i=="function"?0:i)+vx(n.variantChildren,m,i,a,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(f)}function n9(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(l=>T_(n,l,e));i=Promise.all(a)}else if(typeof t=="string")i=T_(n,t,e);else{const a=typeof t=="function"?bl(n,t,e.custom):t;i=Promise.all(Ax(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}const i9={test:n=>n==="auto",parse:n=>n},Ix=n=>t=>t.test(n),Rx=[Yl,gt,nr,bs,VL,DL,i9],uA=n=>Rx.find(Ix(n));function r9(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||jC(n):!0}const s9=new Set(["brightness","contrast","saturate","opacity"]);function a9(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(jv)||[];if(!i)return n;const a=e.replace(i,"");let l=s9.has(t)?1:0;return i!==e&&(l*=100),t+"("+l+a+")"}const o9=/\b([a-z-]*)\(.*?\)/gu,E_={...qs,getAnimatableNone:n=>{const t=n.match(o9);return t?t.map(a9).join(" "):n}},cA={...Yl,transform:Math.round},l9={rotate:bs,rotateX:bs,rotateY:bs,rotateZ:bs,scale:nd,scaleX:nd,scaleY:nd,scaleZ:nd,skew:bs,skewX:bs,skewY:bs,distance:gt,translateX:gt,translateY:gt,translateZ:gt,x:gt,y:gt,z:gt,perspective:gt,transformPerspective:gt,opacity:Xc,originX:Ww,originY:Ww,originZ:gt},Jv={borderWidth:gt,borderTopWidth:gt,borderRightWidth:gt,borderBottomWidth:gt,borderLeftWidth:gt,borderRadius:gt,borderTopLeftRadius:gt,borderTopRightRadius:gt,borderBottomRightRadius:gt,borderBottomLeftRadius:gt,width:gt,maxWidth:gt,height:gt,maxHeight:gt,top:gt,right:gt,bottom:gt,left:gt,inset:gt,insetBlock:gt,insetBlockStart:gt,insetBlockEnd:gt,insetInline:gt,insetInlineStart:gt,insetInlineEnd:gt,padding:gt,paddingTop:gt,paddingRight:gt,paddingBottom:gt,paddingLeft:gt,paddingBlock:gt,paddingBlockStart:gt,paddingBlockEnd:gt,paddingInline:gt,paddingInlineStart:gt,paddingInlineEnd:gt,margin:gt,marginTop:gt,marginRight:gt,marginBottom:gt,marginLeft:gt,marginBlock:gt,marginBlockStart:gt,marginBlockEnd:gt,marginInline:gt,marginInlineStart:gt,marginInlineEnd:gt,fontSize:gt,backgroundPositionX:gt,backgroundPositionY:gt,...l9,zIndex:cA,fillOpacity:Xc,strokeOpacity:Xc,numOctaves:cA},u9={...Jv,color:Le,backgroundColor:Le,outlineColor:Le,fill:Le,stroke:Le,borderColor:Le,borderTopColor:Le,borderRightColor:Le,borderBottomColor:Le,borderLeftColor:Le,filter:E_,WebkitFilter:E_},Cx=n=>u9[n];function xx(n,t){let e=Cx(n);return e!==E_&&(e=qs),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const c9=new Set(["auto","none","0"]);function h9(n,t,e){let i=0,a;for(;i<n.length&&!a;){const l=n[i];typeof l=="string"&&!c9.has(l)&&Wc(l).values.length&&(a=n[i]),i++}if(a&&e)for(const l of t)n[l]=xx(e,a)}class f9 extends Qv{constructor(t,e,i,a,l){super(t,e,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let y=0;y<t.length;y++){let v=t[y];if(typeof v=="string"&&(v=v.trim(),zv(v))){const b=Tx(v,e.current);b!==void 0&&(t[y]=b),y===t.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!bx.has(i)||t.length!==2)return;const[a,l]=t,u=uA(a),f=uA(l),m=Xw(a),g=Xw(l);if(m!==g&&Cs[i]){this.needsMeasurement=!0;return}if(u!==f)if(rA(u)&&rA(f))for(let y=0;y<t.length;y++){const v=t[y];typeof v=="string"&&(t[y]=parseFloat(v))}else Cs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)(t[a]===null||r9(t[a]))&&i.push(a);i.length&&h9(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Cs[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=Cs[e](t.measureViewportBox(),window.getComputedStyle(t.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),this.removedTransforms?.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}const d9=new Set(["opacity","clipPath","filter","transform"]);function Dx(n,t,e){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const a=e?.[n]??i.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(i=>i!=null)}const Vx=(n,t)=>t&&typeof n=="number"?t.transform(n):n;function b_(n){return zC(n)&&"offsetHeight"in n}const{schedule:t0}=JC(queueMicrotask,!1),Ti={x:!1,y:!1};function Mx(){return Ti.x||Ti.y}function m9(n){return n==="x"||n==="y"?Ti[n]?null:(Ti[n]=!0,()=>{Ti[n]=!1}):Ti.x||Ti.y?null:(Ti.x=Ti.y=!0,()=>{Ti.x=Ti.y=!1})}function Px(n,t){const e=Dx(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function p9(n){return!(n.pointerType==="touch"||Mx())}function g9(n,t,e={}){const[i,a,l]=Px(n,e);return i.forEach(u=>{let f=!1,m=!1,g;const y=()=>{u.removeEventListener("pointerleave",V)},v=z=>{g&&(g(z),g=void 0),y()},b=z=>{f=!1,window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",b),m&&(m=!1,v(z))},I=()=>{f=!0,window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",b,a)},V=z=>{if(z.pointerType!=="touch"){if(f){m=!0;return}v(z)}},U=z=>{if(!p9(z))return;m=!1;const Q=t(u,z);typeof Q=="function"&&(g=Q,u.addEventListener("pointerleave",V,a))};u.addEventListener("pointerenter",U,a),u.addEventListener("pointerdown",I,a)}),l}const Ox=(n,t)=>t?n===t?!0:Ox(n,t.parentElement):!1,e0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,y9=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _9(n){return y9.has(n.tagName)||n.isContentEditable===!0}const v9=new Set(["INPUT","SELECT","TEXTAREA"]);function T9(n){return v9.has(n.tagName)||n.isContentEditable===!0}const bd=new WeakSet;function hA(n){return t=>{t.key==="Enter"&&n(t)}}function dy(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const E9=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=hA(()=>{if(bd.has(e))return;dy(e,"down");const a=hA(()=>{dy(e,"up")}),l=()=>dy(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",l,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function fA(n){return e0(n)&&!Mx()}const dA=new WeakSet;function b9(n,t,e={}){const[i,a,l]=Px(n,e),u=f=>{const m=f.currentTarget;if(!fA(f)||dA.has(f))return;bd.add(m),e.stopPropagation&&dA.add(f);const g=t(m,f),y=(I,V)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),bd.has(m)&&bd.delete(m),fA(I)&&typeof g=="function"&&g(I,{success:V})},v=I=>{y(I,m===window||m===document||e.useGlobalTarget||Ox(m,I.target))},b=I=>{y(I,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(f=>{(e.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),b_(f)&&(f.addEventListener("focus",g=>E9(g,a)),!_9(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function n0(n){return zC(n)&&"ownerSVGElement"in n}const Sd=new WeakMap;let wd;const Nx=(n,t,e)=>(i,a)=>a&&a[0]?a[0][n+"Size"]:n0(i)&&"getBBox"in i?i.getBBox()[t]:i[e],S9=Nx("inline","width","offsetWidth"),w9=Nx("block","height","offsetHeight");function A9({target:n,borderBoxSize:t}){Sd.get(n)?.forEach(e=>{e(n,{get width(){return S9(n,t)},get height(){return w9(n,t)}})})}function I9(n){n.forEach(A9)}function R9(){typeof ResizeObserver>"u"||(wd=new ResizeObserver(I9))}function C9(n,t){wd||R9();const e=Dx(n);return e.forEach(i=>{let a=Sd.get(i);a||(a=new Set,Sd.set(i,a)),a.add(t),wd?.observe(i)}),()=>{e.forEach(i=>{const a=Sd.get(i);a?.delete(t),a?.size||wd?.unobserve(i)})}}const Ad=new Set;let dl;function x9(){dl=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ad.forEach(t=>t(n))},window.addEventListener("resize",dl)}function D9(n){return Ad.add(n),dl||x9(),()=>{Ad.delete(n),!Ad.size&&typeof dl=="function"&&(window.removeEventListener("resize",dl),dl=void 0)}}function mA(n,t){return typeof n=="function"?D9(n):C9(n,t)}function V9(n){return n0(n)&&n.tagName==="svg"}const M9=[...Rx,Le,qs],P9=n=>M9.find(Ix(n)),pA=()=>({translate:0,scale:1,origin:0,originPoint:0}),ml=()=>({x:pA(),y:pA()}),gA=()=>({min:0,max:0}),qe=()=>({x:gA(),y:gA()}),O9=new WeakMap;function Um(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function $c(n){return typeof n=="string"||Array.isArray(n)}const i0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r0=["initial",...i0];function Bm(n){return Um(n.animate)||r0.some(t=>$c(n[t]))}function kx(n){return!!(Bm(n)||n.variants)}function N9(n,t,e){for(const i in t){const a=t[i],l=e[i];if(cn(a))n.addValue(i,a);else if(cn(l))n.addValue(i,Bl(a,{owner:n}));else if(l!==a)if(n.hasValue(i)){const u=n.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=n.getStaticValue(i);n.addValue(i,Bl(u!==void 0?u:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const S_={current:null},Lx={current:!1},k9=typeof window<"u";function L9(){if(Lx.current=!0,!!k9)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>S_.current=n.matches;n.addEventListener("change",t),t()}else S_.current=!1}const yA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let am={};function Ux(n){am=n}function U9(){return am}class B9{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:u,visualState:f},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=Qv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=yn.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,le.render(this.render,!1,!0))};const{latestValues:g,renderState:y}=f;this.latestValues=g,this.baseTarget={...g},this.initialValues=e.initial?{...g}:{},this.renderState=y,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=m,this.blockInitialAnimation=!!u,this.isControllingVariants=Bm(e),this.isVariantNode=kx(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const I in b){const V=b[I];g[I]!==void 0&&cn(V)&&V.set(g[I])}}mount(t){if(this.hasBeenMounted)for(const e in this.initialValues)this.values.get(e)?.jump(this.initialValues[e]),this.latestValues[e]=this.initialValues[e];this.current=t,O9.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(Lx.current||L9(),this.shouldReduceMotion=S_.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Fs(this.notifyUpdate),Fs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,e){if(this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)(),e.accelerate&&d9.has(t)&&this.current instanceof HTMLElement){const{factory:u,keyframes:f,times:m,ease:g,duration:y}=e.accelerate,v=new yx({element:this.current,name:t,keyframes:f,times:m,ease:g,duration:Ai(y)}),b=u(v);this.valueSubscriptions.set(t,()=>{b(),v.cancel()});return}const i=Xl.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",u=>{this.latestValues[t]=u,this.props.onUpdate&&le.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in am){const e=am[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<yA.length;i++){const a=yA[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=t[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=N9(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=Bl(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(BC(i)||jC(i))?i=parseFloat(i):!P9(i)&&qs.test(e)&&(i=xx(t,e)),this.setBaseTarget(t,cn(i)?i.get():i)),cn(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const l=$v(this.props,e,this.presenceContext?.custom);l&&(i=l[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!cn(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new Lv),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}scheduleRenderMicrotask(){t0.render(this.render)}}class Bx extends B9{constructor(){super(...arguments),this.KeyframeResolver=f9}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){const i=t.style;return i?i[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}class Ks{constructor(t){this.isMounted=!1,this.node=t}update(){}}function zx({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function z9({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function j9(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}function my(n){return n===void 0||n===1}function w_({scale:n,scaleX:t,scaleY:e}){return!my(n)||!my(t)||!my(e)}function Da(n){return w_(n)||jx(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function jx(n){return _A(n.x)||_A(n.y)}function _A(n){return n&&n!=="0%"}function om(n,t,e){const i=n-e,a=t*i;return e+a}function vA(n,t,e,i,a){return a!==void 0&&(n=om(n,a,i)),om(n,e,i)+t}function A_(n,t=0,e=1,i,a){n.min=vA(n.min,t,e,i,a),n.max=vA(n.max,t,e,i,a)}function Fx(n,{x:t,y:e}){A_(n.x,t.translate,t.scale,t.originPoint),A_(n.y,e.translate,e.scale,e.originPoint)}const TA=.999999999999,EA=1.0000000000001;function F9(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let l,u;for(let f=0;f<a;f++){l=e[f],u=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&gl(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Fx(n,u)),i&&Da(l.latestValues)&&gl(n,l.latestValues))}t.x<EA&&t.x>TA&&(t.x=1),t.y<EA&&t.y>TA&&(t.y=1)}function pl(n,t){n.min=n.min+t,n.max=n.max+t}function bA(n,t,e,i,a=.5){const l=ye(n.min,n.max,a);A_(n,t,e,l,i)}function gl(n,t){bA(n.x,t.x,t.scaleX,t.scale,t.originX),bA(n.y,t.y,t.scaleY,t.scale,t.originY)}function qx(n,t){return zx(j9(n.getBoundingClientRect(),t))}function q9(n,t,e){const i=qx(n,e),{scroll:a}=t;return a&&(pl(i.x,a.offset.x),pl(i.y,a.offset.y)),i}const H9={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G9=Ql.length;function K9(n,t,e){let i="",a=!0;for(let l=0;l<G9;l++){const u=Ql[l],f=n[u];if(f===void 0)continue;let m=!0;if(typeof f=="number")m=f===(u.startsWith("scale")?1:0);else{const g=parseFloat(f);m=u.startsWith("scale")?g===1:g===0}if(!m||e){const g=Vx(f,Jv[u]);if(!m){a=!1;const y=H9[u]||u;i+=`${y}(${g}) `}e&&(t[u]=g)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function s0(n,t,e){const{style:i,vars:a,transformOrigin:l}=n;let u=!1,f=!1;for(const m in t){const g=t[m];if(Xl.has(m)){u=!0;continue}else if(ex(m)){a[m]=g;continue}else{const y=Vx(g,Jv[m]);m.startsWith("origin")?(f=!0,l[m]=y):i[m]=y}}if(t.transform||(u||e?i.transform=K9(t,n.transform,e):i.transform&&(i.transform="none")),f){const{originX:m="50%",originY:g="50%",originZ:y=0}=l;i.transformOrigin=`${m} ${g} ${y}`}}function Hx(n,{style:t,vars:e},i,a){const l=n.style;let u;for(u in t)l[u]=t[u];a?.applyProjectionStyles(l,i);for(u in e)l.setProperty(u,e[u])}function SA(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const hc={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(gt.test(n))n=parseFloat(n);else return n;const e=SA(n,t.target.x),i=SA(n,t.target.y);return`${e}% ${i}%`}},Y9={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=qs.parse(n);if(a.length>5)return i;const l=qs.createTransformer(n),u=typeof a[0]!="number"?1:0,f=e.x.scale*t.x,m=e.y.scale*t.y;a[0+u]/=f,a[1+u]/=m;const g=ye(f,m,.5);return typeof a[2+u]=="number"&&(a[2+u]/=g),typeof a[3+u]=="number"&&(a[3+u]/=g),l(a)}},I_={borderRadius:{...hc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hc,borderTopRightRadius:hc,borderBottomLeftRadius:hc,borderBottomRightRadius:hc,boxShadow:Y9};function Gx(n,{layout:t,layoutId:e}){return Xl.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!I_[n]||n==="opacity")}function a0(n,t,e){const i=n.style,a=t?.style,l={};if(!i)return l;for(const u in i)(cn(i[u])||a&&cn(a[u])||Gx(u,n)||e?.getValue(u)?.liveStyle!==void 0)&&(l[u]=i[u]);return l}function Q9(n){return window.getComputedStyle(n)}class X9 extends Bx{constructor(){super(...arguments),this.type="html",this.renderInstance=Hx}readValueFromInstance(t,e){if(Xl.has(e))return this.projection?.isProjecting?f_(e):m5(t,e);{const i=Q9(t),a=(ex(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return qx(t,e)}build(t,e,i){s0(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return a0(t,e,i)}}const W9={offset:"stroke-dashoffset",array:"stroke-dasharray"},$9={offset:"strokeDashoffset",array:"strokeDasharray"};function Z9(n,t,e=1,i=0,a=!0){n.pathLength=1;const l=a?W9:$9;n[l.offset]=`${-i}`,n[l.array]=`${t} ${e}`}const J9=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Kx(n,{attrX:t,attrY:e,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},m,g,y){if(s0(n,f,g),m){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:b}=n;v.transform&&(b.transform=v.transform,delete v.transform),(b.transform||v.transformOrigin)&&(b.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),b.transform&&(b.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const I of J9)v[I]!==void 0&&(b[I]=v[I],delete v[I]);t!==void 0&&(v.x=t),e!==void 0&&(v.y=e),i!==void 0&&(v.scale=i),a!==void 0&&Z9(v,a,l,u,!1)}const Yx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Qx=n=>typeof n=="string"&&n.toLowerCase()==="svg";function tU(n,t,e,i){Hx(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(Yx.has(a)?a:Zv(a),t.attrs[a])}function Xx(n,t,e){const i=a0(n,t,e);for(const a in n)if(cn(n[a])||cn(t[a])){const l=Ql.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=n[a]}return i}class eU extends Bx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=qe}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Xl.has(e)){const i=Cx(e);return i&&i.default||0}return e=Yx.has(e)?e:Zv(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return Xx(t,e,i)}build(t,e,i){Kx(t,e,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(t,e,i,a){tU(t,e,i,a)}mount(t){this.isSVGTag=Qx(t.tagName),super.mount(t)}}const nU=r0.length;function Wx(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?Wx(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<nU;e++){const i=r0[e],a=n.props[i];($c(a)||a===!1)&&(t[i]=a)}return t}function $x(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const iU=[...i0].reverse(),rU=i0.length;function sU(n){return t=>Promise.all(t.map(({animation:e,options:i})=>n9(n,e,i)))}function aU(n){let t=sU(n),e=wA(),i=!0;const a=m=>(g,y)=>{const v=bl(n,y,m==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:b,transitionEnd:I,...V}=v;g={...g,...V,...I}}return g};function l(m){t=m(n)}function u(m){const{props:g}=n,y=Wx(n.parent)||{},v=[],b=new Set;let I={},V=1/0;for(let z=0;z<rU;z++){const Q=iU[z],$=e[Q],Y=g[Q]!==void 0?g[Q]:y[Q],it=$c(Y),rt=Q===m?$.isActive:null;rt===!1&&(V=z);let ut=Y===y[Q]&&Y!==g[Q]&&it;if(ut&&i&&n.manuallyAnimateOnMount&&(ut=!1),$.protectedKeys={...I},!$.isActive&&rt===null||!Y&&!$.prevProp||Um(Y)||typeof Y=="boolean")continue;if(Q==="exit"&&$.isActive&&rt!==!0){$.prevResolvedValues&&(I={...I,...$.prevResolvedValues});continue}const C=oU($.prevProp,Y);let A=C||Q===m&&$.isActive&&!ut&&it||z>V&&it,R=!1;const P=Array.isArray(Y)?Y:[Y];let M=P.reduce(a(Q),{});rt===!1&&(M={});const{prevResolvedValues:L={}}=$,x={...L,...M},ae=st=>{A=!0,b.has(st)&&(R=!0,b.delete(st)),$.needsAnimating[st]=!0;const mt=n.getValue(st);mt&&(mt.liveStyle=!1)};for(const st in x){const mt=M[st],Dt=L[st];if(I.hasOwnProperty(st))continue;let kt=!1;__(mt)&&__(Dt)?kt=!$x(mt,Dt):kt=mt!==Dt,kt?mt!=null?ae(st):b.add(st):mt!==void 0&&b.has(st)?ae(st):$.protectedKeys[st]=!0}$.prevProp=Y,$.prevResolvedValues=M,$.isActive&&(I={...I,...M}),i&&n.blockInitialAnimation&&(A=!1);const _e=ut&&C;A&&(!_e||R)&&v.push(...P.map(st=>{const mt={type:Q};if(typeof st=="string"&&i&&!_e&&n.manuallyAnimateOnMount&&n.parent){const{parent:Dt}=n,kt=bl(Dt,st);if(Dt.enteringChildren&&kt){const{delayChildren:N}=kt.transition||{};mt.delay=vx(Dt.enteringChildren,n,N)}}return{animation:st,options:mt}}))}if(b.size){const z={};if(typeof g.initial!="boolean"){const Q=bl(n,Array.isArray(g.initial)?g.initial[0]:g.initial);Q&&Q.transition&&(z.transition=Q.transition)}b.forEach(Q=>{const $=n.getBaseTarget(Q),Y=n.getValue(Q);Y&&(Y.liveStyle=!0),z[Q]=$??null}),v.push({animation:z})}let U=!!v.length;return i&&(g.initial===!1||g.initial===g.animate)&&!n.manuallyAnimateOnMount&&(U=!1),i=!1,U?t(v):Promise.resolve()}function f(m,g){if(e[m].isActive===g)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(m,g)),e[m].isActive=g;const y=u(m);for(const v in e)e[v].protectedKeys={};return y}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>e,reset:()=>{e=wA()}}}function oU(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!$x(t,n):!1}function Aa(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wA(){return{animate:Aa(!0),whileInView:Aa(),whileHover:Aa(),whileTap:Aa(),whileDrag:Aa(),whileFocus:Aa(),exit:Aa()}}function AA(n,t){n.min=t.min,n.max=t.max}function vi(n,t){AA(n.x,t.x),AA(n.y,t.y)}function IA(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}const Zx=1e-4,lU=1-Zx,uU=1+Zx,Jx=.01,cU=0-Jx,hU=0+Jx;function _n(n){return n.max-n.min}function fU(n,t,e){return Math.abs(n-t)<=e}function RA(n,t,e,i=.5){n.origin=i,n.originPoint=ye(t.min,t.max,n.origin),n.scale=_n(e)/_n(t),n.translate=ye(e.min,e.max,n.origin)-n.originPoint,(n.scale>=lU&&n.scale<=uU||isNaN(n.scale))&&(n.scale=1),(n.translate>=cU&&n.translate<=hU||isNaN(n.translate))&&(n.translate=0)}function Vc(n,t,e,i){RA(n.x,t.x,e.x,i?i.originX:void 0),RA(n.y,t.y,e.y,i?i.originY:void 0)}function CA(n,t,e){n.min=e.min+t.min,n.max=n.min+_n(t)}function dU(n,t,e){CA(n.x,t.x,e.x),CA(n.y,t.y,e.y)}function xA(n,t,e){n.min=t.min-e.min,n.max=n.min+_n(t)}function lm(n,t,e){xA(n.x,t.x,e.x),xA(n.y,t.y,e.y)}function DA(n,t,e,i,a){return n-=t,n=om(n,1/e,i),a!==void 0&&(n=om(n,1/a,i)),n}function mU(n,t=0,e=1,i=.5,a,l=n,u=n){if(nr.test(t)&&(t=parseFloat(t),t=ye(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=ye(l.min,l.max,i);n===l&&(f-=t),n.min=DA(n.min,t,e,f,a),n.max=DA(n.max,t,e,f,a)}function VA(n,t,[e,i,a],l,u){mU(n,t[e],t[i],t[a],t.scale,l,u)}const pU=["x","scaleX","originX"],gU=["y","scaleY","originY"];function MA(n,t,e,i){VA(n.x,t,pU,e?e.x:void 0,i?i.x:void 0),VA(n.y,t,gU,e?e.y:void 0,i?i.y:void 0)}function PA(n){return n.translate===0&&n.scale===1}function tD(n){return PA(n.x)&&PA(n.y)}function OA(n,t){return n.min===t.min&&n.max===t.max}function yU(n,t){return OA(n.x,t.x)&&OA(n.y,t.y)}function NA(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function eD(n,t){return NA(n.x,t.x)&&NA(n.y,t.y)}function kA(n){return _n(n.x)/_n(n.y)}function LA(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}function Wi(n){return[n("x"),n("y")]}function _U(n,t,e){let i="";const a=n.x.translate/t.x,l=n.y.translate/t.y,u=e?.z||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:g,rotate:y,rotateX:v,rotateY:b,skewX:I,skewY:V}=e;g&&(i=`perspective(${g}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),I&&(i+=`skewX(${I}deg) `),V&&(i+=`skewY(${V}deg) `)}const f=n.x.scale*t.x,m=n.y.scale*t.y;return(f!==1||m!==1)&&(i+=`scale(${f}, ${m})`),i||"none"}const nD=["TopLeft","TopRight","BottomLeft","BottomRight"],vU=nD.length,UA=n=>typeof n=="string"?parseFloat(n):n,BA=n=>typeof n=="number"||gt.test(n);function TU(n,t,e,i,a,l){a?(n.opacity=ye(0,e.opacity??1,EU(i)),n.opacityExit=ye(t.opacity??1,0,bU(i))):l&&(n.opacity=ye(t.opacity??1,e.opacity??1,i));for(let u=0;u<vU;u++){const f=`border${nD[u]}Radius`;let m=zA(t,f),g=zA(e,f);if(m===void 0&&g===void 0)continue;m||(m=0),g||(g=0),m===0||g===0||BA(m)===BA(g)?(n[f]=Math.max(ye(UA(m),UA(g),i),0),(nr.test(g)||nr.test(m))&&(n[f]+="%")):n[f]=g}(t.rotate||e.rotate)&&(n.rotate=ye(t.rotate||0,e.rotate||0,i))}function zA(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const EU=iD(0,.5,XC),bU=iD(.5,.95,ai);function iD(n,t,e){return i=>i<n?0:i>t?1:e(Qc(n,t,i))}function SU(n,t,e){const i=cn(n)?n:Bl(n);return i.start(Wv("",i,t,e)),i.animation}function Zc(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}const wU=(n,t)=>n.depth-t.depth;class AU{constructor(){this.children=[],this.isDirty=!1}add(t){Ov(this.children,t),this.isDirty=!0}remove(t){nm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(wU),this.isDirty=!1,this.children.forEach(t)}}function IU(n,t){const e=yn.now(),i=({timestamp:a})=>{const l=a-e;l>=t&&(Fs(i),n(l-t))};return le.setup(i,!0),()=>Fs(i)}function Id(n){return cn(n)?n.get():n}class RU{constructor(){this.members=[]}add(t){Ov(this.members,t);for(let e=this.members.length-1;e>=0;e--){const i=this.members[e];if(i===t||i===this.lead||i===this.prevLead)continue;const a=i.instance;a&&a.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&nm(this.members,i)}t.scheduleRender()}remove(t){if(nm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const l=this.members[a],u=l.instance;if(l.isPresent!==!1&&(!u||u.isConnected!==!1)){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender();const a=i.options.layoutDependency,l=t.options.layoutDependency;if(!(a!==void 0&&l!==void 0&&a===l)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0))}const{crossfade:f}=t.options;f===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},py=["","X","Y","Z"],CU=1e3;let xU=0;function gy(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function rD(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=wx(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",le,!(a||l))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&rD(i)}function sD({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},f=t?.()){this.id=xU++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MU),this.nodes.forEach(kU),this.nodes.forEach(LU),this.nodes.forEach(PU)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new AU)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Lv),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const m=this.eventHandlers.get(u);m&&m.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=n0(u)&&!V9(u),this.instance=u;const{layoutId:f,layout:m,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||f)&&(this.isLayoutDirty=!0),n){let y,v=0;const b=()=>this.root.updateBlockedByResize=!1;le.read(()=>{v=window.innerWidth}),n(u,()=>{const I=window.innerWidth;I!==v&&(v=I,this.root.updateBlockedByResize=!0,y&&y(),y=IU(b,250),Rd.hasAnimatedSinceResize&&(Rd.hasAnimatedSinceResize=!1,this.nodes.forEach(qA)))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||m)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:b,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const V=this.options.transition||g.getDefaultTransition()||FU,{onLayoutAnimationStart:U,onLayoutAnimationComplete:z}=g.getProps(),Q=!this.targetLayout||!eD(this.targetLayout,I),$=!v&&b;if(this.options.layoutRoot||this.resumeFrom||$||v&&(Q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Y={...Xv(V,"layout"),onPlay:U,onComplete:z};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y),this.setAnimationOrigin(y,$)}else v||qA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UU),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:f,layout:m}=this.options;if(f===void 0&&!m)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(NU),this.nodes.forEach(DU),this.nodes.forEach(VU)):this.nodes.forEach(FA),this.clearAllSnapshots();const f=yn.now();rn.delta=sr(0,1e3/60,f-rn.timestamp),rn.timestamp=f,rn.isProcessing=!0,oy.update.process(rn),oy.preRender.process(rn),oy.render.process(rn),rn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,t0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OU),this.sharedNodes.forEach(BU)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!_n(this.snapshot.measuredBox.x)&&!_n(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=qe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:m,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!tD(this.projectionDelta),m=this.getTransformTemplate(),g=m?m(this.latestValues,""):void 0,y=g!==this.prevTransformTemplateValue;u&&this.instance&&(f||Da(this.latestValues)||y)&&(a(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let m=this.removeElementScroll(f);return u&&(m=this.removeTransform(m)),qU(m),{animationId:this.root.animationId,measuredBox:f,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return qe();const f=u.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(HU))){const{scroll:g}=this.root;g&&(pl(f.x,g.offset.x),pl(f.y,g.offset.y))}return f}removeElementScroll(u){const f=qe();if(vi(f,u),this.scroll?.wasRoot)return f;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:y,options:v}=g;g!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&vi(f,u),pl(f.x,y.offset.x),pl(f.y,y.offset.y))}return f}applyTransform(u,f=!1){const m=qe();vi(m,u);for(let g=0;g<this.path.length;g++){const y=this.path[g];!f&&y.options.layoutScroll&&y.scroll&&y!==y.root&&gl(m,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Da(y.latestValues)&&gl(m,y.latestValues)}return Da(this.latestValues)&&gl(m,this.latestValues),m}removeTransform(u){const f=qe();vi(f,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];if(!g.instance||!Da(g.latestValues))continue;w_(g.latestValues)&&g.updateSnapshot();const y=qe(),v=g.measurePageBox();vi(y,v),MA(f,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,y)}return Da(this.latestValues)&&MA(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==rn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=rn.timestamp;const b=this.getClosestProjectingParent();b&&this.linkedParentVersion!==b.layoutVersion&&!b.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(b&&b.layout?this.createRelativeTarget(b,this.layout.layoutBox,b.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=qe(),this.targetWithTransforms=qe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),dU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vi(this.target,this.layout.layoutBox),Fx(this.target,this.targetDelta)):vi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?this.createRelativeTarget(b,this.target,b.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||w_(this.parent.latestValues)||jx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(u,f,m){this.relativeParent=u,this.linkedParentVersion=u.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qe(),this.relativeTargetOrigin=qe(),lm(this.relativeTargetOrigin,f,m),vi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const u=this.getLead(),f=!!this.resumingFrom||this!==u;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===rn.timestamp&&(m=!1),m)return;const{layout:g,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||y))return;vi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;F9(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=qe());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(IA(this.prevProjectionDelta.x,this.projectionDelta.x),IA(this.prevProjectionDelta.y,this.projectionDelta.y)),Vc(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!LA(this.projectionDelta.x,this.prevProjectionDelta.x)||!LA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.visualElement?.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ml(),this.projectionDelta=ml(),this.projectionDeltaWithTransform=ml()}setAnimationOrigin(u,f=!1){const m=this.snapshot,g=m?m.latestValues:{},y={...this.latestValues},v=ml();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const b=qe(),I=m?m.source:void 0,V=this.layout?this.layout.source:void 0,U=I!==V,z=this.getStack(),Q=!z||z.members.length<=1,$=!!(U&&!Q&&this.options.crossfade===!0&&!this.path.some(jU));this.animationProgress=0;let Y;this.mixTargetDelta=it=>{const rt=it/1e3;HA(v.x,u.x,rt),HA(v.y,u.y,rt),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lm(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zU(this.relativeTarget,this.relativeTargetOrigin,b,rt),Y&&yU(this.relativeTarget,Y)&&(this.isProjectionDirty=!1),Y||(Y=qe()),vi(Y,this.relativeTarget)),U&&(this.animationValues=y,TU(y,g,this.latestValues,rt,$,Q)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rt},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Fs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{Rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Bl(0)),this.currentAnimation=SU(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(CU),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:m,layout:g,latestValues:y}=u;if(!(!f||!m||!g)){if(this!==u&&this.layout&&g&&aD(this.options.animationType,this.layout.layoutBox,g.layoutBox)){m=this.target||qe();const v=_n(this.layout.layoutBox.x);m.x.min=u.target.x.min,m.x.max=m.x.min+v;const b=_n(this.layout.layoutBox.y);m.y.min=u.target.y.min,m.y.max=m.y.min+b}vi(f,m),gl(f,y),Vc(this.projectionDeltaWithTransform,this.layoutCorrected,f,y)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new RU),this.sharedNodes.get(u).add(f);const g=f.options.initialPromotionConfig;f.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){const{layoutId:u}=this.options;return u?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:u}=this.options;return u?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:m}={}){const g=this.getStack();g&&g.promote(this,m),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:m}=u;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(f=!0),!f)return;const g={};m.z&&gy("z",u,g,this.animationValues);for(let y=0;y<py.length;y++)gy(`rotate${py[y]}`,u,g,this.animationValues),gy(`skew${py[y]}`,u,g,this.animationValues);u.render();for(const y in g)u.setStaticValue(y,g[y]),this.animationValues&&(this.animationValues[y]=g[y]);u.scheduleRender()}applyProjectionStyles(u,f){if(!this.instance||this.isSVG)return;if(!this.isVisible){u.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,u.visibility="",u.opacity="",u.pointerEvents=Id(f?.pointerEvents)||"",u.transform=m?m(this.latestValues,""):"none";return}const g=this.getLead();if(!this.projectionDelta||!this.layout||!g.target){this.options.layoutId&&(u.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,u.pointerEvents=Id(f?.pointerEvents)||""),this.hasProjected&&!Da(this.latestValues)&&(u.transform=m?m({},""):"none",this.hasProjected=!1);return}u.visibility="";const y=g.animationValues||g.latestValues;this.applyTransformsToTarget();let v=_U(this.projectionDeltaWithTransform,this.treeScale,y);m&&(v=m(y,v)),u.transform=v;const{x:b,y:I}=this.projectionDelta;u.transformOrigin=`${b.origin*100}% ${I.origin*100}% 0`,g.animationValues?u.opacity=g===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:u.opacity=g===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const V in I_){if(y[V]===void 0)continue;const{correct:U,applyTo:z,isCSSVariable:Q}=I_[V],$=v==="none"?y[V]:U(y[V],g);if(z){const Y=z.length;for(let it=0;it<Y;it++)u[z[it]]=$}else Q?this.options.visualElement.renderState.vars[V]=$:u[V]=$}this.options.layoutId&&(u.pointerEvents=g===this?Id(f?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>u.currentAnimation?.stop()),this.root.nodes.forEach(jA),this.root.sharedNodes.clear()}}}function DU(n){n.updateLayout()}function VU(n){const t=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:e,measuredBox:i}=n.layout,{animationType:a}=n.options,l=t.source!==n.layout.source;a==="size"?Wi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],b=_n(v);v.min=e[y].min,v.max=v.min+b}):aD(a,t.layoutBox,e)&&Wi(y=>{const v=l?t.measuredBox[y]:t.layoutBox[y],b=_n(e[y]);v.max=v.min+b,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+b)});const u=ml();Vc(u,e,t.layoutBox);const f=ml();l?Vc(f,n.applyTransform(i,!0),t.measuredBox):Vc(f,e,t.layoutBox);const m=!tD(u);let g=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:b}=y;if(v&&b){const I=qe();lm(I,t.layoutBox,v.layoutBox);const V=qe();lm(V,e,b.layoutBox),eD(I,V)||(g=!0),y.options.layoutRoot&&(n.relativeTarget=V,n.relativeTargetOrigin=I,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:e,snapshot:t,delta:f,layoutDelta:u,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(n.isLead()){const{onExitComplete:e}=n.options;e&&e()}n.options.transition=void 0}function MU(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function PU(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function OU(n){n.clearSnapshot()}function jA(n){n.clearMeasurements()}function FA(n){n.isLayoutDirty=!1}function NU(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function qA(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function kU(n){n.resolveTargetDelta()}function LU(n){n.calcProjection()}function UU(n){n.resetSkewAndRotation()}function BU(n){n.removeLeadSnapshot()}function HA(n,t,e){n.translate=ye(t.translate,0,e),n.scale=ye(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function GA(n,t,e,i){n.min=ye(t.min,e.min,i),n.max=ye(t.max,e.max,i)}function zU(n,t,e,i){GA(n.x,t.x,e.x,i),GA(n.y,t.y,e.y,i)}function jU(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const FU={duration:.45,ease:[.4,0,.1,1]},KA=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),YA=KA("applewebkit/")&&!KA("chrome/")?Math.round:ai;function QA(n){n.min=YA(n.min),n.max=YA(n.max)}function qU(n){QA(n.x),QA(n.y)}function aD(n,t,e){return n==="position"||n==="preserve-aspect"&&!fU(kA(t),kA(e),.2)}function HU(n){return n!==n.root&&n.scroll?.wasRoot}const GU=sD({attachResizeListener:(n,t)=>Zc(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),yy={current:void 0},oD=sD({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!yy.current){const n=new GU({});n.mount(window),n.setOptions({layoutScroll:!0}),yy.current=n}return yy.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),o0=ot.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function XA(n,t){if(typeof n=="function")return n(t);n!=null&&(n.current=t)}function KU(...n){return t=>{let e=!1;const i=n.map(a=>{const l=XA(a,t);return!e&&typeof l=="function"&&(e=!0),l});if(e)return()=>{for(let a=0;a<i.length;a++){const l=i[a];typeof l=="function"?l():XA(n[a],null)}}}}function YU(...n){return ot.useCallback(KU(...n),n)}class QU extends ot.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=e.offsetParent,a=b_(i)&&i.offsetWidth||0,l=b_(i)&&i.offsetHeight||0,u=this.props.sizeRef.current;u.height=e.offsetHeight||0,u.width=e.offsetWidth||0,u.top=e.offsetTop,u.left=e.offsetLeft,u.right=a-u.width-u.left,u.bottom=l-u.height-u.top}return null}componentDidUpdate(){}render(){return this.props.children}}function XU({children:n,isPresent:t,anchorX:e,anchorY:i,root:a,pop:l}){const u=ot.useId(),f=ot.useRef(null),m=ot.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:g}=ot.useContext(o0),y=n.props?.ref??n?.ref,v=YU(f,y);return ot.useInsertionEffect(()=>{const{width:b,height:I,top:V,left:U,right:z,bottom:Q}=m.current;if(t||l===!1||!f.current||!b||!I)return;const $=e==="left"?`left: ${U}`:`right: ${z}`,Y=i==="bottom"?`bottom: ${Q}`:`top: ${V}`;f.current.dataset.motionPopId=u;const it=document.createElement("style");g&&(it.nonce=g);const rt=a??document.head;return rt.appendChild(it),it.sheet&&it.sheet.insertRule(`
          [data-motion-pop-id="${u}"] {
            position: absolute !important;
            width: ${b}px !important;
            height: ${I}px !important;
            ${$}px !important;
            ${Y}px !important;
          }
        `),()=>{rt.contains(it)&&rt.removeChild(it)}},[t]),nt.jsx(QU,{isPresent:t,childRef:f,sizeRef:m,pop:l,children:l===!1?n:ot.cloneElement(n,{ref:v})})}const WU=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f,anchorY:m,root:g})=>{const y=Pv($U),v=ot.useId();let b=!0,I=ot.useMemo(()=>(b=!1,{id:v,initial:t,isPresent:e,custom:a,onExitComplete:V=>{y.set(V,!0);for(const U of y.values())if(!U)return;i&&i()},register:V=>(y.set(V,!1),()=>y.delete(V))}),[e,y,i]);return l&&b&&(I={...I}),ot.useMemo(()=>{y.forEach((V,U)=>y.set(U,!1))},[e]),ot.useEffect(()=>{!e&&!y.size&&i&&i()},[e]),n=nt.jsx(XU,{pop:u==="popLayout",isPresent:e,anchorX:f,anchorY:m,root:g,children:n}),nt.jsx(Lm.Provider,{value:I,children:n})};function $U(){return new Map}function lD(n=!0){const t=ot.useContext(Lm);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,l=ot.useId();ot.useEffect(()=>{if(n)return a(l)},[n]);const u=ot.useCallback(()=>n&&i&&i(l),[l,i,n]);return!e&&i?[!1,u]:[!0]}const id=n=>n.key||"";function WA(n){const t=[];return ot.Children.forEach(n,e=>{ot.isValidElement(e)&&t.push(e)}),t}const ZU=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left",anchorY:m="top",root:g})=>{const[y,v]=lD(u),b=ot.useMemo(()=>WA(n),[n]),I=u&&!y?[]:b.map(id),V=ot.useRef(!0),U=ot.useRef(b),z=Pv(()=>new Map),Q=ot.useRef(new Set),[$,Y]=ot.useState(b),[it,rt]=ot.useState(b);UC(()=>{V.current=!1,U.current=b;for(let A=0;A<it.length;A++){const R=id(it[A]);I.includes(R)?(z.delete(R),Q.current.delete(R)):z.get(R)!==!0&&z.set(R,!1)}},[it,I.length,I.join("-")]);const ut=[];if(b!==$){let A=[...b];for(let R=0;R<it.length;R++){const P=it[R],M=id(P);I.includes(M)||(A.splice(R,0,P),ut.push(P))}return l==="wait"&&ut.length&&(A=ut),rt(WA(A)),Y(b),null}const{forceRender:C}=ot.useContext(Mv);return nt.jsx(nt.Fragment,{children:it.map(A=>{const R=id(A),P=u&&!y?!1:b===it||I.includes(R),M=()=>{if(Q.current.has(R))return;if(Q.current.add(R),z.has(R))z.set(R,!0);else return;let L=!0;z.forEach(x=>{x||(L=!1)}),L&&(C?.(),rt(U.current),u&&v?.(),i&&i())};return nt.jsx(WU,{isPresent:P,initial:!V.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:l,root:g,onExitComplete:P?void 0:M,anchorX:f,anchorY:m,children:A},R)})})},uD=ot.createContext({strict:!1}),$A={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let ZA=!1;function JU(){if(ZA)return;const n={};for(const t in $A)n[t]={isEnabled:e=>$A[t].some(i=>!!e[i])};Ux(n),ZA=!0}function cD(){return JU(),U9()}function tB(n){const t=cD();for(const e in n)t[e]={...t[e],...n[e]};Ux(t)}const eB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function um(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||eB.has(n)}let hD=n=>!um(n);function nB(n){typeof n=="function"&&(hD=t=>t.startsWith("on")?!um(t):n(t))}try{nB(require("@emotion/is-prop-valid").default)}catch{}function iB(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||(hD(a)||e===!0&&um(a)||!t&&!um(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}const zm=ot.createContext({});function rB(n,t){if(Bm(n)){const{initial:e,animate:i}=n;return{initial:e===!1||$c(e)?e:void 0,animate:$c(i)?i:void 0}}return n.inherit!==!1?t:{}}function sB(n){const{initial:t,animate:e}=rB(n,ot.useContext(zm));return ot.useMemo(()=>({initial:t,animate:e}),[JA(t),JA(e)])}function JA(n){return Array.isArray(n)?n.join(" "):n}const l0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function fD(n,t,e){for(const i in t)!cn(t[i])&&!Gx(i,e)&&(n[i]=t[i])}function aB({transformTemplate:n},t){return ot.useMemo(()=>{const e=l0();return s0(e,t,n),Object.assign({},e.vars,e.style)},[t])}function oB(n,t){const e=n.style||{},i={};return fD(i,e,n),Object.assign(i,aB(n,t)),i}function lB(n,t){const e={},i=oB(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const dD=()=>({...l0(),attrs:{}});function uB(n,t,e,i){const a=ot.useMemo(()=>{const l=dD();return Kx(l,t,Qx(i),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[t]);if(n.style){const l={};fD(l,n.style,n),a.style={...l,...a.style}}return a}const cB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function u0(n){return typeof n!="string"||n.includes("-")?!1:!!(cB.indexOf(n)>-1||/[A-Z]/u.test(n))}function hB(n,t,e,{latestValues:i},a,l=!1,u){const m=(u??u0(n)?uB:lB)(t,i,a,n),g=iB(t,typeof n=="string",l),y=n!==ot.Fragment?{...g,...m,ref:e}:{},{children:v}=t,b=ot.useMemo(()=>cn(v)?v.get():v,[v]);return ot.createElement(n,{...y,children:b})}function fB({scrapeMotionValuesFromProps:n,createRenderState:t},e,i,a){return{latestValues:dB(e,i,a,n),renderState:t()}}function dB(n,t,e,i){const a={},l=i(n,{});for(const b in l)a[b]=Id(l[b]);let{initial:u,animate:f}=n;const m=Bm(n),g=kx(n);t&&g&&!m&&n.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let y=e?e.initial===!1:!1;y=y||u===!1;const v=y?f:u;if(v&&typeof v!="boolean"&&!Um(v)){const b=Array.isArray(v)?v:[v];for(let I=0;I<b.length;I++){const V=$v(n,b[I]);if(V){const{transitionEnd:U,transition:z,...Q}=V;for(const $ in Q){let Y=Q[$];if(Array.isArray(Y)){const it=y?Y.length-1:0;Y=Y[it]}Y!==null&&(a[$]=Y)}for(const $ in U)a[$]=U[$]}}}return a}const mD=n=>(t,e)=>{const i=ot.useContext(zm),a=ot.useContext(Lm),l=()=>fB(n,t,i,a);return e?l():Pv(l)},mB=mD({scrapeMotionValuesFromProps:a0,createRenderState:l0}),pB=mD({scrapeMotionValuesFromProps:Xx,createRenderState:dD}),gB=Symbol.for("motionComponentSymbol");function yB(n,t,e){const i=ot.useRef(e);ot.useInsertionEffect(()=>{i.current=e});const a=ot.useRef(null);return ot.useCallback(l=>{l&&n.onMount?.(l),t&&(l?t.mount(l):t.unmount());const u=i.current;if(typeof u=="function")if(l){const f=u(l);typeof f=="function"&&(a.current=f)}else a.current?(a.current(),a.current=null):u(l);else u&&(u.current=l)},[t])}const pD=ot.createContext({});function hl(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function _B(n,t,e,i,a,l){const{visualElement:u}=ot.useContext(zm),f=ot.useContext(uD),m=ot.useContext(Lm),g=ot.useContext(o0),y=g.reducedMotion,v=g.skipAnimations,b=ot.useRef(null),I=ot.useRef(!1);i=i||f.renderer,!b.current&&i&&(b.current=i(n,{visualState:t,parent:u,props:e,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:l}),I.current&&b.current&&(b.current.manuallyAnimateOnMount=!0));const V=b.current,U=ot.useContext(pD);V&&!V.projection&&a&&(V.type==="html"||V.type==="svg")&&vB(b.current,e,a,U);const z=ot.useRef(!1);ot.useInsertionEffect(()=>{V&&z.current&&V.update(e,m)});const Q=e[Sx],$=ot.useRef(!!Q&&!window.MotionHandoffIsComplete?.(Q)&&window.MotionHasOptimisedAnimation?.(Q));return UC(()=>{I.current=!0,V&&(z.current=!0,window.MotionIsMounted=!0,V.updateFeatures(),V.scheduleRenderMicrotask(),$.current&&V.animationState&&V.animationState.animateChanges())}),ot.useEffect(()=>{V&&(!$.current&&V.animationState&&V.animationState.animateChanges(),$.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(Q)}),$.current=!1),V.enteringChildren=void 0)}),V}function vB(n,t,e,i){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:m,layoutRoot:g,layoutCrossfade:y}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:gD(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&hl(f),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:y,layoutScroll:m,layoutRoot:g})}function gD(n){if(n)return n.options.allowProjection!==!1?n.projection:gD(n.parent)}function _y(n,{forwardMotionProps:t=!1,type:e}={},i,a){i&&tB(i);const l=e?e==="svg":u0(n),u=l?pB:mB;function f(g,y){let v;const b={...ot.useContext(o0),...g,layoutId:TB(g)},{isStatic:I}=b,V=sB(g),U=u(g,I);if(!I&&LC){EB();const z=bB(b);v=z.MeasureLayout,V.visualElement=_B(n,U,b,a,z.ProjectionNode,l)}return nt.jsxs(zm.Provider,{value:V,children:[v&&V.visualElement?nt.jsx(v,{visualElement:V.visualElement,...b}):null,hB(n,g,yB(U,V.visualElement,y),U,I,t,l)]})}f.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const m=ot.forwardRef(f);return m[gB]=n,m}function TB({layoutId:n}){const t=ot.useContext(Mv).id;return t&&n!==void 0?t+"-"+n:n}function EB(n,t){ot.useContext(uD).strict}function bB(n){const t=cD(),{drag:e,layout:i}=t;if(!e&&!i)return{};const a={...e,...i};return{MeasureLayout:e?.isEnabled(n)||i?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function SB(n,t){if(typeof Proxy>"u")return _y;const e=new Map,i=(l,u)=>_y(l,u,n,t),a=(l,u)=>i(l,u);return new Proxy(a,{get:(l,u)=>u==="create"?i:(e.has(u)||e.set(u,_y(u,void 0,n,t)),e.get(u))})}const wB=(n,t)=>t.isSVG??u0(n)?new eU(t):new X9(t,{allowProjection:n!==ot.Fragment});class AB extends Ks{constructor(t){super(t),t.animationState||(t.animationState=aU(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Um(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let IB=0;class RB extends Ks{constructor(){super(...arguments),this.id=IB++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const CB={animation:{Feature:AB},exit:{Feature:RB}};function gh(n){return{point:{x:n.pageX,y:n.pageY}}}const xB=n=>t=>e0(t)&&n(t,gh(t));function Mc(n,t,e,i){return Zc(n,t,xB(e),i)}const yD=({current:n})=>n?n.ownerDocument.defaultView:null,t1=(n,t)=>Math.abs(n-t);function DB(n,t){const e=t1(n.x,t.x),i=t1(n.y,t.y);return Math.sqrt(e**2+i**2)}const e1=new Set(["auto","scroll"]);class _D{constructor(t,e,{transformPagePoint:i,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:u=3,element:f}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=I=>{this.handleScroll(I.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=Ty(this.lastMoveEventInfo,this.history),V=this.startEvent!==null,U=DB(I.offset,{x:0,y:0})>=this.distanceThreshold;if(!V&&!U)return;const{point:z}=I,{timestamp:Q}=rn;this.history.push({...z,timestamp:Q});const{onStart:$,onMove:Y}=this.handlers;V||($&&$(this.lastMoveEvent,I),this.startEvent=this.lastMoveEvent),Y&&Y(this.lastMoveEvent,I)},this.handlePointerMove=(I,V)=>{this.lastMoveEvent=I,this.lastMoveEventInfo=vy(V,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(I,V)=>{this.end();const{onEnd:U,onSessionEnd:z,resumeAnimation:Q}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&Q&&Q(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const $=Ty(I.type==="pointercancel"?this.lastMoveEventInfo:vy(V,this.transformPagePoint),this.history);this.startEvent&&U&&U(I,$),z&&z(I,$)},!e0(t))return;this.dragSnapToOrigin=l,this.handlers=e,this.transformPagePoint=i,this.distanceThreshold=u,this.contextWindow=a||window;const m=gh(t),g=vy(m,this.transformPagePoint),{point:y}=g,{timestamp:v}=rn;this.history=[{...y,timestamp:v}];const{onSessionStart:b}=e;b&&b(t,Ty(g,this.history)),this.removeListeners=dh(Mc(this.contextWindow,"pointermove",this.handlePointerMove),Mc(this.contextWindow,"pointerup",this.handlePointerUp),Mc(this.contextWindow,"pointercancel",this.handlePointerUp)),f&&this.startScrollTracking(f)}startScrollTracking(t){let e=t.parentElement;for(;e;){const i=getComputedStyle(e);(e1.has(i.overflowX)||e1.has(i.overflowY))&&this.scrollPositions.set(e,{x:e.scrollLeft,y:e.scrollTop}),e=e.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const e=this.scrollPositions.get(t);if(!e)return;const i=t===window,a=i?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},l={x:a.x-e.x,y:a.y-e.y};l.x===0&&l.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(t,a),le.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Fs(this.updatePoint)}}function vy(n,t){return t?{point:t(n.point)}:n}function n1(n,t){return{x:n.x-t.x,y:n.y-t.y}}function Ty({point:n},t){return{point:n,delta:n1(n,vD(t)),offset:n1(n,VB(t)),velocity:MB(t,.1)}}function VB(n){return n[0]}function vD(n){return n[n.length-1]}function MB(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=vD(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Ai(t)));)e--;if(!i)return{x:0,y:0};i===n[0]&&n.length>2&&a.timestamp-i.timestamp>Ai(t)*2&&(i=n[1]);const l=ri(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function PB(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?ye(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?ye(e,n,i.max):Math.min(n,e)),n}function i1(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function OB(n,{top:t,left:e,bottom:i,right:a}){return{x:i1(n.x,e,a),y:i1(n.y,t,i)}}function r1(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function NB(n,t){return{x:r1(n.x,t.x),y:r1(n.y,t.y)}}function kB(n,t){let e=.5;const i=_n(n),a=_n(t);return a>i?e=Qc(t.min,t.max-i,n.min):i>a&&(e=Qc(n.min,n.max-a,t.min)),sr(0,1,e)}function LB(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const R_=.35;function UB(n=R_){return n===!1?n=0:n===!0&&(n=R_),{x:s1(n,"left","right"),y:s1(n,"top","bottom")}}function s1(n,t,e){return{min:a1(n,t),max:a1(n,e)}}function a1(n,t){return typeof n=="number"?n:n[t]||0}const BB=new WeakMap;class zB{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:e=!1,distanceThreshold:i}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{e&&this.snapToCursor(gh(v).point),this.stopAnimation()},u=(v,b)=>{const{drag:I,dragPropagation:V,onDragStart:U}=this.getProps();if(I&&!V&&(this.openDragLock&&this.openDragLock(),this.openDragLock=m9(I),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wi(Q=>{let $=this.getAxisMotionValue(Q).get()||0;if(nr.test($)){const{projection:Y}=this.visualElement;if(Y&&Y.layout){const it=Y.layout.layoutBox[Q];it&&($=_n(it)*(parseFloat($)/100))}}this.originPoint[Q]=$}),U&&le.update(()=>U(v,b),!1,!0),v_(this.visualElement,"transform");const{animationState:z}=this.visualElement;z&&z.setActive("whileDrag",!0)},f=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b;const{dragPropagation:I,dragDirectionLock:V,onDirectionLock:U,onDrag:z}=this.getProps();if(!I&&!this.openDragLock)return;const{offset:Q}=b;if(V&&this.currentDirection===null){this.currentDirection=FB(Q),this.currentDirection!==null&&U&&U(this.currentDirection);return}this.updateAxis("x",b.point,Q),this.updateAxis("y",b.point,Q),this.visualElement.render(),z&&le.update(()=>z(v,b),!1,!0)},m=(v,b)=>{this.latestPointerEvent=v,this.latestPanInfo=b,this.stop(v,b),this.latestPointerEvent=null,this.latestPanInfo=null},g=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new _D(t,{onSessionStart:l,onStart:u,onMove:f,onSessionEnd:m,resumeAnimation:g},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:i,contextWindow:yD(this.visualElement),element:this.visualElement.current})}stop(t,e){const i=t||this.latestPointerEvent,a=e||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!i)return;const{velocity:u}=a;this.startAnimation(u);const{onDragEnd:f}=this.getProps();f&&le.postRender(()=>f(i,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!rd(t,a,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=PB(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;t&&hl(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=OB(i.layoutBox,t):this.constraints=!1,this.elastic=UB(e),a!==this.constraints&&!hl(t)&&i&&this.constraints&&!this.hasMutatedConstraints&&Wi(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=LB(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!hl(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=q9(i,a.root,this.visualElement.getTransformPagePoint());let u=NB(a.layout.layoutBox,l);if(e){const f=e(z9(u));this.hasMutatedConstraints=!!f,f&&(u=zx(f))}return u}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),m=this.constraints||{},g=Wi(y=>{if(!rd(y,e,this.currentDirection))return;let v=m&&m[y]||{};u&&(v={min:0,max:0});const b=a?200:1e6,I=a?40:1e7,V={type:"inertia",velocity:i?t[y]:0,bounceStiffness:b,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,V)});return Promise.all(g).then(f)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return v_(this.visualElement,t),i.start(Wv(t,i,0,e,this.visualElement,!1))}stopAnimation(){Wi(t=>this.getAxisMotionValue(t).stop())}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){Wi(e=>{const{drag:i}=this.getProps();if(!rd(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(e);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[e],m=l.get()||0;l.set(t[e]-ye(u,f,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!hl(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Wi(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const m=f.get();a[u]=kB({min:m,max:m},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Wi(u=>{if(!rd(u,t,null))return;const f=this.getAxisMotionValue(u),{min:m,max:g}=this.constraints[u];f.set(ye(m,g,a[u]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;BB.set(this.visualElement,this);const t=this.visualElement.current,e=Mc(t,"pointerdown",g=>{const{drag:y,dragListener:v=!0}=this.getProps(),b=g.target,I=b!==t&&T9(b);y&&v&&!I&&this.start(g)});let i;const a=()=>{const{dragConstraints:g}=this.getProps();hl(g)&&g.current&&(this.constraints=this.resolveRefConstraints(),i||(i=jB(t,g.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,u=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),le.read(a);const f=Zc(window,"resize",()=>this.scalePositionWithinConstraints()),m=l.addEventListener("didUpdate",(({delta:g,hasLayoutChanged:y})=>{this.isDragging&&y&&(Wi(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=g[v].translate,b.set(b.get()+g[v].translate))}),this.visualElement.render())}));return()=>{f(),e(),u(),m&&m(),i&&i()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=R_,dragMomentum:f=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function o1(n){let t=!0;return()=>{if(t){t=!1;return}n()}}function jB(n,t,e){const i=mA(n,o1(e)),a=mA(t,o1(e));return()=>{i(),a()}}function rd(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function FB(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class qB extends Ks{constructor(t){super(t),this.removeGroupControls=ai,this.removeListeners=ai,this.controls=new zB(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ai}update(){const{dragControls:t}=this.node.getProps(),{dragControls:e}=this.node.prevProps||{};t!==e&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ey=n=>(t,e)=>{n&&le.update(()=>n(t,e),!1,!0)};class HB extends Ks{constructor(){super(...arguments),this.removePointerDownListener=ai}onPointerDown(t){this.session=new _D(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Ey(t),onStart:Ey(e),onMove:Ey(i),onEnd:(l,u)=>{delete this.session,a&&le.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Mc(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let by=!1;class GB extends ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=t;l&&(e.group&&e.group.add(l),i&&i.register&&a&&i.register(l),by&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,t.layoutDependency!==e&&u.setOptions({...u.options,layoutDependency:e}),by=!0,a||t.layoutDependency!==e||e===void 0||t.isPresent!==l?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||le.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),t0.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;by=!0,a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TD(n){const[t,e]=lD(),i=ot.useContext(Mv);return nt.jsx(GB,{...n,layoutGroup:i,switchLayoutGroup:ot.useContext(pD),isPresent:t,safeToRemove:e})}const KB={pan:{Feature:HB},drag:{Feature:qB,ProjectionNode:oD,MeasureLayout:TD}};function l1(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,l=i[a];l&&le.postRender(()=>l(t,gh(t)))}class YB extends Ks{mount(){const{current:t}=this.node;t&&(this.unmount=g9(t,(e,i)=>(l1(this.node,i,"Start"),a=>l1(this.node,a,"End"))))}unmount(){}}class QB extends Ks{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dh(Zc(this.node.current,"focus",()=>this.onFocus()),Zc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function u1(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),l=i[a];l&&le.postRender(()=>l(t,gh(t)))}class XB extends Ks{mount(){const{current:t}=this.node;if(!t)return;const{globalTapTarget:e,propagate:i}=this.node.props;this.unmount=b9(t,(a,l)=>(u1(this.node,l,"Start"),(u,{success:f})=>u1(this.node,u,f?"End":"Cancel")),{useGlobalTarget:e,stopPropagation:i?.tap===!1})}unmount(){}}const C_=new WeakMap,Sy=new WeakMap,WB=n=>{const t=C_.get(n.target);t&&t(n)},$B=n=>{n.forEach(WB)};function ZB({root:n,...t}){const e=n||document;Sy.has(e)||Sy.set(e,{});const i=Sy.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver($B,{root:n,...t})),i[a]}function JB(n,t,e){const i=ZB(t);return C_.set(n,e),i.observe(n),()=>{C_.delete(n),i.unobserve(n)}}const tz={some:0,all:1};class ez extends Ks{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:l}=t,u={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:tz[a]},f=m=>{const{isIntersecting:g}=m;if(this.isInView===g||(this.isInView=g,l&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=g?y:v;b&&b(m)};return JB(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(nz(t,e))&&this.startObserver()}unmount(){}}function nz({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const iz={inView:{Feature:ez},tap:{Feature:XB},focus:{Feature:QB},hover:{Feature:YB}},rz={layout:{ProjectionNode:oD,MeasureLayout:TD}},sz={...CB,...iz,...KB,...rz},ED=SB(sz,wB),az=({room:n,bookings:t,onBook:e,onCancel:i,currentUser:a})=>{const l=u=>t.find(f=>f.slot===u);return nt.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:PM.map((u,f)=>{const m=l(u),g=!!m,y=g&&a&&m.userId===a.uid;return nt.jsxs(ED.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:f*.05},className:`
              relative p-4 rounded-2xl border transition-all duration-200
              ${g?"bg-red-50/50 border-red-100 dark:bg-red-900/10 dark:border-red-900/30":"bg-white border-gray-100 hover:shadow-md hover:border-red-200 cursor-pointer group dark:bg-gray-800 dark:border-gray-700 dark:hover:border-red-500/30"}
            `,onClick:()=>!g&&e(u),children:[nt.jsxs("div",{className:"flex justify-between items-start mb-3",children:[nt.jsxs("div",{className:"flex items-center text-sm font-medium text-gray-500 dark:text-gray-400",children:[nt.jsx(MM,{className:"mr-1"}),u]}),!g&&nt.jsx("div",{className:"h-2 w-2 rounded-full bg-gray-200 dark:bg-gray-600"})]}),g?nt.jsxs("div",{className:"space-y-2",children:[nt.jsxs("h4",{className:"font-semibold text-gray-800 dark:text-gray-200 flex items-center gap-2",children:[nt.jsx(bM,{className:"text-red-400"}),m.courseCode]}),nt.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[nt.jsx(DM,{}),nt.jsx("span",{children:m.bookedBy})]}),m.notes&&nt.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 italic mt-2 pl-2 border-l-2 border-red-100 dark:border-red-900/30",children:['"',m.notes,'"']}),y&&nt.jsx("button",{onClick:v=>{v.stopPropagation(),i(m.id)},className:"mt-3 w-full py-1.5 px-3 bg-white border border-red-100 text-red-500 text-xs font-medium rounded-lg hover:bg-red-50 transition-colors dark:bg-gray-700 dark:border-red-900/30 dark:hover:bg-red-900/20",children:"Cancel Booking"})]}):nt.jsx("div",{className:"py-4 text-center",children:nt.jsx("span",{className:"inline-block px-3 py-1 rounded-full bg-gray-50 text-xs font-medium text-gray-400 group-hover:bg-red-50 group-hover:text-red-500 transition-colors dark:bg-gray-700 dark:text-gray-500 dark:group-hover:bg-red-900/20 dark:group-hover:text-red-400",children:a?"Available":"Sign in to book"})})]},u)})})},oz=({isOpen:n,onClose:t,onConfirm:e,slot:i,room:a,date:l})=>{const{user:u}=Vv(),[f,m]=ot.useState(""),[g,y]=ot.useState(""),[v,b]=ot.useState("");ot.useEffect(()=>{n&&u&&y(u.displayName||"")},[n,u]);const I=V=>{V.preventDefault(),e({courseCode:f,bookedBy:g,notes:v}),m(""),y(""),b("")};return n?nt.jsx(ZU,{children:nt.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:nt.jsxs(ED.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-2xl shadow-xl w-full max-w-md overflow-hidden border border-white/20 dark:border-gray-700",children:[nt.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100 dark:border-gray-700",children:[nt.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Book Room"}),nt.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors text-gray-500 dark:text-gray-400",children:nt.jsx(AM,{size:20})})]}),nt.jsxs("div",{className:"p-6 bg-gray-50/50 dark:bg-gray-900/50",children:[nt.jsxs("div",{className:"mb-6 text-sm text-gray-600 dark:text-gray-300",children:[nt.jsxs("p",{children:[nt.jsx("strong",{children:"Room:"})," ",a]}),nt.jsxs("p",{children:[nt.jsx("strong",{children:"Date:"})," ",l]}),nt.jsxs("p",{children:[nt.jsx("strong",{children:"Time:"})," ",i]})]}),nt.jsxs("form",{onSubmit:I,className:"space-y-4",children:[nt.jsxs("div",{children:[nt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Course Code"}),nt.jsx("input",{type:"text",required:!0,value:f,onChange:V=>m(V.target.value),placeholder:"e.g. COMM 101",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),nt.jsxs("div",{children:[nt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Your Name / Initials"}),nt.jsx("input",{type:"text",required:!0,value:g,onChange:V=>y(V.target.value),placeholder:"e.g. JD - Course Rep",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),nt.jsxs("div",{children:[nt.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Notes (Optional)"}),nt.jsx("textarea",{value:v,onChange:V=>b(V.target.value),placeholder:"Any additional info...",className:"w-full px-4 py-2 rounded-lg border border-gray-200 dark:border-gray-600 focus:border-red-500 focus:ring-2 focus:ring-red-200 outline-none transition-all bg-white dark:bg-gray-700 text-gray-900 dark:text-white resize-none h-24"})]}),nt.jsxs("div",{className:"pt-4 flex gap-3",children:[nt.jsx("button",{type:"button",onClick:t,className:"flex-1 py-2.5 px-4 rounded-xl border border-gray-200 dark:border-gray-600 text-gray-600 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),nt.jsx("button",{type:"submit",className:"flex-1 py-2.5 px-4 rounded-xl bg-red-600 text-white font-medium hover:bg-red-700 shadow-lg shadow-red-200 dark:shadow-red-900/20 transition-all",children:"Confirm Booking"})]})]})]})]})})}):null},lz=(n,t)=>{const[e,i]=ot.useState([]),[a,l]=ot.useState(!0),[u,f]=ot.useState(null);return ot.useEffect(()=>{l(!0);const y=Hw(ay(yc,"bookings"),cc("date","==",n),cc("room","==",t)),v=sL(y,b=>{const I=[];b.forEach(V=>{I.push({id:V.id,...V.data()})}),i(I),l(!1)},b=>{b.code==="failed-precondition"||b.code==="unavailable"?console.log("Firestore offline/unavailable:",b.message):(console.error("Error fetching bookings:",b),f(b)),l(!1)});return()=>v()},[n,t]),{bookings:e,loading:a,error:u,addBooking:async y=>{try{const v=Hw(ay(yc,"bookings"),cc("date","==",y.date),cc("room","==",y.room),cc("slot","==",y.slot));if(!(await nL(v)).empty)throw new Error("This slot has just been booked by someone else!");return await rL(ay(yc,"bookings"),{...y,createdAt:$6()}),!0}catch(v){throw console.error("Error adding booking:",v),v}},cancelBooking:async y=>{try{return await iL(bC(yc,"bookings",y)),!0}catch(v){throw console.error("Error cancelling booking:",v),v}}}};function uz(){const[n,t]=ot.useState(!1),[e,i]=ot.useState(Ay["Block E"][0]),[a,l]=ot.useState(wy(new Date,"yyyy-MM-dd")),[u,f]=ot.useState(!1),[m,g]=ot.useState(null),{user:y,login:v}=Vv(),{bookings:b,loading:I,addBooking:V,cancelBooking:U}=lz(a,e),z=6-b.length,Q=async it=>{if(!y){try{await v()}catch(rt){console.error("Login failed:",rt)}return}g(it),f(!0)},$=async it=>{try{await V({room:e,date:a,slot:m,userId:y.uid,...it}),f(!1)}catch(rt){alert(rt.message)}},Y=async it=>{if(!y){alert("Please sign in to cancel a booking.");return}if(confirm("Are you sure you want to cancel this booking?"))try{await U(it)}catch{alert("Failed to cancel booking")}};return nt.jsxs("div",{className:"flex h-screen bg-gray-50 dark:bg-gray-900 overflow-hidden font-sans text-gray-900 dark:text-gray-100 transition-colors duration-200",children:[n&&nt.jsx("div",{className:"fixed inset-0 bg-black/20 z-20 lg:hidden backdrop-blur-sm",onClick:()=>t(!1)}),nt.jsx("div",{className:`
        fixed inset-y-0 left-0 z-30 w-72 transform transition-transform duration-300 ease-in-out lg:relative lg:translate-x-0
        ${n?"translate-x-0":"-translate-x-full"}
      `,children:nt.jsx(hL,{selectedRoom:e,onSelectRoom:it=>{i(it),t(!1)}})}),nt.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[nt.jsxs("header",{className:"bg-white dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700 p-4 flex items-center justify-between z-10 transition-colors duration-200",children:[nt.jsxs("div",{className:"flex items-center gap-3",children:[nt.jsx("button",{onClick:()=>t(!0),className:"lg:hidden p-2 -ml-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:nt.jsx(CM,{size:24})}),nt.jsxs("div",{className:"flex flex-col",children:[nt.jsxs("h2",{className:"text-xl font-bold flex items-center gap-2",children:[nt.jsx("span",{className:"hidden sm:inline text-gray-400 dark:text-gray-500 font-normal",children:"Room"}),e]}),nt.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium flex items-center gap-1",children:[nt.jsx("span",{className:`w-2 h-2 rounded-full ${z>0?"bg-green-500":"bg-red-500"}`}),I?"Loading...":`${z} slots available`]})]})]}),nt.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-700 p-1.5 rounded-xl border border-gray-100 dark:border-gray-600 transition-colors duration-200",children:[nt.jsxs("div",{className:"relative",children:[nt.jsx(SM,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 pointer-events-none"}),nt.jsx("input",{type:"date",value:a,onChange:it=>l(it.target.value),className:"pl-9 pr-3 py-1.5 bg-transparent text-sm font-medium outline-none text-gray-700 dark:text-gray-200"})]}),nt.jsx("button",{onClick:()=>l(wy(new Date,"yyyy-MM-dd")),className:"px-3 py-1.5 bg-white dark:bg-gray-600 shadow-sm rounded-lg text-xs font-semibold text-gray-700 dark:text-gray-100 hover:bg-gray-50 dark:hover:bg-gray-500 transition-all",children:"Today"})]})]}),nt.jsx("div",{className:"flex-1 overflow-y-auto p-4 lg:p-8",children:nt.jsx("div",{className:"max-w-5xl mx-auto",children:nt.jsx(az,{room:e,bookings:b,onBook:Q,onCancel:Y,currentUser:y})})})]}),nt.jsx(oz,{isOpen:u,onClose:()=>f(!1),room:e,date:a,slot:m,onConfirm:$})]})}lV.createRoot(document.getElementById("root")).render(nt.jsx(ot.StrictMode,{children:nt.jsx(cL,{children:nt.jsx(lL,{children:nt.jsx(uz,{})})})}));
